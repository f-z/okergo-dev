<<<<<<< HEAD
(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _ = require("..");

var _2 = _interopRequireDefault(_);

var _escapeHtml = require("../utils/escape-html");

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var AGREEMENT_URL = '<a href="%(url)s" target="_blank">%(agreement)s</a>';

var RegisterLegalFootnote = function RegisterLegalFootnote(props) {
  var errors = props.errors,
      privacyPolicy = props.privacyPolicy,
      termsOfService = props.termsOfService,
      onPrivacyPolicyChange = props.onPrivacyPolicyChange,
      onTermsOfServiceChange = props.onTermsOfServiceChange;


  var termsOfServiceId = _2.default.get("TERMS_OF_SERVICE_ID");
  var termsOfServiceUrl = _2.default.get("TERMS_OF_SERVICE_URL");

  var privacyPolicyId = _2.default.get("PRIVACY_POLICY_ID");
  var privacyPolicyUrl = _2.default.get("PRIVACY_POLICY_URL");

  if (!termsOfServiceId && !privacyPolicyId) return null;

  return _react2.default.createElement(
    "div",
    null,
    _react2.default.createElement(LegalAgreement, {
      agreement: "Οι όροι χρήσης",
      checked: termsOfService !== null,
      errors: errors.termsOfService,
      url: termsOfServiceUrl,
      value: termsOfServiceId,
      onChange: onTermsOfServiceChange
    }),
    _react2.default.createElement(LegalAgreement, {
      agreement: "Η πολιτική προστασίας δεδομένων",
      checked: privacyPolicy !== null,
      errors: errors.privacyPolicy,
      url: privacyPolicyUrl,
      value: privacyPolicyId,
      onChange: onPrivacyPolicyChange
    })
  );
};

var LegalAgreement = function LegalAgreement(props) {
  var agreement = props.agreement,
      checked = props.checked,
      errors = props.errors,
      url = props.url,
      value = props.value,
      onChange = props.onChange;


  if (!url) return null;

  var agreementHtml = interpolate(AGREEMENT_URL, { agreement: (0, _escapeHtml2.default)(agreement), url: (0, _escapeHtml2.default)(url) }, true);
  var label = interpolate("Έχω διαβάσει και αποδέχομαι τη %(agreement)s.", { agreement: agreementHtml }, true);

  return _react2.default.createElement(
    "div",
    { className: "checkbox legal-footnote" },
    _react2.default.createElement(
      "label",
      null,
      _react2.default.createElement("input", {
        checked: checked,
        type: "checkbox",
        value: value,
        onChange: onChange
      }),
      _react2.default.createElement("span", { dangerouslySetInnerHTML: { __html: label } })
    ),
    errors && errors.map(function (error, i) {
      return _react2.default.createElement(
        "div",
        { className: "help-block errors", key: i },
        error
      );
    })
  );
};

exports.default = RegisterLegalFootnote;

},{"..":302,"../utils/escape-html":383,"react":"react"}],2:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _ = require("..");

var _2 = _interopRequireDefault(_);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var StartSocialAuth = function StartSocialAuth(props) {
  var buttonClassName = props.buttonClassName,
      buttonLabel = props.buttonLabel,
      formLabel = props.formLabel,
      header = props.header,
      labelClassName = props.labelClassName;

  var socialAuth = _2.default.get("SOCIAL_AUTH");

  if (socialAuth.length === 0) return null;

  return _react2.default.createElement(
    "div",
    { className: "form-group form-social-auth" },
    _react2.default.createElement(FormHeader, { className: labelClassName, text: header }),
    _react2.default.createElement(
      "div",
      { className: "row" },
      socialAuth.map(function (_ref) {
        var id = _ref.id,
            name = _ref.name,
            button_text = _ref.button_text,
            button_color = _ref.button_color,
            url = _ref.url;

        var className = "btn btn-block btn-default btn-social-" + id;
        var style = button_color ? { color: button_color } : null;
        var finalButtonLabel = button_text || interpolate(buttonLabel, { site: name }, true);

        return _react2.default.createElement(
          "div",
          { className: buttonClassName || "col-xs-12", key: id },
          _react2.default.createElement(
            "a",
            { className: className, style: style, href: url },
            finalButtonLabel
          )
        );
      })
    ),
    _react2.default.createElement("hr", null),
    _react2.default.createElement(FormHeader, { className: labelClassName, text: formLabel })
  );
};

var FormHeader = function FormHeader(_ref2) {
  var className = _ref2.className,
      text = _ref2.text;

  if (!text) return null;
  return _react2.default.createElement(
    "h5",
    { className: className || "" },
    text
  );
};

exports.default = StartSocialAuth;

},{"..":302,"react":"react"}],3:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _ajax = require("../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var AcceptAgreement = function (_React$Component) {
  _inherits(AcceptAgreement, _React$Component);

  function AcceptAgreement(props) {
    _classCallCheck(this, AcceptAgreement);

    var _this = _possibleConstructorReturn(this, (AcceptAgreement.__proto__ || Object.getPrototypeOf(AcceptAgreement)).call(this, props));

    _this.handleDecline = function () {
      if (_this.state.submiting) return;

      var confirmation = confirm("Αν αρνηθείς θα διαγραφεί για πάντα ο λογαριασμός σου!");
      if (!confirmation) return;

      _this.setState({ submiting: true });

      _ajax2.default.post(_this.props.api, { accept: false }).then(function () {
        location.reload(true);
      });
    };

    _this.handleAccept = function () {
      if (_this.state.submiting) return;

      _this.setState({ submiting: true });

      _ajax2.default.post(_this.props.api, { accept: true }).then(function () {
        location.reload(true);
      });
    };

    _this.state = { submiting: false };
    return _this;
  }

  _createClass(AcceptAgreement, [{
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        null,
        _react2.default.createElement(
          "button",
          {
            className: "btn btn-default",
            disabled: this.state.submiting,
            type: "buton",
            onClick: this.handleDecline
          },
          "Αρνούμαι"
        ),
        _react2.default.createElement(
          "button",
          {
            className: "btn btn-primary",
            disabled: this.state.submiting,
            type: "buton",
            onClick: this.handleAccept
          },
          "Δέχομαι"
        )
      );
    }
  }]);

  return AcceptAgreement;
}(_react2.default.Component);

exports.default = AcceptAgreement;

},{"../services/ajax":365,"react":"react"}],4:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.ModalHeader = ModalHeader;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _form = require("./form");

var _form2 = _interopRequireDefault(_form);

var _formGroup = require("./form-group");

var _formGroup2 = _interopRequireDefault(_formGroup);

var _participants = require("../reducers/participants");

var participants = _interopRequireWildcard(_participants);

var _thread = require("../reducers/thread");

var _ajax = require("../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require("../services/modal");

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require("../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require("../services/store");

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onUsernameChange = function (event) {
      _this.changeValue("username", event.target.value);
    };

    _this.state = {
      isLoading: false,

      username: ""
    };
    return _this;
  }

  _createClass(_class, [{
    key: "clean",
    value: function clean() {
      if (!this.state.username.trim().length) {
        _snackbar2.default.error("Πρέπει να βάλεις το όνομα χρήστη του μηχανικού!");
        return false;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax2.default.patch(this.props.thread.api.index, [{ op: "add", path: "participants", value: this.state.username }, { op: "add", path: "acl", value: 1 }]);
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(data) {
      _store2.default.dispatch((0, _thread.updateAcl)(data));
      _store2.default.dispatch(participants.replace(data.participants));

      _snackbar2.default.success("Η εργασία έχει ανατεθεί στο μηχανικό");

      _modal2.default.hide();
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: "modal-dialog modal-sm", role: "document" },
        _react2.default.createElement(
          "form",
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            "div",
            { className: "modal-content" },
            _react2.default.createElement(ModalHeader, null),
            _react2.default.createElement(
              "div",
              { className: "modal-body" },
              _react2.default.createElement(
                _formGroup2.default,
                { "for": "id_username", label: "Μηχανικός να ανατεθεί" },
                _react2.default.createElement("input", {
                  id: "id_username",
                  className: "form-control",
                  disabled: this.state.isLoading,
                  onChange: this.onUsernameChange,
                  type: "text",
                  value: this.state.username
                })
              )
            ),
            _react2.default.createElement(
              "div",
              { className: "modal-footer" },
              _react2.default.createElement(
                "button",
                {
                  className: "btn btn-block btn-primary",
                  disabled: this.state.isLoading
                },
                "Ανάθεση εργασίας"
              ),
              _react2.default.createElement(
                "button",
                {
                  className: "btn btn-block btn-default",
                  "data-dismiss": "modal",
                  disabled: this.state.isLoading,
                  type: "button"
                },
                "Ακύρωση"
              )
            )
          )
        )
      );
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;
function ModalHeader(props) {
  return _react2.default.createElement(
    "div",
    { className: "modal-header" },
    _react2.default.createElement(
      "button",
      {
        "aria-label": "Κλείσιμο",
        className: "close",
        "data-dismiss": "modal",
        type: "button"
      },
      _react2.default.createElement(
        "span",
        { "aria-hidden": "true" },
        "\xD7"
      )
    ),
    _react2.default.createElement(
      "h4",
      { className: "modal-title" },
      "Ανάθεση εργασίας"
    )
  );
}

},{"../reducers/participants":351,"../reducers/thread":360,"../services/ajax":365,"../services/modal":371,"../services/snackbar":376,"../services/store":377,"./form":56,"./form-group":55,"react":"react"}],5:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.select = select;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "refresh",
    value: function refresh() {
      window.location.reload();
    }
  }, {
    key: "getMessage",
    value: function getMessage() {
      if (this.props.signedIn) {
        return interpolate("Έχεις συνδεθεί ως %(username)s. Ξαναφόρτωσε τη σελίδα πριν συνεχίσεις.", { username: this.props.signedIn.username }, true);
      } else if (this.props.signedOut) {
        return interpolate("%(username)s, έχεις αποσυνδεθεί. Ξαναφόρτωσε τη σελίδα πριν συνεχίσεις.", { username: this.props.user.username }, true);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var className = "auth-message";
      if (this.props.signedIn || this.props.signedOut) {
        className += " show";
      }

      return _react2.default.createElement(
        "div",
        { className: className },
        _react2.default.createElement(
          "div",
          { className: "container" },
          _react2.default.createElement(
            "p",
            { className: "lead" },
            this.getMessage()
          ),
          _react2.default.createElement(
            "p",
            null,
            _react2.default.createElement(
              "button",
              {
                className: "btn btn-default",
                type: "button",
                onClick: this.refresh
              },
              "Ξαναφόρτωσε τη σελίδα"
            ),
            _react2.default.createElement(
              "span",
              { className: "hidden-xs hidden-sm" },
              " " + "ή πάτησε το F5."
            )
          )
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function select(state) {
  return {
    user: state.auth.user,
    signedIn: state.auth.signedIn,
    signedOut: state.auth.signedOut
  };
}

},{"react":"react"}],6:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  var size = props.size || 100;
  var size2x = props.size2x || size;

  return _react2.default.createElement("img", {
    alt: "",
    className: props.className || "user-avatar",
    src: getSrc(props.user, size),
    srcSet: getSrc(props.user, size2x),
    width: size,
    height: size
  });
};

exports.getSrc = getSrc;
exports.resolveAvatarForSize = resolveAvatarForSize;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _ = require("..");

var _2 = _interopRequireDefault(_);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function getSrc(user, size) {
  if (user && user.id) {
    // just avatar hash, size and user id
    return resolveAvatarForSize(user.avatars, size).url;
  } else {
    // just append avatar size to file to produce no-avatar placeholder
    return _2.default.get("BLANK_AVATAR_URL");
  }
}

function resolveAvatarForSize(avatars, size) {
  var avatar = avatars[0];
  avatars.forEach(function (av) {
    if (av.size >= size) {
      avatar = av;
    }
  });
  return avatar;
}

},{"..":302,"react":"react"}],7:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _moment = require("moment");

var _moment2 = _interopRequireDefault(_moment);

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "getReasonMessage",
    value: function getReasonMessage() {
      if (this.props.message.html) {
        return _react2.default.createElement("div", {
          className: "lead",
          dangerouslySetInnerHTML: {
            __html: this.props.message.html
          }
        });
      } else {
        return _react2.default.createElement(
          "p",
          { className: "lead" },
          this.props.message.plain
        );
      }
    }
  }, {
    key: "getExpirationMessage",
    value: function getExpirationMessage() {
      if (this.props.expires) {
        if (this.props.expires.isAfter((0, _moment2.default)())) {
          var title = interpolate("Ο αποκλεισμός λήγει στις %(expires_on)s.", {
            expires_on: this.props.expires.format("LL, LT")
          }, true);

          var message = interpolate("Ο αποκλεισμός λήγει στις %(expires_on)s.", {
            expires_on: this.props.expires.fromNow()
          }, true);

          return _react2.default.createElement(
            "abbr",
            { title: title },
            message
          );
        } else {
          return "Ο αποκλεισμός έχει λήξει.";
        }
      } else {
        return "Ο αποκλεισμός είναι μόνιμος.";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: "page page-error page-error-banned" },
        _react2.default.createElement(
          "div",
          { className: "container" },
          _react2.default.createElement(
            "div",
            { className: "message-panel" },
            _react2.default.createElement(
              "div",
              { className: "message-icon" },
              _react2.default.createElement(
                "span",
                { className: "material-icon" },
                "highlight_off"
              )
            ),
            _react2.default.createElement(
              "div",
              { className: "message-body" },
              this.getReasonMessage(),
              _react2.default.createElement(
                "p",
                { className: "message-footnote" },
                this.getExpirationMessage()
              )
            )
          )
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"moment":"moment","react":"react"}],8:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _loader = require("./loader");

var _loader2 = _interopRequireDefault(_loader);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Button = function (_React$Component) {
  _inherits(Button, _React$Component);

  function Button() {
    _classCallCheck(this, Button);

    return _possibleConstructorReturn(this, (Button.__proto__ || Object.getPrototypeOf(Button)).apply(this, arguments));
  }

  _createClass(Button, [{
    key: "render",
    value: function render() {
      var className = "btn " + this.props.className;
      var disabled = this.props.disabled;

      if (this.props.loading) {
        className += " btn-loading";
        disabled = true;
      }

      return _react2.default.createElement(
        "button",
        {
          className: className,
          disabled: disabled,
          onClick: this.props.onClick,
          type: this.props.onClick ? "button" : "submit"
        },
        this.props.children,
        this.props.loading ? _react2.default.createElement(_loader2.default, null) : null
      );
    }
  }]);

  return Button;
}(_react2.default.Component);

exports.default = Button;


Button.defaultProps = {
  className: "btn-default",

  type: "submit",

  loading: false,
  disabled: false,

  onClick: null
};

},{"./loader":58,"react":"react"}],9:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    "div",
    { className: "categories-list" },
    _react2.default.createElement(
      "ul",
      { className: "list-group" },
      _react2.default.createElement(
        "li",
        { className: "list-group-item empty-message" },
        _react2.default.createElement(
          "p",
          { className: "lead" },
          gettext("Δεν υπάρχουν διαθέσιμες κατηγορίες εργασιών.")
        )
      )
    )
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],10:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var categories = _ref.categories;

  return _react2.default.createElement(
    "div",
    { className: "categories-list" },
    categories.map(function (category) {
      return _react2.default.createElement(_category2.default, { category: category, key: category.id });
    })
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _category = require("./category");

var _category2 = _interopRequireDefault(_category);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./category":11,"react":"react"}],11:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var category = _ref.category;

  var className = "list-group list-group-category";
  if (category.css_class) {
    className += " list-group-category-has-flavor";
    className += " list-group-category-" + category.css_class;
  }

  return _react2.default.createElement(
    "ul",
    { className: className },
    _react2.default.createElement(_listItem2.default, { category: category, isFirst: true }),
    category.subcategories.map(function (category) {
      return _react2.default.createElement(_listItem2.default, { category: category, isFirst: false, key: category.id });
    })
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _listItem = require("./list-item");

var _listItem2 = _interopRequireDefault(_listItem);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./list-item":14,"react":"react"}],12:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var category = _ref.category;

  if (!category.description) return null;

  return _react2.default.createElement("div", {
    className: "category-description",
    dangerouslySetInnerHTML: {
      __html: category.description.html
    }
  });
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],13:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var category = _ref.category;

  return _react2.default.createElement(
    "div",
    { className: getClassName(category), title: getTitle(category) },
    _react2.default.createElement(
      "span",
      { className: "material-icon" },
      getIcon(category)
    )
  );
};

exports.getClassName = getClassName;
exports.getTitle = getTitle;
exports.getIcon = getIcon;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function getClassName(category) {
  if (category.is_read) {
    return "read-status item-read";
  }

  return "read-status item-new";
}

function getTitle(category) {
  if (category.is_closed) {
    if (category.is_read) {
      return gettext("This category has no new posts. (closed)");
    }

    return gettext("This category has new posts. (closed)");
  }

  if (category.is_read) {
    return gettext("This category has no new posts.");
  }

  return gettext("This category has new posts.");
}

function getIcon(category) {
  if (category.is_closed) {
    if (category.is_read) {
      return "lock_outline";
    }

    return "lock";
  }

  if (category.is_read) {
    return "chat_bubble_outline";
  }

  return "chat_bubble";
}

},{"react":"react"}],14:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var category = _ref.category,
      isFirst = _ref.isFirst;

  var className = "list-group-item";

  if (category.description) {
    className += " list-group-category-has-description";
  } else {
    className += " list-group-category-no-description";
  }

  if (isFirst) {
    className += " list-group-item-first";
  }
  if (category.css_class) {
    className += " list-group-category-has-flavor";
    className += " list-group-item-category-" + category.css_class;
  }

  return _react2.default.createElement(
    "li",
    { className: className },
    _react2.default.createElement(
      "div",
      { className: "row" },
      _react2.default.createElement(_main2.default, { category: category }),
      _react2.default.createElement(_stats2.default, { category: category }),
      _react2.default.createElement(_lastThread2.default, { category: category })
    ),
    _react2.default.createElement(_subcategories2.default, { category: category, isFirst: isFirst })
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _main = require("./main");

var _main2 = _interopRequireDefault(_main);

var _lastThread = require("./last-thread");

var _lastThread2 = _interopRequireDefault(_lastThread);

var _stats = require("./stats");

var _stats2 = _interopRequireDefault(_stats);

var _subcategories = require("./subcategories");

var _subcategories2 = _interopRequireDefault(_subcategories);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./last-thread":15,"./main":16,"./stats":17,"./subcategories":18,"react":"react"}],15:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var category = _ref.category;

  return _react2.default.createElement(
    "div",
    { className: "col-xs-12 col-sm-6 col-md-4 category-last-thread" },
    _react2.default.createElement(LastThread, { category: category }),
    _react2.default.createElement(Empty, { category: category }),
    _react2.default.createElement(Private, { category: category }),
    _react2.default.createElement(Protected, { category: category })
  );
};

exports.LastThread = LastThread;
exports.LastPosterAvatar = LastPosterAvatar;
exports.LastPosterName = LastPosterName;
exports.Empty = Empty;
exports.Private = Private;
exports.Protected = Protected;
exports.Message = Message;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _avatar = require("../../../avatar");

var _avatar2 = _interopRequireDefault(_avatar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function LastThread(_ref2) {
  var category = _ref2.category;

  if (!category.acl.can_browse) return null;
  if (!category.acl.can_see_all_threads) return null;
  if (!category.last_thread_title) return null;

  return _react2.default.createElement(
    "div",
    { className: "media" },
    _react2.default.createElement(
      "div",
      { className: "media-left hidden-xs" },
      _react2.default.createElement(LastPosterAvatar, { category: category })
    ),
    _react2.default.createElement(
      "div",
      { className: "media-body" },
      _react2.default.createElement(
        "div",
        { className: "media-heading" },
        _react2.default.createElement(
          "a",
          {
            className: "item-title thread-title",
            href: category.url.last_thread_new,
            title: category.last_thread_title
          },
          category.last_thread_title
        )
      ),
      _react2.default.createElement(
        "ul",
        { className: "list-inline" },
        _react2.default.createElement(
          "li",
          { className: "category-last-thread-poster" },
          _react2.default.createElement(LastPosterName, { category: category })
        ),
        _react2.default.createElement(
          "li",
          { className: "divider" },
          "\u2014"
        ),
        _react2.default.createElement(
          "li",
          { className: "category-last-thread-date" },
          _react2.default.createElement(
            "a",
            { href: category.url.last_post },
            category.last_post_on.fromNow()
          )
        )
      )
    )
  );
}

function LastPosterAvatar(_ref3) {
  var category = _ref3.category;

  if (category.last_poster) {
    return _react2.default.createElement(
      "a",
      {
        className: "last-poster-avatar",
        href: category.last_poster.url,
        title: category.last_poster_name
      },
      _react2.default.createElement(_avatar2.default, {
        className: "media-object",
        size: 40,
        user: category.last_poster
      })
    );
  }

  return _react2.default.createElement(
    "span",
    { className: "last-poster-avatar", title: category.last_poster_name },
    _react2.default.createElement(_avatar2.default, { className: "media-object", size: 40 })
  );
}

function LastPosterName(_ref4) {
  var category = _ref4.category;

  if (category.last_poster) {
    return _react2.default.createElement(
      "a",
      { className: "item-title", href: category.last_poster.url },
      category.last_poster_name
    );
  }

  return _react2.default.createElement(
    "span",
    { className: "item-title" },
    category.last_poster_name
  );
}

function Empty(_ref5) {
  var category = _ref5.category;

  if (!category.acl.can_browse) return null;
  if (!category.acl.can_see_all_threads) return null;
  if (category.last_thread_title) return null;

  return _react2.default.createElement(Message, {
    message: "Αυτή η κατηγορία είναι άδεια. Καμία αγγελία δεν έχει δημοσιευθεί εδώ μέχρι τώρα..."
  });
}

function Private(_ref6) {
  var category = _ref6.category;

  if (!category.acl.can_browse) return null;
  if (category.acl.can_see_all_threads) return null;

  return _react2.default.createElement(Message, {
    message: gettext("This category is private. You can see only your own threads within it.")
  });
}

function Protected(_ref7) {
  var category = _ref7.category;

  if (category.acl.can_browse) return null;

  return _react2.default.createElement(Message, {
    message: gettext("This category is protected. You can't browse it's contents.")
  });
}

function Message(_ref8) {
  var message = _ref8.message;

  return _react2.default.createElement(
    "div",
    { className: "media category-thread-message" },
    _react2.default.createElement(
      "div",
      { className: "media-left" },
      _react2.default.createElement(
        "span",
        { className: "material-icon" },
        "info_outline"
      )
    ),
    _react2.default.createElement(
      "div",
      { className: "media-body" },
      _react2.default.createElement(
        "p",
        null,
        message
      )
    )
  );
}

},{"../../../avatar":6,"react":"react"}],16:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var category = _ref.category;

  return _react2.default.createElement(
    "div",
    { className: "col-xs-12 col-sm-6 col-md-6 category-main" },
    _react2.default.createElement(
      "div",
      { className: "media" },
      _react2.default.createElement(
        "div",
        { className: "media-left" },
        _react2.default.createElement(_icon2.default, { category: category })
      ),
      _react2.default.createElement(
        "div",
        { className: "media-body" },
        _react2.default.createElement(
          "h4",
          { className: "media-heading" },
          _react2.default.createElement(
            "a",
            { href: category.url.index },
            category.name
          )
        ),
        _react2.default.createElement(_description2.default, { category: category })
      )
    )
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _description = require("./description");

var _description2 = _interopRequireDefault(_description);

var _icon = require("./icon");

var _icon2 = _interopRequireDefault(_icon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./description":12,"./icon":13,"react":"react"}],17:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var category = _ref.category;

  return _react2.default.createElement(
    "div",
    { className: "col-md-2 hidden-xs hidden-sm" },
    _react2.default.createElement(
      "ul",
      { className: "list-unstyled category-stats" },
      _react2.default.createElement(Threads, { threads: category.threads }),
      _react2.default.createElement(Posts, { posts: category.posts })
    )
  );
};

exports.Threads = Threads;
exports.Posts = Posts;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _avatar = require("../../../avatar");

var _avatar2 = _interopRequireDefault(_avatar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function Threads(_ref2) {
  var threads = _ref2.threads;

  var message = ngettext("%(threads)s thread", "%(threads)s threads", threads);

  return _react2.default.createElement(
    "li",
    { className: "category-stat-threads" },
    interpolate(message, {
      threads: threads
    }, true)
  );
}

function Posts(_ref3) {
  var posts = _ref3.posts;

  var message = ngettext("%(posts)s post", "%(posts)s posts", posts);

  return _react2.default.createElement(
    "li",
    { className: "category-stat-posts" },
    interpolate(message, {
      posts: posts
    }, true)
  );
}

},{"../../../avatar":6,"react":"react"}],18:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var category = _ref.category,
      isFirst = _ref.isFirst;

  if (isFirst) return null;
  if (category.subcategories.length === 0) return null;

  return _react2.default.createElement(
    "div",
    { className: "row subcategories-list" },
    category.subcategories.map(function (category) {
      return _react2.default.createElement(_listItem2.default, { category: category, key: category.id });
    })
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _listItem = require("./list-item");

var _listItem2 = _interopRequireDefault(_listItem);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./list-item":19,"react":"react"}],19:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var category = _ref.category;

  var className = "btn btn-default btn-block btn-sm btn-subcategory";
  if (!category.is_read) {
    className += " btn-subcategory-new";
  }

  return _react2.default.createElement(
    "div",
    { className: "col-xs-12 col-sm-4 col-md-3" },
    _react2.default.createElement(
      "a",
      { className: className, href: category.url.index },
      _react2.default.createElement(
        "span",
        { className: "material-icon" },
        getIcon(category)
      ),
      _react2.default.createElement(
        "span",
        { className: "icon-text" },
        category.name
      )
    )
  );
};

exports.getIcon = getIcon;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function getIcon(category) {
  if (category.is_closed) {
    if (category.is_read) {
      return "lock_outline";
    }

    return "lock";
  }

  if (category.is_read) {
    return "chat_bubble_outline";
  }

  return "chat_bubble";
}

},{"react":"react"}],20:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.select = select;

var _moment = require("moment");

var _moment2 = _interopRequireDefault(_moment);

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _blankslate = require("./blankslate");

var _blankslate2 = _interopRequireDefault(_blankslate);

var _categoriesList = require("./categories-list");

var _categoriesList2 = _interopRequireDefault(_categoriesList);

var _index = require("../../index");

var _index2 = _interopRequireDefault(_index);

var _polls = require("../../services/polls");

var _polls2 = _interopRequireDefault(_polls);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var hydrate = function hydrate(category) {
  return Object.assign({}, category, {
    last_post_on: category.last_post_on ? (0, _moment2.default)(category.last_post_on) : null,
    subcategories: category.subcategories.map(hydrate)
  });
};

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.update = function (data) {
      _this.setState({
        categories: data.map(hydrate)
      });
    };

    _this.state = {
      categories: _index2.default.get("CATEGORIES").map(hydrate)
    };

    _this.startPolling(_index2.default.get("CATEGORIES_API"));
    return _this;
  }

  _createClass(_class, [{
    key: "startPolling",
    value: function startPolling(api) {
      _polls2.default.start({
        poll: "categories",
        url: api,
        frequency: 180 * 1000,
        update: this.update
      });
    }
  }, {
    key: "render",
    value: function render() {
      var categories = this.state.categories;


      if (categories.length === 0) {
        return _react2.default.createElement(_blankslate2.default, null);
      }

      return _react2.default.createElement(_categoriesList2.default, { categories: categories });
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function select(store) {
  return {
    tick: store.tick.tick
  };
}

},{"../../index":302,"../../services/polls":374,"./blankslate":9,"./categories-list":10,"moment":"moment","react":"react"}],21:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    "select",
    {
      className: props.className || "form-control",
      disabled: props.disabled || false,
      id: props.id || null,
      onChange: props.onChange,
      value: props.value
    },
    props.choices.map(function (item) {
      return _react2.default.createElement(
        "option",
        {
          disabled: item.disabled || false,
          key: item.value,
          value: item.value
        },
        "- - ".repeat(item.level) + item.label
      );
    })
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],22:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _avatar = require("../avatar");

var _avatar2 = _interopRequireDefault(_avatar);

var _button = require("../button");

var _button2 = _interopRequireDefault(_button);

var _ajax = require("../../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require("../../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.cropAvatar = function () {
      if (_this.state.isLoading) {
        return false;
      }

      _this.setState({
        isLoading: true
      });

      var avatarType = _this.props.upload ? "crop_tmp" : "crop_src";
      var cropit = $(".crop-form");

      var deviceRatio = cropit.cropit("exportZoom");
      var cropitOffset = cropit.cropit("offset");

      _ajax2.default.post(_this.props.user.api.avatar, {
        avatar: avatarType,
        crop: {
          offset: {
            x: cropitOffset.x * deviceRatio,
            y: cropitOffset.y * deviceRatio
          },
          zoom: cropit.cropit("zoom") * deviceRatio
        }
      }).then(function (data) {
        _this.props.onComplete(data);
        _snackbar2.default.success(data.detail);
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar2.default.error(rejection.detail);
          _this.setState({
            isLoading: false
          });
        } else {
          _this.props.showError(rejection);
        }
      });
    };

    _this.state = {
      isLoading: false,
      deviceRatio: 1
    };
    return _this;
  }

  _createClass(_class, [{
    key: "getAvatarSize",
    value: function getAvatarSize() {
      if (this.props.upload) {
        return this.props.options.crop_tmp.size;
      } else {
        return this.props.options.crop_src.size;
      }
    }
  }, {
    key: "getImagePath",
    value: function getImagePath() {
      if (this.props.upload) {
        return this.props.dataUrl;
      } else {
        return this.props.options.crop_src.url;
      }
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      var cropit = $(".crop-form");
      var cropperWidth = this.getAvatarSize();

      var initialWidth = cropit.width();
      while (initialWidth < cropperWidth) {
        cropperWidth = cropperWidth / 2;
      }

      var deviceRatio = this.getAvatarSize() / cropperWidth;

      cropit.width(cropperWidth);

      cropit.cropit({
        width: cropperWidth,
        height: cropperWidth,
        exportZoom: deviceRatio,
        imageState: {
          src: this.getImagePath()
        },
        onImageLoaded: function onImageLoaded() {
          if (_this2.props.upload) {
            // center uploaded image
            var zoomLevel = cropit.cropit("zoom");
            var imageSize = cropit.cropit("imageSize");

            // is it wider than taller?
            if (imageSize.width > imageSize.height) {
              var displayedWidth = imageSize.width * zoomLevel;
              var offsetX = (displayedWidth - _this2.getAvatarSize()) / -2;

              cropit.cropit("offset", {
                x: offsetX,
                y: 0
              });
            } else if (imageSize.width < imageSize.height) {
              var displayedHeight = imageSize.height * zoomLevel;
              var offsetY = (displayedHeight - _this2.getAvatarSize()) / -2;

              cropit.cropit("offset", {
                x: 0,
                y: offsetY
              });
            } else {
              cropit.cropit("offset", {
                x: 0,
                y: 0
              });
            }
          } else {
            // use preserved crop
            var crop = _this2.props.options.crop_src.crop;

            if (crop) {
              cropit.cropit("zoom", crop.zoom);
              cropit.cropit("offset", {
                x: crop.x,
                y: crop.y
              });
            }
          }
        }
      });
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      $(".crop-form").cropit("disable");
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        null,
        _react2.default.createElement(
          "div",
          { className: "modal-body modal-avatar-crop" },
          _react2.default.createElement(
            "div",
            { className: "crop-form" },
            _react2.default.createElement("div", { className: "cropit-preview" }),
            _react2.default.createElement("input", { type: "range", className: "cropit-image-zoom-input" })
          )
        ),
        _react2.default.createElement(
          "div",
          { className: "modal-footer" },
          _react2.default.createElement(
            "div",
            { className: "col-md-6 col-md-offset-3" },
            _react2.default.createElement(
              _button2.default,
              {
                onClick: this.cropAvatar,
                loading: this.state.isLoading,
                className: "btn-primary btn-block"
              },
              this.props.upload ? gettext("Set avatar") : gettext("Crop image")
            ),
            _react2.default.createElement(
              _button2.default,
              {
                onClick: this.props.showIndex,
                disabled: this.state.isLoading,
                className: "btn-default btn-block"
              },
              gettext("Cancel")
            )
          )
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../services/ajax":365,"../../services/snackbar":376,"../avatar":6,"../button":8,"react":"react"}],23:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Gallery = exports.GalleryItem = undefined;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _avatar = require("../avatar");

var _avatar2 = _interopRequireDefault(_avatar);

var _button = require("../button");

var _button2 = _interopRequireDefault(_button);

var _index = require("../../index");

var _index2 = _interopRequireDefault(_index);

var _ajax = require("../../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require("../../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

var _batch = require("../../utils/batch");

var _batch2 = _interopRequireDefault(_batch);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var GalleryItem = exports.GalleryItem = function (_React$Component) {
  _inherits(GalleryItem, _React$Component);

  function GalleryItem() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, GalleryItem);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = GalleryItem.__proto__ || Object.getPrototypeOf(GalleryItem)).call.apply(_ref, [this].concat(args))), _this), _this.select = function () {
      _this.props.select(_this.props.id);
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(GalleryItem, [{
    key: "getClassName",
    value: function getClassName() {
      if (this.props.selection === this.props.id) {
        if (this.props.disabled) {
          return "btn btn-avatar btn-disabled avatar-selected";
        } else {
          return "btn btn-avatar avatar-selected";
        }
      } else if (this.props.disabled) {
        return "btn btn-avatar btn-disabled";
      } else {
        return "btn btn-avatar";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "button",
        {
          type: "button",
          className: this.getClassName(),
          disabled: this.props.disabled,
          onClick: this.select
        },
        _react2.default.createElement("img", { src: this.props.url })
      );
    }
  }]);

  return GalleryItem;
}(_react2.default.Component);

var Gallery = exports.Gallery = function (_React$Component2) {
  _inherits(Gallery, _React$Component2);

  function Gallery() {
    _classCallCheck(this, Gallery);

    return _possibleConstructorReturn(this, (Gallery.__proto__ || Object.getPrototypeOf(Gallery)).apply(this, arguments));
  }

  _createClass(Gallery, [{
    key: "render",
    value: function render() {
      var _this3 = this;

      return _react2.default.createElement(
        "div",
        { className: "avatars-gallery" },
        _react2.default.createElement(
          "h3",
          null,
          this.props.name
        ),
        _react2.default.createElement(
          "div",
          { className: "avatars-gallery-images" },
          (0, _batch2.default)(this.props.images, 4, null).map(function (row, i) {
            return _react2.default.createElement(
              "div",
              { className: "row", key: i },
              row.map(function (item, i) {
                return _react2.default.createElement(
                  "div",
                  { className: "col-xs-3", key: i },
                  item ? _react2.default.createElement(GalleryItem, _extends({
                    disabled: _this3.props.disabled,
                    select: _this3.props.select,
                    selection: _this3.props.selection
                  }, item)) : _react2.default.createElement("div", { className: "blank-avatar" })
                );
              })
            );
          })
        )
      );
    }
  }]);

  return Gallery;
}(_react2.default.Component);

var _class = function (_React$Component3) {
  _inherits(_class, _React$Component3);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this4 = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this4.select = function (image) {
      _this4.setState({
        selection: image
      });
    };

    _this4.save = function () {
      if (_this4.state.isLoading) {
        return false;
      }

      _this4.setState({
        isLoading: true
      });

      _ajax2.default.post(_this4.props.user.api.avatar, {
        avatar: "galleries",
        image: _this4.state.selection
      }).then(function (response) {
        _this4.setState({
          isLoading: false
        });

        _snackbar2.default.success(response.detail);
        _this4.props.onComplete(response);
        _this4.props.showIndex();
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar2.default.error(rejection.detail);
          _this4.setState({
            isLoading: false
          });
        } else {
          _this4.props.showError(rejection);
        }
      });
    };

    _this4.state = {
      selection: null,
      isLoading: false
    };
    return _this4;
  }

  _createClass(_class, [{
    key: "render",
    value: function render() {
      var _this5 = this;

      return _react2.default.createElement(
        "div",
        null,
        _react2.default.createElement(
          "div",
          { className: "modal-body modal-avatar-gallery" },
          this.props.options.galleries.map(function (item, i) {
            return _react2.default.createElement(Gallery, {
              name: item.name,
              images: item.images,
              selection: _this5.state.selection,
              disabled: _this5.state.isLoading,
              select: _this5.select,
              key: i
            });
          })
        ),
        _react2.default.createElement(
          "div",
          { className: "modal-footer" },
          _react2.default.createElement(
            "div",
            { className: "row" },
            _react2.default.createElement(
              "div",
              { className: "col-md-6 col-md-offset-3" },
              _react2.default.createElement(
                _button2.default,
                {
                  onClick: this.save,
                  loading: this.state.isLoading,
                  disabled: !this.state.selection,
                  className: "btn-primary btn-block"
                },
                this.state.selection ? gettext("Save choice") : gettext("Select avatar")
              ),
              _react2.default.createElement(
                _button2.default,
                {
                  onClick: this.props.showIndex,
                  disabled: this.state.isLoading,
                  className: "btn-default btn-block"
                },
                gettext("Cancel")
              )
            )
          )
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../index":302,"../../services/ajax":365,"../../services/snackbar":376,"../../utils/batch":380,"../avatar":6,"../button":8,"react":"react"}],24:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _avatar = require("../avatar");

var _avatar2 = _interopRequireDefault(_avatar);

var _button = require("../button");

var _button2 = _interopRequireDefault(_button);

var _loader = require("../loader");

var _loader2 = _interopRequireDefault(_loader);

var _ajax = require("../../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require("../../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.setGravatar = function () {
      _this.callApi("gravatar");
    };

    _this.setGenerated = function () {
      _this.callApi("generated");
    };

    _this.state = {
      isLoading: false
    };
    return _this;
  }

  _createClass(_class, [{
    key: "callApi",
    value: function callApi(avatarType) {
      var _this2 = this;

      if (this.state.isLoading) {
        return false;
      }

      this.setState({
        isLoading: true
      });

      _ajax2.default.post(this.props.user.api.avatar, {
        avatar: avatarType
      }).then(function (response) {
        _this2.setState({
          isLoading: false
        });

        _snackbar2.default.success(response.detail);
        _this2.props.onComplete(response);
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar2.default.error(rejection.detail);
          _this2.setState({
            isLoading: false
          });
        } else {
          _this2.props.showError(rejection);
        }
      });
    }
  }, {
    key: "getGravatarButton",
    value: function getGravatarButton() {
      if (this.props.options.gravatar) {
        return _react2.default.createElement(
          _button2.default,
          {
            onClick: this.setGravatar,
            disabled: this.state.isLoading,
            className: "btn-default btn-block btn-avatar-gravatar"
          },
          gettext("Download my Gravatar")
        );
      } else {
        return null;
      }
    }
  }, {
    key: "getCropButton",
    value: function getCropButton() {
      if (!this.props.options.crop_src) return null;

      return _react2.default.createElement(
        _button2.default,
        {
          className: "btn-default btn-block btn-avatar-crop",
          disabled: this.state.isLoading,
          onClick: this.props.showCrop
        },
        gettext("Re-crop uploaded image")
      );
    }
  }, {
    key: "getUploadButton",
    value: function getUploadButton() {
      if (!this.props.options.upload) return null;

      return _react2.default.createElement(
        _button2.default,
        {
          className: "btn-default btn-block btn-avatar-upload",
          disabled: this.state.isLoading,
          onClick: this.props.showUpload
        },
        gettext("Upload new image")
      );
    }
  }, {
    key: "getGalleryButton",
    value: function getGalleryButton() {
      if (!this.props.options.galleries) return null;

      return _react2.default.createElement(
        _button2.default,
        {
          className: "btn-default btn-block btn-avatar-gallery",
          disabled: this.state.isLoading,
          onClick: this.props.showGallery
        },
        gettext("Pick avatar from gallery")
      );
    }
  }, {
    key: "getAvatarPreview",
    value: function getAvatarPreview() {
      var userPeview = {
        id: this.props.user.id,
        avatars: this.props.options.avatars
      };

      if (this.state.isLoading) {
        return _react2.default.createElement(
          "div",
          { className: "avatar-preview preview-loading" },
          _react2.default.createElement(_avatar2.default, { size: "200", user: userPeview }),
          _react2.default.createElement(_loader2.default, null)
        );
      }

      return _react2.default.createElement(
        "div",
        { className: "avatar-preview" },
        _react2.default.createElement(_avatar2.default, { size: "200", user: userPeview })
      );
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: "modal-body modal-avatar-index" },
        _react2.default.createElement(
          "div",
          { className: "row" },
          _react2.default.createElement(
            "div",
            { className: "col-md-5" },
            this.getAvatarPreview()
          ),
          _react2.default.createElement(
            "div",
            { className: "col-md-7" },
            this.getGravatarButton(),
            _react2.default.createElement(
              _button2.default,
              {
                onClick: this.setGenerated,
                disabled: this.state.isLoading,
                className: "btn-default btn-block btn-avatar-generate"
              },
              gettext("Generate my individual avatar")
            ),
            this.getCropButton(),
            this.getUploadButton(),
            this.getGalleryButton()
          )
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../services/ajax":365,"../../services/snackbar":376,"../avatar":6,"../button":8,"../loader":58,"react":"react"}],25:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ChangeAvatarError = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.select = select;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _index = require("./index");

var _index2 = _interopRequireDefault(_index);

var _crop = require("./crop");

var _crop2 = _interopRequireDefault(_crop);

var _upload = require("./upload");

var _upload2 = _interopRequireDefault(_upload);

var _gallery = require("./gallery");

var _gallery2 = _interopRequireDefault(_gallery);

var _modalLoader = require("../modal-loader");

var _modalLoader2 = _interopRequireDefault(_modalLoader);

var _users = require("../../reducers/users");

var _ajax = require("../../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _store = require("../../services/store");

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ChangeAvatarError = exports.ChangeAvatarError = function (_React$Component) {
  _inherits(ChangeAvatarError, _React$Component);

  function ChangeAvatarError() {
    _classCallCheck(this, ChangeAvatarError);

    return _possibleConstructorReturn(this, (ChangeAvatarError.__proto__ || Object.getPrototypeOf(ChangeAvatarError)).apply(this, arguments));
  }

  _createClass(ChangeAvatarError, [{
    key: "getErrorReason",
    value: function getErrorReason() {
      if (this.props.reason) {
        return _react2.default.createElement("p", { dangerouslySetInnerHTML: { __html: this.props.reason } });
      } else {
        return null;
      }
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: "modal-body" },
        _react2.default.createElement(
          "div",
          { className: "message-icon" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "remove_circle_outline"
          )
        ),
        _react2.default.createElement(
          "div",
          { className: "message-body" },
          _react2.default.createElement(
            "p",
            { className: "lead" },
            this.props.message
          ),
          this.getErrorReason(),
          _react2.default.createElement(
            "button",
            {
              className: "btn btn-default",
              "data-dismiss": "modal",
              type: "button"
            },
            gettext("Ok")
          )
        )
      );
    }
  }]);

  return ChangeAvatarError;
}(_react2.default.Component);

var _class = function (_React$Component2) {
  _inherits(_class, _React$Component2);

  function _class() {
    var _ref;

    var _temp, _this2, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this2 = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this2), _this2.showError = function (error) {
      _this2.setState({
        error: error
      });
    }, _this2.showIndex = function () {
      _this2.setState({
        component: _index2.default
      });
    }, _this2.showUpload = function () {
      _this2.setState({
        component: _upload2.default
      });
    }, _this2.showCrop = function () {
      _this2.setState({
        component: _crop2.default
      });
    }, _this2.showGallery = function () {
      _this2.setState({
        component: _gallery2.default
      });
    }, _this2.completeFlow = function (options) {
      _store2.default.dispatch((0, _users.updateAvatar)(_this2.props.user, options.avatars));

      _this2.setState({
        component: _index2.default,
        options: options
      });
    }, _temp), _possibleConstructorReturn(_this2, _ret);
  }

  _createClass(_class, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this3 = this;

      _ajax2.default.get(this.props.user.api.avatar).then(function (options) {
        _this3.setState({
          component: _index2.default,
          options: options,
          error: null
        });
      }, function (rejection) {
        _this3.showError(rejection);
      });
    }
  }, {
    key: "getBody",
    value: function getBody() {
      if (this.state) {
        if (this.state.error) {
          return _react2.default.createElement(ChangeAvatarError, {
            message: this.state.error.detail,
            reason: this.state.error.reason
          });
        } else {
          return _react2.default.createElement(this.state.component, {
            options: this.state.options,
            user: this.props.user,
            onComplete: this.completeFlow,
            showError: this.showError,
            showIndex: this.showIndex,
            showCrop: this.showCrop,
            showUpload: this.showUpload,
            showGallery: this.showGallery
          });
        }
      } else {
        return _react2.default.createElement(_modalLoader2.default, null);
      }
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (this.state && this.state.error) {
        return "modal-dialog modal-message modal-change-avatar";
      } else {
        return "modal-dialog modal-change-avatar";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: this.getClassName(), role: "document" },
        _react2.default.createElement(
          "div",
          { className: "modal-content" },
          _react2.default.createElement(
            "div",
            { className: "modal-header" },
            _react2.default.createElement(
              "button",
              {
                type: "button",
                className: "close",
                "data-dismiss": "modal",
                "aria-label": gettext("Close")
              },
              _react2.default.createElement(
                "span",
                { "aria-hidden": "true" },
                "\xD7"
              )
            ),
            _react2.default.createElement(
              "h4",
              { className: "modal-title" },
              gettext("Change your avatar")
            )
          ),
          this.getBody()
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function select(state) {
  return {
    user: state.auth.user
  };
}

},{"../../reducers/users":364,"../../services/ajax":365,"../../services/store":377,"../modal-loader":61,"./crop":22,"./gallery":23,"./index":24,"./upload":26,"react":"react"}],26:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _crop = require("./crop");

var _crop2 = _interopRequireDefault(_crop);

var _button = require("../button");

var _button2 = _interopRequireDefault(_button);

var _ajax = require("../../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require("../../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

var _fileSize = require("../../utils/file-size");

var _fileSize2 = _interopRequireDefault(_fileSize);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.pickFile = function () {
      document.getElementById("avatar-hidden-upload").click();
    };

    _this.uploadFile = function () {
      var image = document.getElementById("avatar-hidden-upload").files[0];
      if (!image) return;

      var validationError = _this.validateFile(image);
      if (validationError) {
        _snackbar2.default.error(validationError);
        return;
      }

      _this.setState({
        image: image,
        preview: URL.createObjectURL(image),
        progress: 0
      });

      var data = new FormData();
      data.append("avatar", "upload");
      data.append("image", image);

      _ajax2.default.upload(_this.props.user.api.avatar, data, function (progress) {
        _this.setState({
          progress: progress
        });
      }).then(function (data) {
        _this.setState({
          options: data,
          uploaded: data.detail
        });

        _snackbar2.default.info(gettext("Your image has been uploaded and you may now crop it."));
      }, function (rejection) {
        if (rejection.status === 400 || rejection.status === 413) {
          _snackbar2.default.error(rejection.detail);
          _this.setState({
            isLoading: false,
            image: null,
            progress: 0
          });
        } else {
          _this.props.showError(rejection);
        }
      });
    };

    _this.state = {
      image: null,
      preview: null,
      progress: 0,
      uploaded: null,
      dataUrl: null
    };
    return _this;
  }

  _createClass(_class, [{
    key: "validateFile",
    value: function validateFile(image) {
      if (image.size > this.props.options.upload.limit) {
        return interpolate(gettext("Selected file is too big. (%(filesize)s)"), {
          filesize: (0, _fileSize2.default)(image.size)
        }, true);
      }

      var invalidTypeMsg = gettext("Selected file type is not supported.");
      if (this.props.options.upload.allowed_mime_types.indexOf(image.type) === -1) {
        return invalidTypeMsg;
      }

      var extensionFound = false;
      var loweredFilename = image.name.toLowerCase();
      this.props.options.upload.allowed_extensions.map(function (extension) {
        if (loweredFilename.substr(extension.length * -1) === extension) {
          extensionFound = true;
        }
      });

      if (!extensionFound) {
        return invalidTypeMsg;
      }

      return false;
    }
  }, {
    key: "getUploadRequirements",
    value: function getUploadRequirements(options) {
      var extensions = options.allowed_extensions.map(function (extension) {
        return extension.substr(1);
      });

      return interpolate(gettext("%(files)s files smaller than %(limit)s"), {
        files: extensions.join(", "),
        limit: (0, _fileSize2.default)(options.limit)
      }, true);
    }
  }, {
    key: "getUploadButton",
    value: function getUploadButton() {
      return _react2.default.createElement(
        "div",
        { className: "modal-body modal-avatar-upload" },
        _react2.default.createElement(
          _button2.default,
          { className: "btn-pick-file", onClick: this.pickFile },
          _react2.default.createElement(
            "div",
            { className: "material-icon" },
            "input"
          ),
          gettext("Select file")
        ),
        _react2.default.createElement(
          "p",
          { className: "text-muted" },
          this.getUploadRequirements(this.props.options.upload)
        )
      );
    }
  }, {
    key: "getUploadProgressLabel",
    value: function getUploadProgressLabel() {
      return interpolate(gettext("%(progress)s % complete"), {
        progress: this.state.progress
      }, true);
    }
  }, {
    key: "getUploadProgress",
    value: function getUploadProgress() {
      return _react2.default.createElement(
        "div",
        { className: "modal-body modal-avatar-upload" },
        _react2.default.createElement(
          "div",
          { className: "upload-progress" },
          _react2.default.createElement("img", { src: this.state.preview }),
          _react2.default.createElement(
            "div",
            { className: "progress" },
            _react2.default.createElement(
              "div",
              {
                className: "progress-bar",
                role: "progressbar",
                "aria-valuenow": "{this.state.progress}",
                "aria-valuemin": "0",
                "aria-valuemax": "100",
                style: { width: this.state.progress + "%" }
              },
              _react2.default.createElement(
                "span",
                { className: "sr-only" },
                this.getUploadProgressLabel()
              )
            )
          )
        )
      );
    }
  }, {
    key: "renderUpload",
    value: function renderUpload() {
      return _react2.default.createElement(
        "div",
        null,
        _react2.default.createElement("input", {
          type: "file",
          id: "avatar-hidden-upload",
          className: "hidden-file-upload",
          onChange: this.uploadFile
        }),
        this.state.image ? this.getUploadProgress() : this.getUploadButton(),
        _react2.default.createElement(
          "div",
          { className: "modal-footer" },
          _react2.default.createElement(
            "div",
            { className: "col-md-6 col-md-offset-3" },
            _react2.default.createElement(
              _button2.default,
              {
                onClick: this.props.showIndex,
                disabled: !!this.state.image,
                className: "btn-default btn-block"
              },
              gettext("Cancel")
            )
          )
        )
      );
    }
  }, {
    key: "renderCrop",
    value: function renderCrop() {
      return _react2.default.createElement(_crop2.default, {
        options: this.state.options,
        user: this.props.user,
        upload: this.state.uploaded,
        dataUrl: this.state.preview,
        onComplete: this.props.onComplete,
        showError: this.props.showError,
        showIndex: this.props.showIndex
      });
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.uploaded) return this.renderCrop();

      return this.renderUpload();
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../services/ajax":365,"../../services/snackbar":376,"../../utils/file-size":384,"../button":8,"./crop":22,"react":"react"}],27:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "getClassName",
    value: function getClassName() {
      if (this.props.dropdown) {
        return "btn btn-default btn-aligned btn-icon btn-dropdown-toggle open hidden-md hidden-lg";
      } else {
        return "btn btn-default btn-aligned btn-icon btn-dropdown-toggle hidden-md hidden-lg";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "button",
        {
          className: this.getClassName(),
          type: "button",
          onClick: this.props.toggleNav,
          "aria-haspopup": "true",
          "aria-expanded": this.props.dropdown ? "true" : "false"
        },
        _react2.default.createElement(
          "i",
          { className: "material-icon" },
          "menu"
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],28:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var display = _ref.display;

  if (!display) return null;

  return _react2.default.createElement(_panelMessage2.default, {
    helpText: gettext("No profile details are editable at this time."),
    message: gettext("This option is currently unavailable.")
  });
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _panelMessage = require("../panel-message");

var _panelMessage2 = _interopRequireDefault(_panelMessage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../panel-message":94,"react":"react"}],29:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _select = require("../select");

var _select2 = _interopRequireDefault(_select);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.onChange = function (ev) {
      var _this$props = _this.props,
          field = _this$props.field,
          onChange = _this$props.onChange;

      onChange(field.fieldname, ev.target.value);
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: "render",
    value: function render() {
      var _props = this.props,
          disabled = _props.disabled,
          field = _props.field,
          value = _props.value;
      var input = field.input;


      if (input.type === "select") {
        return _react2.default.createElement(_select2.default, {
          choices: input.choices,
          disabled: disabled,
          id: "id_" + field.fieldname,
          onChange: this.onChange,
          value: value
        });
      }

      if (input.type === "textarea") {
        return _react2.default.createElement("textarea", {
          className: "form-control",
          disabled: disabled,
          id: "id_" + field.fieldname,
          onChange: this.onChange,
          rows: "4",
          type: "text",
          value: value
        });
      }

      if (input.type === "text") {
        return _react2.default.createElement("input", {
          className: "form-control",
          disabled: disabled,
          id: "id_" + field.fieldname,
          onChange: this.onChange,
          type: "text",
          value: value
        });
      }

      return null;
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../select":210,"react":"react"}],30:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var disabled = _ref.disabled,
      errors = _ref.errors,
      fields = _ref.fields,
      name = _ref.name,
      onChange = _ref.onChange,
      value = _ref.value;

  return _react2.default.createElement(
    "fieldset",
    null,
    _react2.default.createElement(
      "legend",
      null,
      name
    ),
    fields.map(function (field) {
      return _react2.default.createElement(
        _formGroup2.default,
        {
          "for": "id_" + field.fieldname,
          helpText: field.help_text,
          key: field.fieldname,
          label: field.label,
          validation: errors[field.fieldname]
        },
        _react2.default.createElement(_fieldInput2.default, {
          disabled: disabled,
          field: field,
          onChange: onChange,
          value: value[field.fieldname]
        })
      );
    })
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _fieldInput = require("./field-input");

var _fieldInput2 = _interopRequireDefault(_fieldInput);

var _formGroup = require("../form-group");

var _formGroup2 = _interopRequireDefault(_formGroup);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../form-group":55,"./field-input":29,"react":"react"}],31:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.CancelButton = CancelButton;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _fieldset = require("./fieldset");

var _fieldset2 = _interopRequireDefault(_fieldset);

var _button = require("../button");

var _button2 = _interopRequireDefault(_button);

var _form = require("../form");

var _form2 = _interopRequireDefault(_form);

var _ajax = require("../../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require("../../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onChange = function (name, value) {
      _this.setState(_defineProperty({}, name, value));
    };

    _this.state = {
      isLoading: false,

      errors: {}
    };

    var groups = props.groups.length;
    for (var i = 0; i < groups; i++) {
      var group = props.groups[i];
      var fields = group.fields.length;
      for (var f = 0; f < fields; f++) {
        var fieldname = group.fields[f].fieldname;
        var initial = group.fields[f].initial;
        _this.state[fieldname] = initial;
      }
    }
    return _this;
  }

  _createClass(_class, [{
    key: "send",
    value: function send() {
      var data = Object.assign({}, this.state, {
        errors: null,
        isLoading: null
      });

      return _ajax2.default.post(this.props.api, data);
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(data) {
      this.props.onSuccess(data);
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        _snackbar2.default.error(gettext("Form contains errors."));
        this.setState({ errors: rejection });
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      return _react2.default.createElement(
        "form",
        { onSubmit: this.handleSubmit },
        _react2.default.createElement(
          "div",
          { className: "panel-body" },
          this.props.groups.map(function (group, i) {
            return _react2.default.createElement(_fieldset2.default, {
              disabled: _this2.state.isLoading,
              errors: _this2.state.errors,
              fields: group.fields,
              name: group.name,
              key: i,
              onChange: _this2.onChange,
              value: _this2.state
            });
          })
        ),
        _react2.default.createElement(
          "div",
          { className: "panel-footer text-right" },
          _react2.default.createElement(CancelButton, {
            disabled: this.state.isLoading,
            onCancel: this.props.onCancel
          }),
          " ",
          _react2.default.createElement(
            _button2.default,
            { className: "btn-primary", loading: this.state.isLoading },
            gettext("Save changes")
          )
        )
      );
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;
function CancelButton(_ref) {
  var onCancel = _ref.onCancel,
      disabled = _ref.disabled;

  if (!onCancel) return null;

  return _react2.default.createElement(
    "button",
    {
      className: "btn btn-default",
      disabled: disabled,
      onClick: onCancel,
      type: "button"
    },
    gettext("Cancel")
  );
}

},{"../../services/ajax":365,"../../services/snackbar":376,"../button":8,"../form":56,"./fieldset":30,"react":"react"}],32:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.FormDisplay = FormDisplay;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _blankslate = require("./blankslate");

var _blankslate2 = _interopRequireDefault(_blankslate);

var _loader = require("./loader");

var _loader2 = _interopRequireDefault(_loader);

var _form = require("./form");

var _form2 = _interopRequireDefault(_form);

var _ajax = require("../../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require("../../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.state = {
      loading: true,
      groups: null
    };
    return _this;
  }

  _createClass(_class, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      _ajax2.default.get(this.props.api).then(function (groups) {
        _this2.setState({
          loading: false,

          groups: groups
        });
      }, function (rejection) {
        _snackbar2.default.apiError(rejection);
        if (_this2.props.cancel) {
          _this2.props.cancel();
        }
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _state = this.state,
          groups = _state.groups,
          loading = _state.loading;


      return _react2.default.createElement(
        "div",
        { className: "panel panel-default panel-form" },
        _react2.default.createElement(
          "div",
          { className: "panel-heading" },
          _react2.default.createElement(
            "h3",
            { className: "panel-title" },
            gettext("Edit details")
          )
        ),
        _react2.default.createElement(_loader2.default, { display: loading }),
        _react2.default.createElement(_blankslate2.default, { display: !loading && !groups.length }),
        _react2.default.createElement(FormDisplay, {
          api: this.props.api,
          display: !loading && groups.length,
          groups: groups,
          onCancel: this.props.onCancel,
          onSuccess: this.props.onSuccess
        })
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function FormDisplay(_ref) {
  var api = _ref.api,
      display = _ref.display,
      groups = _ref.groups,
      onCancel = _ref.onCancel,
      onSuccess = _ref.onSuccess;

  if (!display) return null;

  return _react2.default.createElement(_form2.default, { api: api, groups: groups, onCancel: onCancel, onSuccess: onSuccess });
}

},{"../../services/ajax":365,"../../services/snackbar":376,"./blankslate":28,"./form":31,"./loader":33,"react":"react"}],33:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var display = _ref.display;

  if (!display) return null;

  return _react2.default.createElement(
    "div",
    { className: "panel-body" },
    _react2.default.createElement(_loader2.default, null)
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _loader = require("../loader");

var _loader2 = _interopRequireDefault(_loader);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../loader":58,"react":"react"}],34:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.default = function (props) {
  return _react2.default.createElement(
    _action2.default,
    _extends({ execAction: insertSpoiler, title: "Εισαγωγή spoiler" }, props),
    _react2.default.createElement(
      "span",
      { className: "material-icon" },
      "not_interested"
    )
  );
};

exports.insertSpoiler = insertSpoiler;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _action = require("./action");

var _action2 = _interopRequireDefault(_action);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function insertSpoiler(selection, replace) {
  replace("\n\n[spoiler]\n" + selection + "\n[/spoiler]\n\n");
}

},{"./action":35,"react":"react"}],35:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      _this.props.replaceSelection(_this.props.execAction);
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "button",
        {
          className: "btn btn-icon " + this.props.className,
          disabled: this.props.disabled,
          onClick: this.onClick,
          title: this.props.title,
          type: "button"
        },
        this.props.children
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],36:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.default = function (props) {
  return _react2.default.createElement(
    _action2.default,
    _extends({ execAction: insertCode, title: "Εισαγωγή κώδικα" }, props),
    _react2.default.createElement(
      "span",
      { className: "material-icon" },
      "functions"
    )
  );
};

exports.insertCode = insertCode;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _action = require("./action");

var _action2 = _interopRequireDefault(_action);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function insertCode(selection, replace) {
  var syntax = $.trim(prompt("Εισαγωγή ονόματος συντακτικής του κώδικα (προαιρετικά):"));
  replace("\n\n```" + syntax + "\n" + selection + "\n```\n\n");
}

},{"./action":35,"react":"react"}],37:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.default = function (props) {
  return _react2.default.createElement(
    _action2.default,
    _extends({
      execAction: makeEmphasis,
      title: "Προσθήκη έμφασης"
    }, props),
    _react2.default.createElement(
      "span",
      { className: "material-icon" },
      "format_italic"
    )
  );
};

exports.makeEmphasis = makeEmphasis;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _action = require("./action");

var _action2 = _interopRequireDefault(_action);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function makeEmphasis(selection, replace) {
  if (selection.length) {
    replace("*" + selection + "*");
  }
}

},{"./action":35,"react":"react"}],38:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.default = function (props) {
  return _react2.default.createElement(
    _action2.default,
    _extends({
      execAction: insertHr,
      title: "Εισαγωγή οριζόντιου χάρακα"
    }, props),
    _react2.default.createElement(
      "span",
      { className: "material-icon" },
      "remove"
    )
  );
};

exports.insertHr = insertHr;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _action = require("./action");

var _action2 = _interopRequireDefault(_action);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function insertHr(selection, replace) {
  replace("\n\n- - - - -\n\n");
}

},{"./action":35,"react":"react"}],39:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.default = function (props) {
  return _react2.default.createElement(
    _action2.default,
    _extends({ execAction: insertImage, title: "Εισαγωγή εικόνας" }, props),
    _react2.default.createElement(
      "span",
      { className: "material-icon" },
      "insert_photo"
    )
  );
};

exports.insertImage = insertImage;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _action = require("./action");

var _action2 = _interopRequireDefault(_action);

var _isUrl = require("../../../utils/is-url");

var _isUrl2 = _interopRequireDefault(_isUrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function insertImage(selection, replace) {
  var url = "";
  var label = "";

  if (selection.length) {
    if ((0, _isUrl2.default)(selection)) {
      url = selection;
    } else {
      label = selection;
    }
  }

  url = $.trim(prompt("\u0395\u03B9\u03C3\u03B1\u03B3\u03C9\u03B3\u03AE \u03C3\u03C5\u03BD\u03B4\u03AD\u03C3\u03BC\u03BF\u03C5 \u03B5\u03B9\u03BA\u03CC\u03BD\u03B1\u03C2:{url}"));
  label = $.trim(prompt("\u0395\u03B9\u03C3\u03B1\u03B3\u03C9\u03B3\u03AE \u03BF\u03BD\u03CC\u03BC\u03B1\u03C4\u03BF\u03C2 \u03B5\u03B9\u03BA\u03CC\u03BD\u03B1\u03C2 (\u03C0\u03C1\u03BF\u03B1\u03B9\u03C1\u03B5\u03C4\u03B9\u03BA\u03AC):{label}"));

  if (url.length) {
    if (label.length > 0) {
      replace("![" + label + "](" + url + ")");
    } else {
      replace("!(" + url + ")");
    }
  }
}

},{"../../../utils/is-url":385,"./action":35,"react":"react"}],40:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.default = function (props) {
  return _react2.default.createElement(
    _action2.default,
    _extends({ execAction: insertLink, title: "Εισαγωγή συνδέσμου" }, props),
    _react2.default.createElement(
      "span",
      { className: "material-icon" },
      "insert_link"
    )
  );
};

exports.insertLink = insertLink;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _action = require("./action");

var _action2 = _interopRequireDefault(_action);

var _isUrl = require("../../../utils/is-url");

var _isUrl2 = _interopRequireDefault(_isUrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function insertLink(selection, replace) {
  var url = "";
  var label = "";

  if (selection.length) {
    if ((0, _isUrl2.default)(selection)) {
      url = selection;
    } else {
      label = selection;
    }
  }

  url = $.trim(prompt("\u0395\u03B9\u03C3\u03B1\u03B3\u03C9\u03B3\u03AE \u03B4\u03B9\u03B5\u03CD\u03B8\u03C5\u03BD\u03C3\u03B7\u03C2 \u03C3\u03C5\u03BD\u03B4\u03AD\u03C3\u03BC\u03BF\u03C5:{url}") || "");
  if (url.length === 0) return false;
  label = $.trim(prompt("\u0395\u03B9\u03C3\u03B1\u03B3\u03C9\u03B3\u03AE \u03BF\u03BD\u03CC\u03BC\u03B1\u03C4\u03BF\u03C2 \u03C3\u03C5\u03BD\u03B4\u03AD\u03C3\u03BC\u03BF\u03C5 (\u03C0\u03C1\u03BF\u03B1\u03B9\u03C1\u03B5\u03C4\u03B9\u03BA\u03AC):{label}"));

  if (url.length) {
    if (label.length > 0) {
      replace("[" + label + "](" + url + ")");
    } else {
      replace(url);
    }
  }
}

},{"../../../utils/is-url":385,"./action":35,"react":"react"}],41:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.default = function (props) {
  return _react2.default.createElement(
    _action2.default,
    _extends({ execAction: insertQuote, title: "Εισαγωγή quote" }, props),
    _react2.default.createElement(
      "span",
      { className: "material-icon" },
      "format_quote"
    )
  );
};

exports.insertQuote = insertQuote;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _action = require("./action");

var _action2 = _interopRequireDefault(_action);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function insertQuote(selection, replace) {
  var title = $.trim(prompt("\u0392\u03AC\u03BB\u03B5 \u03C4\u03BF \u03C3\u03C5\u03B3\u03B3\u03C1\u03B1\u03C6\u03AD\u03B1 \u03C4\u03BF\u03C5 quote \u03BC\u03B5 @ \u03C0\u03C1\u03B9\u03BD \u03C4\u03BF \u03CC\u03BD\u03BF\u03BC\u03B1 \u03C7\u03C1\u03AE\u03C3\u03C4\u03B7:{title}"));

  if (title) {
    replace('\n\n[quote="' + title + '"]\n' + selection + "\n[/quote]\n\n");
  } else {
    replace("\n\n[quote]\n" + selection + "\n[/quote]\n\n");
  }
}

},{"./action":35,"react":"react"}],42:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.default = function (props) {
  return _react2.default.createElement(
    _action2.default,
    _extends({
      execAction: makeStrikethrough,
      title: "Τράβηγμα γραμμής"
    }, props),
    _react2.default.createElement(
      "span",
      { className: "material-icon" },
      "format_strikethrough"
    )
  );
};

exports.makeStrikethrough = makeStrikethrough;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _action = require("./action");

var _action2 = _interopRequireDefault(_action);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function makeStrikethrough(selection, replace) {
  if (selection.length) {
    replace("~~" + selection + "~~");
  }
}

},{"./action":35,"react":"react"}],43:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.default = function (props) {
  return _react2.default.createElement(
    _action2.default,
    _extends({
      execAction: makeStrong,
      title: "Έντονη γραμματοσειρά"
    }, props),
    _react2.default.createElement(
      "span",
      { className: "material-icon" },
      "format_bold"
    )
  );
};

exports.makeStrong = makeStrong;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _action = require("./action");

var _action2 = _interopRequireDefault(_action);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function makeStrong(selection, replace) {
  if (selection.length) {
    replace("**" + selection + "**");
  }
}

},{"./action":35,"react":"react"}],44:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.Preview = Preview;
exports.Image = Image;
exports.Icon = Icon;
exports.Filename = Filename;
exports.Details = Details;
exports.Actions = Actions;
exports.Insert = Insert;
exports.Remove = Remove;
exports.Undo = Undo;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _ = require("../../../..");

var _2 = _interopRequireDefault(_);

var _escapeHtml = require("../../../../utils/escape-html");

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

var _fileSize = require("../../../../utils/file-size");

var _fileSize2 = _interopRequireDefault(_fileSize);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var DATE_ABBR = '<abbr title="%(absolute)s">%(relative)s</abbr>';
var USER_SPAN = '<span class="item-title">%(user)s</span>';
var USER_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.onInsert = function () {
      _this.props.replaceSelection(_this.insertAttachment);
    }, _this.insertAttachment = function (selection, replace) {
      var item = _this.props.item;

      if (item.is_image) {
        if (item.url.thumb) {
          replace("[![" + item.filename + "](" + item.url.thumb + ")](" + item.url.index + ")");
        } else {
          replace("[![" + item.filename + "](" + item.url.index + ")](" + item.url.index + ")");
        }
      } else {
        replace("[" + item.filename + "](" + item.url.index + ")");
      }
    }, _this.onRemove = function () {
      _this.updateItem({
        isRemoved: true
      });
    }, _this.onUndo = function () {
      _this.updateItem({
        isRemoved: false
      });
    }, _this.updateItem = function (newState) {
      var updatedAttachments = _this.props.attachments.map(function (item) {
        if (item.id === _this.props.item.id) {
          return Object.assign({}, item, newState);
        } else {
          return item;
        }
      });
      _this.props.onAttachmentsChange(updatedAttachments);
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "li",
        { className: "editor-attachment-complete" },
        _react2.default.createElement(
          "div",
          { className: "row" },
          _react2.default.createElement(
            "div",
            { className: "col-xs-12 col-sm-8 col-md-9" },
            _react2.default.createElement(Preview, this.props),
            _react2.default.createElement(
              "div",
              { className: "editor-attachment-details" },
              _react2.default.createElement(Filename, this.props),
              _react2.default.createElement(Details, this.props)
            )
          ),
          _react2.default.createElement(
            "div",
            { className: "col-xs-12 col-sm-4 col-md-3 xs-margin-top-half" },
            _react2.default.createElement(Actions, _extends({
              onInsert: this.onInsert,
              onRemove: this.onRemove,
              onUndo: this.onUndo
            }, this.props))
          )
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function Preview(props) {
  if (props.item.is_image) {
    return _react2.default.createElement(Image, props);
  } else {
    return _react2.default.createElement(Icon, props);
  }
}

function Image(props) {
  var thumbnailUrl = props.item.url.thumb || props.item.url.index;

  return _react2.default.createElement(
    "div",
    { className: "editor-attachment-image" },
    _react2.default.createElement("a", {
      href: props.item.url.index + "?shva=1",
      style: { backgroundImage: "url('" + thumbnailUrl + "?shva=1')" },
      target: "_blank"
    })
  );
}

function Icon(props) {
  return _react2.default.createElement(
    "div",
    { className: "editor-attachment-icon" },
    _react2.default.createElement(
      "span",
      { className: "material-icon" },
      "insert_drive_file"
    )
  );
}

function Filename(props) {
  return _react2.default.createElement(
    "h4",
    null,
    _react2.default.createElement(
      "a",
      {
        className: "item-title",
        href: props.item.url.index + "?shva=1",
        target: "_blank"
      },
      props.item.filename
    )
  );
}

function Details(props) {
  var user = null;
  if (props.item.url.uploader) {
    user = interpolate(USER_URL, {
      url: (0, _escapeHtml2.default)(props.item.url.uploader),
      user: (0, _escapeHtml2.default)(props.item.uploader_name)
    }, true);
  } else {
    user = interpolate(USER_SPAN, {
      user: (0, _escapeHtml2.default)(props.item.uploader_name)
    }, true);
  }

  var date = interpolate(DATE_ABBR, {
    absolute: (0, _escapeHtml2.default)(props.item.uploaded_on.format("LLL")),
    relative: (0, _escapeHtml2.default)(props.item.uploaded_on.fromNow())
  }, true);

  var message = interpolate((0, _escapeHtml2.default)("%(filetype)s, %(size)s, ανεβάστηκε από %(uploader)s %(uploaded_on)s"), {
    filetype: props.item.filetype,
    size: (0, _fileSize2.default)(props.item.size),
    uploader: user,
    uploaded_on: date
  }, true);

  return _react2.default.createElement("p", { dangerouslySetInnerHTML: { __html: message } });
}

function Actions(props) {
  return _react2.default.createElement(
    "div",
    { className: "editor-attachment-actions" },
    _react2.default.createElement(
      "div",
      { className: "row" },
      _react2.default.createElement(Insert, props),
      _react2.default.createElement(Remove, props),
      _react2.default.createElement(Undo, props)
    )
  );
}

function Insert(props) {
  if (!!props.item.isRemoved) {
    return null;
  }

  return _react2.default.createElement(
    "div",
    { className: "col-xs-6" },
    _react2.default.createElement(
      "button",
      {
        className: "btn btn-default btn-sm btn-block",
        onClick: props.onInsert,
        type: "button"
      },
      "Εισαγωγή"
    )
  );
}

function Remove(props) {
  if (!!props.item.isRemoved && props.item.acl.can_delete) {
    return null;
  }

  return _react2.default.createElement(
    "div",
    { className: "col-xs-6" },
    _react2.default.createElement(
      "button",
      {
        className: "btn btn-default btn-sm btn-block",
        onClick: props.onRemove,
        type: "button"
      },
      "Αφαίρεση"
    )
  );
}

function Undo(props) {
  if (!props.item.isRemoved) {
    return null;
  }

  return _react2.default.createElement(
    "div",
    { className: "col-xs-12" },
    _react2.default.createElement(
      "button",
      {
        className: "btn btn-default btn-sm btn-block",
        onClick: props.onUndo,
        type: "button"
      },
      "Ακύρωση αφαίρεσης"
    )
  );
}

},{"../../../..":302,"../../../../utils/escape-html":383,"../../../../utils/file-size":384,"react":"react"}],45:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _escapeHtml = require("../../../../utils/escape-html");

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var STRONG = "<strong>%(name)s</strong>";

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      var filteredAttachments = _this.props.attachments.filter(function (item) {
        return item.key !== _this.props.item.key;
      });
      _this.props.onAttachmentsChange(filteredAttachments);
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: "render",
    value: function render() {
      var filename = interpolate(STRONG, {
        name: (0, _escapeHtml2.default)(this.props.item.filename)
      }, true);

      var title = interpolate("Λάθος στο ανέβασμα %(filename)s", {
        filename: filename,
        progress: this.props.item.progress + "%"
      }, true);

      return _react2.default.createElement(
        "li",
        { className: "editor-attachment-error" },
        _react2.default.createElement(
          "div",
          { className: "editor-attachment-error-icon" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "warning"
          )
        ),
        _react2.default.createElement(
          "div",
          { className: "editor-attachment-error-message" },
          _react2.default.createElement("h4", { dangerouslySetInnerHTML: { __html: title + ":" } }),
          _react2.default.createElement(
            "p",
            null,
            this.props.item.error
          ),
          _react2.default.createElement(
            "button",
            {
              className: "btn btn-default btn-sm",
              onClick: this.onClick,
              type: "button"
            },
            "ΟΚ"
          )
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../../utils/escape-html":383,"react":"react"}],46:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (props.item.id) {
    return _react2.default.createElement(_complete2.default, props);
  }

  if (props.item.error) {
    return _react2.default.createElement(_error2.default, props);
  }

  return _react2.default.createElement(_upload2.default, props);
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _complete = require("./complete");

var _complete2 = _interopRequireDefault(_complete);

var _error = require("./error");

var _error2 = _interopRequireDefault(_error);

var _upload = require("./upload");

var _upload2 = _interopRequireDefault(_upload);

var _ = require("../../../..");

var _2 = _interopRequireDefault(_);

var _escapeHtml = require("../../../../utils/escape-html");

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../../..":302,"../../../../utils/escape-html":383,"./complete":44,"./error":45,"./upload":47,"react":"react"}],47:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  var filename = interpolate(STRONG, {
    name: (0, _escapeHtml2.default)(props.item.filename)
  }, true);

  var message = interpolate("Ανέβασμα %(filename)s... %(progress)s", {
    filename: filename,
    progress: props.item.progress + "%"
  }, true);

  return _react2.default.createElement(
    "li",
    { className: "editor-attachment-upload" },
    _react2.default.createElement(
      "div",
      { className: "editor-attachment-progress-bar" },
      _react2.default.createElement("div", {
        className: "editor-attachment-progress",
        style: { width: props.item.progress + "%" }
      })
    ),
    _react2.default.createElement("p", {
      className: "editor-attachment-upload-message",
      dangerouslySetInnerHTML: { __html: message }
    })
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _escapeHtml = require("../../../../utils/escape-html");

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var STRONG = "<strong>%(name)s</strong>";

},{"../../../../utils/escape-html":383,"react":"react"}],48:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (!_2.default.get("user").acl.max_attachment_size) {
    return null;
  }

  return _react2.default.createElement(
    "div",
    { className: "editor-attachments" },
    _react2.default.createElement(_list2.default, props),
    _react2.default.createElement(_uploader2.default, props)
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _list = require("./list");

var _list2 = _interopRequireDefault(_list);

var _uploader = require("./uploader");

var _uploader2 = _interopRequireDefault(_uploader);

var _ = require("../../..");

var _2 = _interopRequireDefault(_);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../..":302,"./list":49,"./uploader":51,"react":"react"}],49:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.default = function (props) {
  return _react2.default.createElement(
    "ul",
    { className: "list-unstyled editor-attachments-list" },
    props.attachments.map(function (item) {
      return _react2.default.createElement(_attachment2.default, _extends({ item: item, key: item.id || item.key }, props));
    })
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _attachment = require("./attachment");

var _attachment2 = _interopRequireDefault(_attachment);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./attachment":46,"react":"react"}],50:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _ = require("../../..");

var _2 = _interopRequireDefault(_);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      document.getElementById("editor-upload-field").click();
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: "render",
    value: function render() {
      if (!_2.default.get("user").acl.max_attachment_size) {
        return null;
      }

      return _react2.default.createElement(
        "button",
        {
          className: "btn btn-icon " + this.props.className,
          disabled: this.props.disabled,
          onClick: this.onClick,
          title: "Ανέβασμα αρχείου",
          type: "button"
        },
        _react2.default.createElement(
          "span",
          { className: "material-icon" },
          "file_upload"
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../..":302,"react":"react"}],51:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.getRandomKey = getRandomKey;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _moment = require("moment");

var _moment2 = _interopRequireDefault(_moment);

var _ = require("../../..");

var _2 = _interopRequireDefault(_);

var _ajax = require("../../../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require("../../../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.onChange = function (event) {
      var file = event.target.files[0];
      if (!file) {
        return;
      }

      var upload = {
        id: null,
        key: getRandomKey(),
        progress: 0,
        error: null,
        filename: file.name
      };

      _this.props.onAttachmentsChange([upload].concat(_this.props.attachments));

      var data = new FormData();
      data.append("upload", file);

      _ajax2.default.upload(_2.default.get("ATTACHMENTS_API"), data, function (progress) {
        upload.progress = progress;
        _this.props.onAttachmentsChange(_this.props.attachments.concat());
      }).then(function (data) {
        data.uploaded_on = (0, _moment2.default)(data.uploaded_on);
        Object.assign(upload, data);
        _this.props.onAttachmentsChange(_this.props.attachments.concat());
      }, function (rejection) {
        if (rejection.status === 400 || rejection.status === 413) {
          upload.error = rejection.detail;
          _this.props.onAttachmentsChange(_this.props.attachments.concat());
        } else {
          _snackbar2.default.apiError(rejection);
        }
      });
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: "render",
    value: function render() {
      return _react2.default.createElement("input", { id: "editor-upload-field", onChange: this.onChange, type: "file" });
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function getRandomKey() {
  return "upld-" + Math.round(new Date().getTime());
}

},{"../../..":302,"../../../services/ajax":365,"../../../services/snackbar":376,"moment":"moment","react":"react"}],52:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.Protect = Protect;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _code = require("./actions/code");

var _code2 = _interopRequireDefault(_code);

var _emphasis = require("./actions/emphasis");

var _emphasis2 = _interopRequireDefault(_emphasis);

var _hr = require("./actions/hr");

var _hr2 = _interopRequireDefault(_hr);

var _image = require("./actions/image");

var _image2 = _interopRequireDefault(_image);

var _link = require("./actions/link");

var _link2 = _interopRequireDefault(_link);

var _Spoiler = require("./actions/Spoiler");

var _Spoiler2 = _interopRequireDefault(_Spoiler);

var _strikethrough = require("./actions/strikethrough");

var _strikethrough2 = _interopRequireDefault(_strikethrough);

var _strong = require("./actions/strong");

var _strong2 = _interopRequireDefault(_strong);

var _quote = require("./actions/quote");

var _quote2 = _interopRequireDefault(_quote);

var _attachments = require("./attachments");

var _attachments2 = _interopRequireDefault(_attachments);

var _uploadButton = require("./attachments/upload-button");

var _uploadButton2 = _interopRequireDefault(_uploadButton);

var _markupPreview = require("./markup-preview");

var _markupPreview2 = _interopRequireDefault(_markupPreview);

var _textutils = require("./textutils");

var textUtils = _interopRequireWildcard(_textutils);

var _button = require("../button");

var _button2 = _interopRequireDefault(_button);

var _ = require("../..");

var _2 = _interopRequireDefault(_);

var _ajax = require("../../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require("../../services/modal");

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require("../../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onPreviewClick = function () {
      if (_this.state.isPreviewLoading) {
        return;
      }

      _this.setState({
        isPreviewLoading: true
      });

      _ajax2.default.post(_2.default.get("PARSE_MARKUP_API"), { post: _this.props.value }).then(function (data) {
        _modal2.default.show(_react2.default.createElement(_markupPreview2.default, { markup: data.parsed }));

        _this.setState({
          isPreviewLoading: false
        });
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar2.default.error(rejection.detail);
        } else {
          _snackbar2.default.apiError(rejection);
        }

        _this.setState({
          isPreviewLoading: false
        });
      });
    };

    _this.replaceSelection = function (operation) {
      operation(textUtils.getSelectionText(), _this._replaceSelection);
    };

    _this._replaceSelection = function (newValue) {
      _this.props.onChange({
        target: {
          value: textUtils.replace(newValue)
        }
      });
    };

    _this.state = {
      isPreviewLoading: false
    };
    return _this;
  }

  _createClass(_class, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      $("#editor-textarea").atwho({
        at: "@",
        displayTpl: '<li><img src="${avatar}" alt="">${username}</li>',
        insertTpl: "@${username}",
        searchKey: "username",
        callbacks: {
          remoteFilter: function remoteFilter(query, callback) {
            $.getJSON(_2.default.get("MENTION_API"), { q: query }, callback);
          }
        }
      });

      $("#editor-textarea").on("inserted.atwho", function (event, flag, query) {
        _this2.props.onChange(event);
      });
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: "editor-border" },
        _react2.default.createElement("textarea", {
          className: "form-control",
          value: this.props.value,
          disabled: this.props.loading,
          id: "editor-textarea",
          onChange: this.props.onChange,
          rows: "9"
        }),
        _react2.default.createElement(
          "div",
          { className: "editor-footer" },
          _react2.default.createElement(
            "div",
            { className: "buttons-list pull-left" },
            _react2.default.createElement(_strong2.default, {
              className: "btn-default btn-sm pull-left",
              disabled: this.props.loading || this.state.isPreviewLoading,
              replaceSelection: this.replaceSelection
            }),
            _react2.default.createElement(_emphasis2.default, {
              className: "btn-default btn-sm pull-left",
              disabled: this.props.loading || this.state.isPreviewLoading,
              replaceSelection: this.replaceSelection
            }),
            _react2.default.createElement(_strikethrough2.default, {
              className: "btn-default btn-sm pull-left",
              disabled: this.props.loading || this.state.isPreviewLoading,
              replaceSelection: this.replaceSelection
            }),
            _react2.default.createElement(_hr2.default, {
              className: "btn-default btn-sm pull-left",
              disabled: this.props.loading || this.state.isPreviewLoading,
              replaceSelection: this.replaceSelection
            }),
            _react2.default.createElement(_link2.default, {
              className: "btn-default btn-sm pull-left",
              disabled: this.props.loading || this.state.isPreviewLoading,
              replaceSelection: this.replaceSelection
            }),
            _react2.default.createElement(_image2.default, {
              className: "btn-default btn-sm pull-left",
              disabled: this.props.loading || this.state.isPreviewLoading,
              replaceSelection: this.replaceSelection
            }),
            _react2.default.createElement(_quote2.default, {
              className: "btn-default btn-sm pull-left",
              disabled: this.props.loading || this.state.isPreviewLoading,
              replaceSelection: this.replaceSelection
            }),
            _react2.default.createElement(_Spoiler2.default, {
              className: "btn-default btn-sm pull-left",
              disabled: this.props.loading || this.state.isPreviewLoading,
              replaceSelection: this.replaceSelection
            }),
            _react2.default.createElement(_code2.default, {
              className: "btn-default btn-sm pull-left",
              disabled: this.props.loading || this.state.isPreviewLoading,
              replaceSelection: this.replaceSelection
            }),
            _react2.default.createElement(_uploadButton2.default, {
              className: "btn-default btn-sm pull-left",
              disabled: this.props.loading || this.state.isPreviewLoading
            })
          ),
          _react2.default.createElement(
            _button2.default,
            {
              className: "btn-default btn-sm pull-left",
              disabled: this.props.loading || this.state.isPreviewLoading,
              onClick: this.onPreviewClick,
              type: "button"
            },
            "Προεπισκόπηση"
          ),
          _react2.default.createElement(
            _button2.default,
            {
              className: "btn-primary btn-sm pull-right",
              loading: this.props.loading
            },
            this.props.submitLabel || "Δημοσίευση"
          ),
          _react2.default.createElement(
            "button",
            {
              className: "btn btn-default btn-sm pull-right",
              disabled: this.props.loading,
              onClick: this.props.onCancel,
              type: "button"
            },
            "Ακύρωση"
          ),
          _react2.default.createElement("div", { className: "clearfix visible-xs-block" }),
          _react2.default.createElement(Protect, {
            canProtect: this.props.canProtect,
            disabled: this.props.loading,
            onProtect: this.props.onProtect,
            onUnprotect: this.props.onUnprotect,
            protect: this.props.protect
          })
        ),
        _react2.default.createElement(_attachments2.default, {
          attachments: this.props.attachments,
          onAttachmentsChange: this.props.onAttachmentsChange,
          placeholder: this.props.placeholder,
          replaceSelection: this.replaceSelection
        })
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function Protect(props) {
  if (!props.canProtect) return null;

  var label = props.protect ? "Κλειδωμένη" : "Κλείδωμα";

  return _react2.default.createElement(
    "button",
    {
      className: "btn btn-icon btn-default btn-protect btn-sm pull-right",
      disabled: props.disabled,
      onClick: props.protect ? props.onUnprotect : props.onProtect,
      title: label,
      type: "button"
    },
    _react2.default.createElement(
      "span",
      { className: "material-icon" },
      props.protect ? "lock" : "lock_outline"
    ),
    _react2.default.createElement(
      "span",
      { className: "btn-text hidden-md hidden-lg" },
      label
    )
  );
}

},{"../..":302,"../../services/ajax":365,"../../services/modal":371,"../../services/snackbar":376,"../button":8,"./actions/Spoiler":34,"./actions/code":36,"./actions/emphasis":37,"./actions/hr":38,"./actions/image":39,"./actions/link":40,"./actions/quote":41,"./actions/strikethrough":42,"./actions/strong":43,"./attachments":48,"./attachments/upload-button":50,"./markup-preview":53,"./textutils":54,"react":"react"}],53:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    "div",
    { className: "modal-dialog", role: "document" },
    _react2.default.createElement(
      "div",
      { className: "modal-content" },
      _react2.default.createElement(
        "div",
        { className: "modal-header" },
        _react2.default.createElement(
          "button",
          {
            "aria-label": "Κλείσιμο",
            className: "close",
            "data-dismiss": "modal",
            type: "button"
          },
          _react2.default.createElement(
            "span",
            { "aria-hidden": "true" },
            "\xD7"
          )
        ),
        _react2.default.createElement(
          "h4",
          { className: "modal-title" },
          "Προεπισκόπηση μηνύματος"
        )
      ),
      _react2.default.createElement(
        "div",
        { className: "modal-body markup-preview" },
        _react2.default.createElement(_misagoMarkup2.default, { markup: props.markup })
      )
    )
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _misagoMarkup = require("../misago-markup");

var _misagoMarkup2 = _interopRequireDefault(_misagoMarkup);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../misago-markup":60,"react":"react"}],54:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getTextarea = getTextarea;
exports.getValue = getValue;
exports.getSelectionRange = getSelectionRange;
exports.getSelection = getSelection;
exports.getSelectionText = getSelectionText;
exports.setSelection = setSelection;
exports._replace = _replace;
exports.replace = replace;
var textareaId = exports.textareaId = "editor-textarea";

function getTextarea() {
  return document.getElementById(textareaId);
}

function getValue() {
  return document.getElementById(textareaId).value;
}

function getSelectionRange(start, end) {
  return {
    start: start,
    end: end
  };
}

function getSelection() {
  var ctrl = getTextarea();
  if (document.selection) {
    ctrl.focus();
    var range = document.selection.createRange();
    var length = range.text.length;
    range.moveStart("character", -ctrl.value.length);
    return getSelectionRange(range.text.length - length, range.text.length);
  } else if (ctrl.selectionStart || ctrl.selectionStart == "0") {
    return getSelectionRange(ctrl.selectionStart, ctrl.selectionEnd);
  }
}

function getSelectionText() {
  var range = getSelection();
  return $.trim(getValue().substring(range.start, range.end));
}

function setSelection(selectionRange) {
  var ctrl = getTextarea();
  if (ctrl.setSelectionRange) {
    ctrl.focus();
    ctrl.setSelectionRange(selectionRange.start, selectionRange.end);
  } else if (ctrl.createTextRange) {
    var range = ctrl.createTextRange();
    range.collapse(true);
    range.moveStart("character", selectionRange.start);
    range.moveEnd("character", selectionRange.end);
    range.select();
  }
}

function _replace(myRange, replacement) {
  var ctrl = getTextarea();
  var text = ctrl.value;
  var startText = text.substring(0, myRange.start);
  ctrl.value = text.substring(0, myRange.start) + replacement + text.substring(myRange.end);
  setSelection(getSelectionRange(startText.length + replacement.length, startText.length + replacement.length));
  return ctrl.value;
}

function replace(replacement) {
  return _replace(getSelection(), replacement);
}

},{}],55:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "isValidated",
    value: function isValidated() {
      return typeof this.props.validation !== "undefined";
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      var className = "form-group";
      if (this.isValidated()) {
        className += " has-feedback";
        if (this.props.validation === null) {
          className += " has-success";
        } else {
          className += " has-error";
        }
      }
      return className;
    }
  }, {
    key: "getFeedback",
    value: function getFeedback() {
      var _this2 = this;

      if (this.props.validation) {
        return _react2.default.createElement(
          "div",
          { className: "help-block errors" },
          this.props.validation.map(function (error, i) {
            return _react2.default.createElement(
              "p",
              { key: _this2.props.for + "FeedbackItem" + i },
              error
            );
          })
        );
      } else {
        return null;
      }
    }
  }, {
    key: "getFeedbackDescription",
    value: function getFeedbackDescription() {
      if (this.isValidated()) {
        return _react2.default.createElement(
          "span",
          { id: this.props.for + "_status", className: "sr-only" },
          this.props.validation ? "(λάθος)" : "(επιτυχία)"
        );
      } else {
        return null;
      }
    }
  }, {
    key: "getHelpText",
    value: function getHelpText() {
      if (this.props.helpText) {
        return _react2.default.createElement(
          "p",
          { className: "help-block" },
          this.props.helpText
        );
      } else {
        return null;
      }
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: this.getClassName() },
        _react2.default.createElement(
          "label",
          {
            className: "control-label " + (this.props.labelClass || ""),
            htmlFor: this.props.for || ""
          },
          this.props.label + ":"
        ),
        _react2.default.createElement(
          "div",
          { className: this.props.controlClass || "" },
          this.props.children,
          this.getFeedbackDescription(),
          this.getFeedback(),
          this.getHelpText(),
          this.props.extra || null
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],56:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _validators = require("../utils/validators");

var _snackbar = require("../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var validateRequired = (0, _validators.required)();

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.bindInput = function (name) {
      return function (event) {
        _this.changeValue(name, event.target.value);
      };
    }, _this.changeValue = function (name, value) {
      var newState = _defineProperty({}, name, value);

      var formErrors = _this.state.errors || {};
      formErrors[name] = _this.validateField(name, newState[name]);
      newState.errors = formErrors;

      _this.setState(newState);
    }, _this.handleSubmit = function (event) {
      // we don't reload page on submissions
      if (event) {
        event.preventDefault();
      }

      if (_this.state.isLoading) {
        return;
      }

      if (_this.clean()) {
        _this.setState({ isLoading: true });
        var promise = _this.send();

        if (promise) {
          promise.then(function (success) {
            _this.setState({ isLoading: false });
            _this.handleSuccess(success);
          }, function (rejection) {
            _this.setState({ isLoading: false });
            _this.handleError(rejection);
          });
        } else {
          _this.setState({ isLoading: false });
        }
      }
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: "validate",
    value: function validate() {
      var errors = {};
      if (!this.state.validators) {
        return errors;
      }

      var validators = {
        required: this.state.validators.required || this.state.validators,
        optional: this.state.validators.optional || {}
      };

      var validatedFields = [];

      // add required fields to validation
      for (var name in validators.required) {
        if (validators.required.hasOwnProperty(name) && validators.required[name]) {
          validatedFields.push(name);
        }
      }

      // add optional fields to validation
      for (var _name in validators.optional) {
        if (validators.optional.hasOwnProperty(_name) && validators.optional[_name]) {
          validatedFields.push(_name);
        }
      }

      // validate fields values
      for (var i in validatedFields) {
        var _name2 = validatedFields[i];
        var fieldErrors = this.validateField(_name2, this.state[_name2]);

        if (fieldErrors === null) {
          errors[_name2] = null;
        } else if (fieldErrors) {
          errors[_name2] = fieldErrors;
        }
      }

      return errors;
    }
  }, {
    key: "isValid",
    value: function isValid() {
      var errors = this.validate();
      for (var field in errors) {
        if (errors.hasOwnProperty(field)) {
          if (errors[field] !== null) {
            return false;
          }
        }
      }

      return true;
    }
  }, {
    key: "validateField",
    value: function validateField(name, value) {
      var errors = [];
      if (!this.state.validators) {
        return errors;
      }

      var validators = {
        required: (this.state.validators.required || this.state.validators)[name],
        optional: (this.state.validators.optional || {})[name]
      };

      var requiredError = validateRequired(value) || false;

      if (validators.required) {
        if (requiredError) {
          errors = [requiredError];
        } else {
          for (var i in validators.required) {
            var validationError = validators.required[i](value);
            if (validationError) {
              errors.push(validationError);
            }
          }
        }

        return errors.length ? errors : null;
      } else if (requiredError === false && validators.optional) {
        for (var _i in validators.optional) {
          var _validationError = validators.optional[_i](value);
          if (_validationError) {
            errors.push(_validationError);
          }
        }

        return errors.length ? errors : null;
      }

      return false; // false === field wasn't validated
    }
  }, {
    key: "clean",
    value: function clean() {
      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return null;
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(success) {
      return;
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      _snackbar2.default.apiError(rejection);
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../services/snackbar":376,"../utils/validators":393,"react":"react"}],57:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "isActive",
    value: function isActive() {
      if (this.props.isControlled) {
        return this.props.isActive;
      } else {
        if (this.props.path) {
          return document.location.pathname.indexOf(this.props.path) === 0;
        } else {
          return false;
        }
      }
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (this.isActive()) {
        return (this.props.className || "") + " " + (this.props.activeClassName || "active");
      } else {
        return this.props.className || "";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "li",
        { className: this.getClassName() },
        this.props.children
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],58:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    "div",
    { className: props.className || "loader" },
    _react2.default.createElement("div", { className: "loader-spinning-wheel" })
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],59:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.BestAnswerSelect = BestAnswerSelect;
exports.PollSelect = PollSelect;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _button = require("./button");

var _button2 = _interopRequireDefault(_button);

var _form = require("./form");

var _form2 = _interopRequireDefault(_form);

var _formGroup = require("./form-group");

var _formGroup2 = _interopRequireDefault(_formGroup);

var _ajax = require("../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require("../services/modal");

var _modal2 = _interopRequireDefault(_modal);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.handleSuccess = function (success) {
      _this.props.onSuccess(success);
      _modal2.default.hide();
    };

    _this.handleError = function (rejection) {
      _this.props.onError(rejection);
    };

    _this.onBestAnswerChange = function (event) {
      _this.changeValue("bestAnswer", event.target.value);
    };

    _this.onPollChange = function (event) {
      _this.changeValue("poll", event.target.value);
    };

    _this.state = {
      isLoading: false,

      bestAnswer: "0",
      poll: "0"
    };
    return _this;
  }

  _createClass(_class, [{
    key: "clean",
    value: function clean() {
      if (this.props.polls && this.state.poll === "0") {
        var confirmation = confirm("Είσαι σίγουρος ότι θες να διαγράψεις όλες τις προσφορές;");
        return confirmation;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      var data = Object.assign({}, this.props.data, {
        best_answer: this.state.bestAnswer,
        poll: this.state.poll
      });

      return _ajax2.default.post(this.props.api, data);
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: "modal-dialog", role: "document" },
        _react2.default.createElement(
          "div",
          { className: "modal-content" },
          _react2.default.createElement(
            "div",
            { className: "modal-header" },
            _react2.default.createElement(
              "button",
              {
                "aria-label": "Κλείσιμο",
                className: "close",
                "data-dismiss": "modal",
                type: "button"
              },
              _react2.default.createElement(
                "span",
                { "aria-hidden": "true" },
                "\xD7"
              )
            ),
            _react2.default.createElement(
              "h4",
              { className: "modal-title" },
              "Συγχώνευση εργασιών"
            )
          ),
          _react2.default.createElement(
            "form",
            { onSubmit: this.handleSubmit },
            _react2.default.createElement(
              "div",
              { className: "modal-body" },
              _react2.default.createElement(BestAnswerSelect, {
                choices: this.props.bestAnswers,
                onChange: this.onBestAnswerChange,
                value: this.state.bestAnswer
              }),
              _react2.default.createElement(PollSelect, {
                choices: this.props.polls,
                onChange: this.onPollChange,
                value: this.state.poll
              })
            ),
            _react2.default.createElement(
              "div",
              { className: "modal-footer" },
              _react2.default.createElement(
                "button",
                {
                  className: "btn btn-default",
                  "data-dismiss": "modal",
                  disabled: this.state.isLoading,
                  type: "button"
                },
                "Ακύρωση"
              ),
              _react2.default.createElement(
                _button2.default,
                { className: "btn-primary", loading: this.state.isLoading },
                "Συγχώνευση εργασιών"
              )
            )
          )
        )
      );
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;
function BestAnswerSelect(_ref) {
  var choices = _ref.choices,
      onChange = _ref.onChange,
      value = _ref.value;

  if (!choices) return null;

  return _react2.default.createElement(
    _formGroup2.default,
    {
      label: "Καλύτερη προσφορά",
      helpText: "Επέλεξε την καλύτερη προσφορά για την καινούρια συγχωνευμένη εργασία. Δε θα χάσεις καμία προσφορά.",
      "for": "id_best_answer"
    },
    _react2.default.createElement(
      "select",
      {
        className: "form-control",
        id: "id_best_answer",
        onChange: onChange,
        value: value
      },
      choices.map(function (choice) {
        return _react2.default.createElement(
          "option",
          { value: choice[0], key: choice[0] },
          choice[1]
        );
      })
    )
  );
}

function PollSelect(_ref2) {
  var choices = _ref2.choices,
      onChange = _ref2.onChange,
      value = _ref2.value;

  if (!choices) return null;

  return _react2.default.createElement(
    _formGroup2.default,
    {
      label: "Προσφορά",
      helpText: "Επέλεξε την καλύτερη προσφορά για την καινούρια συγχωνευμένη εργασία. Οι υπόλοιπες προσφορές θα διαγραφούν.",
      "for": "id_poll"
    },
    _react2.default.createElement(
      "select",
      {
        className: "form-control",
        id: "id_poll",
        onChange: onChange,
        value: value
      },
      choices.map(function (choice) {
        return _react2.default.createElement(
          "option",
          { value: choice[0], key: choice[0] },
          choice[1]
        );
      })
    )
  );
}

},{"../services/ajax":365,"../services/modal":371,"./button":8,"./form":56,"./form-group":55,"react":"react"}],60:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _oneBox = require("../services/one-box");

var _oneBox2 = _interopRequireDefault(_oneBox);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      _oneBox2.default.render(this.documentNode);
      $(this.documentNode).find(".spoiler-reveal").click(revealSpoiler);
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps, prevState) {
      _oneBox2.default.render(this.documentNode);
      $(this.documentNode).find(".spoiler-reveal").click(revealSpoiler);
    }
  }, {
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate(nextProps, nextState) {
      return nextProps.markup !== this.props.markup;
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      return _react2.default.createElement("article", {
        className: "misago-markup",
        dangerouslySetInnerHTML: { __html: this.props.markup },
        ref: function ref(node) {
          _this2.documentNode = node;
        }
      });
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;


function revealSpoiler(event) {
  var btn = event.target;
  $(btn).parent().parent().addClass("revealed");
}

},{"../services/one-box":372,"react":"react"}],61:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _loader = require("./loader");

var _loader2 = _interopRequireDefault(_loader);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: "modal-body modal-loader" },
        _react2.default.createElement(_loader2.default, null)
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./loader":58,"react":"react"}],62:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _panelMessage = require("./panel-message");

var _panelMessage2 = _interopRequireDefault(_panelMessage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_PanelMessage) {
  _inherits(_class, _PanelMessage);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "getHelpText",
    value: function getHelpText() {
      if (this.props.helpText) {
        return _react2.default.createElement(
          "p",
          { className: "help-block" },
          this.props.helpText
        );
      } else {
        return null;
      }
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: "modal-body" },
        _react2.default.createElement(
          "div",
          { className: "message-icon" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            this.props.icon || "info_outline"
          )
        ),
        _react2.default.createElement(
          "div",
          { className: "message-body" },
          _react2.default.createElement(
            "p",
            { className: "lead" },
            this.props.message
          ),
          this.getHelpText(),
          _react2.default.createElement(
            "button",
            {
              className: "btn btn-default",
              "data-dismiss": "modal",
              type: "button"
            },
            "ΟΚ"
          )
        )
      );
    }
  }]);

  return _class;
}(_panelMessage2.default);

exports.default = _class;

},{"./panel-message":94,"react":"react"}],63:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (data) {
  var filtered = data.filter(function (section) {
    return section.results.count > 0;
  });

  return filtered.map(function (section) {
    return Object.assign({}, section, {
      count: section.results.count,
      results: section.results.results.slice(0, MAX_RESULTS)
    });
  });
};

var MAX_RESULTS = 5;

},{}],64:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
var HEADER = exports.HEADER = "HEADER";
var RESULT = exports.RESULT = "RESULT";
var FOOTER = exports.FOOTER = "FOOTER";

},{}],65:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var children = _ref.children,
      onChange = _ref.onChange,
      query = _ref.query;

  return _react2.default.createElement(
    "ul",
    { className: "dropdown-menu dropdown-search-results", role: "menu" },
    _react2.default.createElement(
      "li",
      { className: "form-group" },
      _react2.default.createElement(_input2.default, { value: query, onChange: onChange })
    ),
    children
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _input = require("./input");

var _input2 = _interopRequireDefault(_input);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./input":69,"react":"react"}],66:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function () {
  return _react2.default.createElement(
    "li",
    { className: "dropdown-search-message" },
    "Η αναζήτηση δεν επέστρεψε κανένα αποτέλεσμα..."
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],67:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (results) {
  var flatlist = [];
  flattenProviders(results, flatlist);
  return flatlist;
};

var _constants = require("./constants");

function flattenProviders(results, flatlist) {
  var arrayLength = results.length;
  for (var i = 0; i < arrayLength; i++) {
    var provider = results[i];

    flatlist.push({
      provider: provider,
      type: _constants.HEADER
    });

    flattenProvider(provider, flatlist);
  }
}

function flattenProvider(provider, flatlist) {
  var arrayLength = provider.results.length;
  for (var i = 0; i < arrayLength; i++) {
    var result = provider.results[i];
    flatlist.push({
      provider: provider,
      result: result,
      type: _constants.RESULT
    });
  }

  flatlist.push({
    provider: provider,
    type: _constants.FOOTER
  });
}

},{"./constants":64}],68:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.default = function (_ref) {
  var isLoading = _ref.isLoading,
      onChange = _ref.onChange,
      results = _ref.results,
      query = _ref.query;

  if (!query.trim().length) {
    return _react2.default.createElement(_dropdownMenu2.default, { onChange: onChange, query: query });
  }

  if (results.length) {
    var flatResults = (0, _flattenResults2.default)(results);

    return _react2.default.createElement(
      _dropdownMenu2.default,
      { onChange: onChange, query: query },
      flatResults.map(function (props) {
        var type = props.type,
            provider = props.provider,
            result = props.result;


        if (type === _constants.RESULT) {
          return _react2.default.createElement(_result2.default, _extends({
            key: [provider.id, type, result.id].join("_")
          }, props));
        }

        return _react2.default.createElement(_result2.default, _extends({
          key: [provider.id, type].join("_"),
          query: query
        }, props));
      })
    );
  } else if (isLoading) {
    return _react2.default.createElement(
      _dropdownMenu2.default,
      { onChange: onChange, query: query },
      _react2.default.createElement(_loader2.default, null)
    );
  }

  return _react2.default.createElement(
    _dropdownMenu2.default,
    { onChange: onChange, query: query },
    _react2.default.createElement(_empty2.default, null)
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _constants = require("./constants");

var _dropdownMenu = require("./dropdown-menu");

var _dropdownMenu2 = _interopRequireDefault(_dropdownMenu);

var _empty = require("./empty");

var _empty2 = _interopRequireDefault(_empty);

var _loader = require("./loader");

var _loader2 = _interopRequireDefault(_loader);

var _result = require("./result");

var _result2 = _interopRequireDefault(_result);

var _flattenResults = require("./flatten-results");

var _flattenResults2 = _interopRequireDefault(_flattenResults);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./constants":64,"./dropdown-menu":65,"./empty":66,"./flatten-results":67,"./loader":70,"./result":73,"react":"react"}],69:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var value = _ref.value,
      onChange = _ref.onChange;

  return _react2.default.createElement("input", {
    "aria-haspopup": "true",
    "aria-expanded": "false",
    "aria-controls": "dropdown-menu dropdown-search-results",
    autoComplete: "off",
    className: "form-control",
    value: value,
    onChange: onChange,
    placeholder: "Αναζήτηση",
    role: "combobox",
    type: "text"
  });
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],70:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var message = _ref.message;

  return _react2.default.createElement(
    "li",
    { className: "dropdown-search-loader" },
    _react2.default.createElement(_loader2.default, null)
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _loader = require("../../loader");

var _loader2 = _interopRequireDefault(_loader);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../loader":58,"react":"react"}],71:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var provider = _ref.provider,
      query = _ref.query;

  var url = provider.url + "?q=" + encodeURI(query);
  var label = 'Δες ολόκληρη τη σελίδα αποτελεσμάτων του χρήστη "%(provider)s" με %(count)s αποτελέσματα';
  if (provider.count === 1) {
    label = 'Δες ολόκληρη τη σελίδα αποτελεσμάτων του χρήστη "%(provider)s" με %(count)s αποτέλεσμα';
  }

  return _react2.default.createElement(
    "li",
    { className: "dropdown-search-footer" },
    _react2.default.createElement(
      "a",
      { href: url },
      interpolate(label, {
        count: provider.count,
        provider: provider.name
      }, true)
    )
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],72:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var provider = _ref.provider;

  return _react2.default.createElement(
    "li",
    { className: "dropdown-search-header" },
    provider.name
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],73:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var provider = _ref.provider,
      result = _ref.result,
      type = _ref.type,
      query = _ref.query;

  if (type === _constants.HEADER) {
    return _react2.default.createElement(_header2.default, { provider: provider });
  } else if (type === _constants.FOOTER) {
    return _react2.default.createElement(_footer2.default, { provider: provider, query: query });
  }

  return _react2.default.createElement(_result2.default, { provider: provider, result: result });
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _constants = require("../constants");

var _footer = require("./footer");

var _footer2 = _interopRequireDefault(_footer);

var _header = require("./header");

var _header2 = _interopRequireDefault(_header);

var _result = require("./result");

var _result2 = _interopRequireDefault(_result);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../constants":64,"./footer":71,"./header":72,"./result":74,"react":"react"}],74:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var provider = _ref.provider,
      result = _ref.result;

  if (provider.id === "threads") {
    return _react2.default.createElement(_thread2.default, { result: result });
  }

  return _react2.default.createElement(_user2.default, { result: result });
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _thread = require("./thread");

var _thread2 = _interopRequireDefault(_thread);

var _user = require("./user");

var _user2 = _interopRequireDefault(_user);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./thread":75,"./user":76,"react":"react"}],75:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var result = _ref.result;
  var poster = result.poster,
      thread = result.thread;

  var footer = "Δημοσιεύθηκε από %(poster)s στις %(posted_on)s σε %(category)s";

  return _react2.default.createElement(
    "li",
    null,
    _react2.default.createElement(
      "a",
      { href: result.url.index, className: "dropdown-search-thread" },
      _react2.default.createElement(
        "h5",
        null,
        thread.title
      ),
      _react2.default.createElement(
        "small",
        { className: "dropdown-search-post-content" },
        $(result.content).text()
      ),
      _react2.default.createElement(
        "small",
        { className: "dropdown-search-post-footer" },
        interpolate(footer, {
          category: result.category.name,
          posted_on: (0, _moment2.default)(result.posted_on).format("LL"),
          poster: result.poster_name
        }, true)
      )
    )
  );
};

var _moment = require("moment");

var _moment2 = _interopRequireDefault(_moment);

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"moment":"moment","react":"react"}],76:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var result = _ref.result;
  var rank = result.rank;


  var detail = "%(title)s, έγινε μέλος %(joined_on)s";
  var title = result.title || rank.title || rank.name;

  return _react2.default.createElement(
    "li",
    null,
    _react2.default.createElement(
      "a",
      { href: result.url, className: "dropdown-search-user" },
      _react2.default.createElement(
        "div",
        { className: "media" },
        _react2.default.createElement(
          "div",
          { className: "media-left" },
          _react2.default.createElement(_avatar2.default, { size: 38, user: result })
        ),
        _react2.default.createElement(
          "div",
          { className: "media-body" },
          _react2.default.createElement(
            "h5",
            { className: "media-heading" },
            result.username
          ),
          _react2.default.createElement(
            "small",
            null,
            interpolate(detail, {
              title: title,
              joined_on: (0, _moment2.default)(result.joined_on).format("LL")
            }, true)
          )
        )
      )
    )
  );
};

var _moment = require("moment");

var _moment2 = _interopRequireDefault(_moment);

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _avatar = require("../../../avatar");

var _avatar2 = _interopRequireDefault(_avatar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../../avatar":6,"moment":"moment","react":"react"}],77:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _ajax = require("../../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require("../../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

var _ = require("../..");

var _2 = _interopRequireDefault(_);

var _cleanResults = require("./clean-results");

var _cleanResults2 = _interopRequireDefault(_cleanResults);

var _dropdown = require("./dropdown");

var _dropdown2 = _interopRequireDefault(_dropdown);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this));

    _this.onToggle = function (ev) {
      _this.setState(function (prevState, props) {
        if (!prevState.isOpen) {
          window.setTimeout(function () {
            _this.container.querySelector("input").focus();
          }, 100);
        }

        return { isOpen: !prevState.isOpen };
      });
    };

    _this.onDocumentMouseDown = function (ev) {
      var closeResults = true;
      var node = ev.target;

      while (node !== null && node !== document) {
        if (node === _this.container) {
          closeResults = false;
          return;
        }

        node = node.parentNode;
      }

      if (closeResults) {
        _this.setState({ isOpen: false });
      }
    };

    _this.onEscape = function (ev) {
      if (ev.key === "Escape") {
        _this.setState({ isOpen: false });
      }
    };

    _this.onChange = function (ev) {
      var query = ev.target.value;

      _this.setState({ query: query });
      _this.loadResults(query.trim());
    };

    _this.state = {
      isLoading: false,
      isOpen: false,
      query: "",
      results: []
    };

    _this.intervalId = null;
    return _this;
  }

  _createClass(_class, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      document.addEventListener("mousedown", this.onDocumentMouseDown);
      document.addEventListener("keydown", this.onEscape);
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      document.removeEventListener("mousedown", this.onDocumentMouseDown);
      document.removeEventListener("keydown", this.onEscape);
    }
  }, {
    key: "loadResults",
    value: function loadResults(query) {
      var _this2 = this;

      if (!query.length) return;

      var delay = 300 + Math.random() * 300;

      if (this.intervalId) {
        window.clearTimeout(this.intervalId);
      }

      this.setState({ isLoading: true });

      this.intervalId = window.setTimeout(function () {
        _ajax2.default.get(_2.default.get("SEARCH_API"), { q: query }).then(function (data) {
          _this2.setState({
            intervalId: null,
            isLoading: false,
            results: (0, _cleanResults2.default)(data)
          });
        }, function (rejection) {
          _snackbar2.default.apiError(rejection);

          _this2.setState({
            intervalId: null,
            isLoading: false,
            results: []
          });
        });
      }, delay);
    }
  }, {
    key: "render",
    value: function render() {
      var _this3 = this;

      var className = "navbar-search dropdown";
      if (this.state.isOpen) className += " open";

      return _react2.default.createElement(
        "div",
        {
          className: className,
          ref: function ref(container) {
            return _this3.container = container;
          }
        },
        _react2.default.createElement(
          "a",
          {
            "aria-haspopup": "true",
            "aria-expanded": "false",
            className: "navbar-icon",
            "data-toggle": "dropdown",
            href: _2.default.get("SEARCH_URL"),
            onClick: this.onToggle
          },
          _react2.default.createElement(
            "i",
            { className: "material-icon" },
            "search"
          )
        ),
        _react2.default.createElement(_dropdown2.default, {
          isLoading: this.state.isLoading,
          onChange: this.onChange,
          results: this.state.results,
          query: this.state.query
        })
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../..":302,"../../services/ajax":365,"../../services/snackbar":376,"./clean-results":63,"./dropdown":68,"react":"react"}],78:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function () {
  return _react2.default.createElement(
    "div",
    { className: "panel panel-default panel-form" },
    _react2.default.createElement(
      "div",
      { className: "panel-heading" },
      _react2.default.createElement(
        "h3",
        { className: "panel-title" },
        "Αλλαγή ονόματος χρήστη"
      )
    ),
    _react2.default.createElement(_panelLoader2.default, null)
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _panelLoader = require("../../panel-loader");

var _panelLoader2 = _interopRequireDefault(_panelLoader);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../panel-loader":93,"react":"react"}],79:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _panelMessage = require("../../panel-message");

var _panelMessage2 = _interopRequireDefault(_panelMessage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "getHelpText",
    value: function getHelpText() {
      if (this.props.options.next_on) {
        return interpolate("Θα μπορείς να αλλάξεις ξανά το όνομα χρήστη σου %(next_change)s", { next_change: this.props.options.next_on.fromNow() }, true);
      } else {
        return "Έχεις χρησιμοποιήσει όλες τις δυνατότητες αλλαγής ονόματος χρήστη";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: "panel panel-default panel-form" },
        _react2.default.createElement(
          "div",
          { className: "panel-heading" },
          _react2.default.createElement(
            "h3",
            { className: "panel-title" },
            "Αλλαγή ονόματος χρήστη"
          )
        ),
        _react2.default.createElement(_panelMessage2.default, {
          helpText: this.getHelpText(),
          message: "Δεν μπορείς να αλλάξεις το όνομα χρήστη σου αυτή τη στιγμή..."
        })
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../panel-message":94,"react":"react"}],80:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _button = require("../../button");

var _button2 = _interopRequireDefault(_button);

var _form = require("../../form");

var _form2 = _interopRequireDefault(_form);

var _formGroup = require("../../form-group");

var _formGroup2 = _interopRequireDefault(_formGroup);

var _ajax = require("../../../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require("../../../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

var _validators = require("../../../utils/validators");

var validators = _interopRequireWildcard(_validators);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.state = {
      username: "",

      validators: {
        username: [validators.usernameContent(), validators.usernameMinLength(props.options.length_min), validators.usernameMaxLength(props.options.length_max)]
      },

      isLoading: false
    };
    return _this;
  }

  _createClass(_class, [{
    key: "getHelpText",
    value: function getHelpText() {
      var phrases = [];

      if (this.props.options.changes_left > 0) {
        var message = "Μπορείς να αλλάξεις το όνομα χρήστη σου %(changes_left)s ακόμα φορές";
        if (this.props.options.changes_left === 1) {
          message = "Μπορείς να αλλάξεις το όνομα χρήστη σου %(changes_left)s ακόμα φορά";
        }

        phrases.push(interpolate(message, {
          changes_left: this.props.options.changes_left
        }, true));
      }

      if (this.props.user.acl.name_changes_expire > 0) {
        var _message = "Η αλλαγή θα γίνει ξανά διαθέσιμη μετά από %(name_changes_expire)s μέρες";
        if (this.props.user.acl.name_changes_expire === 1) {
          _message = "Η αλλαγή θα γίνει ξανά διαθέσιμη μετά από %(name_changes_expire)s μέρα";
        }

        phrases.push(interpolate(_message, {
          name_changes_expire: this.props.user.acl.name_changes_expire
        }, true));
      }

      return phrases.length ? phrases.join(" ") : null;
    }
  }, {
    key: "clean",
    value: function clean() {
      var errors = this.validate();
      if (errors.username) {
        _snackbar2.default.error(errors.username[0]);
        return false;
      }
      if (this.state.username.trim() === this.props.user.username) {
        _snackbar2.default.info("Το καινούριο όνομα χρήστη σου είναι το ίδιο με το παλιό σου!");
        return false;
      } else {
        return true;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax2.default.post(this.props.user.api.username, {
        username: this.state.username
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(success) {
      this.setState({
        username: ""
      });

      this.props.complete(success.username, success.slug, success.options);
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      _snackbar2.default.apiError(rejection);
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "form",
        { onSubmit: this.handleSubmit },
        _react2.default.createElement(
          "div",
          { className: "panel panel-default panel-form" },
          _react2.default.createElement(
            "div",
            { className: "panel-heading" },
            _react2.default.createElement(
              "h3",
              { className: "panel-title" },
              "Αλλαγή ονόματος χρήστη"
            )
          ),
          _react2.default.createElement(
            "div",
            { className: "panel-body" },
            _react2.default.createElement(
              _formGroup2.default,
              {
                label: "Νέο όνομα χρήστη",
                "for": "id_username",
                helpText: this.getHelpText()
              },
              _react2.default.createElement("input", {
                type: "text",
                id: "id_username",
                className: "form-control",
                disabled: this.state.isLoading,
                onChange: this.bindInput("username"),
                value: this.state.username
              })
            )
          ),
          _react2.default.createElement(
            "div",
            { className: "panel-footer" },
            _react2.default.createElement(
              _button2.default,
              { className: "btn-primary", loading: this.state.isLoading },
              "Αλλαγή"
            )
          )
        )
      );
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../../services/ajax":365,"../../../services/snackbar":376,"../../../utils/validators":393,"../../button":8,"../../form":56,"../../form-group":55,"react":"react"}],81:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _moment = require("moment");

var _moment2 = _interopRequireDefault(_moment);

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _formLoading = require("./form-loading");

var _formLoading2 = _interopRequireDefault(_formLoading);

var _formLocked = require("./form-locked");

var _formLocked2 = _interopRequireDefault(_formLocked);

var _form = require("./form");

var _form2 = _interopRequireDefault(_form);

var _root = require("../../username-history/root");

var _root2 = _interopRequireDefault(_root);

var _index = require("../../../index");

var _index2 = _interopRequireDefault(_index);

var _usernameHistory = require("../../../reducers/username-history");

var _users = require("../../../reducers/users");

var _ajax = require("../../../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _pageTitle = require("../../../services/page-title");

var _pageTitle2 = _interopRequireDefault(_pageTitle);

var _snackbar = require("../../../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require("../../../services/store");

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onComplete = function (username, slug, options) {
      _this.setState({
        options: options
      });

      _store2.default.dispatch((0, _usernameHistory.addNameChange)({ username: username, slug: slug }, _this.props.user, _this.props.user));
      _store2.default.dispatch((0, _users.updateUsername)(_this.props.user, username, slug));

      _snackbar2.default.success("Το όνομα χρήστη σου άλλαξε επιτυχώς!");
    };

    _this.state = {
      isLoaded: false,
      options: null
    };
    return _this;
  }

  _createClass(_class, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      _pageTitle2.default.set({
        title: "Αλλαγή ονόματος χρήστη",
        parent: "Αλλαγή ρυθμίσεων"
      });

      Promise.all([_ajax2.default.get(this.props.user.api.username), _ajax2.default.get(_index2.default.get("USERNAME_CHANGES_API"), { user: this.props.user.id })]).then(function (data) {
        _store2.default.dispatch((0, _usernameHistory.hydrate)(data[1].results));

        _this2.setState({
          isLoaded: true,
          options: {
            changes_left: data[0].changes_left,
            length_min: data[0].length_min,
            length_max: data[0].length_max,
            next_on: data[0].next_on ? (0, _moment2.default)(data[0].next_on) : null
          }
        });
      });
    }
  }, {
    key: "getChangeForm",
    value: function getChangeForm() {
      if (!this.state.isLoaded) {
        return _react2.default.createElement(_formLoading2.default, null);
      }

      if (this.state.options.changes_left === 0) {
        return _react2.default.createElement(_formLocked2.default, { options: this.state.options });
      }

      return _react2.default.createElement(_form2.default, {
        complete: this.onComplete,
        options: this.state.options,
        user: this.props.user
      });
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        null,
        this.getChangeForm(),
        _react2.default.createElement(_root2.default, {
          changes: this.props["username-history"],
          isLoaded: this.state.isLoaded
        })
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../index":302,"../../../reducers/username-history":363,"../../../reducers/users":364,"../../../services/ajax":365,"../../../services/page-title":373,"../../../services/snackbar":376,"../../../services/store":377,"../../username-history/root":280,"./form":80,"./form-loading":78,"./form-locked":79,"moment":"moment","react":"react"}],82:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _button = require("../button");

var _button2 = _interopRequireDefault(_button);

var _ajax = require("../../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _pageTitle = require("../../services/page-title");

var _pageTitle2 = _interopRequireDefault(_pageTitle);

var _snackbar = require("../../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

var _ = require("../..");

var _2 = _interopRequireDefault(_);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onPasswordChange = function (event) {
      _this.setState({ password: event.target.value });
    };

    _this.handleSubmit = function (event) {
      event.preventDefault();

      var _this$state = _this.state,
          isLoading = _this$state.isLoading,
          password = _this$state.password;
      var user = _this.props.user;


      if (password.length === 0) {
        _snackbar2.default.error("Βάλε τον κωδικό πρόσβασής σου για επιβεβαίωση!");
        return false;
      }

      if (isLoading) return false;
      _this.setState({ isLoading: true });

      _ajax2.default.post(user.api.delete, { password: password }).then(function (success) {
        window.location.href = _2.default.get("MISAGO_PATH");
      }, function (rejection) {
        _this.setState({ isLoading: false });
        if (rejection.password) {
          _snackbar2.default.error(rejection.password[0]);
        } else {
          _snackbar2.default.apiError(rejection);
        }
      });
    };

    _this.state = {
      isLoading: false,
      password: ""
    };
    return _this;
  }

  _createClass(_class, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      _pageTitle2.default.set({
        title: "Διαγραφή λογαριασμού",
        parent: "Αλλαγή ρυθμίσεων"
      });
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "form",
        { onSubmit: this.handleSubmit },
        _react2.default.createElement(
          "div",
          { className: "panel panel-danger panel-form" },
          _react2.default.createElement(
            "div",
            { className: "panel-heading" },
            _react2.default.createElement(
              "h3",
              { className: "panel-title" },
              "Διαγραφή λογαριασμού"
            )
          ),
          _react2.default.createElement(
            "div",
            { className: "panel-body" },
            _react2.default.createElement(
              "p",
              { className: "lead" },
              "Πρόκειται να διαγράψεις το λογαριασμό σου. Αυτή η ενέργεια είναι μη αναστρέψιμη. Τα παρακάτω δεδομένα θα διαγραφούν:"
            ),
            _react2.default.createElement(
              "p",
              null,
              "-",
              " ",
              "Αποθηκευμένες διευθύνσεις IP που σχετίζονται με δημοσιευμένο περιεχόμενο"
            ),
            _react2.default.createElement(
              "p",
              null,
              "-",
              " ",
              "Το όνομα χρήστη σου θα γίνει διαθέσιμο σε άλλους χρήστες"
            ),
            _react2.default.createElement(
              "p",
              null,
              "-",
              " ",
              "Το email σου θα γίνει διαθέσιμο σε νέες εγγραφές λογαριασμών"
            ),
            _react2.default.createElement("hr", null),
            _react2.default.createElement(
              "p",
              null,
              "Όλη η δραστηριότητά σου ΔΕ θα διαγραφεί, αλλα θα είναι ανώνυμη."
            )
          ),
          _react2.default.createElement(
            "div",
            { className: "panel-footer" },
            _react2.default.createElement(
              "div",
              { className: "input-group" },
              _react2.default.createElement("input", {
                className: "form-control",
                disabled: this.state.isLoading,
                name: "password-confirmation",
                type: "password",
                placeholder: "Βάλε των κωδικό πρόσβασής σου για επιβεβαίωση",
                value: this.state.password,
                onChange: this.onPasswordChange
              }),
              _react2.default.createElement(
                "span",
                { className: "input-group-btn" },
                _react2.default.createElement(
                  _button2.default,
                  { className: "btn-danger", loading: this.state.isLoading },
                  "Διαγραφή του λογαριασμού μου"
                )
              )
            )
          )
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../..":302,"../../services/ajax":365,"../../services/page-title":373,"../../services/snackbar":376,"../button":8,"react":"react"}],83:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _moment = require("moment");

var _moment2 = _interopRequireDefault(_moment);

var _button = require("../button");

var _button2 = _interopRequireDefault(_button);

var _ajax = require("../../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _pageTitle = require("../../services/page-title");

var _pageTitle2 = _interopRequireDefault(_pageTitle);

var _snackbar = require("../../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var DownloadData = function (_React$Component) {
  _inherits(DownloadData, _React$Component);

  function DownloadData(props) {
    _classCallCheck(this, DownloadData);

    var _this = _possibleConstructorReturn(this, (DownloadData.__proto__ || Object.getPrototypeOf(DownloadData)).call(this, props));

    _this.handleLoadDownloads = function () {
      _ajax2.default.get(_this.props.user.api.data_downloads).then(function (data) {
        _this.setState({
          isLoading: false,
          downloads: data
        });
      }, function (rejection) {
        _snackbar2.default.apiError(rejection);
      });
    };

    _this.handleRequestDataDownload = function () {
      _this.setState({ isSubmiting: true });
      _ajax2.default.post(_this.props.user.api.request_data_download).then(function () {
        _this.handleLoadDownloads();
        _snackbar2.default.success("Η αίτηση σου για κατέβασμα των δεδομένων σου εστάλη επιτυχώς!");
        _this.setState({ isSubmiting: false });
      }, function (rejection) {
        console.log(rejection);
        _snackbar2.default.apiError(rejection);
        _this.setState({ isSubmiting: false });
      });
    };

    _this.state = {
      isLoading: false,
      isSubmiting: false,
      downloads: []
    };
    return _this;
  }

  _createClass(DownloadData, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      _pageTitle2.default.set({
        title: "Κατέβασμα των δεδομένων σου",
        parent: "Αλλαγή ρυθμίσεων"
      });

      this.handleLoadDownloads();
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        null,
        _react2.default.createElement(
          "div",
          { className: "panel panel-default panel-form" },
          _react2.default.createElement(
            "div",
            { className: "panel-heading" },
            _react2.default.createElement(
              "h3",
              { className: "panel-title" },
              "Κατέβασμα των δεδομένων σου"
            )
          ),
          _react2.default.createElement(
            "div",
            { className: "panel-body" },
            _react2.default.createElement(
              "p",
              null,
              'Για να κατεβάσεις τα δεδομένα σου από αυτή τη σελίδα, κάνε κλικ στο "Αίτηση για κατέβασμα δεδομένων". Η επεξεργασία της αίτησης μπορεί να πάρει μέχρι και λίγες μέρες, ανάλογα το μέγεθος των αρχείων και τον αριθμό χρηστών που έχουν εκκρεμείς αιτήσεις. Όταν τα δεδομένα σου είναι έτοιμα για κατέβασμα, θα λάβεις ένα email ως ειδοποίηση.'
            ),
            _react2.default.createElement(
              "p",
              null,
              "Θα είναι διαθέσιμα για κατέβασμα για περιορισμένο χρόνο."
            )
          ),
          _react2.default.createElement(
            "table",
            { className: "table" },
            _react2.default.createElement(
              "thead",
              null,
              _react2.default.createElement(
                "tr",
                null,
                _react2.default.createElement(
                  "th",
                  null,
                  "Αιτήθηκε"
                ),
                _react2.default.createElement(
                  "th",
                  { className: "col-md-4" },
                  "Κατέβασμα"
                )
              )
            ),
            _react2.default.createElement(
              "tbody",
              null,
              this.state.downloads.map(function (item) {
                return _react2.default.createElement(
                  "tr",
                  { key: item.id },
                  _react2.default.createElement(
                    "td",
                    { style: rowStyle },
                    (0, _moment2.default)(item.requested_on).fromNow()
                  ),
                  _react2.default.createElement(
                    "td",
                    null,
                    _react2.default.createElement(DownloadButton, {
                      exportFile: item.file,
                      status: item.status
                    })
                  )
                );
              }),
              this.state.downloads.length === 0 ? _react2.default.createElement(
                "tr",
                null,
                _react2.default.createElement(
                  "td",
                  { colSpan: "2" },
                  "Δεν έχεις αρχεία δεδομένων προς κατέβασμα"
                )
              ) : null
            )
          ),
          _react2.default.createElement(
            "div",
            { className: "panel-footer text-right" },
            _react2.default.createElement(
              _button2.default,
              {
                className: "btn-primary",
                loading: this.state.isSubmiting,
                type: "button",
                onClick: this.handleRequestDataDownload
              },
              "Αίτηση για κατέβασμα δεδομένων"
            )
          )
        )
      );
    }
  }]);

  return DownloadData;
}(_react2.default.Component);

exports.default = DownloadData;


var rowStyle = {
  verticalAlign: "middle"
};

var STATUS_PENDING = 0;
var STATUS_PROCESSING = 1;

var DownloadButton = function DownloadButton(_ref) {
  var exportFile = _ref.exportFile,
      status = _ref.status;

  if (status === STATUS_PENDING || status === STATUS_PROCESSING) {
    return _react2.default.createElement(
      _button2.default,
      {
        className: "btn-info btn-sm btn-block",
        disabled: true,
        type: "button"
      },
      "Η αίτηση για κατέβασμα είναι υπό επεξεργασία..."
    );
  }

  if (exportFile) {
    return _react2.default.createElement(
      "a",
      { className: "btn btn-success btn-sm btn-block", href: exportFile },
      "Κατέβασμα των δεδομένων σου"
    );
  }

  return _react2.default.createElement(
    _button2.default,
    {
      className: "btn-default btn-sm btn-block",
      disabled: true,
      type: "button"
    },
    "Το αρχείο για κατέβασμα έχει λήξει..."
  );
};

},{"../../services/ajax":365,"../../services/page-title":373,"../../services/snackbar":376,"../button":8,"moment":"moment","react":"react"}],84:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _editDetails = require("../edit-details");

var _editDetails2 = _interopRequireDefault(_editDetails);

var _pageTitle = require("../../services/page-title");

var _pageTitle2 = _interopRequireDefault(_pageTitle);

var _snackbar = require("../../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.onSuccess = function () {
      _snackbar2.default.info("Οι ρυθμίσεις σου αποθηκεύτηκαν επιτυχώς!");
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      _pageTitle2.default.set({
        title: "Αλλαγή ρυθμίσεων",
        parent: "Αλλαγή ρυθμίσεων"
      });
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(_editDetails2.default, { api: this.props.user.api.edit_details, onSuccess: this.onSuccess });
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../services/page-title":373,"../../services/snackbar":376,"../edit-details":32,"react":"react"}],85:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _button = require("../button");

var _button2 = _interopRequireDefault(_button);

var _form = require("../form");

var _form2 = _interopRequireDefault(_form);

var _formGroup = require("../form-group");

var _formGroup2 = _interopRequireDefault(_formGroup);

var _select = require("../select");

var _select2 = _interopRequireDefault(_select);

var _yesNoSwitch = require("../yes-no-switch");

var _yesNoSwitch2 = _interopRequireDefault(_yesNoSwitch);

var _auth = require("../../reducers/auth");

var _ajax = require("../../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _pageTitle = require("../../services/page-title");

var _pageTitle2 = _interopRequireDefault(_pageTitle);

var _snackbar = require("../../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require("../../services/store");

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.state = {
      isLoading: false,

      is_hiding_presence: props.user.is_hiding_presence,
      limits_private_thread_invites_to: props.user.limits_private_thread_invites_to,
      subscribe_to_started_threads: props.user.subscribe_to_started_threads,
      subscribe_to_replied_threads: props.user.subscribe_to_replied_threads,

      errors: {}
    };

    _this.privateThreadInvitesChoices = [{
      value: 0,
      icon: "help_outline",
      label: "Όλοι"
    }, {
      value: 1,
      icon: "done_all",
      label: "Μόνο χρήστες που ακολουθώ"
    }, {
      value: 2,
      icon: "highlight_off",
      label: "Κανένας"
    }];

    _this.subscribeToChoices = [{
      value: 0,
      icon: "star_border",
      label: "Όχι"
    }, {
      value: 1,
      icon: "star_half",
      label: "Ειδοποιήσεις στη σελίδα"
    }, {
      value: 2,
      icon: "star",
      label: "Ειδοποιήσεις μέσω email"
    }];
    return _this;
  }

  _createClass(_class, [{
    key: "send",
    value: function send() {
      return _ajax2.default.post(this.props.user.api.options, {
        is_hiding_presence: this.state.is_hiding_presence,
        limits_private_thread_invites_to: this.state.limits_private_thread_invites_to,
        subscribe_to_started_threads: this.state.subscribe_to_started_threads,
        subscribe_to_replied_threads: this.state.subscribe_to_replied_threads
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess() {
      _store2.default.dispatch((0, _auth.patch)({
        is_hiding_presence: this.state.is_hiding_presence,
        limits_private_thread_invites_to: this.state.limits_private_thread_invites_to,
        subscribe_to_started_threads: this.state.subscribe_to_started_threads,
        subscribe_to_replied_threads: this.state.subscribe_to_replied_threads
      }));
      _snackbar2.default.success("Οι ρυθμίσεις σου άλλαξαν επιτυχώς!");
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        _snackbar2.default.error("Ανανέωσε τη σελίδα και ξαναπροσπάθησε...");
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      _pageTitle2.default.set({
        title: "Ρυθμίσεις",
        parent: "Αλλαγή ρυθμίσεων"
      });
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "form",
        { onSubmit: this.handleSubmit },
        _react2.default.createElement(
          "div",
          { className: "panel panel-default panel-form" },
          _react2.default.createElement(
            "div",
            { className: "panel-heading" },
            _react2.default.createElement(
              "h3",
              { className: "panel-title" },
              "Αλλαγή επιλογών"
            )
          ),
          _react2.default.createElement(
            "div",
            { className: "panel-body" },
            _react2.default.createElement(
              "fieldset",
              null,
              _react2.default.createElement(
                "legend",
                null,
                "Ρυθμίσεις ασφαλείας"
              ),
              _react2.default.createElement(
                _formGroup2.default,
                {
                  label: "Κρύψιμο της παρουσίας μου",
                  helpText: "Αν κρύψεις την παρουσία σου, οι άλλοι χρήστες δε θα μπορούν να δουν πότε είσαι συνδεδεμένος.",
                  "for": "id_is_hiding_presence"
                },
                _react2.default.createElement(_yesNoSwitch2.default, {
                  id: "id_is_hiding_presence",
                  disabled: this.state.isLoading,
                  iconOn: "visibility_off",
                  iconOff: "visibility",
                  labelOn: "Κρύψιμο της παρουσίας μου από άλλους χρήστες",
                  labelOff: "Εμφάνιση της παρουσίας μου σε άλλους χρήστες",
                  onChange: this.bindInput("is_hiding_presence"),
                  value: this.state.is_hiding_presence
                })
              ),
              _react2.default.createElement(
                _formGroup2.default,
                {
                  label: "Συνομιλίες για ανάθεση εργασίας",
                  "for": "id_limits_private_thread_invites_to"
                },
                _react2.default.createElement(_select2.default, {
                  id: "id_limits_private_thread_invites_to",
                  disabled: this.state.isLoading,
                  onChange: this.bindInput("limits_private_thread_invites_to"),
                  value: this.state.limits_private_thread_invites_to,
                  choices: this.privateThreadInvitesChoices
                })
              )
            ),
            _react2.default.createElement(
              "fieldset",
              null,
              _react2.default.createElement(
                "legend",
                null,
                "Αυτόματες ειδοποιήσεις"
              ),
              _react2.default.createElement(
                _formGroup2.default,
                {
                  label: "Αγγελίες που δημοσιεύω",
                  "for": "id_subscribe_to_started_threads"
                },
                _react2.default.createElement(_select2.default, {
                  id: "id_subscribe_to_started_threads",
                  disabled: this.state.isLoading,
                  onChange: this.bindInput("subscribe_to_started_threads"),
                  value: this.state.subscribe_to_started_threads,
                  choices: this.subscribeToChoices
                })
              ),
              _react2.default.createElement(
                _formGroup2.default,
                {
                  label: "Προσφορές που κάνω",
                  "for": "id_subscribe_to_replied_threads"
                },
                _react2.default.createElement(_select2.default, {
                  id: "id_subscribe_to_replied_threads",
                  disabled: this.state.isLoading,
                  onChange: this.bindInput("subscribe_to_replied_threads"),
                  value: this.state.subscribe_to_replied_threads,
                  choices: this.subscribeToChoices
                })
              )
            )
          ),
          _react2.default.createElement(
            "div",
            { className: "panel-footer" },
            _react2.default.createElement(
              _button2.default,
              { className: "btn-primary", loading: this.state.isLoading },
              "Αποθήκευση αλλαγών"
            )
          )
        )
      );
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../reducers/auth":350,"../../services/ajax":365,"../../services/page-title":373,"../../services/snackbar":376,"../../services/store":377,"../button":8,"../form":56,"../form-group":55,"../select":210,"../yes-no-switch":300,"react":"react"}],86:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.SideNav = SideNav;
exports.CompactNav = CompactNav;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require("react-router");

var _li = require("../li");

var _li2 = _interopRequireDefault(_li);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function SideNav(props) {
  return _react2.default.createElement(
    "div",
    { className: "list-group nav-side" },
    props.options.map(function (option) {
      return _react2.default.createElement(
        _reactRouter.Link,
        {
          to: props.baseUrl + option.component + "/",
          className: "list-group-item",
          activeClassName: "active",
          key: option.component
        },
        _react2.default.createElement(
          "span",
          { className: "material-icon" },
          option.icon
        ),
        option.name
      );
    })
  );
}

function CompactNav(props) {
  return _react2.default.createElement(
    "ul",
    {
      className: props.className || "dropdown-menu stick-to-bottom",
      role: "menu"
    },
    props.options.map(function (option) {
      return _react2.default.createElement(
        _li2.default,
        {
          path: props.baseUrl + option.component + "/",
          key: option.component
        },
        _react2.default.createElement(
          _reactRouter.Link,
          {
            to: props.baseUrl + option.component + "/",
            onClick: props.hideNav
          },
          _react2.default.createElement(
            "span",
            { className: "material-icon hidden-sm" },
            option.icon
          ),
          option.name
        )
      );
    })
  );
}

},{"../li":57,"react":"react","react-router":"react-router"}],87:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.select = select;
exports.paths = paths;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _reactRedux = require("react-redux");

var _navs = require("./navs");

var _deleteAccount = require("./delete-account");

var _deleteAccount2 = _interopRequireDefault(_deleteAccount);

var _editDetails = require("./edit-details");

var _editDetails2 = _interopRequireDefault(_editDetails);

var _downloadData = require("./download-data");

var _downloadData2 = _interopRequireDefault(_downloadData);

var _forumOptions = require("./forum-options");

var _forumOptions2 = _interopRequireDefault(_forumOptions);

var _root = require("./change-username/root");

var _root2 = _interopRequireDefault(_root);

var _root3 = require("./sign-in-credentials/root");

var _root4 = _interopRequireDefault(_root3);

var _withDropdown = require("../with-dropdown");

var _withDropdown2 = _interopRequireDefault(_withDropdown);

var _index = require("../../index");

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_WithDropdown) {
  _inherits(_class, _WithDropdown);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: "page page-options" },
        _react2.default.createElement(
          "div",
          { className: "page-header-bg" },
          _react2.default.createElement(
            "div",
            { className: "page-header" },
            _react2.default.createElement(
              "div",
              { className: "container" },
              _react2.default.createElement(
                "h1",
                null,
                "Αλλαγή ρυθμίσεων"
              )
            ),
            _react2.default.createElement(
              "div",
              { className: "page-tabs visible-xs-block visible-sm-block" },
              _react2.default.createElement(
                "div",
                { className: "container" },
                _react2.default.createElement(_navs.CompactNav, {
                  className: "nav nav-pills",
                  baseUrl: _index2.default.get("USERCP_URL"),
                  options: _index2.default.get("USER_OPTIONS")
                })
              )
            )
          )
        ),
        _react2.default.createElement(
          "div",
          { className: "container" },
          _react2.default.createElement(
            "div",
            { className: "row" },
            _react2.default.createElement(
              "div",
              { className: "col-md-3 hidden-xs hidden-sm" },
              _react2.default.createElement(_navs.SideNav, {
                baseUrl: _index2.default.get("USERCP_URL"),
                options: _index2.default.get("USER_OPTIONS")
              })
            ),
            _react2.default.createElement(
              "div",
              { className: "col-md-9" },
              this.props.children
            )
          )
        )
      );
    }
  }]);

  return _class;
}(_withDropdown2.default);

exports.default = _class;
function select(store) {
  return {
    tick: store.tick.tick,
    user: store.auth.user,
    "username-history": store["username-history"]
  };
}

function paths() {
  var SSO_ENABLED = _index2.default.get("SETTINGS").enable_sso;

  var paths = [{
    path: _index2.default.get("USERCP_URL") + "forum-options/",
    component: (0, _reactRedux.connect)(select)(_forumOptions2.default)
  }, {
    path: _index2.default.get("USERCP_URL") + "edit-details/",
    component: (0, _reactRedux.connect)(select)(_editDetails2.default)
  }];

  if (!SSO_ENABLED) {
    paths.push({
      path: _index2.default.get("USERCP_URL") + "change-username/",
      component: (0, _reactRedux.connect)(select)(_root2.default)
    });
    paths.push({
      path: _index2.default.get("USERCP_URL") + "sign-in-credentials/",
      component: (0, _reactRedux.connect)(select)(_root4.default)
    });
  }

  if (_index2.default.get("ENABLE_DOWNLOAD_OWN_DATA")) {
    paths.push({
      path: _index2.default.get("USERCP_URL") + "download-data/",
      component: (0, _reactRedux.connect)(select)(_downloadData2.default)
    });
  }

  if (!SSO_ENABLED && _index2.default.get("ENABLE_DELETE_OWN_ACCOUNT")) {
    paths.push({
      path: _index2.default.get("USERCP_URL") + "delete-account/",
      component: (0, _reactRedux.connect)(select)(_deleteAccount2.default)
    });
  }

  return paths;
}

},{"../../index":302,"../with-dropdown":299,"./change-username/root":81,"./delete-account":82,"./download-data":83,"./edit-details":84,"./forum-options":85,"./navs":86,"./sign-in-credentials/root":91,"react":"react","react-redux":"react-redux"}],88:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _index = require("../../../index");

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var UnusablePasswordMessage = function UnusablePasswordMessage() {
  return _react2.default.createElement(
    "div",
    { className: "panel panel-default panel-form" },
    _react2.default.createElement(
      "div",
      { className: "panel-heading" },
      _react2.default.createElement(
        "h3",
        { className: "panel-title" },
        "Αλλαγή email ή κωδικού πρόσβασης"
      )
    ),
    _react2.default.createElement(
      "div",
      { className: "panel-body panel-message-body" },
      _react2.default.createElement(
        "div",
        { className: "message-icon" },
        _react2.default.createElement(
          "span",
          { className: "material-icon" },
          "info_outline"
        )
      ),
      _react2.default.createElement(
        "div",
        { className: "message-body" },
        _react2.default.createElement(
          "p",
          { className: "lead" },
          "Πρέπει να ορίσεις έναν κωδικό πρόσβασής για το λογαριασμό σου για να μπορείς να αλλάξεις το όνομα χρήστη και το email σου"
        ),
        _react2.default.createElement(
          "p",
          { className: "help-block" },
          _react2.default.createElement(
            "a",
            {
              className: "btn btn-primary",
              href: _index2.default.get("FORGOTTEN_PASSWORD_URL")
            },
            "Ορισμός κωδικού πρόσβασης"
          )
        )
      )
    )
  );
};

exports.default = UnusablePasswordMessage;

},{"../../../index":302,"react":"react"}],89:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _button = require("../../button");

var _button2 = _interopRequireDefault(_button);

var _form = require("../../form");

var _form2 = _interopRequireDefault(_form);

var _formGroup = require("../../form-group");

var _formGroup2 = _interopRequireDefault(_formGroup);

var _ajax = require("../../../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require("../../../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

var _validators = require("../../../utils/validators");

var validators = _interopRequireWildcard(_validators);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.state = {
      new_email: "",
      password: "",

      validators: {
        new_email: [validators.email()],
        password: []
      },

      isLoading: false
    };
    return _this;
  }

  _createClass(_class, [{
    key: "clean",
    value: function clean() {
      var errors = this.validate();
      var lengths = [this.state.new_email.trim().length, this.state.password.trim().length];

      if (lengths.indexOf(0) !== -1) {
        _snackbar2.default.error("Συμπλήρωσε όλα τα πεδία!");
        return false;
      }

      if (errors.new_email) {
        _snackbar2.default.error(errors.new_email[0]);
        return false;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax2.default.post(this.props.user.api.change_email, {
        new_email: this.state.new_email,
        password: this.state.password
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(response) {
      this.setState({
        new_email: "",
        password: ""
      });

      _snackbar2.default.success(response.detail);
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        if (rejection.new_email) {
          _snackbar2.default.error(rejection.new_email);
        } else {
          _snackbar2.default.error(rejection.password);
        }
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "form",
        { onSubmit: this.handleSubmit },
        _react2.default.createElement("input", { type: "type", style: { display: "none" } }),
        _react2.default.createElement("input", { type: "password", style: { display: "none" } }),
        _react2.default.createElement(
          "div",
          { className: "panel panel-default panel-form" },
          _react2.default.createElement(
            "div",
            { className: "panel-heading" },
            _react2.default.createElement(
              "h3",
              { className: "panel-title" },
              "Αλλαγή διεύθυνσης email"
            )
          ),
          _react2.default.createElement(
            "div",
            { className: "panel-body" },
            _react2.default.createElement(
              _formGroup2.default,
              { label: "Νέο email", "for": "id_new_email" },
              _react2.default.createElement("input", {
                type: "text",
                id: "id_new_email",
                className: "form-control",
                disabled: this.state.isLoading,
                onChange: this.bindInput("new_email"),
                value: this.state.new_email
              })
            ),
            _react2.default.createElement("hr", null),
            _react2.default.createElement(
              _formGroup2.default,
              {
                label: "Ο κωδικός πρόσβασής σου",
                "for": "id_confirm_email"
              },
              _react2.default.createElement("input", {
                type: "password",
                id: "id_confirm_email",
                className: "form-control",
                disabled: this.state.isLoading,
                onChange: this.bindInput("password"),
                value: this.state.password
              })
            )
          ),
          _react2.default.createElement(
            "div",
            { className: "panel-footer" },
            _react2.default.createElement(
              _button2.default,
              { className: "btn-primary", loading: this.state.isLoading },
              "Αλλαγή email"
            )
          )
        )
      );
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../../services/ajax":365,"../../../services/snackbar":376,"../../../utils/validators":393,"../../button":8,"../../form":56,"../../form-group":55,"react":"react"}],90:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _button = require("../../button");

var _button2 = _interopRequireDefault(_button);

var _form = require("../../form");

var _form2 = _interopRequireDefault(_form);

var _formGroup = require("../../form-group");

var _formGroup2 = _interopRequireDefault(_formGroup);

var _ajax = require("../../../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require("../../../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.state = {
      new_password: "",
      repeat_password: "",
      password: "",

      validators: {
        new_password: [],
        repeat_password: [],
        password: []
      },

      isLoading: false
    };
    return _this;
  }

  _createClass(_class, [{
    key: "clean",
    value: function clean() {
      var errors = this.validate();
      var lengths = [this.state.new_password.trim().length, this.state.repeat_password.trim().length, this.state.password.trim().length];

      if (lengths.indexOf(0) !== -1) {
        _snackbar2.default.error("Συμπλήρωσε όλα τα πεδία!");
        return false;
      }

      if (errors.new_password) {
        _snackbar2.default.error(errors.new_password[0]);
        return false;
      }

      if (this.state.new_password !== this.state.repeat_password) {
        _snackbar2.default.error("Οι καινούριοι κωδικοί πρόσβασης δεν ταιριάζουν!");
        return false;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax2.default.post(this.props.user.api.change_password, {
        new_password: this.state.new_password,
        password: this.state.password
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(response) {
      this.setState({
        new_password: "",
        repeat_password: "",
        password: ""
      });

      _snackbar2.default.success(response.detail);
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        if (rejection.new_password) {
          _snackbar2.default.error(rejection.new_password);
        } else {
          _snackbar2.default.error(rejection.password);
        }
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "form",
        { onSubmit: this.handleSubmit },
        _react2.default.createElement("input", { type: "type", style: { display: "none" } }),
        _react2.default.createElement("input", { type: "password", style: { display: "none" } }),
        _react2.default.createElement(
          "div",
          { className: "panel panel-default panel-form" },
          _react2.default.createElement(
            "div",
            { className: "panel-heading" },
            _react2.default.createElement(
              "h3",
              { className: "panel-title" },
              "Αλλαγή κωδικού πρόσβασης"
            )
          ),
          _react2.default.createElement(
            "div",
            { className: "panel-body" },
            _react2.default.createElement(
              _formGroup2.default,
              { label: "Νέος κωδικός", "for": "id_new_password" },
              _react2.default.createElement("input", {
                type: "password",
                id: "id_new_password",
                className: "form-control",
                disabled: this.state.isLoading,
                onChange: this.bindInput("new_password"),
                value: this.state.new_password
              })
            ),
            _react2.default.createElement(
              _formGroup2.default,
              {
                label: "Επανάληψη κωδικού",
                "for": "id_repeat_password"
              },
              _react2.default.createElement("input", {
                type: "password",
                id: "id_repeat_password",
                className: "form-control",
                disabled: this.state.isLoading,
                onChange: this.bindInput("repeat_password"),
                value: this.state.repeat_password
              })
            ),
            _react2.default.createElement("hr", null),
            _react2.default.createElement(
              _formGroup2.default,
              {
                label: "Ο καινούριος κωδικός σου",
                "for": "id_confirm_password"
              },
              _react2.default.createElement("input", {
                type: "password",
                id: "id_confirm_password",
                className: "form-control",
                disabled: this.state.isLoading,
                onChange: this.bindInput("password"),
                value: this.state.password
              })
            )
          ),
          _react2.default.createElement(
            "div",
            { className: "panel-footer" },
            _react2.default.createElement(
              _button2.default,
              { className: "btn-primary", loading: this.state.isLoading },
              "Αλλαγή κωδικού πρόσβασης"
            )
          )
        )
      );
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../../services/ajax":365,"../../../services/snackbar":376,"../../button":8,"../../form":56,"../../form-group":55,"react":"react"}],91:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _changeEmail = require("./change-email");

var _changeEmail2 = _interopRequireDefault(_changeEmail);

var _changePassword = require("./change-password");

var _changePassword2 = _interopRequireDefault(_changePassword);

var _index = require("../../../index");

var _index2 = _interopRequireDefault(_index);

var _pageTitle = require("../../../services/page-title");

var _pageTitle2 = _interopRequireDefault(_pageTitle);

var _UnusablePasswordMessage = require("./UnusablePasswordMessage");

var _UnusablePasswordMessage2 = _interopRequireDefault(_UnusablePasswordMessage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      _pageTitle2.default.set({
        title: "Αλλαγή email ή κωδικού πρόσβασης",
        parent: "Αλλαγή ρυθμίσεων"
      });
    }
  }, {
    key: "render",
    value: function render() {
      if (!this.props.user.has_usable_password) {
        return _react2.default.createElement(_UnusablePasswordMessage2.default, null);
      }

      return _react2.default.createElement(
        "div",
        null,
        _react2.default.createElement(_changeEmail2.default, { user: this.props.user }),
        _react2.default.createElement(_changePassword2.default, { user: this.props.user }),
        _react2.default.createElement(
          "p",
          { className: "message-line" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "warning"
          ),
          _react2.default.createElement(
            "a",
            { href: _index2.default.get("FORGOTTEN_PASSWORD_URL") },
            "Ξέχασα των κωδικό πρόσβασής μου"
          )
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../index":302,"../../../services/page-title":373,"./UnusablePasswordMessage":88,"./change-email":89,"./change-password":90,"react":"react"}],92:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _stringCount = require("../utils/string-count");

var _stringCount2 = _interopRequireDefault(_stringCount);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "getClassName",
    value: function getClassName() {
      if (this.props.copy && this.props.copy.length) {
        if ((0, _stringCount2.default)(this.props.copy, "<p") === 1 && this.props.copy.indexOf("<br") === -1) {
          return "page-lead lead";
        }
      }

      return "page-lead";
    }
  }, {
    key: "render",
    value: function render() {
      if (this.props.copy && this.props.copy.length) {
        return _react2.default.createElement("div", {
          className: this.getClassName(),
          dangerouslySetInnerHTML: {
            __html: this.props.copy
          }
        });
      } else {
        return null;
      }
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../utils/string-count":392,"react":"react"}],93:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _loader = require("./loader");

var _loader2 = _interopRequireDefault(_loader);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: "panel-body panel-body-loading" },
        _react2.default.createElement(_loader2.default, { className: "loader loader-spaced" })
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./loader":58,"react":"react"}],94:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "getHelpText",
    value: function getHelpText() {
      if (this.props.helpText) {
        return _react2.default.createElement(
          "p",
          { className: "help-block" },
          this.props.helpText
        );
      } else {
        return null;
      }
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: "panel-body panel-message-body" },
        _react2.default.createElement(
          "div",
          { className: "message-icon" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            this.props.icon || "info_outline"
          )
        ),
        _react2.default.createElement(
          "div",
          { className: "message-body" },
          _react2.default.createElement(
            "p",
            { className: "lead" },
            this.props.message
          ),
          this.getHelpText()
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],95:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _addParticipant = require("../add-participant");

var _addParticipant2 = _interopRequireDefault(_addParticipant);

var _modal = require("../../services/modal");

var _modal2 = _interopRequireDefault(_modal);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      _modal2.default.show(_react2.default.createElement(_addParticipant2.default, { thread: _this.props.thread }));
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: "render",
    value: function render() {
      if (!this.props.thread.acl.can_add_participants) return null;

      return _react2.default.createElement(
        "div",
        { className: "col-xs-12 col-sm-3" },
        _react2.default.createElement(
          "button",
          {
            className: "btn btn-default btn-block",
            onClick: this.onClick,
            type: "button"
          },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "person_add"
          ),
          "Προσθήκη χρήστη"
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../services/modal":371,"../add-participant":4,"react":"react"}],96:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.leave = leave;
exports.remove = remove;
exports.changeOwner = changeOwner;

var _participants = require("../../../reducers/participants");

var participants = _interopRequireWildcard(_participants);

var _thread = require("../../../reducers/thread");

var _ = require("../../..");

var _2 = _interopRequireDefault(_);

var _ajax = require("../../../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require("../../../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require("../../../services/store");

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function leave(thread, participant) {
  _ajax2.default.patch(thread.api.index, [{ op: "remove", path: "participants", value: participant.id }]).then(function () {
    _snackbar2.default.success("Εγκατέλειψες αυτή τη συνομιλία επιτυχώς!");
    window.setTimeout(function () {
      window.location = _2.default.get("PRIVATE_THREADS_URL");
    }, 3 * 1000);
  }, function (rejection) {
    _snackbar2.default.apiError(rejection);
  });
}

function remove(thread, participant) {
  _ajax2.default.patch(thread.api.index, [{ op: "remove", path: "participants", value: participant.id }, { op: "add", path: "acl", value: 1 }]).then(function (data) {
    _store2.default.dispatch((0, _thread.updateAcl)(data));
    _store2.default.dispatch(participants.replace(data.participants));

    var message = "Ο χρήστης %(user)s αφαιρέθηκε από τη συνομιλία επιτυχώς!";
    _snackbar2.default.success(interpolate(message, {
      user: participant.username
    }, true));
  }, function (rejection) {
    _snackbar2.default.apiError(rejection);
  });
}

function changeOwner(thread, participant) {
  _ajax2.default.patch(thread.api.index, [{ op: "replace", path: "owner", value: participant.id }, { op: "add", path: "acl", value: 1 }]).then(function (data) {
    _store2.default.dispatch((0, _thread.updateAcl)(data));
    _store2.default.dispatch(participants.replace(data.participants));

    var message = "Ο χρήστης %(user)s έχει τώρα έλεγχο της συνομιλίας!";
    _snackbar2.default.success(interpolate(message, {
      user: participant.username
    }, true));
  }, function (rejection) {
    _snackbar2.default.apiError(rejection);
  });
}

},{"../../..":302,"../../../reducers/participants":351,"../../../reducers/thread":360,"../../../services/ajax":365,"../../../services/snackbar":376,"../../../services/store":377}],97:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  var participant = props.participant;

  var className = "btn btn-default";
  if (participant.is_owner) {
    className = "btn btn-primary";
  }
  className += " btn-user btn-block";

  return _react2.default.createElement(
    "div",
    { className: "col-xs-12 col-sm-3 col-md-2 participant-card" },
    _react2.default.createElement(
      "div",
      { className: "dropdown" },
      _react2.default.createElement(
        "button",
        {
          "aria-haspopup": "true",
          "aria-expanded": "false",
          className: className,
          "data-toggle": "dropdown",
          type: "button"
        },
        _react2.default.createElement(_avatar2.default, { size: "34", user: participant }),
        _react2.default.createElement(
          "span",
          { className: "btn-text" },
          participant.username
        )
      ),
      _react2.default.createElement(
        "ul",
        { className: "dropdown-menu stick-to-bottom" },
        _react2.default.createElement(UserStatus, { isOwner: participant.is_owner }),
        _react2.default.createElement("li", { className: "dropdown-header" }),
        _react2.default.createElement(
          "li",
          null,
          _react2.default.createElement(
            "a",
            { href: participant.url },
            "Προβολή προφίλ"
          )
        ),
        _react2.default.createElement("li", { role: "separator", className: "divider" }),
        _react2.default.createElement(_makeOwner2.default, props),
        _react2.default.createElement(_remove2.default, props)
      )
    )
  );
};

exports.UserStatus = UserStatus;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _makeOwner = require("./make-owner");

var _makeOwner2 = _interopRequireDefault(_makeOwner);

var _remove = require("./remove");

var _remove2 = _interopRequireDefault(_remove);

var _avatar = require("../../avatar");

var _avatar2 = _interopRequireDefault(_avatar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function UserStatus(_ref) {
  var isOwner = _ref.isOwner;

  if (!isOwner) return null;

  return _react2.default.createElement(
    "li",
    { className: "dropdown-header dropdown-header-owner" },
    _react2.default.createElement(
      "span",
      { className: "material-icon" },
      "start"
    ),
    _react2.default.createElement(
      "span",
      { className: "icon-text" },
      "Έχει έλεγχο της συνομιλίας"
    )
  );
}

},{"../../avatar":6,"./make-owner":99,"./remove":100,"react":"react"}],98:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var participants = _ref.participants,
      thread = _ref.thread,
      user = _ref.user,
      userIsOwner = _ref.userIsOwner;

  return _react2.default.createElement(
    "div",
    { className: "participants-cards" },
    _react2.default.createElement(
      "div",
      { className: "row" },
      participants.map(function (participant) {
        return _react2.default.createElement(_card2.default, {
          key: participant.id,
          participant: participant,
          thread: thread,
          user: user,
          userIsOwner: userIsOwner
        });
      })
    )
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _card = require("./card");

var _card2 = _interopRequireDefault(_card);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./card":97,"react":"react"}],99:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _actions = require("./actions");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onClick = function () {
      var confirmed = false;
      if (_this.isUser) {
        confirmed = confirm("Είσαι σίγουρος ότι θέλεις να πάρεις τον έλεγχο αυτής της συνομιλίας;");
      } else {
        var message = "Είσαι σίγουρος ότι θέλεις να δώσεις τον έλεγχο της συνομιλίας στο χρήστη %(user)s;";

        confirmed = confirm(interpolate(message, {
          user: _this.props.participant.username
        }, true));
      }

      if (!confirmed) return;

      (0, _actions.changeOwner)(_this.props.thread, _this.props.participant);
    };

    _this.isUser = props.participant.id === props.user.id;
    return _this;
  }

  _createClass(_class, [{
    key: "render",
    value: function render() {
      if (this.props.participant.is_owner) return null;
      if (!this.props.thread.acl.can_change_owner) return null;

      return _react2.default.createElement(
        "li",
        null,
        _react2.default.createElement(
          "button",
          { className: "btn btn-link", onClick: this.onClick, type: "button" },
          "Δώσε τον έλεγχο"
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./actions":96,"react":"react"}],100:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _actions = require("./actions");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onClick = function () {
      var confirmed = false;
      if (_this.isUser) {
        confirmed = confirm("Είσαι σίγουρος ότι θέλεις να εγκαταλείψεις αυτή τη συνομιλία;");
      } else {
        var message = "Είσαι σίγουρος ότι θέλεις να αφαιρέσεις το χρήστη %(user)s από αυτή τη συνομιλία;";

        confirmed = confirm(interpolate(message, {
          user: _this.props.participant.username
        }, true));
      }

      if (!confirmed) return;

      if (_this.isUser) {
        (0, _actions.leave)(_this.props.thread, _this.props.participant);
      } else {
        (0, _actions.remove)(_this.props.thread, _this.props.participant);
      }
    };

    _this.isUser = props.participant.id === props.user.id;
    return _this;
  }

  _createClass(_class, [{
    key: "render",
    value: function render() {
      var isModerator = this.props.user.acl.can_moderate_private_threads;

      if (!(this.props.userIsOwner || this.isUser || isModerator)) return null;

      return _react2.default.createElement(
        "li",
        null,
        _react2.default.createElement(
          "button",
          { className: "btn btn-link", onClick: this.onClick, type: "button" },
          this.isUser ? "Εγκατάλειψη συνομιλίας" : "Αφαίρεση χρήστη"
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./actions":96,"react":"react"}],101:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.default = function (props) {
  if (!props.participants.length) return null;

  return _react2.default.createElement(
    "div",
    { className: "panel panel-default panel-participants" },
    _react2.default.createElement(
      "div",
      { className: "panel-body" },
      _react2.default.createElement(_cardsList2.default, _extends({
        userIsOwner: getUserIsOwner(props.user, props.participants)
      }, props)),
      _react2.default.createElement(
        "div",
        { className: "row" },
        _react2.default.createElement(_addParticipant2.default, { thread: props.thread }),
        _react2.default.createElement(
          "div",
          { className: "col-xs-12 col-sm-9" },
          _react2.default.createElement(
            "p",
            null,
            utils.getParticipantsCopy(props.participants)
          )
        )
      )
    )
  );
};

exports.getUserIsOwner = getUserIsOwner;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _addParticipant = require("./add-participant");

var _addParticipant2 = _interopRequireDefault(_addParticipant);

var _cardsList = require("./cards-list");

var _cardsList2 = _interopRequireDefault(_cardsList);

var _utils = require("./utils");

var utils = _interopRequireWildcard(_utils);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function getUserIsOwner(user, participants) {
  return participants[0].id === user.id;
}

},{"./add-participant":95,"./cards-list":98,"./utils":102,"react":"react"}],102:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getParticipantsCopy = getParticipantsCopy;
function getParticipantsCopy(participants) {
  var count = participants.length;
  var message = "Αυτή η συνομιλία έχει %(users)s δύο μέλη";
  if (count === 1) {
    message = "Αυτή η συνομιλία έχει %(users)s μέλος";
  }

  return interpolate(message, {
    users: count
  }, true);
}

},{}],103:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.LABELS = exports.STYLES = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _zxcvbn = require("../services/zxcvbn");

var _zxcvbn2 = _interopRequireDefault(_zxcvbn);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var STYLES = exports.STYLES = ["progress-bar-danger", "progress-bar-warning", "progress-bar-warning", "progress-bar-primary", "progress-bar-success"];

var LABELS = exports.LABELS = ["Ο κωδικός πρόσβασης είναι πολύ αδύναμος", "Ο κωδικός πρόσβασης είναι αδύναμος", "Ο κωδικός πρόσβασης είναι μέτριος", "Ο κωδικός πρόσβασης είναι ισχυρός", "Ο κωδικός πρόσβασης είναι πολύ ισχυρός"];

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this._score = 0;
    _this._password = null;
    _this._inputs = [];

    _this.state = {
      loaded: false
    };
    return _this;
  }

  _createClass(_class, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      _zxcvbn2.default.load().then(function () {
        _this2.setState({ loaded: true });
      });
    }
  }, {
    key: "getScore",
    value: function getScore(password, inputs) {
      var _this3 = this;

      var cacheStale = false;

      if (password !== this._password) {
        cacheStale = true;
      }

      if (inputs.length !== this._inputs.length) {
        cacheStale = true;
      } else {
        inputs.map(function (value, i) {
          if (value.trim() !== _this3._inputs[i]) {
            cacheStale = true;
          }
        });
      }

      if (cacheStale) {
        this._score = _zxcvbn2.default.scorePassword(password, inputs);
        this._password = password;
        this._inputs = inputs.map(function (value) {
          return value.trim();
        });
      }

      return this._score;
    }
  }, {
    key: "render",
    value: function render() {
      if (!this.state.loaded) return null;

      var score = this.getScore(this.props.password, this.props.inputs);

      return _react2.default.createElement(
        "div",
        { className: "help-block password-strength" },
        _react2.default.createElement(
          "div",
          { className: "progress" },
          _react2.default.createElement(
            "div",
            {
              className: "progress-bar " + STYLES[score],
              style: { width: 20 + 20 * score + "%" },
              role: "progress-bar",
              "aria-valuenow": score,
              "aria-valuemin": "0",
              "aria-valuemax": "4"
            },
            _react2.default.createElement(
              "span",
              { className: "sr-only" },
              LABELS[score]
            )
          )
        ),
        _react2.default.createElement(
          "p",
          { className: "text-small" },
          LABELS[score]
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../services/zxcvbn":378,"react":"react"}],104:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.PollChoice = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.generateRandomHash = generateRandomHash;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.onAdd = function () {
      var choices = _this.props.choices.slice();
      choices.push({
        hash: generateRandomHash(),
        label: ""
      });

      _this.props.setChoices(choices);
    }, _this.onChange = function (hash, label) {
      var choices = _this.props.choices.map(function (choice) {
        if (choice.hash === hash) {
          choice.label = label;
        }

        return choice;
      });
      _this.props.setChoices(choices);
    }, _this.onDelete = function (hash) {
      var choices = _this.props.choices.filter(function (choice) {
        return choice.hash !== hash;
      });
      _this.props.setChoices(choices);
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: "render",
    value: function render() {
      var _this2 = this;

      return _react2.default.createElement(
        "div",
        { className: "poll-choices-control" },
        _react2.default.createElement(
          "ul",
          { className: "list-group" },
          this.props.choices.map(function (choice) {
            return _react2.default.createElement(PollChoice, {
              canDelete: _this2.props.choices.length > 2,
              choice: choice,
              disabled: _this2.props.disabled,
              key: choice.hash,
              onChange: _this2.onChange,
              onDelete: _this2.onDelete
            });
          })
        ),
        _react2.default.createElement(
          "button",
          {
            className: "btn btn-default btn-sm",
            disabled: this.props.disabled,
            onClick: this.onAdd,
            type: "button"
          },
          "Προσθήκη επιλογής"
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

var PollChoice = exports.PollChoice = function (_React$Component2) {
  _inherits(PollChoice, _React$Component2);

  function PollChoice() {
    var _ref2;

    var _temp2, _this3, _ret2;

    _classCallCheck(this, PollChoice);

    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    return _ret2 = (_temp2 = (_this3 = _possibleConstructorReturn(this, (_ref2 = PollChoice.__proto__ || Object.getPrototypeOf(PollChoice)).call.apply(_ref2, [this].concat(args))), _this3), _this3.onChange = function (event) {
      _this3.props.onChange(_this3.props.choice.hash, event.target.value);
    }, _this3.onDelete = function () {
      var deleteItem = confirm("Είσαι σίγουρος ότι θέλεις να διαγράψεις αυτή την επιλογή;");
      if (deleteItem) {
        _this3.props.onDelete(_this3.props.choice.hash);
      }
    }, _temp2), _possibleConstructorReturn(_this3, _ret2);
  }

  _createClass(PollChoice, [{
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "li",
        { className: "list-group-item" },
        _react2.default.createElement(
          "button",
          {
            className: "btn",
            disabled: !this.props.canDelete || this.props.disabled,
            onClick: this.onDelete,
            title: "Διαγραφή επιλογής",
            type: "button"
          },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "close"
          )
        ),
        _react2.default.createElement("input", {
          disabled: this.props.disabled,
          maxLength: "255",
          placeholder: "όνομα επιλογής",
          type: "text",
          onChange: this.onChange,
          value: this.props.choice.label
        })
      );
    }
  }]);

  return PollChoice;
}(_react2.default.Component);

function generateRandomHash() {
  var randomHash = "";
  while (randomHash.length !== 12) {
    randomHash = Math.random().toString(36).replace(/[^a-zA-Z0-9]+/g, "").substr(1, 12);
  }
  return randomHash;
}

},{"react":"react"}],105:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.PollPublicSwitch = PollPublicSwitch;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _choicesControl = require("./choices-control");

var _choicesControl2 = _interopRequireDefault(_choicesControl);

var _button = require("../../button");

var _button2 = _interopRequireDefault(_button);

var _form = require("../../form");

var _form2 = _interopRequireDefault(_form);

var _formGroup = require("../../form-group");

var _formGroup2 = _interopRequireDefault(_formGroup);

var _yesNoSwitch = require("../../yes-no-switch");

var _yesNoSwitch2 = _interopRequireDefault(_yesNoSwitch);

var _poll = require("../../../reducers/poll");

var poll = _interopRequireWildcard(_poll);

var _ajax = require("../../../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _posting = require("../../../services/posting");

var _posting2 = _interopRequireDefault(_posting);

var _snackbar = require("../../../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require("../../../services/store");

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.setChoices = function (choices) {
      var errors = Object.assign({}, errors, { choices: null });

      _this.setState({
        choices: choices,
        errors: errors
      });
    };

    _this.onCancel = function () {
      var cancel = confirm("Είσαι σίγουρος ότι δε θες να δημοσιεύσεις αυτή την ψηφοφορία;");
      if (cancel) {
        _posting2.default.close();
      }
    };

    var poll = props.poll || {
      question: "",
      choices: [{
        hash: "choice-10000",
        label: ""
      }, {
        hash: "choice-20000",
        label: ""
      }],
      length: 0,
      allowed_choices: 1,
      allow_revotes: 0,
      is_public: 0
    };

    _this.state = {
      isLoading: false,
      isEdit: !!poll.question,

      question: poll.question,
      choices: poll.choices,
      length: poll.length,
      allowed_choices: poll.allowed_choices,
      allow_revotes: poll.allow_revotes,
      is_public: poll.is_public,

      validators: {
        question: [],
        choices: [],
        length: [],
        allowed_choices: []
      },

      errors: {}
    };
    return _this;
  }

  _createClass(_class, [{
    key: "send",
    value: function send() {
      var data = {
        question: this.state.question,
        choices: this.state.choices,
        length: this.state.length,
        allowed_choices: this.state.allowed_choices,
        allow_revotes: this.state.allow_revotes,
        is_public: this.state.is_public
      };

      if (this.state.isEdit) {
        return _ajax2.default.put(this.props.poll.api.index, data);
      } else {
        return _ajax2.default.post(this.props.thread.api.poll, data);
      }
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(data) {
      _store2.default.dispatch(poll.replace(data));

      if (this.state.isEdit) {
        _snackbar2.default.success("Η ψηφοφορία τροποποιήθηκε επιτυχώς!");
      } else {
        _snackbar2.default.success("Η ψηφοφορία δημοσιεύθηκε επιτυχώς!");
      }

      _posting2.default.close();
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        if (rejection.non_field_errors) {
          rejection.allowed_choices = rejection.non_field_errors;
        }

        this.setState({
          errors: Object.assign({}, rejection)
        });

        _snackbar2.default.error("Η φόρμα περιέχει λάθη!");
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: "poll-form" },
        _react2.default.createElement(
          "div",
          { className: "container" },
          _react2.default.createElement(
            "form",
            { onSubmit: this.handleSubmit },
            _react2.default.createElement(
              "div",
              { className: "panel panel-default panel-form" },
              _react2.default.createElement(
                "div",
                { className: "panel-body" },
                _react2.default.createElement(
                  "fieldset",
                  null,
                  _react2.default.createElement(
                    "legend",
                    null,
                    "Ερώτηση και επιλογές"
                  ),
                  _react2.default.createElement(
                    _formGroup2.default,
                    {
                      label: "Ερώτηση ψηφοφορίας",
                      "for": "id_questions",
                      validation: this.state.errors.question
                    },
                    _react2.default.createElement("input", {
                      className: "form-control",
                      disabled: this.state.isLoading,
                      id: "id_questions",
                      onChange: this.bindInput("question"),
                      type: "text",
                      maxLength: "255",
                      value: this.state.question
                    })
                  ),
                  _react2.default.createElement(
                    _formGroup2.default,
                    {
                      label: "Διαθέσιμες επιλογές",
                      validation: this.state.errors.choices
                    },
                    _react2.default.createElement(_choicesControl2.default, {
                      choices: this.state.choices,
                      disabled: this.state.isLoading,
                      setChoices: this.setChoices
                    })
                  )
                ),
                _react2.default.createElement(
                  "fieldset",
                  null,
                  _react2.default.createElement(
                    "legend",
                    null,
                    "Διαδικασία"
                  ),
                  _react2.default.createElement(
                    "div",
                    { className: "row" },
                    _react2.default.createElement(
                      "div",
                      { className: "col-xs-12 col-sm-6" },
                      _react2.default.createElement(
                        _formGroup2.default,
                        {
                          label: "Διάρκεια",
                          helpText: "Βάλε τον αριθμό των ημερών που θες να τρέξει η ψηφοφορία. Αν βάλεις μηδέν, θα είναι ανοιχτή επ' αόριστον.",
                          "for": "id_length",
                          validation: this.state.errors.length
                        },
                        _react2.default.createElement("input", {
                          className: "form-control",
                          disabled: this.state.isLoading,
                          id: "id_length",
                          onChange: this.bindInput("length"),
                          type: "text",
                          value: this.state.length
                        })
                      )
                    ),
                    _react2.default.createElement(
                      "div",
                      { className: "col-xs-12 col-sm-6" },
                      _react2.default.createElement(
                        _formGroup2.default,
                        {
                          label: "Διαθέσιμες επιλογές",
                          "for": "id_allowed_choices",
                          validation: this.state.errors.allowed_choices
                        },
                        _react2.default.createElement("input", {
                          className: "form-control",
                          disabled: this.state.isLoading,
                          id: "id_allowed_choices",
                          onChange: this.bindInput("allowed_choices"),
                          type: "text",
                          maxLength: "255",
                          value: this.state.allowed_choices
                        })
                      )
                    )
                  ),
                  _react2.default.createElement(
                    "div",
                    { className: "row" },
                    _react2.default.createElement(PollPublicSwitch, {
                      bindInput: this.bindInput,
                      disabled: this.state.isLoading,
                      isEdit: this.state.isEdit,
                      value: this.state.is_public
                    }),
                    _react2.default.createElement(
                      "div",
                      { className: "col-xs-12 col-sm-6" },
                      _react2.default.createElement(
                        _formGroup2.default,
                        {
                          label: "Να επιτρέπονται αλλαγές",
                          "for": "id_allow_revotes"
                        },
                        _react2.default.createElement(_yesNoSwitch2.default, {
                          id: "id_allow_revotes",
                          disabled: this.state.isLoading,
                          iconOn: "check",
                          iconOff: "close",
                          labelOn: "Οι χρήστες να μπορούν να αλλάξουν την ψήφο τους",
                          labelOff: "Οι χρήστες να μην μπορούν να αλλάξουν την ψήφο τους",
                          onChange: this.bindInput("allow_revotes"),
                          value: this.state.allow_revotes
                        })
                      )
                    )
                  )
                )
              ),
              _react2.default.createElement(
                "div",
                { className: "panel-footer text-right" },
                _react2.default.createElement(
                  "button",
                  {
                    className: "btn btn-default",
                    disabled: this.state.isLoading,
                    onClick: this.onCancel,
                    type: "button"
                  },
                  "Ακύρωση"
                ),
                " ",
                _react2.default.createElement(
                  _button2.default,
                  { className: "btn-primary", loading: this.state.isLoading },
                  this.state.isEdit ? "Αποθήκευση αλλαγών" : "Δημοσίευση ψηφοφορίας"
                )
              )
            )
          )
        )
      );
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;
function PollPublicSwitch(props) {
  if (props.isEdit) return null;

  return _react2.default.createElement(
    "div",
    { className: "col-xs-12 col-sm-6" },
    _react2.default.createElement(
      _formGroup2.default,
      {
        label: "Ανοιχτή ψηφοφορία",
        helpText: "Όλοι οι χρήστες θα μπορούν να δουν τις ψήφους αναλυτικά, για παράδειγμα ποιοι ψήφισαν για ποιες επιλογές και πότε ακριβώς. Αυτή η επιλογή δεν μπορεί να αλλάξει εκ των υστέρων. Οι διαχειριστές της σελίδας έχουν πρόσβαση σε όλες τις ψηφοφορίες.",
        "for": "id_is_public"
      },
      _react2.default.createElement(_yesNoSwitch2.default, {
        id: "id_is_public",
        disabled: props.disabled,
        iconOn: "visibility",
        iconOff: "visibility_off",
        labelOn: "Η ψηφοφορία είναι ανοιχτή",
        labelOff: "Η ψηφοφορία είναι κλειστή",
        onChange: props.bindInput("is_public"),
        value: props.value
      })
    )
  );
}

},{"../../../reducers/poll":352,"../../../services/ajax":365,"../../../services/posting":375,"../../../services/snackbar":376,"../../../services/store":377,"../../button":8,"../../form":56,"../../form-group":55,"../../yes-no-switch":300,"./choices-control":104,"react":"react"}],106:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.PollForm = exports.Poll = undefined;

var _poll = require("./poll");

var _poll2 = _interopRequireDefault(_poll);

var _form = require("./form");

var _form2 = _interopRequireDefault(_form);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.Poll = _poll2.default;
exports.PollForm = _form2.default;

},{"./form":105,"./poll":108}],107:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    "ul",
    { className: "list-unstyled list-inline poll-details" },
    _react2.default.createElement(PollVotes, { votes: props.poll.votes }),
    _react2.default.createElement(PollLength, { poll: props.poll }),
    _react2.default.createElement(PollIsPublic, { poll: props.poll }),
    _react2.default.createElement(PollCreation, { poll: props.poll })
  );
};

exports.PollCreation = PollCreation;
exports.getPoster = getPoster;
exports.getPostedOn = getPostedOn;
exports.PollLength = PollLength;
exports.getEndsOn = getEndsOn;
exports.PollVotes = PollVotes;
exports.PollIsPublic = PollIsPublic;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _escapeHtml = require("../../utils/escape-html");

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var DATE_ABBR = '<abbr title="%(absolute)s">%(relative)s</abbr>';
var USER_SPAN = '<span class="item-title">%(user)s</span>';
var USER_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';

function PollCreation(props) {
  var message = interpolate((0, _escapeHtml2.default)("Δημοσιεύθηκε από %(poster)s %(posted_on)s"), {
    poster: getPoster(props.poll),
    posted_on: getPostedOn(props.poll)
  }, true);

  return _react2.default.createElement("li", {
    className: "poll-info-creation",
    dangerouslySetInnerHTML: { __html: message }
  });
}

function getPoster(poll) {
  if (poll.url.poster) {
    return interpolate(USER_URL, {
      url: (0, _escapeHtml2.default)(poll.url.poster),
      user: (0, _escapeHtml2.default)(poll.poster_name)
    }, true);
  }

  return interpolate(USER_SPAN, {
    user: (0, _escapeHtml2.default)(poll.poster_name)
  }, true);
}

function getPostedOn(poll) {
  return interpolate(DATE_ABBR, {
    absolute: (0, _escapeHtml2.default)(poll.posted_on.format("LLL")),
    relative: (0, _escapeHtml2.default)(poll.posted_on.fromNow())
  }, true);
}

function PollLength(props) {
  if (!props.poll.length) {
    return null;
  }

  var message = interpolate((0, _escapeHtml2.default)("Η ψηφοφορία τελειώνει %(ends_on)s"), {
    ends_on: getEndsOn(props.poll)
  }, true);

  return _react2.default.createElement("li", {
    className: "poll-info-ends-on",
    dangerouslySetInnerHTML: { __html: message }
  });
}

function getEndsOn(poll) {
  return interpolate(DATE_ABBR, {
    absolute: (0, _escapeHtml2.default)(poll.endsOn.format("LLL")),
    relative: (0, _escapeHtml2.default)(poll.endsOn.fromNow())
  }, true);
}

function PollVotes(props) {
  var message = "%(votes)s ψήφοι";
  if (props.votes === 1) {
    message = "%(votes)s ψήφος";
  }
  var label = interpolate(message, {
    votes: props.votes
  }, true);

  return _react2.default.createElement(
    "li",
    { className: "poll-info-votes" },
    label
  );
}

function PollIsPublic(props) {
  if (!props.poll.is_public) {
    return null;
  }

  return _react2.default.createElement(
    "li",
    { className: "poll-info-public" },
    "Η ψηφοφορία είναι ανοιχτή σε όλους"
  );
}

},{"../../utils/escape-html":383,"react":"react"}],108:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.getIsPollOver = getIsPollOver;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _moment = require("moment");

var _moment2 = _interopRequireDefault(_moment);

var _results = require("./results");

var _results2 = _interopRequireDefault(_results);

var _voting = require("./voting");

var _voting2 = _interopRequireDefault(_voting);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.showResults = function () {
      _this.setState({
        showResults: true
      });
    };

    _this.showVoting = function () {
      _this.setState({
        showResults: false
      });
    };

    var showResults = true;
    if (props.user.id && !props.poll.hasSelectedChoices) {
      showResults = false;
    }

    _this.state = {
      showResults: showResults
    };
    return _this;
  }

  _createClass(_class, [{
    key: "render",
    value: function render() {
      if (!this.props.thread.poll) return null;

      var isPollOver = getIsPollOver(this.props.poll);

      if (!isPollOver && this.props.poll.acl.can_vote && !this.state.showResults) {
        return _react2.default.createElement(_voting2.default, _extends({ showResults: this.showResults }, this.props));
      } else {
        return _react2.default.createElement(_results2.default, _extends({
          isPollOver: isPollOver,
          showVoting: this.showVoting
        }, this.props));
      }
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function getIsPollOver(poll) {
  if (poll.length) {
    return (0, _moment2.default)().isAfter(poll.endsOn);
  }
  return false;
}

},{"./results":110,"./voting":114,"moment":"moment","react":"react"}],109:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    "div",
    { className: "poll-choices-bars" },
    props.poll.choices.map(function (choice) {
      return _react2.default.createElement(PollChoice, { choice: choice, key: choice.hash, poll: props.poll });
    })
  );
};

exports.PollChoice = PollChoice;
exports.ChoiceVotes = ChoiceVotes;
exports.getVotesLabel = getVotesLabel;
exports.UserChoice = UserChoice;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function PollChoice(props) {
  var proc = 0;
  if (props.choice.votes && props.poll.votes) {
    proc = Math.ceil(props.choice.votes * 100 / props.poll.votes);
  }

  return _react2.default.createElement(
    "dl",
    { className: "dl-horizontal" },
    _react2.default.createElement(
      "dt",
      null,
      props.choice.label
    ),
    _react2.default.createElement(
      "dd",
      null,
      _react2.default.createElement(
        "div",
        { className: "progress" },
        _react2.default.createElement(
          "div",
          {
            className: "progress-bar",
            role: "progressbar",
            "aria-valuenow": proc,
            "aria-valuemin": "0",
            "aria-valuemax": "100",
            style: { width: proc + "%" }
          },
          _react2.default.createElement(
            "span",
            { className: "sr-only" },
            getVotesLabel(props.votes, props.proc)
          )
        )
      ),
      _react2.default.createElement(
        "ul",
        { className: "list-unstyled list-inline poll-chart" },
        _react2.default.createElement(ChoiceVotes, { proc: proc, votes: props.choice.votes }),
        _react2.default.createElement(UserChoice, { selected: props.choice.selected })
      )
    )
  );
}

function ChoiceVotes(props) {
  return _react2.default.createElement(
    "li",
    { className: "poll-chart-votes" },
    getVotesLabel(props.votes, props.proc)
  );
}

function getVotesLabel(votes, proc) {
  var message = "%(votes)s ψήφοι, %(proc)s% του συνόλου";
  if (votes === 1) {
    message = "%(votes)s ψήφος, %(proc)s% του συνόλου";
  }

  return interpolate(message, {
    votes: votes,
    proc: proc
  }, true);
}

function UserChoice(props) {
  if (!props.selected) return null;

  return _react2.default.createElement(
    "li",
    { className: "poll-chart-selected" },
    _react2.default.createElement(
      "span",
      { className: "material-icon" },
      "check_box"
    ),
    "Η επιλογή σου"
  );
}

},{"react":"react"}],110:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    "div",
    { className: "panel panel-default panel-poll" },
    _react2.default.createElement(
      "div",
      { className: "panel-body" },
      _react2.default.createElement(
        "h2",
        null,
        props.poll.question
      ),
      _react2.default.createElement(_info2.default, { poll: props.poll }),
      _react2.default.createElement(_chart2.default, { poll: props.poll }),
      _react2.default.createElement(_options2.default, {
        isPollOver: props.isPollOver,
        poll: props.poll,
        showVoting: props.showVoting,
        thread: props.thread
      })
    )
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _chart = require("./chart");

var _chart2 = _interopRequireDefault(_chart);

var _options = require("./options");

var _options2 = _interopRequireDefault(_options);

var _info = require("../info");

var _info2 = _interopRequireDefault(_info);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../info":107,"./chart":109,"./options":112,"react":"react"}],111:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.ModalBody = ModalBody;
exports.ChoicesList = ChoicesList;
exports.ChoiceDetails = ChoiceDetails;
exports.VotesCount = VotesCount;
exports.VotesList = VotesList;
exports.Voter = Voter;
exports.VoteDate = VoteDate;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _moment = require("moment");

var _moment2 = _interopRequireDefault(_moment);

var _modalMessage = require("../../modal-message");

var _modalMessage2 = _interopRequireDefault(_modalMessage);

var _modalLoader = require("../../modal-loader");

var _modalLoader2 = _interopRequireDefault(_modalLoader);

var _ajax = require("../../../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.state = {
      isLoading: true,
      error: null,
      data: []
    };
    return _this;
  }

  _createClass(_class, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      _ajax2.default.get(this.props.poll.api.votes).then(function (data) {
        var hydratedData = data.map(function (choice) {
          return Object.assign({}, choice, {
            voters: choice.voters.map(function (voter) {
              return Object.assign({}, voter, {
                voted_on: (0, _moment2.default)(voter.voted_on)
              });
            })
          });
        });

        _this2.setState({
          isLoading: false,
          data: hydratedData
        });
      }, function (rejection) {
        _this2.setState({
          isLoading: false,
          error: rejection.detail
        });
      });
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        {
          className: "modal-dialog" + (this.state.error ? " modal-message" : " modal-sm"),
          role: "document"
        },
        _react2.default.createElement(
          "div",
          { className: "modal-content" },
          _react2.default.createElement(
            "div",
            { className: "modal-header" },
            _react2.default.createElement(
              "button",
              {
                type: "button",
                className: "close",
                "data-dismiss": "modal",
                "aria-label": "Κλείσιμο"
              },
              _react2.default.createElement(
                "span",
                { "aria-hidden": "true" },
                "\xD7"
              )
            ),
            _react2.default.createElement(
              "h4",
              { className: "modal-title" },
              "Ψήφοι"
            )
          ),
          _react2.default.createElement(ModalBody, {
            data: this.state.data,
            error: this.state.error,
            isLoading: this.state.isLoading
          })
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function ModalBody(props) {
  if (props.isLoading) {
    return _react2.default.createElement(_modalLoader2.default, null);
  } else if (props.error) {
    return _react2.default.createElement(_modalMessage2.default, { icon: "error_outline", message: props.error });
  }

  return _react2.default.createElement(ChoicesList, { data: props.data });
}

function ChoicesList(props) {
  return _react2.default.createElement(
    "div",
    { className: "modal-body modal-poll-votes" },
    _react2.default.createElement(
      "ul",
      { className: "list-unstyled votes-details" },
      props.data.map(function (choice) {
        return _react2.default.createElement(ChoiceDetails, _extends({ key: choice.hash }, choice));
      })
    )
  );
}

function ChoiceDetails(props) {
  return _react2.default.createElement(
    "li",
    null,
    _react2.default.createElement(
      "h4",
      null,
      props.label
    ),
    _react2.default.createElement(VotesCount, { votes: props.votes }),
    _react2.default.createElement(VotesList, { voters: props.voters }),
    _react2.default.createElement("hr", null)
  );
}

function VotesCount(props) {
  var message = "%(votes)s χρήστες ψήφισαν αυτή την επιλογή";
  if (props.votes === 1) {
    message = "%(votes)s χρήστης ψήφισε αυτή την επιλογή";
  }

  var label = interpolate(message, {
    votes: props.votes
  }, true);

  return _react2.default.createElement(
    "p",
    null,
    label
  );
}

function VotesList(props) {
  if (!props.voters.length) return null;

  return _react2.default.createElement(
    "ul",
    { className: "list-unstyled" },
    props.voters.map(function (user) {
      return _react2.default.createElement(Voter, _extends({ key: user.username }, user));
    })
  );
}

function Voter(props) {
  if (props.url) {
    return _react2.default.createElement(
      "li",
      null,
      _react2.default.createElement(
        "a",
        { className: "item-title", href: props.url },
        props.username
      ),
      " ",
      _react2.default.createElement(VoteDate, { voted_on: props.voted_on })
    );
  }

  return _react2.default.createElement(
    "li",
    null,
    _react2.default.createElement(
      "strong",
      null,
      props.username
    ),
    " ",
    _react2.default.createElement(VoteDate, { voted_on: props.voted_on })
  );
}

function VoteDate(props) {
  return _react2.default.createElement(
    "abbr",
    { className: "text-muted", title: props.voted_on.format("LLL") },
    props.voted_on.fromNow()
  );
}

},{"../../../services/ajax":365,"../../modal-loader":61,"../../modal-message":62,"moment":"moment","react":"react"}],112:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Delete = exports.Edit = exports.SeeVotes = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = function (props) {
  var isPollOver = props.isPollOver,
      poll = props.poll,
      showVoting = props.showVoting,
      thread = props.thread;


  if (!isVisible(isPollOver, poll.acl, poll)) return null;

  var controls = [];

  var canVote = poll.acl.can_vote;
  var canChangeVote = !poll.hasSelectedChoices || poll.allow_revotes;

  if (canVote && canChangeVote) controls.push(0);
  if (poll.is_public || poll.acl.can_see_votes) controls.push(1);
  if (poll.acl.can_edit) controls.push(2);
  if (poll.acl.can_delete) controls.push(3);

  return _react2.default.createElement(
    "div",
    { className: "row poll-options" },
    _react2.default.createElement(ChangeVote, {
      controls: controls,
      isPollOver: isPollOver,
      poll: poll,
      showVoting: showVoting
    }),
    _react2.default.createElement(SeeVotes, { controls: controls, poll: poll }),
    _react2.default.createElement(Edit, { controls: controls, poll: poll, thread: thread }),
    _react2.default.createElement(Delete, { controls: controls, poll: poll })
  );
};

exports.isVisible = isVisible;
exports.getClassName = getClassName;
exports.ChangeVote = ChangeVote;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _modal = require("./modal");

var _modal2 = _interopRequireDefault(_modal);

var _poll = require("../../../reducers/poll");

var poll = _interopRequireWildcard(_poll);

var _thread = require("../../../reducers/thread");

var thread = _interopRequireWildcard(_thread);

var _ajax = require("../../../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _modal3 = require("../../../services/modal");

var _modal4 = _interopRequireDefault(_modal3);

var _posting = require("../../../services/posting");

var _posting2 = _interopRequireDefault(_posting);

var _snackbar = require("../../../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require("../../../services/store");

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

function isVisible(isPollOver, acl, poll) {
  return poll.is_public || acl.can_delete || acl.can_edit || acl.can_see_votes || acl.can_vote && !isPollOver && (!poll.hasSelectedChoices || poll.allow_revotes);
}

function getClassName(controls, control) {
  var className = "col-xs-6";

  if (controls.length === 1) {
    className = "col-xs-12";
  }

  if (controls.length === 3 && controls[0] === control) {
    className = "col-xs-12";
  }

  return className + " col-sm-3 col-md-2";
}

function ChangeVote(props) {
  var canVote = props.poll.acl.can_vote;
  var canChangeVote = !props.poll.hasSelectedChoices || props.poll.allow_revotes;

  if (!(canVote && canChangeVote)) return null;

  return _react2.default.createElement(
    "div",
    { className: getClassName(props.controls, 0) },
    _react2.default.createElement(
      "button",
      {
        className: "btn btn-default btn-block btn-sm",
        disabled: props.poll.isBusy,
        onClick: props.showVoting,
        type: "button"
      },
      "Αλλαγή ψήφου"
    )
  );
}

var SeeVotes = exports.SeeVotes = function (_React$Component) {
  _inherits(SeeVotes, _React$Component);

  function SeeVotes() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, SeeVotes);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = SeeVotes.__proto__ || Object.getPrototypeOf(SeeVotes)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      _modal4.default.show(_react2.default.createElement(_modal2.default, { poll: _this.props.poll }));
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(SeeVotes, [{
    key: "render",
    value: function render() {
      var seeVotes = this.props.poll.is_public || this.props.poll.acl.can_see_votes;
      if (!seeVotes) return null;

      return _react2.default.createElement(
        "div",
        { className: getClassName(this.props.controls, 1) },
        _react2.default.createElement(
          "button",
          {
            className: "btn btn-default btn-block btn-sm",
            disabled: this.props.poll.isBusy,
            onClick: this.onClick,
            type: "button"
          },
          "Προβολή ψήφων"
        )
      );
    }
  }]);

  return SeeVotes;
}(_react2.default.Component);

var Edit = exports.Edit = function (_React$Component2) {
  _inherits(Edit, _React$Component2);

  function Edit() {
    var _ref2;

    var _temp2, _this2, _ret2;

    _classCallCheck(this, Edit);

    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    return _ret2 = (_temp2 = (_this2 = _possibleConstructorReturn(this, (_ref2 = Edit.__proto__ || Object.getPrototypeOf(Edit)).call.apply(_ref2, [this].concat(args))), _this2), _this2.onClick = function () {
      _posting2.default.open({
        submit: _this2.props.poll.api.index,

        thread: _this2.props.thread,
        poll: _this2.props.poll,

        mode: "POLL"
      });
    }, _temp2), _possibleConstructorReturn(_this2, _ret2);
  }

  _createClass(Edit, [{
    key: "render",
    value: function render() {
      if (!this.props.poll.acl.can_edit) return null;

      return _react2.default.createElement(
        "div",
        { className: getClassName(this.props.controls, 2) },
        _react2.default.createElement(
          "button",
          {
            className: "btn btn-default btn-block btn-sm",
            disabled: this.props.poll.isBusy,
            onClick: this.onClick,
            type: "button"
          },
          "Επεξεργασία"
        )
      );
    }
  }]);

  return Edit;
}(_react2.default.Component);

var Delete = exports.Delete = function (_React$Component3) {
  _inherits(Delete, _React$Component3);

  function Delete() {
    var _ref3;

    var _temp3, _this3, _ret3;

    _classCallCheck(this, Delete);

    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    return _ret3 = (_temp3 = (_this3 = _possibleConstructorReturn(this, (_ref3 = Delete.__proto__ || Object.getPrototypeOf(Delete)).call.apply(_ref3, [this].concat(args))), _this3), _this3.onClick = function () {
      var deletePoll = confirm("Είσαι σίγουρος ότι θέλεις να διαγράψεις αυτή την ψηφοφορία;");
      if (!deletePoll) return false;

      _store2.default.dispatch(poll.busy());

      _ajax2.default.delete(_this3.props.poll.api.index).then(_this3.handleSuccess, _this3.handleError);
    }, _this3.handleSuccess = function (newThreadAcl) {
      _snackbar2.default.success("Η ψηφοφορία διαγράφηκε επιτυχώς!");
      _store2.default.dispatch(poll.remove());
      _store2.default.dispatch(thread.updateAcl(newThreadAcl));
    }, _this3.handleError = function (rejection) {
      _snackbar2.default.apiError(rejection);
      _store2.default.dispatch(poll.release());
    }, _temp3), _possibleConstructorReturn(_this3, _ret3);
  }

  _createClass(Delete, [{
    key: "render",
    value: function render() {
      if (!this.props.poll.acl.can_delete) return null;

      return _react2.default.createElement(
        "div",
        { className: getClassName(this.props.controls, 3) },
        _react2.default.createElement(
          "button",
          {
            className: "btn btn-default btn-block btn-sm",
            disabled: this.props.poll.isBusy,
            onClick: this.onClick,
            type: "button"
          },
          "Διαγραφή"
        )
      );
    }
  }]);

  return Delete;
}(_react2.default.Component);

},{"../../../reducers/poll":352,"../../../reducers/thread":360,"../../../services/ajax":365,"../../../services/modal":371,"../../../services/posting":375,"../../../services/snackbar":376,"../../../services/store":377,"./modal":111,"react":"react"}],113:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    "ul",
    { className: "list-unstyled list-inline poll-help" },
    _react2.default.createElement(PollChoicesLeft, { choicesLeft: props.choicesLeft }),
    _react2.default.createElement(PollAllowRevote, { poll: props.poll })
  );
};

exports.PollChoicesLeft = PollChoicesLeft;
exports.PollAllowRevote = PollAllowRevote;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function PollChoicesLeft(_ref) {
  var choicesLeft = _ref.choicesLeft;

  if (choicesLeft === 0) {
    return _react2.default.createElement(
      "li",
      { className: "poll-help-choices-left" },
      "Δεν μπορείς να διαλέξεις παραπάνω επιλογές"
    );
  }

  var message = "Μπορείς να διαλέξεις %(choices)s ακόμα επιλογές";
  if (choicesLeft === 1) {
    message = "Μπορείς να διαλέξεις %(choices)s ακόμα επιλογή";
  }

  var label = interpolate(message, {
    choices: choicesLeft
  }, true);

  return _react2.default.createElement(
    "li",
    { className: "poll-help-choices-left" },
    label
  );
}

function PollAllowRevote(props) {
  if (props.poll.allow_revotes) {
    return _react2.default.createElement(
      "li",
      { className: "poll-help-allow-revotes" },
      "Μπορείς να αλλάξεις την ψήφο σου αργότερα"
    );
  }

  return _react2.default.createElement(
    "li",
    { className: "poll-help-no-revotes" },
    "Οι ψήφοι είναι τελικές"
  );
}

},{"react":"react"}],114:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _help = require("./help");

var _help2 = _interopRequireDefault(_help);

var _select = require("./select");

var _select2 = _interopRequireDefault(_select);

var _utils = require("./utils");

var _info = require("../info");

var _info2 = _interopRequireDefault(_info);

var _options = require("../results/options");

var _button = require("../../button");

var _button2 = _interopRequireDefault(_button);

var _form = require("../../form");

var _form2 = _interopRequireDefault(_form);

var _poll = require("../../../reducers/poll");

var poll = _interopRequireWildcard(_poll);

var _ajax = require("../../../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require("../../../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require("../../../services/store");

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.toggleChoice = function (hash) {
      var choice = (0, _utils.getChoiceFromHash)(_this.state.choices, hash);

      var choices = null;
      if (!choice.selected) {
        choices = _this.selectChoice(choice, hash);
      } else {
        choices = _this.deselectChoice(choice, hash);
      }

      _this.setState({
        choices: choices,
        choicesLeft: (0, _utils.getChoicesLeft)(_this.props.poll, choices)
      });
    };

    _this.selectChoice = function (choice, hash) {
      var choicesLeft = (0, _utils.getChoicesLeft)(_this.props.poll, _this.state.choices);

      if (!choicesLeft) {
        for (var i in _this.state.choices.slice()) {
          var item = _this.state.choices[i];
          if (item.selected && item.hash !== hash) {
            item.selected = false;
            break;
          }
        }
      }

      return _this.state.choices.map(function (choice) {
        return Object.assign({}, choice, {
          selected: choice.hash === hash ? true : choice.selected
        });
      });
    };

    _this.deselectChoice = function (choice, hash) {
      return _this.state.choices.map(function (choice) {
        return Object.assign({}, choice, {
          selected: choice.hash === hash ? false : choice.selected
        });
      });
    };

    _this.state = {
      isLoading: false,

      choices: props.poll.choices,
      choicesLeft: (0, _utils.getChoicesLeft)(props.poll, props.poll.choices)
    };
    return _this;
  }

  _createClass(_class, [{
    key: "clean",
    value: function clean() {
      if (this.state.choicesLeft === this.props.poll.allowed_choices) {
        _snackbar2.default.error("Πρέπει να διαλέξεις τουλάχιστον μία επιλογή!");
        return false;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      var data = [];
      for (var i in this.state.choices.slice()) {
        var item = this.state.choices[i];
        if (item.selected) {
          data.push(item.hash);
        }
      }

      return _ajax2.default.post(this.props.poll.api.votes, data);
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(data) {
      _store2.default.dispatch(poll.replace(data));
      _snackbar2.default.success("Η ψήφος σου καταμετρήθηκε επιτυχώς!");

      this.props.showResults();
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        _snackbar2.default.error(rejection.detail);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var controls = [];

      if (this.props.poll.acl.can_vote) controls.push(0);
      if (this.props.poll.is_public || this.props.poll.acl.can_see_votes) controls.push(1);
      if (this.props.poll.acl.can_edit) controls.push(2);
      if (this.props.poll.acl.can_delete) controls.push(3);

      return _react2.default.createElement(
        "div",
        { className: "panel panel-default panel-poll" },
        _react2.default.createElement(
          "form",
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            "div",
            { className: "panel-body" },
            _react2.default.createElement(
              "h2",
              null,
              this.props.poll.question
            ),
            _react2.default.createElement(_info2.default, { poll: this.props.poll }),
            _react2.default.createElement(_select2.default, {
              choices: this.state.choices,
              toggleChoice: this.toggleChoice
            }),
            _react2.default.createElement(_help2.default, {
              choicesLeft: this.state.choicesLeft,
              poll: this.props.poll
            })
          ),
          _react2.default.createElement(
            "div",
            { className: "panel-footer" },
            _react2.default.createElement(
              "div",
              { className: "row" },
              _react2.default.createElement(
                "div",
                { className: (0, _options.getClassName)(controls, 0) },
                _react2.default.createElement(
                  _button2.default,
                  {
                    className: "btn-primary btn-block btn-sm",
                    loading: this.state.isLoading
                  },
                  "Αποστολή ψήφου"
                )
              ),
              _react2.default.createElement(
                "div",
                { className: (0, _options.getClassName)(controls, 1) },
                _react2.default.createElement(
                  "button",
                  {
                    className: "btn btn-default btn-block btn-sm",
                    disabled: this.state.isLoading,
                    onClick: this.props.showResults,
                    type: "button"
                  },
                  "Αποτελέσματα"
                )
              ),
              _react2.default.createElement(_options.Edit, {
                controls: controls,
                poll: this.props.poll,
                thread: this.props.thread
              }),
              _react2.default.createElement(_options.Delete, { controls: controls, poll: this.props.poll })
            )
          )
        )
      );
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../../reducers/poll":352,"../../../services/ajax":365,"../../../services/snackbar":376,"../../../services/store":377,"../../button":8,"../../form":56,"../info":107,"../results/options":112,"./help":113,"./select":115,"./utils":116,"react":"react"}],115:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ChoiceSelect = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = function (props) {
  return _react2.default.createElement(
    "ul",
    { className: "list-unstyled poll-select-choices" },
    props.choices.map(function (choice) {
      return _react2.default.createElement(ChoiceSelect, {
        choice: choice,
        key: choice.hash,
        toggleChoice: props.toggleChoice
      });
    })
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ChoiceSelect = exports.ChoiceSelect = function (_React$Component) {
  _inherits(ChoiceSelect, _React$Component);

  function ChoiceSelect() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, ChoiceSelect);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = ChoiceSelect.__proto__ || Object.getPrototypeOf(ChoiceSelect)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      _this.props.toggleChoice(_this.props.choice.hash);
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(ChoiceSelect, [{
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "li",
        { className: "poll-select-choice" },
        _react2.default.createElement(
          "button",
          {
            className: this.props.choice.selected ? "btn btn-selected" : "btn",
            onClick: this.onClick,
            type: "button"
          },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            this.props.choice.selected ? "check_box" : "check_box_outline_blank"
          ),
          _react2.default.createElement(
            "strong",
            null,
            this.props.choice.label
          )
        )
      );
    }
  }]);

  return ChoiceSelect;
}(_react2.default.Component);

},{"react":"react"}],116:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getChoiceFromHash = getChoiceFromHash;
exports.getChoicesLeft = getChoicesLeft;
function getChoiceFromHash(choices, hash) {
  for (var i in choices) {
    var choice = choices[i];
    if (choice.hash === hash) {
      return choice;
    }
  }

  return null;
}

function getChoicesLeft(poll, choices) {
  var selection = [];
  for (var i in choices) {
    var choice = choices[i];
    if (choice.selected) {
      selection.push(choice);
    }
  }

  return poll.allowed_choices - selection.length;
}

},{}],117:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    "div",
    { className: "modal-body post-changelog-diff" },
    _react2.default.createElement(
      "ul",
      { className: "list-unstyled" },
      props.diff.map(function (item, i) {
        return _react2.default.createElement(DiffItem, { item: item, key: i });
      })
    )
  );
};

exports.DiffItem = DiffItem;
exports.getItemClassName = getItemClassName;
exports.cleanItem = cleanItem;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function DiffItem(props) {
  if (props.item[0] === "?") return null;

  return _react2.default.createElement(
    "li",
    { className: getItemClassName(props.item) },
    cleanItem(props.item)
  );
}

function getItemClassName(item) {
  var className = "diff-item";
  if (item[0] === "-") {
    className += " diff-item-sub";
  } else if (item[0] === "+") {
    className += " diff-item-add";
  }
  return className;
}

function cleanItem(item) {
  return item.substr(2);
}

},{"react":"react"}],118:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _button = require("../button");

var _button2 = _interopRequireDefault(_button);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      _this.props.revertEdit(_this.props.edit.id);
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: "render",
    value: function render() {
      if (!this.props.canRevert) return null;

      return _react2.default.createElement(
        "div",
        { className: "modal-footer visible-xs-block" },
        _react2.default.createElement(
          _button2.default,
          {
            className: "btn-default btn-sm btn-block",
            disabled: this.props.disabled,
            onClick: this.onClick,
            title: "Επαναφορά προσφοράς στην προηγούμενη κατάσταση"
          },
          "Επαναφορά"
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../button":8,"react":"react"}],119:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.ModalDialog = ModalDialog;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _diff = require("./diff");

var _diff2 = _interopRequireDefault(_diff);

var _footer = require("./footer");

var _footer2 = _interopRequireDefault(_footer);

var _toolbar = require("./toolbar");

var _toolbar2 = _interopRequireDefault(_toolbar);

var _utils = require("./utils");

var _modalMessage = require("../modal-message");

var _modalMessage2 = _interopRequireDefault(_modalMessage);

var _modalLoader = require("../modal-loader");

var _modalLoader2 = _interopRequireDefault(_modalLoader);

var _post = require("../../reducers/post");

var post = _interopRequireWildcard(_post);

var _ajax = require("../../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require("../../services/modal");

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require("../../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require("../../services/store");

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.goToEdit = function () {
      var edit = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;

      _this.setState({
        isBusy: true
      });

      var url = _this.props.post.api.edits;
      if (edit !== null) {
        url += "?edit=" + edit;
      }

      _ajax2.default.get(url).then(function (data) {
        _this.setState({
          isReady: true,
          isBusy: false,
          edit: (0, _utils.hydrateEdit)(data)
        });
      }, function (rejection) {
        _this.setState({
          isReady: true,
          isBusy: false,
          error: rejection.detail
        });
      });
    };

    _this.revertEdit = function (edit) {
      if (_this.state.isBusy) return;

      var confirmation = confirm("Είσαι σίγουρος ότι θες να επαναφέρεις την προσφορά στην προηγούμενη κατάσταση;");
      if (!confirmation) return;

      _this.setState({
        isBusy: true
      });

      var url = _this.props.post.api.edits + "?edit=" + edit;
      _ajax2.default.post(url).then(function (data) {
        var hydratedPost = post.hydrate(data);
        _store2.default.dispatch(post.patch(data, hydratedPost));

        _snackbar2.default.success("Η προσφορά επαναφέρθηκε στην προηγούμενη κατάσταση επιτυχώς!");
        _modal2.default.hide();
      }, function (rejection) {
        _snackbar2.default.apiError(rejection);

        _this.setState({
          isBusy: false
        });
      });
    };

    _this.state = {
      isReady: false,
      isBusy: true,

      canRevert: props.post.acl.can_edit,

      error: null,
      edit: null
    };
    return _this;
  }

  _createClass(_class, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      this.goToEdit();
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.error) {
        return _react2.default.createElement(
          ModalDialog,
          { className: "modal-dialog modal-message" },
          _react2.default.createElement(_modalMessage2.default, { message: this.state.error })
        );
      } else if (this.state.isReady) {
        return _react2.default.createElement(
          ModalDialog,
          null,
          _react2.default.createElement(_toolbar2.default, {
            canRevert: this.state.canRevert,
            disabled: this.state.isBusy,
            edit: this.state.edit,
            goToEdit: this.goToEdit,
            revertEdit: this.revertEdit
          }),
          _react2.default.createElement(_diff2.default, { diff: this.state.edit.diff }),
          _react2.default.createElement(_footer2.default, {
            canRevert: this.state.canRevert,
            disabled: this.state.isBusy,
            edit: this.state.edit,
            revertEdit: this.revertEdit
          })
        );
      }

      return _react2.default.createElement(
        ModalDialog,
        null,
        _react2.default.createElement(_modalLoader2.default, null)
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function ModalDialog(props) {
  return _react2.default.createElement(
    "div",
    { className: props.className || "modal-dialog", role: "document" },
    _react2.default.createElement(
      "div",
      { className: "modal-content" },
      _react2.default.createElement(
        "div",
        { className: "modal-header" },
        _react2.default.createElement(
          "button",
          {
            "aria-label": "Κλείσιμο",
            className: "close",
            "data-dismiss": "modal",
            type: "button"
          },
          _react2.default.createElement(
            "span",
            { "aria-hidden": "true" },
            "\xD7"
          )
        ),
        _react2.default.createElement(
          "h4",
          { className: "modal-title" },
          "Ιστορικό τροποποιήσεων προσφοράς"
        )
      ),
      props.children
    )
  );
}

},{"../../reducers/post":353,"../../services/ajax":365,"../../services/modal":371,"../../services/snackbar":376,"../../services/store":377,"../modal-loader":61,"../modal-message":62,"./diff":117,"./footer":118,"./toolbar":120,"./utils":121,"react":"react"}],120:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.GoBackBtn = GoBackBtn;
exports.GoForwardBtn = GoForwardBtn;
exports.GoLastBtn = GoLastBtn;
exports.RevertBtn = RevertBtn;
exports.Label = Label;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _button = require("../button");

var _button2 = _interopRequireDefault(_button);

var _escapeHtml = require("../../utils/escape-html");

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var DATE_ABBR = '<abbr title="%(absolute)s">%(relative)s</abbr>';
var USER_SPAN = '<span class="item-title">%(user)s</span>';
var USER_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.goLast = function () {
      _this.props.goToEdit();
    }, _this.goForward = function () {
      _this.props.goToEdit(_this.props.edit.next);
    }, _this.goBack = function () {
      _this.props.goToEdit(_this.props.edit.previous);
    }, _this.revertEdit = function () {
      _this.props.revertEdit(_this.props.edit.id);
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: "modal-toolbar post-changelog-toolbar" },
        _react2.default.createElement(
          "div",
          { className: "row" },
          _react2.default.createElement(
            "div",
            { className: "col-xs-12 col-sm-4" },
            _react2.default.createElement(
              "div",
              { className: "row" },
              _react2.default.createElement(
                "div",
                { className: "col-xs-4" },
                _react2.default.createElement(GoBackBtn, {
                  disabled: this.props.disabled,
                  edit: this.props.edit,
                  onClick: this.goBack
                })
              ),
              _react2.default.createElement(
                "div",
                { className: "col-xs-4" },
                _react2.default.createElement(GoForwardBtn, {
                  disabled: this.props.disabled,
                  edit: this.props.edit,
                  onClick: this.goForward
                })
              ),
              _react2.default.createElement(
                "div",
                { className: "col-xs-4" },
                _react2.default.createElement(GoLastBtn, {
                  disabled: this.props.disabled,
                  edit: this.props.edit,
                  onClick: this.goLast
                })
              )
            )
          ),
          _react2.default.createElement(
            "div",
            { className: "col-xs-12 col-sm-5 xs-margin-top-half post-change-label" },
            _react2.default.createElement(Label, { edit: this.props.edit })
          ),
          _react2.default.createElement(RevertBtn, {
            canRevert: this.props.canRevert,
            disabled: this.props.disabled,
            onClick: this.revertEdit
          })
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function GoBackBtn(props) {
  return _react2.default.createElement(
    _button2.default,
    {
      className: "btn-default btn-block btn-icon btn-sm",
      disabled: props.disabled || !props.edit.previous,
      onClick: props.onClick,
      title: "Δες την προηγούμενη τροποίηση"
    },
    _react2.default.createElement(
      "span",
      { className: "material-icon" },
      "chevron_left"
    )
  );
}

function GoForwardBtn(props) {
  return _react2.default.createElement(
    _button2.default,
    {
      className: "btn-default btn-block btn-icon btn-sm",
      disabled: props.disabled || !props.edit.next,
      onClick: props.onClick,
      title: "Δες την επόμενη τροποίηση"
    },
    _react2.default.createElement(
      "span",
      { className: "material-icon" },
      "chevron_right"
    )
  );
}

function GoLastBtn(props) {
  return _react2.default.createElement(
    _button2.default,
    {
      className: "btn-default btn-block btn-icon btn-sm",
      disabled: props.disabled || !props.edit.next,
      onClick: props.onClick,
      title: "Δες την προηγούμενη τροποίηση"
    },
    _react2.default.createElement(
      "span",
      { className: "material-icon" },
      "last_page"
    )
  );
}

function RevertBtn(props) {
  if (!props.canRevert) return null;

  return _react2.default.createElement(
    "div",
    { className: "col-sm-3 hidden-xs" },
    _react2.default.createElement(
      _button2.default,
      {
        className: "btn-default btn-sm btn-block",
        disabled: props.disabled,
        onClick: props.onClick,
        title: "Επαναφορά προσφοράς στην προηγούμενη κατάσταση"
      },
      "Επαναφορά"
    )
  );
}

function Label(props) {
  var user = null;
  if (props.edit.url.editor) {
    user = interpolate(USER_URL, {
      url: (0, _escapeHtml2.default)(props.edit.url.editor),
      user: (0, _escapeHtml2.default)(props.edit.editor_name)
    }, true);
  } else {
    user = interpolate(USER_SPAN, {
      user: (0, _escapeHtml2.default)(props.edit.editor_name)
    }, true);
  }

  var date = interpolate(DATE_ABBR, {
    absolute: (0, _escapeHtml2.default)(props.edit.edited_on.format("LLL")),
    relative: (0, _escapeHtml2.default)(props.edit.edited_on.fromNow())
  }, true);

  var message = interpolate((0, _escapeHtml2.default)("Από το χρήστη %(edited_by)s %(edited_on)s"), {
    edited_by: user,
    edited_on: date
  }, true);

  return _react2.default.createElement("p", { dangerouslySetInnerHTML: { __html: message } });
}

},{"../../utils/escape-html":383,"../button":8,"react":"react"}],121:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.hydrateEdit = hydrateEdit;

var _moment = require("moment");

var _moment2 = _interopRequireDefault(_moment);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function hydrateEdit(json) {
  return Object.assign({}, json, {
    edited_on: (0, _moment2.default)(json.edited_on)
  });
}

},{"moment":"moment"}],122:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var isReady = _ref.isReady,
      posts = _ref.posts,
      poster = _ref.poster;

  if (!isReady) {
    return _react2.default.createElement(_preview2.default, null);
  }

  return _react2.default.createElement(
    "ul",
    { className: "posts-list post-feed ui-ready" },
    posts.map(function (post) {
      return _react2.default.createElement(_post2.default, { key: post.id, post: post, poster: poster });
    })
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _post = require("./post");

var _post2 = _interopRequireDefault(_post);

var _preview = require("./preview");

var _preview2 = _interopRequireDefault(_preview);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./post":125,"./preview":131,"react":"react"}],123:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (props.post.content) {
    return _react2.default.createElement(Default, props);
  } else {
    return _react2.default.createElement(Invalid, props);
  }
};

exports.Default = Default;
exports.Invalid = Invalid;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _misagoMarkup = require("../../misago-markup");

var _misagoMarkup2 = _interopRequireDefault(_misagoMarkup);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function Default(props) {
  return _react2.default.createElement(
    "div",
    { className: "post-body" },
    _react2.default.createElement(_misagoMarkup2.default, { markup: props.post.content })
  );
}

function Invalid(props) {
  return _react2.default.createElement(
    "div",
    { className: "post-body post-body-invalid" },
    _react2.default.createElement(
      "p",
      { className: "lead" },
      "Οι λεπτομέρεις αυτής της προσφοράς δεν μπορούν να εμφανιστούν"
    ),
    _react2.default.createElement(
      "p",
      { className: "text-muted" },
      "Αυτό το λάθος προκαλέστηκε από μη έγκυρη τροποποίηση της προσφοράς"
    )
  );
}

},{"../../misago-markup":60,"react":"react"}],124:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var post = _ref.post;
  var category = post.category,
      thread = post.thread;


  var tooltip = interpolate("Δημοσιεύθηκε %(posted_on)s", {
    posted_on: post.posted_on.format("LL, LT")
  }, true);

  return _react2.default.createElement(
    "div",
    { className: "post-heading" },
    _react2.default.createElement(
      "a",
      { className: "btn btn-link item-title", href: thread.url },
      thread.title
    ),
    _react2.default.createElement(
      "a",
      { className: "btn btn-link post-category", href: category.url.index },
      category.name
    ),
    _react2.default.createElement(
      "a",
      {
        href: post.url.index,
        className: "btn btn-link posted-on",
        title: tooltip
      },
      post.posted_on.fromNow()
    )
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],125:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var post = _ref.post,
      poster = _ref.poster;

  var user = poster || post.poster;

  var className = "post";
  if (user && user.rank.css_class) {
    className += " post-" + user.rank.css_class;
  }

  return _react2.default.createElement(
    "li",
    { className: className, id: "post-" + post.id },
    _react2.default.createElement(
      "div",
      { className: "panel panel-default panel-post" },
      _react2.default.createElement(
        "div",
        { className: "panel-body" },
        _react2.default.createElement(_postSide2.default, { post: post, poster: user }),
        _react2.default.createElement(_header2.default, { post: post }),
        _react2.default.createElement(_body2.default, { post: post })
      )
    )
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _body = require("./body");

var _body2 = _interopRequireDefault(_body);

var _header = require("./header");

var _header2 = _interopRequireDefault(_header);

var _postSide = require("./post-side");

var _postSide2 = _interopRequireDefault(_postSide);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./body":123,"./header":124,"./post-side":128,"react":"react"}],126:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var post = _ref.post;

  return _react2.default.createElement(
    "div",
    { className: "post-side post-side-anonymous" },
    _react2.default.createElement(_button2.default, { post: post }),
    _react2.default.createElement(
      "div",
      { className: "media" },
      _react2.default.createElement(
        "div",
        { className: "media-left" },
        _react2.default.createElement(
          "span",
          null,
          _react2.default.createElement(_avatar2.default, { className: "poster-avatar", size: 50 })
        )
      ),
      _react2.default.createElement(
        "div",
        { className: "media-body" },
        _react2.default.createElement(
          "div",
          { className: "media-heading" },
          _react2.default.createElement(
            "span",
            { className: "item-title" },
            post.poster_name
          )
        ),
        _react2.default.createElement(
          "span",
          { className: "user-title user-title-anonymous" },
          "Διεγραμμένος χρήστης"
        )
      )
    )
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _avatar = require("../../../avatar");

var _avatar2 = _interopRequireDefault(_avatar);

var _button = require("./button");

var _button2 = _interopRequireDefault(_button);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../../avatar":6,"./button":127,"react":"react"}],127:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var post = _ref.post;

  return _react2.default.createElement(
    "a",
    { className: "btn btn-default btn-icon pull-right", href: post.url.index },
    _react2.default.createElement(
      "span",
      { className: "btn-text-left hidden-xs" },
      "Προβολή προσφοράς"
    ),
    _react2.default.createElement(
      "span",
      { className: "material-icon" },
      "chevron_right"
    )
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],128:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var post = _ref.post,
      poster = _ref.poster;

  if (poster.id) {
    return _react2.default.createElement(_registered2.default, { post: post, poster: poster });
  }

  return _react2.default.createElement(_anonymous2.default, { post: post });
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _anonymous = require("./anonymous");

var _anonymous2 = _interopRequireDefault(_anonymous);

var _registered = require("./registered");

var _registered2 = _interopRequireDefault(_registered);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./anonymous":126,"./registered":129,"react":"react"}],129:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var post = _ref.post,
      poster = _ref.poster;

  return _react2.default.createElement(
    "div",
    { className: "post-side post-side-registered" },
    _react2.default.createElement(_button2.default, { post: post }),
    _react2.default.createElement(
      "div",
      { className: "media" },
      _react2.default.createElement(
        "div",
        { className: "media-left" },
        _react2.default.createElement(
          "a",
          { href: poster.url },
          _react2.default.createElement(_avatar2.default, { className: "poster-avatar", size: 50, user: poster })
        )
      ),
      _react2.default.createElement(
        "div",
        { className: "media-body" },
        _react2.default.createElement(
          "div",
          { className: "media-heading" },
          _react2.default.createElement(
            "a",
            { className: "item-title", href: poster.url },
            poster.username
          )
        ),
        _react2.default.createElement(_userTitle2.default, { title: poster.title, rank: poster.rank })
      )
    )
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _avatar = require("../../../avatar");

var _avatar2 = _interopRequireDefault(_avatar);

var _button = require("./button");

var _button2 = _interopRequireDefault(_button);

var _userTitle = require("./user-title");

var _userTitle2 = _interopRequireDefault(_userTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../../avatar":6,"./button":127,"./user-title":130,"react":"react"}],130:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var rank = _ref.rank,
      title = _ref.title;

  var userTitle = title || rank.title || rank.name;

  var className = "user-title";
  if (rank.css_class) {
    className += " user-title-" + rank.css_class;
  }

  if (rank.is_tab) {
    return _react2.default.createElement(
      "a",
      { className: className, href: rank.url },
      userTitle
    );
  }

  return _react2.default.createElement(
    "span",
    { className: className },
    userTitle
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],131:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function () {
  return _react2.default.createElement(
    "ul",
    { className: "posts-list post-feed ui-preview" },
    _react2.default.createElement(
      "li",
      { className: "post" },
      _react2.default.createElement(
        "div",
        { className: "panel panel-default panel-post" },
        _react2.default.createElement(
          "div",
          { className: "panel-body" },
          _react2.default.createElement(
            "div",
            { className: "post-side post-side-anonymous" },
            _react2.default.createElement(
              "div",
              { className: "media" },
              _react2.default.createElement(
                "div",
                { className: "media-left" },
                _react2.default.createElement(
                  "span",
                  null,
                  _react2.default.createElement(_avatar2.default, { className: "poster-avatar", size: 50 })
                )
              ),
              _react2.default.createElement(
                "div",
                { className: "media-body" },
                _react2.default.createElement(
                  "div",
                  { className: "media-heading" },
                  _react2.default.createElement(
                    "span",
                    { className: "item-title" },
                    _react2.default.createElement(
                      "span",
                      {
                        className: "ui-preview-text",
                        style: { width: random.int(30, 200) + "px" }
                      },
                      "\xA0"
                    )
                  )
                ),
                _react2.default.createElement(
                  "span",
                  { className: "user-title user-title-anonymous" },
                  _react2.default.createElement(
                    "span",
                    {
                      className: "ui-preview-text",
                      style: { width: random.int(30, 200) + "px" }
                    },
                    "\xA0"
                  )
                )
              )
            )
          ),
          _react2.default.createElement(
            "div",
            { className: "post-heading" },
            _react2.default.createElement(
              "span",
              {
                className: "ui-preview-text",
                style: { width: random.int(30, 200) + "px" }
              },
              "\xA0"
            )
          ),
          _react2.default.createElement(
            "div",
            { className: "post-body" },
            _react2.default.createElement(
              "article",
              { className: "misago-markup" },
              _react2.default.createElement(
                "p",
                null,
                _react2.default.createElement(
                  "span",
                  {
                    className: "ui-preview-text",
                    style: { width: random.int(30, 200) + "px" }
                  },
                  "\xA0"
                ),
                "\xA0",
                _react2.default.createElement(
                  "span",
                  {
                    className: "ui-preview-text",
                    style: { width: random.int(30, 200) + "px" }
                  },
                  "\xA0"
                ),
                "\xA0",
                _react2.default.createElement(
                  "span",
                  {
                    className: "ui-preview-text",
                    style: { width: random.int(30, 200) + "px" }
                  },
                  "\xA0"
                )
              )
            )
          )
        )
      )
    )
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _avatar = require("../avatar");

var _avatar2 = _interopRequireDefault(_avatar);

var _random = require("../../utils/random");

var random = _interopRequireWildcard(_random);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../utils/random":388,"../avatar":6,"react":"react"}],132:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.hydrateLike = hydrateLike;
exports.ModalDialog = ModalDialog;
exports.LikesList = LikesList;
exports.LikeDetails = LikeDetails;
exports.LikeDate = LikeDate;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _moment = require("moment");

var _moment2 = _interopRequireDefault(_moment);

var _avatar = require("./avatar");

var _avatar2 = _interopRequireDefault(_avatar);

var _modalMessage = require("./modal-message");

var _modalMessage2 = _interopRequireDefault(_modalMessage);

var _modalLoader = require("./modal-loader");

var _modalLoader2 = _interopRequireDefault(_modalLoader);

var _ajax = require("../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.state = {
      isReady: false,

      error: null,
      likes: []
    };
    return _this;
  }

  _createClass(_class, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      _ajax2.default.get(this.props.post.api.likes).then(function (data) {
        _this2.setState({
          isReady: true,
          likes: data.map(hydrateLike)
        });
      }, function (rejection) {
        _this2.setState({
          isReady: true,
          error: rejection.detail
        });
      });
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.error) {
        return _react2.default.createElement(
          ModalDialog,
          { className: "modal-message" },
          _react2.default.createElement(_modalMessage2.default, { message: this.state.error })
        );
      } else if (this.state.isReady) {
        if (this.state.likes.length) {
          return _react2.default.createElement(
            ModalDialog,
            { className: "modal-sm", likes: this.state.likes },
            _react2.default.createElement(LikesList, { likes: this.state.likes })
          );
        }

        return _react2.default.createElement(
          ModalDialog,
          { className: "modal-message" },
          _react2.default.createElement(_modalMessage2.default, { message: "Κανένα like" })
        );
      }

      return _react2.default.createElement(
        ModalDialog,
        { className: "modal-sm" },
        _react2.default.createElement(_modalLoader2.default, null)
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function hydrateLike(data) {
  return Object.assign({}, data, {
    liked_on: (0, _moment2.default)(data.liked_on)
  });
}

function ModalDialog(_ref) {
  var className = _ref.className,
      children = _ref.children,
      likes = _ref.likes;

  var title = "Likes Προσφοράς";
  if (likes) {
    var likesCount = likes.length;
    var message = "%(likes)s like";

    title = interpolate(message, { likes: likesCount }, true);
  }

  return _react2.default.createElement(
    "div",
    { className: "modal-dialog " + (className || ""), role: "document" },
    _react2.default.createElement(
      "div",
      { className: "modal-content" },
      _react2.default.createElement(
        "div",
        { className: "modal-header" },
        _react2.default.createElement(
          "button",
          {
            "aria-label": "Κλείσιμο",
            className: "close",
            "data-dismiss": "modal",
            type: "button"
          },
          _react2.default.createElement(
            "span",
            { "aria-hidden": "true" },
            "\xD7"
          )
        ),
        _react2.default.createElement(
          "h4",
          { className: "modal-title" },
          title
        )
      ),
      children
    )
  );
}

function LikesList(props) {
  return _react2.default.createElement(
    "div",
    { className: "modal-body modal-post-likers" },
    _react2.default.createElement(
      "ul",
      { className: "media-list" },
      props.likes.map(function (like) {
        return _react2.default.createElement(LikeDetails, _extends({ key: like.id }, like));
      })
    )
  );
}

function LikeDetails(props) {
  if (props.url) {
    var user = {
      id: props.liker_id,
      avatars: props.avatars
    };

    return _react2.default.createElement(
      "li",
      { className: "media" },
      _react2.default.createElement(
        "div",
        { className: "media-left" },
        _react2.default.createElement(
          "a",
          { className: "user-avatar", href: props.url },
          _react2.default.createElement(_avatar2.default, { size: "50", user: user })
        )
      ),
      _react2.default.createElement(
        "div",
        { className: "media-body" },
        _react2.default.createElement(
          "a",
          { className: "item-title", href: props.url },
          props.username
        ),
        " ",
        _react2.default.createElement(LikeDate, { likedOn: props.liked_on })
      )
    );
  }

  return _react2.default.createElement(
    "li",
    { className: "media" },
    _react2.default.createElement(
      "div",
      { className: "media-left" },
      _react2.default.createElement(
        "span",
        { className: "user-avatar" },
        _react2.default.createElement(_avatar2.default, { size: "50" })
      )
    ),
    _react2.default.createElement(
      "div",
      { className: "media-body" },
      _react2.default.createElement(
        "strong",
        null,
        props.username
      ),
      " ",
      _react2.default.createElement(LikeDate, { likedOn: props.liked_on })
    )
  );
}

function LikeDate(props) {
  return _react2.default.createElement(
    "span",
    { className: "text-muted", title: props.likedOn.format("LLL") },
    props.likedOn.fromNow()
  );
}

},{"../services/ajax":365,"./avatar":6,"./modal-loader":61,"./modal-message":62,"moment":"moment","react":"react"}],133:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _editor = require("../editor");

var _editor2 = _interopRequireDefault(_editor);

var _form = require("../form");

var _form2 = _interopRequireDefault(_form);

var _container = require("./utils/container");

var _container2 = _interopRequireDefault(_container);

var _loader = require("./utils/loader");

var _loader2 = _interopRequireDefault(_loader);

var _message = require("./utils/message");

var _message2 = _interopRequireDefault(_message);

var _attachments = require("./utils/attachments");

var attachments = _interopRequireWildcard(_attachments);

var _validators = require("./utils/validators");

var _ajax = require("../../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _posting = require("../../services/posting");

var _posting2 = _interopRequireDefault(_posting);

var _snackbar = require("../../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.loadSuccess = function (data) {
      _this.setState({
        isReady: true,

        post: data.post,
        attachments: attachments.hydrate(data.attachments),
        protect: data.is_protected,

        canProtect: data.can_protect
      });
    };

    _this.loadError = function (rejection) {
      _this.setState({
        isErrored: rejection.detail
      });
    };

    _this.onCancel = function () {
      var cancel = confirm("Είσαι σίγουρος ότι δε θέλεις να κάνεις καμία αλλαγή;");
      if (cancel) {
        _posting2.default.close();
      }
    };

    _this.onProtect = function () {
      _this.setState({
        protect: true
      });
    };

    _this.onUnprotect = function () {
      _this.setState({
        protect: false
      });
    };

    _this.onPostChange = function (event) {
      _this.changeValue("post", event.target.value);
    };

    _this.onAttachmentsChange = function (attachments) {
      _this.setState({
        attachments: attachments
      });
    };

    _this.state = {
      isReady: false,
      isLoading: false,
      isErrored: false,

      post: "",
      attachments: [],
      protect: false,

      canProtect: false,

      validators: {
        post: (0, _validators.getPostValidators)()
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_class, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      _ajax2.default.get(this.props.config).then(this.loadSuccess, this.loadError);
    }
  }, {
    key: "clean",
    value: function clean() {
      if (!this.state.post.trim().length) {
        _snackbar2.default.error("Πρέπει να βάλεις τις λεπτομέρεις της προσφοράς!");
        return false;
      }

      var errors = this.validate();

      if (errors.post) {
        _snackbar2.default.error(errors.post[0]);
        return false;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax2.default.put(this.props.submit, {
        post: this.state.post,
        attachments: attachments.clean(this.state.attachments),
        protect: this.state.protect
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(success) {
      _snackbar2.default.success("Η προσφορά τροποποιήθηκε επιτυχώς!");
      window.location = success.url.index;

      // keep form loading
      this.setState({
        isLoading: true
      });
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        var errors = [].concat(rejection.non_field_errors || [], rejection.category || [], rejection.title || [], rejection.post || [], rejection.attachments || []);

        _snackbar2.default.error(errors[0]);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.isReady) {
        return _react2.default.createElement(
          _container2.default,
          { className: "posting-form" },
          _react2.default.createElement(
            "form",
            { onSubmit: this.handleSubmit, method: "POST" },
            _react2.default.createElement(
              "div",
              { className: "row" },
              _react2.default.createElement(
                "div",
                { className: "col-md-12" },
                _react2.default.createElement(_editor2.default, {
                  attachments: this.state.attachments,
                  canProtect: this.state.canProtect,
                  loading: this.state.isLoading,
                  onAttachmentsChange: this.onAttachmentsChange,
                  onCancel: this.onCancel,
                  onChange: this.onPostChange,
                  onProtect: this.onProtect,
                  onUnprotect: this.onUnprotect,
                  protect: this.state.protect,
                  submitLabel: "Τροποποίηση προσφοράς",
                  value: this.state.post
                })
              )
            )
          )
        );
      } else if (this.state.isErrored) {
        return _react2.default.createElement(_message2.default, { message: this.state.isErrored });
      } else {
        return _react2.default.createElement(_loader2.default, null);
      }
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../services/ajax":365,"../../services/posting":375,"../../services/snackbar":376,"../editor":52,"../form":56,"./utils/attachments":138,"./utils/container":139,"./utils/loader":140,"./utils/message":141,"./utils/validators":144,"react":"react"}],134:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (props.mode === "START") {
    return _react2.default.createElement(_start2.default, props);
  } else if (props.mode === "START_PRIVATE") {
    return _react2.default.createElement(_startPrivate2.default, props);
  } else if (props.mode === "REPLY") {
    return _react2.default.createElement(_reply2.default, props);
  } else if (props.mode === "EDIT") {
    return _react2.default.createElement(_edit2.default, props);
  } else {
    return null;
  }
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _start = require("./start");

var _start2 = _interopRequireDefault(_start);

var _startPrivate = require("./start-private");

var _startPrivate2 = _interopRequireDefault(_startPrivate);

var _reply = require("./reply");

var _reply2 = _interopRequireDefault(_reply);

var _edit = require("./edit");

var _edit2 = _interopRequireDefault(_edit);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./edit":133,"./reply":135,"./start":137,"./start-private":136,"react":"react"}],135:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _editor = require("../editor");

var _editor2 = _interopRequireDefault(_editor);

var _form = require("../form");

var _form2 = _interopRequireDefault(_form);

var _container = require("./utils/container");

var _container2 = _interopRequireDefault(_container);

var _loader = require("./utils/loader");

var _loader2 = _interopRequireDefault(_loader);

var _message = require("./utils/message");

var _message2 = _interopRequireDefault(_message);

var _attachments = require("./utils/attachments");

var attachments = _interopRequireWildcard(_attachments);

var _validators = require("./utils/validators");

var _ajax = require("../../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _posting = require("../../services/posting");

var _posting2 = _interopRequireDefault(_posting);

var _snackbar = require("../../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.loadSuccess = function (data) {
      _this.setState({
        isReady: true,

        post: data.post ? '[quote="@' + data.poster + '"]\n' + data.post + "\n[/quote]" : ""
      });
    };

    _this.loadError = function (rejection) {
      _this.setState({
        isErrored: rejection.detail
      });
    };

    _this.appendData = function (data) {
      var newPost = data.post ? '[quote="@' + data.poster + '"]\n' + data.post + "\n[/quote]\n\n" : "";

      _this.setState(function (prevState, props) {
        if (prevState.post.length > 0) {
          return {
            post: prevState.post + "\n\n" + newPost
          };
        }

        return {
          post: newPost
        };
      });
    };

    _this.onCancel = function () {
      var cancel = confirm("Είσαι σίγουρος ότι δε θέλεις να στείλεις την προσφορά σου;");
      if (cancel) {
        _posting2.default.close();
      }
    };

    _this.onPostChange = function (event) {
      _this.changeValue("post", event.target.value);
    };

    _this.onAttachmentsChange = function (attachments) {
      _this.setState({
        attachments: attachments
      });
    };

    _this.state = {
      isReady: false,
      isLoading: false,
      isErrored: false,

      post: "",
      attachments: [],

      validators: {
        post: (0, _validators.getPostValidators)()
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_class, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      _ajax2.default.get(this.props.config, this.props.context || null).then(this.loadSuccess, this.loadError);
    }
  }, {
    key: "componentWillReceiveProps",
    value: function componentWillReceiveProps(nextProps) {
      var context = this.props.context;
      var newContext = nextProps.context;

      if (context && newContext && context.reply === newContext.reply) return;

      _ajax2.default.get(nextProps.config, nextProps.context || null).then(this.appendData, _snackbar2.default.apiError);
    }
  }, {
    key: "clean",
    value: function clean() {
      if (!this.state.post.trim().length) {
        _snackbar2.default.error("Πρέπει να βάλεις τις λεπτομέρειες της προσφοράς!");
        return false;
      }

      var errors = this.validate();

      if (errors.post) {
        _snackbar2.default.error(errors.post[0]);
        return false;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax2.default.post(this.props.submit, {
        post: this.state.post,
        attachments: attachments.clean(this.state.attachments)
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(success) {
      _snackbar2.default.success("Η προσφορά σου εστάλη επιτυχώς!");
      window.location = success.url.index;

      // keep form loading
      this.setState({
        isLoading: true
      });
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        var errors = [].concat(rejection.non_field_errors || [], rejection.post || [], rejection.attachments || []);

        _snackbar2.default.error(errors[0]);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.isReady) {
        return _react2.default.createElement(
          _container2.default,
          { className: "posting-form" },
          _react2.default.createElement(
            "form",
            { onSubmit: this.handleSubmit, method: "POST" },
            _react2.default.createElement(
              "div",
              { className: "row" },
              _react2.default.createElement(
                "div",
                { className: "col-md-12" },
                _react2.default.createElement(_editor2.default, {
                  attachments: this.state.attachments,
                  loading: this.state.isLoading,
                  onAttachmentsChange: this.onAttachmentsChange,
                  onCancel: this.onCancel,
                  onChange: this.onPostChange,
                  submitLabel: "Αποστολή προσφοράς",
                  value: this.state.post
                })
              )
            )
          )
        );
      } else if (this.state.isErrored) {
        return _react2.default.createElement(_message2.default, { message: this.state.isErrored });
      } else {
        return _react2.default.createElement(_loader2.default, null);
      }
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../services/ajax":365,"../../services/posting":375,"../../services/snackbar":376,"../editor":52,"../form":56,"./utils/attachments":138,"./utils/container":139,"./utils/loader":140,"./utils/message":141,"./utils/validators":144,"react":"react"}],136:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _editor = require("../editor");

var _editor2 = _interopRequireDefault(_editor);

var _form = require("../form");

var _form2 = _interopRequireDefault(_form);

var _container = require("./utils/container");

var _container2 = _interopRequireDefault(_container);

var _attachments = require("./utils/attachments");

var attachments = _interopRequireWildcard(_attachments);

var _usernames = require("./utils/usernames");

var _usernames2 = _interopRequireDefault(_usernames);

var _validators = require("./utils/validators");

var _ajax = require("../../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _posting = require("../../services/posting");

var _posting2 = _interopRequireDefault(_posting);

var _snackbar = require("../../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onCancel = function () {
      var cancel = confirm("Είσαι σίγουρος ότι δε θέλεις να στείλεις μήνυμα για ανάθεση εργασίας;");
      if (cancel) {
        _posting2.default.close();
      }
    };

    _this.onToChange = function (event) {
      _this.changeValue("to", event.target.value);
    };

    _this.onTitleChange = function (event) {
      _this.changeValue("title", event.target.value);
    };

    _this.onPostChange = function (event) {
      _this.changeValue("post", event.target.value);
    };

    _this.onAttachmentsChange = function (attachments) {
      _this.setState({
        attachments: attachments
      });
    };

    var to = (props.to || []).map(function (user) {
      return user.username;
    }).join(", ");

    _this.state = {
      isLoading: false,

      to: to,
      title: "",
      post: "",
      attachments: [],

      validators: {
        title: (0, _validators.getTitleValidators)(),
        post: (0, _validators.getPostValidators)()
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_class, [{
    key: "clean",
    value: function clean() {
      if (!(0, _usernames2.default)(this.state.to).length) {
        _snackbar2.default.error("Πρέπει να επιλέξεις τουλάχιστον ένα παραλήπτη!");
        return false;
      }

      if (!this.state.title.trim().length) {
        _snackbar2.default.error("Πρέπει να βάλεις τίτλο στο μήνυμα!");
        return false;
      }

      if (!this.state.post.trim().length) {
        _snackbar2.default.error("Πρέπει να βάλεις περιεχόμενο στο μήνυμα!");
        return false;
      }

      var errors = this.validate();

      if (errors.title) {
        _snackbar2.default.error(errors.title[0]);
        return false;
      }

      if (errors.post) {
        _snackbar2.default.error(errors.post[0]);
        return false;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax2.default.post(this.props.submit, {
        to: (0, _usernames2.default)(this.state.to),
        title: this.state.title,
        post: this.state.post,
        attachments: attachments.clean(this.state.attachments)
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(success) {
      _snackbar2.default.success("Το μήνυμά σου εστάλη επιτυχώς!");
      window.location = success.url;

      // keep form loading
      this.setState({
        isLoading: true
      });
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        var errors = [].concat(rejection.non_field_errors || [], rejection.to || [], rejection.title || [], rejection.post || [], rejection.attachments || []);

        _snackbar2.default.error(errors[0]);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        _container2.default,
        { className: "posting-form", withFirstRow: true },
        _react2.default.createElement(
          "form",
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            "div",
            { className: "row first-row" },
            _react2.default.createElement(
              "div",
              { className: "col-xs-12" },
              _react2.default.createElement("input", {
                className: "form-control",
                disabled: this.state.isLoading,
                onChange: this.onToChange,
                placeholder: "Ονόματα χρηστών με κόμμα μεταξύ τους, π.χ. nikos, eleni",
                type: "text",
                value: this.state.to
              })
            )
          ),
          _react2.default.createElement(
            "div",
            { className: "row first-row" },
            _react2.default.createElement(
              "div",
              { className: "col-xs-12" },
              _react2.default.createElement("input", {
                className: "form-control",
                disabled: this.state.isLoading,
                onChange: this.onTitleChange,
                placeholder: "Τίτλος μηνύματος",
                type: "text",
                value: this.state.title
              })
            )
          ),
          _react2.default.createElement(
            "div",
            { className: "row" },
            _react2.default.createElement(
              "div",
              { className: "col-xs-12" },
              _react2.default.createElement(_editor2.default, {
                attachments: this.state.attachments,
                loading: this.state.isLoading,
                onAttachmentsChange: this.onAttachmentsChange,
                onCancel: this.onCancel,
                onChange: this.onPostChange,
                submitLabel: "Αποστολή μηνύματος",
                value: this.state.post
              })
            )
          )
        )
      );
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../services/ajax":365,"../../services/posting":375,"../../services/snackbar":376,"../editor":52,"../form":56,"./utils/attachments":138,"./utils/container":139,"./utils/usernames":143,"./utils/validators":144,"react":"react"}],137:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _categorySelect = require("../category-select");

var _categorySelect2 = _interopRequireDefault(_categorySelect);

var _editor = require("../editor");

var _editor2 = _interopRequireDefault(_editor);

var _form = require("../form");

var _form2 = _interopRequireDefault(_form);

var _container = require("./utils/container");

var _container2 = _interopRequireDefault(_container);

var _loader = require("./utils/loader");

var _loader2 = _interopRequireDefault(_loader);

var _message = require("./utils/message");

var _message2 = _interopRequireDefault(_message);

var _options = require("./utils/options");

var _options2 = _interopRequireDefault(_options);

var _attachments = require("./utils/attachments");

var attachments = _interopRequireWildcard(_attachments);

var _validators = require("./utils/validators");

var _ajax = require("../../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _posting = require("../../services/posting");

var _posting2 = _interopRequireDefault(_posting);

var _snackbar = require("../../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.loadSuccess = function (data) {
      var category = null;
      var showOptions = false;
      var categoryOptions = null;

      // hydrate categories, extract posting options
      var categories = data.map(function (item) {
        // pick first category that allows posting and if it may, override it with initial one
        if (item.post !== false && (!category || item.id === _this.state.category)) {
          category = item.id;
          categoryOptions = item.post;
        }

        if (item.post && (item.post.close || item.post.hide || item.post.pin)) {
          showOptions = true;
        }

        return Object.assign(item, {
          disabled: item.post === false,
          label: item.name,
          value: item.id
        });
      });

      _this.setState({
        isReady: true,
        showOptions: showOptions,

        categories: categories,
        category: category,
        categoryOptions: categoryOptions
      });
    };

    _this.loadError = function (rejection) {
      _this.setState({
        isErrored: rejection.detail
      });
    };

    _this.onCancel = function () {
      var cancel = confirm("Είσαι σίγουρος ότι δε θέλεις να δημοσιεύσεις αυτή την αγγελία;");
      if (cancel) {
        _posting2.default.close();
      }
    };

    _this.onTitleChange = function (event) {
      _this.changeValue("title", event.target.value);
    };

    _this.onCategoryChange = function (event) {
      var category = _this.state.categories.find(function (item) {
        return event.target.value == item.value;
      });

      // if selected pin is greater than allowed, reduce it
      var pin = _this.state.pin;
      if (category.post.pin && category.post.pin < pin) {
        pin = category.post.pin;
      }

      _this.setState({
        category: category.id,
        categoryOptions: category.post,

        pin: pin
      });
    };

    _this.onPostChange = function (event) {
      _this.changeValue("post", event.target.value);
    };

    _this.onAttachmentsChange = function (attachments) {
      _this.setState({
        attachments: attachments
      });
    };

    _this.onClose = function () {
      _this.changeValue("close", true);
    };

    _this.onOpen = function () {
      _this.changeValue("close", false);
    };

    _this.onPinGlobally = function () {
      _this.changeValue("pin", 2);
    };

    _this.onPinLocally = function () {
      _this.changeValue("pin", 1);
    };

    _this.onUnpin = function () {
      _this.changeValue("pin", 0);
    };

    _this.onHide = function () {
      _this.changeValue("hide", true);
    };

    _this.onUnhide = function () {
      _this.changeValue("hide", false);
    };

    _this.state = {
      isReady: false,
      isLoading: false,
      isErrored: false,

      showOptions: false,
      categoryOptions: null,

      title: "",
      category: props.category || null,
      categories: [],
      post: "",
      attachments: [],
      close: false,
      hide: false,
      pin: 0,

      validators: {
        title: (0, _validators.getTitleValidators)(),
        post: (0, _validators.getPostValidators)()
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_class, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      _ajax2.default.get(this.props.config).then(this.loadSuccess, this.loadError);
    }
  }, {
    key: "clean",
    value: function clean() {
      if (!this.state.title.trim().length) {
        _snackbar2.default.error("Πρέπει να βάλεις τίτλο στην αγγελία!");
        return false;
      }

      if (!this.state.post.trim().length) {
        _snackbar2.default.error("Πρέπει να βάλεις μήνυμα στην αγγελία!");
        return false;
      }

      var errors = this.validate();

      if (errors.title) {
        _snackbar2.default.error(errors.title[0]);
        return false;
      }

      if (errors.post) {
        _snackbar2.default.error(errors.post[0]);
        return false;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax2.default.post(this.props.submit, {
        title: this.state.title,
        category: this.state.category,
        post: this.state.post,
        attachments: attachments.clean(this.state.attachments),
        close: this.state.close,
        hide: this.state.hide,
        pin: this.state.pin
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(success) {
      _snackbar2.default.success("Η αγγελία σου δημοσιεύθηκε επιτυχώς!");
      window.location = success.url;

      // keep form loading
      this.setState({
        isLoading: true
      });
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        var errors = [].concat(rejection.non_field_errors || [], rejection.category || [], rejection.title || [], rejection.post || [], rejection.attachments || []);

        _snackbar2.default.error(errors[0]);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.isErrored) {
        return _react2.default.createElement(_message2.default, { message: this.state.isErrored });
      }

      if (!this.state.isReady) {
        return _react2.default.createElement(_loader2.default, null);
      }

      var columns = 0;
      if (this.state.categoryOptions.close) columns += 1;
      if (this.state.categoryOptions.hide) columns += 1;
      if (this.state.categoryOptions.pin) columns += 1;

      var titleStyle = null;

      if (columns === 1) {
        titleStyle = "col-sm-6";
      } else {
        titleStyle = "col-sm-8";
      }

      if (columns === 3) {
        titleStyle += " col-md-6";
      } else if (columns) {
        titleStyle += " col-md-7";
      } else {
        titleStyle += " col-md-9";
      }

      return _react2.default.createElement(
        _container2.default,
        { className: "posting-form", withFirstRow: true },
        _react2.default.createElement(
          "form",
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            "div",
            { className: "row first-row" },
            _react2.default.createElement(
              "div",
              { className: titleStyle },
              _react2.default.createElement("input", {
                className: "form-control",
                disabled: this.state.isLoading,
                onChange: this.onTitleChange,
                placeholder: "Τίτλος αγγελίας",
                type: "text",
                value: this.state.title
              })
            ),
            _react2.default.createElement(
              "div",
              { className: "col-xs-12 col-sm-4 col-md-3 xs-margin-top" },
              _react2.default.createElement(_categorySelect2.default, {
                choices: this.state.categories,
                disabled: this.state.isLoading,
                onChange: this.onCategoryChange,
                value: this.state.category
              })
            ),
            _react2.default.createElement(_options2.default, {
              close: this.state.close,
              columns: columns,
              disabled: this.state.isLoading,
              hide: this.state.hide,
              onClose: this.onClose,
              onHide: this.onHide,
              onOpen: this.onOpen,
              onPinGlobally: this.onPinGlobally,
              onPinLocally: this.onPinLocally,
              onUnhide: this.onUnhide,
              onUnpin: this.onUnpin,
              options: this.state.categoryOptions,
              pin: this.state.pin,
              showOptions: this.state.showOptions
            })
          ),
          _react2.default.createElement(
            "div",
            { className: "row" },
            _react2.default.createElement(
              "div",
              { className: "col-md-12" },
              _react2.default.createElement(_editor2.default, {
                attachments: this.state.attachments,
                loading: this.state.isLoading,
                onAttachmentsChange: this.onAttachmentsChange,
                onCancel: this.onCancel,
                onChange: this.onPostChange,
                submitLabel: "Δημοσίευση αγγελίας",
                value: this.state.post
              })
            )
          )
        )
      );
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../services/ajax":365,"../../services/posting":375,"../../services/snackbar":376,"../category-select":21,"../editor":52,"../form":56,"./utils/attachments":138,"./utils/container":139,"./utils/loader":140,"./utils/message":141,"./utils/options":142,"./utils/validators":144,"react":"react"}],138:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.clean = clean;
exports.hydrate = hydrate;

var _moment = require("moment");

var _moment2 = _interopRequireDefault(_moment);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function clean(attachments) {
  var completedAttachments = attachments.filter(function (attachment) {
    return attachment.id && !attachment.isRemoved;
  });

  return completedAttachments.map(function (a) {
    return a.id;
  });
}

function hydrate(attachments) {
  return attachments.map(function (attachment) {
    return Object.assign({}, attachment, {
      uploaded_on: (0, _moment2.default)(attachment.uploaded_on)
    });
  });
}

},{"moment":"moment"}],139:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    "div",
    { className: props.className },
    _react2.default.createElement(
      "div",
      { className: "container" },
      props.children
    )
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],140:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    _container2.default,
    { className: "posting-loader" },
    _react2.default.createElement(_loader2.default, null)
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _container = require("./container");

var _container2 = _interopRequireDefault(_container);

var _loader = require("../../loader");

var _loader2 = _interopRequireDefault(_loader);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../loader":58,"./container":139,"react":"react"}],141:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    _container2.default,
    { className: "posting-message" },
    _react2.default.createElement(
      "div",
      { className: "message-body" },
      _react2.default.createElement(
        "p",
        null,
        _react2.default.createElement(
          "span",
          { className: "material-icon" },
          "error_outline"
        ),
        props.message
      ),
      _react2.default.createElement(
        "button",
        {
          type: "button",
          className: "btn btn-default",
          onClick: _posting2.default.close
        },
        "ΟΚ"
      )
    )
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _container = require("./container");

var _container2 = _interopRequireDefault(_container);

var _posting = require("../../../services/posting");

var _posting2 = _interopRequireDefault(_posting);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../../services/posting":375,"./container":139,"react":"react"}],142:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (!props.showOptions) return null;

  var columns = props.columns;


  var className = "col-xs-12 xs-margin-top";

  if (columns === 1) {
    className += " col-sm-2";
  } else {
    className += " sm-margin-top";
  }

  if (columns === 3) {
    className += " col-md-3";
  } else {
    className += " col-md-2";
  }
  className += " posting-options";

  var columnClassName = "col-xs-" + 12 / columns;

  var textClassName = "btn-text";
  if (columns === 3) {
    textClassName += " visible-sm-inline-block";
  } else if (columns === 2) {
    textClassName += " hidden-md hidden-lg";
  } else {
    textClassName += " hidden-sm";
  }

  return _react2.default.createElement(
    "div",
    { className: className },
    _react2.default.createElement(
      "div",
      { className: "row" },
      _react2.default.createElement(PinOptions, {
        className: columnClassName,
        disabled: props.disabled,
        onPinGlobally: props.onPinGlobally,
        onPinLocally: props.onPinLocally,
        onUnpin: props.onUnpin,
        pin: props.pin,
        show: props.options.pin,
        textClassName: textClassName
      }),
      _react2.default.createElement(HideOptions, {
        className: columnClassName,
        disabled: props.disabled,
        hide: props.hide,
        onHide: props.onHide,
        onUnhide: props.onUnhide,
        show: props.options.hide,
        textClassName: textClassName
      }),
      _react2.default.createElement(CloseOptions, {
        className: columnClassName,
        close: props.close,
        disabled: props.disabled,
        onClose: props.onClose,
        onOpen: props.onOpen,
        show: props.options.close,
        textClassName: textClassName
      })
    )
  );
};

exports.CloseOptions = CloseOptions;
exports.HideOptions = HideOptions;
exports.PinOptions = PinOptions;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function CloseOptions(props) {
  if (!props.show) return null;

  var label = props.close ? "Κλεισμένη" : "Ανοιχτή";

  return _react2.default.createElement(
    "div",
    { className: props.className },
    _react2.default.createElement(
      "button",
      {
        className: "btn btn-default btn-block",
        disabled: props.disabled,
        onClick: props.close ? props.onOpen : props.onClose,
        title: label,
        type: "button"
      },
      _react2.default.createElement(
        "span",
        { className: "material-icon" },
        props.close ? "lock" : "lock_outline"
      ),
      _react2.default.createElement(
        "span",
        { className: props.textClassName },
        label
      )
    )
  );
}

function HideOptions(props) {
  if (!props.show) return null;

  var label = props.hide ? "Κρυμμένη" : "Εμφανίζεται";

  return _react2.default.createElement(
    "div",
    { className: props.className },
    _react2.default.createElement(
      "button",
      {
        className: "btn btn-default btn-block",
        disabled: props.disabled,
        onClick: props.hide ? props.onUnhide : props.onHide,
        title: label,
        type: "button"
      },
      _react2.default.createElement(
        "span",
        { className: "material-icon" },
        props.hide ? "visibility_off" : "visibility"
      ),
      _react2.default.createElement(
        "span",
        { className: props.textClassName },
        label
      )
    )
  );
}

function PinOptions(props) {
  if (!props.show) return null;

  var icon = null;
  var onClick = null;
  var label = null;

  switch (props.pin) {
    default:
      icon = "radio_button_unchecked";
      onClick = props.onPinLocally;
      label = "Μη προωθημένη";
      break;

    case 1:
      icon = "bookmark_outline";
      onClick = props.onPinGlobally;
      label = "Προωθείται σε αυτή την κατηγορία";

      if (props.show === 2) {
        onClick = props.onPinGlobally;
      } else {
        onClick = props.onUnpin;
      }

      break;

    case 2:
      icon = "bookmark";
      onClick = props.onUnpin;
      label = "Προωθείται σε όλη τη σελίδα";
      break;
  }

  return _react2.default.createElement(
    "div",
    { className: props.className },
    _react2.default.createElement(
      "button",
      {
        className: "btn btn-default btn-block",
        disabled: props.disabled,
        onClick: onClick,
        title: label,
        type: "button"
      },
      _react2.default.createElement(
        "span",
        { className: "material-icon" },
        icon
      ),
      _react2.default.createElement(
        "span",
        { className: props.textClassName },
        label
      )
    )
  );
}

},{"react":"react"}],143:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (usernames) {
  var normalisedNames = usernames.split(",").map(function (i) {
    return i.trim().toLowerCase();
  });
  var removedBlanks = normalisedNames.filter(function (i) {
    return i.length > 0;
  });
  var removedDuplicates = removedBlanks.filter(function (name, pos) {
    return removedBlanks.indexOf(name) === pos;
  });

  return removedDuplicates;
};

},{}],144:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getTitleValidators = getTitleValidators;
exports.getPostValidators = getPostValidators;
exports.getTitleLengthMin = getTitleLengthMin;
exports.getTitleLengthMax = getTitleLengthMax;
exports.validatePostLengthMin = validatePostLengthMin;
exports.validatePostLengthMax = validatePostLengthMax;

var _validators = require("../../../utils/validators");

var _ = require("../../..");

var _2 = _interopRequireDefault(_);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function getTitleValidators() {
  return [getTitleLengthMin(), getTitleLengthMax()];
}

function getPostValidators() {
  if (_2.default.get("SETTINGS").post_length_max) {
    return [validatePostLengthMin(), validatePostLengthMax()];
  } else {
    return [validatePostLengthMin()];
  }
}

function getTitleLengthMin() {
  return (0, _validators.minLength)(_2.default.get("SETTINGS").thread_title_length_min, function (limitValue, length) {
    var message = "Ο τίτλος πρέπει να έχει τουλάχιστον %(limit_value)s χαρακτήρες (έχει %(show_value)s)";
    if (limitValue === 1) {
      message = "Ο τίτλος πρέπει να έχει τουλάχιστον %(limit_value)s χαρακτήρα (έχει %(show_value)s)";
    }

    return interpolate(message, {
      limit_value: limitValue,
      show_value: length
    }, true);
  });
}

function getTitleLengthMax() {
  return (0, _validators.maxLength)(_2.default.get("SETTINGS").thread_title_length_max, function (limitValue, length) {
    var message = "Ο τίτλος δεν μπορεί να έχει πάνω από %(limit_value)s χαρακτήρες (έχει %(show_value)s)";
    if (limitValue === 1) {
      message = "Ο τίτλος δεν μπορεί να έχει πάνω από %(limit_value)s χαρακτήρα (έχει %(show_value)s)";
    }

    return interpolate(message, {
      limit_value: limitValue,
      show_value: length
    }, true);
  });
}

function validatePostLengthMin() {
  return (0, _validators.minLength)(_2.default.get("SETTINGS").post_length_min, function (limitValue, length) {
    var message = "Το περιεχόμενο πρέπει να έχει τουλάχιστον %(limit_value)s χαρακτήρες (έχει %(show_value)s)";
    if (limitValue === 1) {
      message = "Το περιεχόμενο πρέπει να έχει τουλάχιστον %(limit_value)s χαρακτήρα (έχει %(show_value)s)";
    }

    return interpolate(message, {
      limit_value: limitValue,
      show_value: length
    }, true);
  });
}

function validatePostLengthMax() {
  return (0, _validators.maxLength)(_2.default.get("SETTINGS").post_length_max || 1000000, function (limitValue, length) {
    var message = "Το περιεχόμενο δεν μπορεί να έχει πάνω από %(limit_value)s χαρακτήρες (έχει %(show_value)s)";
    if (limitValue === 1) {
      message = "Το περιεχόμενο δεν μπορεί να έχει πάνω από %(limit_value)s χαρακτήρα (έχει %(show_value)s)";
    }

    return interpolate(message, {
      limit_value: limitValue,
      show_value: length
    }, true);
  });
}

},{"../../..":302,"../../../utils/validators":393}],145:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Delete = exports.Unhide = exports.Hide = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = function (props) {
  if (isVisible(props.post.acl)) {
    return _react2.default.createElement(
      "li",
      { className: "event-controls" },
      _react2.default.createElement(Hide, props),
      _react2.default.createElement(Unhide, props),
      _react2.default.createElement(Delete, props)
    );
  } else {
    return null;
  }
};

exports.isVisible = isVisible;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _moment = require("moment");

var _moment2 = _interopRequireDefault(_moment);

var _post = require("../../../reducers/post");

var post = _interopRequireWildcard(_post);

var _ajax = require("../../../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require("../../../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require("../../../services/store");

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

function isVisible(acl) {
  return acl.can_hide;
}

var Hide = exports.Hide = function (_React$Component) {
  _inherits(Hide, _React$Component);

  function Hide() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, Hide);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Hide.__proto__ || Object.getPrototypeOf(Hide)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      _store2.default.dispatch(post.patch(_this.props.post, {
        is_hidden: true,
        hidden_on: (0, _moment2.default)(),
        hidden_by_name: _this.props.user.username,
        url: Object.assign(_this.props.post.url, {
          hidden_by: _this.props.user.url
        })
      }));

      var op = { op: "replace", path: "is-hidden", value: true };

      _ajax2.default.patch(_this.props.post.api.index, [op]).then(function (patch) {
        _store2.default.dispatch(post.patch(_this.props.post, patch));
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar2.default.error(rejection.detail[0]);
        } else {
          _snackbar2.default.apiError(rejection);
        }

        _store2.default.dispatch(post.patch(_this.props.post, {
          is_hidden: false
        }));
      });
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(Hide, [{
    key: "render",
    value: function render() {
      if (!this.props.post.is_hidden) {
        return _react2.default.createElement(
          "button",
          { type: "button", className: "btn btn-link", onClick: this.onClick },
          "Κρύψιμο"
        );
      } else {
        return null;
      }
    }
  }]);

  return Hide;
}(_react2.default.Component);

var Unhide = exports.Unhide = function (_React$Component2) {
  _inherits(Unhide, _React$Component2);

  function Unhide() {
    var _ref2;

    var _temp2, _this2, _ret2;

    _classCallCheck(this, Unhide);

    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    return _ret2 = (_temp2 = (_this2 = _possibleConstructorReturn(this, (_ref2 = Unhide.__proto__ || Object.getPrototypeOf(Unhide)).call.apply(_ref2, [this].concat(args))), _this2), _this2.onClick = function () {
      _store2.default.dispatch(post.patch(_this2.props.post, {
        is_hidden: false
      }));

      var op = { op: "replace", path: "is-hidden", value: false };

      _ajax2.default.patch(_this2.props.post.api.index, [op]).then(function (patch) {
        _store2.default.dispatch(post.patch(_this2.props.post, patch));
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar2.default.error(rejection.detail[0]);
        } else {
          _snackbar2.default.apiError(rejection);
        }

        _store2.default.dispatch(post.patch(_this2.props.post, {
          is_hidden: true
        }));
      });
    }, _temp2), _possibleConstructorReturn(_this2, _ret2);
  }

  _createClass(Unhide, [{
    key: "render",
    value: function render() {
      if (this.props.post.is_hidden) {
        return _react2.default.createElement(
          "button",
          { type: "button", className: "btn btn-link", onClick: this.onClick },
          "Εμφάνιση"
        );
      } else {
        return null;
      }
    }
  }]);

  return Unhide;
}(_react2.default.Component);

var Delete = exports.Delete = function (_React$Component3) {
  _inherits(Delete, _React$Component3);

  function Delete() {
    var _ref3;

    var _temp3, _this3, _ret3;

    _classCallCheck(this, Delete);

    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    return _ret3 = (_temp3 = (_this3 = _possibleConstructorReturn(this, (_ref3 = Delete.__proto__ || Object.getPrototypeOf(Delete)).call.apply(_ref3, [this].concat(args))), _this3), _this3.onClick = function () {
      var decision = confirm("Είσαι σίγουρος ότι θέλεις να διαγράψεις αυτή την προσφορά;");
      if (decision) {
        _this3.delete();
      }
    }, _this3.delete = function () {
      _store2.default.dispatch(post.patch(_this3.props.post, {
        isDeleted: true
      }));

      _ajax2.default.delete(_this3.props.post.api.index).then(function () {
        _snackbar2.default.success("Η προσφορά έχει διαγραφεί επιτυχώς!");
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar2.default.error(rejection.detail[0]);
        } else {
          _snackbar2.default.apiError(rejection);
        }

        _store2.default.dispatch(post.patch(_this3.props.post, {
          isDeleted: false
        }));
      });
    }, _temp3), _possibleConstructorReturn(_this3, _ret3);
  }

  _createClass(Delete, [{
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "button",
        { type: "button", className: "btn btn-link", onClick: this.onClick },
        "Διαγραφή"
      );
    }
  }]);

  return Delete;
}(_react2.default.Component);

},{"../../../reducers/post":353,"../../../services/ajax":365,"../../../services/snackbar":376,"../../../services/store":377,"moment":"moment","react":"react"}],146:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    "div",
    { className: "post-avatar" },
    _react2.default.createElement(
      "span",
      { className: "material-icon" },
      ICON[props.post.event_type]
    )
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ICON = {
  changed_title: "edit",

  pinned_globally: "bookmark",
  pinned_locally: "bookmark_border",
  unpinned: "panorama_fish_eye",

  moved: "arrow_forward",
  merged: "call_merge",

  approved: "done",

  opened: "lock_open",
  closed: "lock_outline",

  unhid: "visibility",
  hid: "visibility_off",

  changed_owner: "grade",
  tookover: "grade",

  added_participant: "person_add",

  owner_left: "person_outline",
  participant_left: "person_outline",
  removed_participant: "remove_circle_outline"
};

},{"react":"react"}],147:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  var className = "event";
  if (props.post.isDeleted) {
    className = "hide";
  } else if (props.post.is_hidden) {
    className = "event post-hidden";
  }

  return _react2.default.createElement(
    "li",
    { id: "post-" + props.post.id, className: className },
    _react2.default.createElement(_unreadLabel2.default, { post: props.post }),
    _react2.default.createElement(
      "div",
      { className: "row" },
      _react2.default.createElement(
        "div",
        { className: "col-xs-2 col-sm-3 text-right" },
        _react2.default.createElement(_icon2.default, props)
      ),
      _react2.default.createElement(
        "div",
        { className: "col-xs-10 col-sm-9 text-left" },
        _react2.default.createElement(
          _waypoint2.default,
          { post: props.post },
          _react2.default.createElement(_message2.default, props),
          _react2.default.createElement(_info2.default, props)
        )
      )
    )
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _icon = require("./icon");

var _icon2 = _interopRequireDefault(_icon);

var _info = require("./info");

var _info2 = _interopRequireDefault(_info);

var _message = require("./message");

var _message2 = _interopRequireDefault(_message);

var _unreadLabel = require("./unread-label");

var _unreadLabel2 = _interopRequireDefault(_unreadLabel);

var _waypoint = require("../waypoint");

var _waypoint2 = _interopRequireDefault(_waypoint);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../waypoint":173,"./icon":146,"./info":148,"./message":149,"./unread-label":150,"react":"react"}],148:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    "ul",
    { className: "list-inline event-info" },
    _react2.default.createElement(Hidden, props),
    _react2.default.createElement(Poster, props),
    _react2.default.createElement(_controls2.default, props)
  );
};

exports.Hidden = Hidden;
exports.Poster = Poster;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _escapeHtml = require("../../../utils/escape-html");

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

var _controls = require("./controls");

var _controls2 = _interopRequireDefault(_controls);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var DATE_ABBR = '<abbr title="%(absolute)s">%(relative)s</abbr>';
var DATE_URL = '<a href="%(url)s" title="%(absolute)s">%(relative)s</a>';
var USER_SPAN = '<span class="item-title">%(user)s</span>';
var USER_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';

function Hidden(props) {
  if (props.post.is_hidden) {
    var user = null;
    if (props.post.url.hidden_by) {
      user = interpolate(USER_URL, {
        url: (0, _escapeHtml2.default)(props.post.url.hidden_by),
        user: (0, _escapeHtml2.default)(props.post.hidden_by_name)
      }, true);
    } else {
      user = interpolate(USER_SPAN, {
        user: (0, _escapeHtml2.default)(props.post.hidden_by_name)
      }, true);
    }

    var date = interpolate(DATE_ABBR, {
      absolute: (0, _escapeHtml2.default)(props.post.hidden_on.format("LLL")),
      relative: (0, _escapeHtml2.default)(props.post.hidden_on.fromNow())
    }, true);

    var message = interpolate((0, _escapeHtml2.default)("Κρυμμένο από %(event_by)s %(event_on)s"), {
      event_by: user,
      event_on: date
    }, true);

    return _react2.default.createElement("li", {
      className: "event-hidden-message",
      dangerouslySetInnerHTML: { __html: message }
    });
  } else {
    return null;
  }
}

function Poster(props) {
  var user = null;
  if (props.post.poster) {
    user = interpolate(USER_URL, {
      url: (0, _escapeHtml2.default)(props.post.poster.url),
      user: (0, _escapeHtml2.default)(props.post.poster_name)
    }, true);
  } else {
    user = interpolate(USER_SPAN, {
      user: (0, _escapeHtml2.default)(props.post.poster_name)
    }, true);
  }

  var date = interpolate(DATE_URL, {
    url: (0, _escapeHtml2.default)(props.post.url.index),
    absolute: (0, _escapeHtml2.default)(props.post.posted_on.format("LLL")),
    relative: (0, _escapeHtml2.default)(props.post.posted_on.fromNow())
  }, true);

  var message = interpolate((0, _escapeHtml2.default)("Από %(event_by)s %(event_on)s"), {
    event_by: user,
    event_on: date
  }, true);

  return _react2.default.createElement("li", {
    className: "event-posters",
    dangerouslySetInnerHTML: { __html: message }
  });
}

},{"../../../utils/escape-html":383,"./controls":145,"react":"react"}],149:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (MESSAGE[props.post.event_type]) {
    return _react2.default.createElement(
      "p",
      { className: "event-message" },
      MESSAGE[props.post.event_type]
    );
  } else if (props.post.event_type === "changed_title") {
    return _react2.default.createElement(ChangedTitle, props);
  } else if (props.post.event_type === "moved") {
    return _react2.default.createElement(Moved, props);
  } else if (props.post.event_type === "merged") {
    return _react2.default.createElement(Merged, props);
  } else if (props.post.event_type === "changed_owner") {
    return _react2.default.createElement(ChangedOwner, props);
  } else if (props.post.event_type === "added_participant") {
    return _react2.default.createElement(AddedParticipant, props);
  } else if (props.post.event_type === "removed_participant") {
    return _react2.default.createElement(RemovedParticipant, props);
  } else {
    return null;
  }
};

exports.ChangedTitle = ChangedTitle;
exports.Moved = Moved;
exports.Merged = Merged;
exports.ChangedOwner = ChangedOwner;
exports.AddedParticipant = AddedParticipant;
exports.RemovedParticipant = RemovedParticipant;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _escapeHtml = require("../../../utils/escape-html");

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var MESSAGE = {
  pinned_globally: "Η αγγελία προωθείται σε όλη τη σελίδα",
  pinned_locally: "Η αγγελία προωθείται σε αυτή την κατηγορία",
  unpinned: "Η αγγελία δεν προωθείται πλέον",

  approved: "Η αγγελία εγκρίθηκε",

  opened: "Η αγγελία άνοιξε για νέες προσφορές",
  closed: "Η αγγελία έκλεισε για νέες προσφορές",

  unhid: "Η αγγελία θα εμφανίζεται από τώρα",
  hid: "Η αγγελία θα είναι κρυμμένη από τώρα",

  tookover: "Πήρες έλεγχο της αγγελίας",

  owner_left: "Ο ιδιοκτήτης της αγγελίας έφυγε, οπότε θα κλείσει",
  participant_left: "Ένας χρήστης που έκανε προσφορά έφυγε"
};

var ITEM_LINK = '<a href="%(url)s" class="item-title">%(name)s</a>';
var ITEM_SPAN = '<span class="item-title">%(name)s</span>';

function ChangedTitle(props) {
  var msgstring = (0, _escapeHtml2.default)("Ο τίτλος της αγγελίας άλλαξε από %(old_title)s");
  var oldTitle = interpolate(ITEM_SPAN, {
    name: (0, _escapeHtml2.default)(props.post.event_context.old_title)
  }, true);
  var message = interpolate(msgstring, {
    old_title: oldTitle
  }, true);

  return _react2.default.createElement("p", {
    className: "event-message",
    dangerouslySetInnerHTML: { __html: message }
  });
}

function Moved(props) {
  var msgstring = (0, _escapeHtml2.default)("Η αγγελία μετακινήθηκε από %(from_category)s");
  var fromCategory = interpolate(ITEM_LINK, {
    url: (0, _escapeHtml2.default)(props.post.event_context.from_category.url),
    name: (0, _escapeHtml2.default)(props.post.event_context.from_category.name)
  }, true);

  var message = interpolate(msgstring, {
    from_category: fromCategory
  }, true);

  return _react2.default.createElement("p", {
    className: "event-message",
    dangerouslySetInnerHTML: { __html: message }
  });
}

function Merged(props) {
  var msgstring = (0, _escapeHtml2.default)("Η αγγελία %(merged_thread)s συγχωνεύθηκε με αυτή εδώ");
  var mergedThread = interpolate(ITEM_SPAN, {
    name: (0, _escapeHtml2.default)(props.post.event_context.merged_thread)
  }, true);

  var message = interpolate(msgstring, {
    merged_thread: mergedThread
  }, true);

  return _react2.default.createElement("p", {
    className: "event-message",
    dangerouslySetInnerHTML: { __html: message }
  });
}

function ChangedOwner(props) {
  var msgstring = (0, _escapeHtml2.default)("Ο νέος ιδιοκτήτης είναι ο χρήστης %(user)s");
  var newOwner = interpolate(ITEM_LINK, {
    url: (0, _escapeHtml2.default)(props.post.event_context.user.url),
    name: (0, _escapeHtml2.default)(props.post.event_context.user.username)
  }, true);

  var message = interpolate(msgstring, {
    user: newOwner
  }, true);

  return _react2.default.createElement("p", {
    className: "event-message",
    dangerouslySetInnerHTML: { __html: message }
  });
}

function AddedParticipant(props) {
  var msgstring = (0, _escapeHtml2.default)("Προστέθηκε ο χρήστης %(user)s");
  var newOwner = interpolate(ITEM_LINK, {
    url: (0, _escapeHtml2.default)(props.post.event_context.user.url),
    name: (0, _escapeHtml2.default)(props.post.event_context.user.username)
  }, true);

  var message = interpolate(msgstring, {
    user: newOwner
  }, true);

  return _react2.default.createElement("p", {
    className: "event-message",
    dangerouslySetInnerHTML: { __html: message }
  });
}

function RemovedParticipant(props) {
  var msgstring = (0, _escapeHtml2.default)("Αφαιρέθηκε ο χρήστης %(user)s");
  var newOwner = interpolate(ITEM_LINK, {
    url: (0, _escapeHtml2.default)(props.post.event_context.user.url),
    name: (0, _escapeHtml2.default)(props.post.event_context.user.username)
  }, true);

  var message = interpolate(msgstring, {
    user: newOwner
  }, true);

  return _react2.default.createElement("p", {
    className: "event-message",
    dangerouslySetInnerHTML: { __html: message }
  });
}

},{"../../../utils/escape-html":383,"react":"react"}],150:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var post = _ref.post;

  if (post.is_read) return null;

  return _react2.default.createElement(
    "div",
    { className: "row" },
    _react2.default.createElement(
      "div",
      { className: "col-xs-10 col-xs-offset-2 col-sm-9 col-sm-offset-3 text-left" },
      _react2.default.createElement(
        "div",
        { className: "event-label" },
        _react2.default.createElement(
          "span",
          { className: "label label-unread" },
          "Νέα προσφορά"
        )
      )
    )
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],151:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.default = function (props) {
  if (!props.posts.isLoaded) {
    return _react2.default.createElement(
      "ul",
      { className: "posts-list ui-preview" },
      _react2.default.createElement(_preview2.default, null)
    );
  }

  return _react2.default.createElement(
    "ul",
    { className: "posts-list ui-ready" },
    props.posts.results.map(function (post) {
      return _react2.default.createElement(ListItem, _extends({ key: post.id, post: post }, props));
    })
  );
};

exports.ListItem = ListItem;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _event = require("./event");

var _event2 = _interopRequireDefault(_event);

var _post = require("./post");

var _post2 = _interopRequireDefault(_post);

var _preview = require("./post/preview");

var _preview2 = _interopRequireDefault(_preview);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function ListItem(props) {
  if (props.post.is_event) {
    return _react2.default.createElement(_event2.default, props);
  }

  return _react2.default.createElement(_post2.default, props);
}

},{"./event":147,"./post":163,"./post/preview":171,"react":"react"}],152:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    "div",
    { className: "col-xs-12 col-md-6" },
    _react2.default.createElement(AttachmentPreview, props),
    _react2.default.createElement(
      "div",
      { className: "post-attachment" },
      _react2.default.createElement(
        "a",
        {
          href: props.attachment.url.index,
          className: "attachment-name item-title"
        },
        props.attachment.filename
      ),
      _react2.default.createElement(AttachmentDetails, props)
    )
  );
};

exports.AttachmentPreview = AttachmentPreview;
exports.AttachmentIcon = AttachmentIcon;
exports.AttachmentThumbnail = AttachmentThumbnail;
exports.AttachmentDetails = AttachmentDetails;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _escapeHtml = require("../../../../utils/escape-html");

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

var _fileSize = require("../../../../utils/file-size");

var _fileSize2 = _interopRequireDefault(_fileSize);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var DATE_ABBR = '<abbr title="%(absolute)s">%(relative)s</abbr>';
var USER_SPAN = '<span class="item-title">%(user)s</span>';
var USER_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';

function AttachmentPreview(props) {
  if (props.attachment.is_image) {
    return _react2.default.createElement(
      "div",
      { className: "post-attachment-preview" },
      _react2.default.createElement(AttachmentThumbnail, props)
    );
  } else {
    return _react2.default.createElement(
      "div",
      { className: "post-attachment-preview" },
      _react2.default.createElement(AttachmentIcon, props)
    );
  }
}

function AttachmentIcon(props) {
  return _react2.default.createElement(
    "a",
    { href: props.attachment.url.index, className: "material-icon" },
    "insert_drive_file"
  );
}

function AttachmentThumbnail(props) {
  var url = props.attachment.url.thumb || props.attachment.url.index;
  return _react2.default.createElement("a", {
    className: "post-thumbnail",
    href: props.attachment.url.index,
    style: { backgroundImage: 'url("' + (0, _escapeHtml2.default)(url) + '")' }
  });
}

function AttachmentDetails(props) {
  var user = null;
  if (props.attachment.url.uploader) {
    user = interpolate(USER_URL, {
      url: (0, _escapeHtml2.default)(props.attachment.url.uploader),
      user: (0, _escapeHtml2.default)(props.attachment.uploader_name)
    }, true);
  } else {
    user = interpolate(USER_SPAN, {
      user: (0, _escapeHtml2.default)(props.attachment.uploader_name)
    }, true);
  }

  var date = interpolate(DATE_ABBR, {
    absolute: (0, _escapeHtml2.default)(props.attachment.uploaded_on.format("LLL")),
    relative: (0, _escapeHtml2.default)(props.attachment.uploaded_on.fromNow())
  }, true);

  var message = interpolate((0, _escapeHtml2.default)("%(filetype)s, %(size)s, ανεβάστηκε από %(uploader)s %(uploaded_on)s."), {
    filetype: props.attachment.filetype,
    size: (0, _fileSize2.default)(props.attachment.size),
    uploader: user,
    uploaded_on: date
  }, true);

  return _react2.default.createElement("p", {
    className: "post-attachment-description",
    dangerouslySetInnerHTML: { __html: message }
  });
}

},{"../../../../utils/escape-html":383,"../../../../utils/file-size":384,"react":"react"}],153:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (!isVisible(props.post)) {
    return null;
  }

  return _react2.default.createElement(
    "div",
    { className: "post-attachments" },
    (0, _batch2.default)(props.post.attachments, 2).map(function (row) {
      var key = row.map(function (a) {
        return a ? a.id : 0;
      }).join("_");
      return _react2.default.createElement(Row, { key: key, row: row });
    })
  );
};

exports.isVisible = isVisible;
exports.Row = Row;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _batch = require("../../../../utils/batch");

var _batch2 = _interopRequireDefault(_batch);

var _attachment = require("./attachment");

var _attachment2 = _interopRequireDefault(_attachment);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function isVisible(post) {
  return (!post.is_hidden || post.acl.can_see_hidden) && post.attachments;
}

function Row(props) {
  return _react2.default.createElement(
    "div",
    { className: "row" },
    props.row.map(function (attachment) {
      return _react2.default.createElement(_attachment2.default, {
        attachment: attachment,
        key: attachment ? attachment.id : 0
      });
    })
  );
}

},{"../../../../utils/batch":380,"./attachment":152,"react":"react"}],154:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (props.post.is_hidden && !props.post.acl.can_see_hidden) {
    return _react2.default.createElement(Hidden, props);
  } else if (props.post.content) {
    return _react2.default.createElement(Default, props);
  } else {
    return _react2.default.createElement(Invalid, props);
  }
};

exports.Default = Default;
exports.Hidden = Hidden;
exports.Invalid = Invalid;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _waypoint = require("../waypoint");

var _waypoint2 = _interopRequireDefault(_waypoint);

var _misagoMarkup = require("../../misago-markup");

var _misagoMarkup2 = _interopRequireDefault(_misagoMarkup);

var _escapeHtml = require("../../../utils/escape-html");

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var HIDDEN_BY_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';
var HIDDEN_BY_SPAN = '<span class="item-title">%(user)s</span>';
var HIDDEN_ON = '<abbr class="last-title" title="%(absolute)s">%(relative)s</abbr>';

function Default(props) {
  return _react2.default.createElement(
    _waypoint2.default,
    { className: "post-body", post: props.post },
    _react2.default.createElement(_misagoMarkup2.default, { markup: props.post.content })
  );
}

function Hidden(props) {
  var user = null;
  if (props.post.hidden_by) {
    user = interpolate(HIDDEN_BY_URL, {
      url: (0, _escapeHtml2.default)(props.post.url.hidden_by),
      user: (0, _escapeHtml2.default)(props.post.hidden_by_name)
    }, true);
  } else {
    user = interpolate(HIDDEN_BY_SPAN, {
      user: (0, _escapeHtml2.default)(props.post.hidden_by_name)
    }, true);
  }

  var date = interpolate(HIDDEN_ON, {
    absolute: (0, _escapeHtml2.default)(props.post.hidden_on.format("LLL")),
    relative: (0, _escapeHtml2.default)(props.post.hidden_on.fromNow())
  }, true);

  var message = interpolate((0, _escapeHtml2.default)("Κρυμμένη από %(hidden_by)s %(hidden_on)s"), {
    hidden_by: user,
    hidden_on: date
  }, true);

  return _react2.default.createElement(
    _waypoint2.default,
    { className: "post-body post-body-hidden", post: props.post },
    _react2.default.createElement(
      "p",
      { className: "lead" },
      "Αυτή η προσφορά είναι κρυμμένη. Δεν μπορείς να δεις τις λεπτομέρειές της."
    ),
    _react2.default.createElement("p", { className: "text-muted", dangerouslySetInnerHTML: { __html: message } })
  );
}

function Invalid(props) {
  return _react2.default.createElement(
    _waypoint2.default,
    { className: "post-body post-body-invalid", post: props.post },
    _react2.default.createElement(
      "p",
      { className: "lead" },
      "Οι λεπτομέρειες τις προσφοράς δεν μπορούν να προβληθούν"
    ),
    _react2.default.createElement(
      "p",
      { className: "text-muted" },
      "Αυτό το λάθος προκαλέστηκε από μη έγκυρη τροποποίηση του περιεχομένου της προσφοράς"
    )
  );
}

},{"../../../utils/escape-html":383,"../../misago-markup":60,"../waypoint":173,"react":"react"}],155:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.approve = approve;
exports.protect = protect;
exports.unprotect = unprotect;
exports.hide = hide;
exports.unhide = unhide;
exports.like = like;
exports.unlike = unlike;
exports.patch = patch;
exports.remove = remove;
exports.markAsBestAnswer = markAsBestAnswer;
exports.unmarkBestAnswer = unmarkBestAnswer;
exports.patchThread = patchThread;

var _moment = require("moment");

var _moment2 = _interopRequireDefault(_moment);

var _thread = require("../../../../reducers/thread");

var thread = _interopRequireWildcard(_thread);

var _post = require("../../../../reducers/post");

var post = _interopRequireWildcard(_post);

var _ajax = require("../../../../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require("../../../../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require("../../../../services/store");

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function approve(props) {
  _store2.default.dispatch(post.patch(props.post, {
    is_unapproved: false
  }));

  var ops = [{ op: "replace", path: "is-unapproved", value: false }];

  var previousState = {
    is_unapproved: props.post.is_unapproved
  };

  patch(props, ops, previousState);
}

function protect(props) {
  _store2.default.dispatch(post.patch(props.post, {
    is_protected: true
  }));

  var ops = [{ op: "replace", path: "is-protected", value: true }];

  var previousState = {
    is_protected: props.post.is_protected
  };

  patch(props, ops, previousState);
}

function unprotect(props) {
  _store2.default.dispatch(post.patch(props.post, {
    is_protected: false
  }));

  var ops = [{ op: "replace", path: "is-protected", value: false }];

  var previousState = {
    is_protected: props.post.is_protected
  };

  patch(props, ops, previousState);
}

function hide(props) {
  _store2.default.dispatch(post.patch(props.post, {
    is_hidden: true,
    hidden_on: (0, _moment2.default)(),
    hidden_by_name: props.user.username,
    url: Object.assign(props.post.url, {
      hidden_by: props.user.url
    })
  }));

  var ops = [{ op: "replace", path: "is-hidden", value: true }];

  var previousState = {
    is_hidden: props.post.is_hidden,
    hidden_on: props.post.hidden_on,
    hidden_by_name: props.post.hidden_by_name,
    url: props.post.url
  };

  patch(props, ops, previousState);
}

function unhide(props) {
  _store2.default.dispatch(post.patch(props.post, {
    is_hidden: false
  }));

  var ops = [{ op: "replace", path: "is-hidden", value: false }];

  var previousState = {
    is_hidden: props.post.is_hidden
  };

  patch(props, ops, previousState);
}

function like(props) {
  var lastLikes = props.post.last_likes || [];
  var concatedLikes = [props.user].concat(lastLikes);
  var finalLikes = concatedLikes.length > 3 ? concatedLikes.slice(0, -1) : concatedLikes;

  _store2.default.dispatch(post.patch(props.post, {
    is_liked: true,
    likes: props.post.likes + 1,
    last_likes: finalLikes
  }));

  var ops = [{ op: "replace", path: "is-liked", value: true }];

  var previousState = {
    is_liked: props.post.is_liked,
    likes: props.post.likes,
    last_likes: props.post.last_likes
  };

  patch(props, ops, previousState);
}

function unlike(props) {
  _store2.default.dispatch(post.patch(props.post, {
    is_liked: false,
    likes: props.post.likes - 1,
    last_likes: props.post.last_likes.filter(function (user) {
      return !user.id || user.id !== props.user.id;
    })
  }));

  var ops = [{ op: "replace", path: "is-liked", value: false }];

  var previousState = {
    is_liked: props.post.is_liked,
    likes: props.post.likes,
    last_likes: props.post.last_likes
  };

  patch(props, ops, previousState);
}

function patch(props, ops, previousState) {
  _ajax2.default.patch(props.post.api.index, ops).then(function (newState) {
    _store2.default.dispatch(post.patch(props.post, newState));
  }, function (rejection) {
    if (rejection.status === 400) {
      _snackbar2.default.error(rejection.detail[0]);
    } else {
      _snackbar2.default.apiError(rejection);
    }

    _store2.default.dispatch(post.patch(props.post, previousState));
  });
}

function remove(props) {
  var confirmed = confirm("Είσαι σίγουρος ότι θέλεις να διαγράψεις αυτή την προσφορά;");
  if (!confirmed) {
    return;
  }

  _store2.default.dispatch(post.patch(props.post, {
    isDeleted: true
  }));

  _ajax2.default.delete(props.post.api.index).then(function () {
    _snackbar2.default.success("Η προσφορά διαγράφηκε επιτυχώς!");
  }, function (rejection) {
    if (rejection.status === 400) {
      _snackbar2.default.error(rejection.detail);
    } else {
      _snackbar2.default.apiError(rejection);
    }

    _store2.default.dispatch(post.patch(props.post, {
      isDeleted: false
    }));
  });
}

function markAsBestAnswer(props) {
  var post = props.post,
      user = props.user;


  _store2.default.dispatch(thread.update({
    best_answer: post.id,
    best_answer_is_protected: post.is_protected,
    best_answer_marked_on: (0, _moment2.default)(),
    best_answer_marked_by: user.id,
    best_answer_marked_by_name: user.username,
    best_answer_marked_by_slug: user.slug
  }));

  var ops = [{ op: "replace", path: "best-answer", value: post.id }, { op: "add", path: "acl", value: true }];

  var previousState = {
    best_answer: props.thread.best_answer,
    best_answer_is_protected: props.thread.best_answer_is_protected,
    best_answer_marked_on: props.thread.best_answer_marked_on,
    best_answer_marked_by: props.thread.best_answer_marked_by,
    best_answer_marked_by_name: props.thread.best_answer_marked_by_name,
    best_answer_marked_by_slug: props.thread.best_answer_marked_by_slug
  };

  patchThread(props, ops, previousState);
}

function unmarkBestAnswer(props) {
  var post = props.post;


  _store2.default.dispatch(thread.update({
    best_answer: null,
    best_answer_is_protected: false,
    best_answer_marked_on: null,
    best_answer_marked_by: null,
    best_answer_marked_by_name: null,
    best_answer_marked_by_slug: null
  }));

  var ops = [{ op: "remove", path: "best-answer", value: post.id }, { op: "add", path: "acl", value: true }];

  var previousState = {
    best_answer: props.thread.best_answer,
    best_answer_is_protected: props.thread.best_answer_is_protected,
    best_answer_marked_on: props.thread.best_answer_marked_on,
    best_answer_marked_by: props.thread.best_answer_marked_by,
    best_answer_marked_by_name: props.thread.best_answer_marked_by_name,
    best_answer_marked_by_slug: props.thread.best_answer_marked_by_slug
  };

  patchThread(props, ops, previousState);
}

function patchThread(props, ops, previousState) {
  _ajax2.default.patch(props.thread.api.index, ops).then(function (newState) {
    if (newState.best_answer_marked_on) {
      newState.best_answer_marked_on = (0, _moment2.default)(newState.best_answer_marked_on);
    }
    _store2.default.dispatch(thread.update(newState));
  }, function (rejection) {
    if (rejection.status === 400) {
      _snackbar2.default.error(rejection.detail[0]);
    } else {
      _snackbar2.default.apiError(rejection);
    }

    _store2.default.dispatch(thread.update(previousState));
  });
}

},{"../../../../reducers/post":353,"../../../../reducers/thread":360,"../../../../services/ajax":365,"../../../../services/snackbar":376,"../../../../services/store":377,"moment":"moment"}],156:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Delete = exports.Unhide = exports.Hide = exports.Unprotect = exports.Protect = exports.Split = exports.Move = exports.Approve = exports.PostEdits = exports.UnmarkMarkBestAnswer = exports.MarkAsBestAnswer = exports.Edit = exports.Permalink = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = function (props) {
  return _react2.default.createElement(
    "ul",
    { className: "dropdown-menu dropdown-menu-right stick-to-bottom" },
    _react2.default.createElement(Permalink, props),
    _react2.default.createElement(Edit, props),
    _react2.default.createElement(MarkAsBestAnswer, props),
    _react2.default.createElement(UnmarkMarkBestAnswer, props),
    _react2.default.createElement(PostEdits, props),
    _react2.default.createElement(Approve, props),
    _react2.default.createElement(Move, props),
    _react2.default.createElement(Split, props),
    _react2.default.createElement(Protect, props),
    _react2.default.createElement(Unprotect, props),
    _react2.default.createElement(Hide, props),
    _react2.default.createElement(Unhide, props),
    _react2.default.createElement(Delete, props)
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _modal = require("../../../../services/modal");

var _modal2 = _interopRequireDefault(_modal);

var _posting = require("../../../../services/posting");

var _posting2 = _interopRequireDefault(_posting);

var _actions = require("./actions");

var moderation = _interopRequireWildcard(_actions);

var _move = require("./move");

var _move2 = _interopRequireDefault(_move);

var _postChangelog = require("../../../post-changelog");

var _postChangelog2 = _interopRequireDefault(_postChangelog);

var _split = require("./split");

var _split2 = _interopRequireDefault(_split);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Permalink = exports.Permalink = function (_React$Component) {
  _inherits(Permalink, _React$Component);

  function Permalink() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, Permalink);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Permalink.__proto__ || Object.getPrototypeOf(Permalink)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      var permaUrl = window.location.protocol + "//";
      permaUrl += window.location.host;
      permaUrl += _this.props.post.url.index;

      prompt("Μόνιμος σύνδεσμος για αυτή την προσφορά:", permaUrl);
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(Permalink, [{
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "li",
        null,
        _react2.default.createElement(
          "button",
          { className: "btn btn-link", onClick: this.onClick, type: "button" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "link"
          ),
          "Μόνιμος σύνδεσμος"
        )
      );
    }
  }]);

  return Permalink;
}(_react2.default.Component);

var Edit = exports.Edit = function (_React$Component2) {
  _inherits(Edit, _React$Component2);

  function Edit() {
    var _ref2;

    var _temp2, _this2, _ret2;

    _classCallCheck(this, Edit);

    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    return _ret2 = (_temp2 = (_this2 = _possibleConstructorReturn(this, (_ref2 = Edit.__proto__ || Object.getPrototypeOf(Edit)).call.apply(_ref2, [this].concat(args))), _this2), _this2.onClick = function () {
      _posting2.default.open({
        mode: "EDIT",

        config: _this2.props.post.api.editor,
        submit: _this2.props.post.api.index
      });
    }, _temp2), _possibleConstructorReturn(_this2, _ret2);
  }

  _createClass(Edit, [{
    key: "render",
    value: function render() {
      if (!this.props.post.acl.can_edit) return null;

      return _react2.default.createElement(
        "li",
        null,
        _react2.default.createElement(
          "button",
          { className: "btn btn-link", onClick: this.onClick, type: "button" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "edit"
          ),
          "Επεξεργασία"
        )
      );
    }
  }]);

  return Edit;
}(_react2.default.Component);

var MarkAsBestAnswer = exports.MarkAsBestAnswer = function (_React$Component3) {
  _inherits(MarkAsBestAnswer, _React$Component3);

  function MarkAsBestAnswer() {
    var _ref3;

    var _temp3, _this3, _ret3;

    _classCallCheck(this, MarkAsBestAnswer);

    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    return _ret3 = (_temp3 = (_this3 = _possibleConstructorReturn(this, (_ref3 = MarkAsBestAnswer.__proto__ || Object.getPrototypeOf(MarkAsBestAnswer)).call.apply(_ref3, [this].concat(args))), _this3), _this3.onClick = function () {
      moderation.markAsBestAnswer(_this3.props);
    }, _temp3), _possibleConstructorReturn(_this3, _ret3);
  }

  _createClass(MarkAsBestAnswer, [{
    key: "render",
    value: function render() {
      var _props = this.props,
          post = _props.post,
          thread = _props.thread;


      if (!thread.acl.can_mark_best_answer) return null;
      if (!post.acl.can_mark_as_best_answer) return null;
      if (post.id === thread.best_answer) return null;
      if (thread.best_answer && !thread.acl.can_change_best_answer) return null;

      return _react2.default.createElement(
        "li",
        null,
        _react2.default.createElement(
          "button",
          { className: "btn btn-link", onClick: this.onClick, type: "button" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "check_box"
          ),
          "Επιλογή προσφοράς"
        )
      );
    }
  }]);

  return MarkAsBestAnswer;
}(_react2.default.Component);

var UnmarkMarkBestAnswer = exports.UnmarkMarkBestAnswer = function (_React$Component4) {
  _inherits(UnmarkMarkBestAnswer, _React$Component4);

  function UnmarkMarkBestAnswer() {
    var _ref4;

    var _temp4, _this4, _ret4;

    _classCallCheck(this, UnmarkMarkBestAnswer);

    for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
      args[_key4] = arguments[_key4];
    }

    return _ret4 = (_temp4 = (_this4 = _possibleConstructorReturn(this, (_ref4 = UnmarkMarkBestAnswer.__proto__ || Object.getPrototypeOf(UnmarkMarkBestAnswer)).call.apply(_ref4, [this].concat(args))), _this4), _this4.onClick = function () {
      moderation.unmarkBestAnswer(_this4.props);
    }, _temp4), _possibleConstructorReturn(_this4, _ret4);
  }

  _createClass(UnmarkMarkBestAnswer, [{
    key: "render",
    value: function render() {
      var _props2 = this.props,
          post = _props2.post,
          thread = _props2.thread;


      if (post.id !== thread.best_answer) return null;
      if (!thread.acl.can_unmark_best_answer) return null;

      return _react2.default.createElement(
        "li",
        null,
        _react2.default.createElement(
          "button",
          { className: "btn btn-link", onClick: this.onClick, type: "button" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "check_box_outline_blank"
          ),
          "Αποεπιλογή προσφοράς"
        )
      );
    }
  }]);

  return UnmarkMarkBestAnswer;
}(_react2.default.Component);

var PostEdits = exports.PostEdits = function (_React$Component5) {
  _inherits(PostEdits, _React$Component5);

  function PostEdits() {
    var _ref5;

    var _temp5, _this5, _ret5;

    _classCallCheck(this, PostEdits);

    for (var _len5 = arguments.length, args = Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {
      args[_key5] = arguments[_key5];
    }

    return _ret5 = (_temp5 = (_this5 = _possibleConstructorReturn(this, (_ref5 = PostEdits.__proto__ || Object.getPrototypeOf(PostEdits)).call.apply(_ref5, [this].concat(args))), _this5), _this5.onClick = function () {
      _modal2.default.show(_react2.default.createElement(_postChangelog2.default, { post: _this5.props.post }));
    }, _temp5), _possibleConstructorReturn(_this5, _ret5);
  }

  _createClass(PostEdits, [{
    key: "render",
    value: function render() {
      var isHidden = this.props.post.is_hidden && !this.props.post.acl.can_see_hidden;
      var isUnedited = this.props.post.edits === 0;
      if (isHidden || isUnedited) return null;

      var message = "Αυτή η προσφορά έχει τροποποιηθεί %(edits)s φορές";
      if (this.props.post.edits === 1) {
        message = "Αυτή η προσφορά έχει τροποποιηθεί %(edits)s φορά";
      }

      var title = interpolate(message, {
        edits: this.props.post.edits
      }, true);

      return _react2.default.createElement(
        "li",
        null,
        _react2.default.createElement(
          "button",
          { className: "btn btn-link", onClick: this.onClick, type: "button" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "edit"
          ),
          "Ιστορικό αλλαγών"
        )
      );
    }
  }]);

  return PostEdits;
}(_react2.default.Component);

var Approve = exports.Approve = function (_React$Component6) {
  _inherits(Approve, _React$Component6);

  function Approve() {
    var _ref6;

    var _temp6, _this6, _ret6;

    _classCallCheck(this, Approve);

    for (var _len6 = arguments.length, args = Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {
      args[_key6] = arguments[_key6];
    }

    return _ret6 = (_temp6 = (_this6 = _possibleConstructorReturn(this, (_ref6 = Approve.__proto__ || Object.getPrototypeOf(Approve)).call.apply(_ref6, [this].concat(args))), _this6), _this6.onClick = function () {
      moderation.approve(_this6.props);
    }, _temp6), _possibleConstructorReturn(_this6, _ret6);
  }

  _createClass(Approve, [{
    key: "render",
    value: function render() {
      if (!this.props.post.acl.can_approve) return null;
      if (!this.props.post.is_unapproved) return null;

      return _react2.default.createElement(
        "li",
        null,
        _react2.default.createElement(
          "button",
          { className: "btn btn-link", onClick: this.onClick, type: "button" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "done"
          ),
          "Έγκριση"
        )
      );
    }
  }]);

  return Approve;
}(_react2.default.Component);

var Move = exports.Move = function (_React$Component7) {
  _inherits(Move, _React$Component7);

  function Move() {
    var _ref7;

    var _temp7, _this7, _ret7;

    _classCallCheck(this, Move);

    for (var _len7 = arguments.length, args = Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {
      args[_key7] = arguments[_key7];
    }

    return _ret7 = (_temp7 = (_this7 = _possibleConstructorReturn(this, (_ref7 = Move.__proto__ || Object.getPrototypeOf(Move)).call.apply(_ref7, [this].concat(args))), _this7), _this7.onClick = function () {
      _modal2.default.show(_react2.default.createElement(_move2.default, _this7.props));
    }, _temp7), _possibleConstructorReturn(_this7, _ret7);
  }

  _createClass(Move, [{
    key: "render",
    value: function render() {
      if (!this.props.post.acl.can_move) return null;

      return _react2.default.createElement(
        "li",
        null,
        _react2.default.createElement(
          "button",
          { className: "btn btn-link", onClick: this.onClick, type: "button" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "arrow_forward"
          ),
          "Μετακίνηση"
        )
      );
    }
  }]);

  return Move;
}(_react2.default.Component);

var Split = exports.Split = function (_React$Component8) {
  _inherits(Split, _React$Component8);

  function Split() {
    var _ref8;

    var _temp8, _this8, _ret8;

    _classCallCheck(this, Split);

    for (var _len8 = arguments.length, args = Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {
      args[_key8] = arguments[_key8];
    }

    return _ret8 = (_temp8 = (_this8 = _possibleConstructorReturn(this, (_ref8 = Split.__proto__ || Object.getPrototypeOf(Split)).call.apply(_ref8, [this].concat(args))), _this8), _this8.onClick = function () {
      _modal2.default.show(_react2.default.createElement(_split2.default, _this8.props));
    }, _temp8), _possibleConstructorReturn(_this8, _ret8);
  }

  _createClass(Split, [{
    key: "render",
    value: function render() {
      if (!this.props.post.acl.can_move) return null;

      return _react2.default.createElement(
        "li",
        null,
        _react2.default.createElement(
          "button",
          { className: "btn btn-link", onClick: this.onClick, type: "button" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "call_split"
          ),
          "Διαχωρισμός"
        )
      );
    }
  }]);

  return Split;
}(_react2.default.Component);

var Protect = exports.Protect = function (_React$Component9) {
  _inherits(Protect, _React$Component9);

  function Protect() {
    var _ref9;

    var _temp9, _this9, _ret9;

    _classCallCheck(this, Protect);

    for (var _len9 = arguments.length, args = Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {
      args[_key9] = arguments[_key9];
    }

    return _ret9 = (_temp9 = (_this9 = _possibleConstructorReturn(this, (_ref9 = Protect.__proto__ || Object.getPrototypeOf(Protect)).call.apply(_ref9, [this].concat(args))), _this9), _this9.onClick = function () {
      moderation.protect(_this9.props);
    }, _temp9), _possibleConstructorReturn(_this9, _ret9);
  }

  _createClass(Protect, [{
    key: "render",
    value: function render() {
      if (!this.props.post.acl.can_protect) return null;
      if (this.props.post.is_protected) return null;

      return _react2.default.createElement(
        "li",
        null,
        _react2.default.createElement(
          "button",
          { className: "btn btn-link", onClick: this.onClick, type: "button" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "lock_outline"
          ),
          "Κλείδωμα"
        )
      );
    }
  }]);

  return Protect;
}(_react2.default.Component);

var Unprotect = exports.Unprotect = function (_React$Component10) {
  _inherits(Unprotect, _React$Component10);

  function Unprotect() {
    var _ref10;

    var _temp10, _this10, _ret10;

    _classCallCheck(this, Unprotect);

    for (var _len10 = arguments.length, args = Array(_len10), _key10 = 0; _key10 < _len10; _key10++) {
      args[_key10] = arguments[_key10];
    }

    return _ret10 = (_temp10 = (_this10 = _possibleConstructorReturn(this, (_ref10 = Unprotect.__proto__ || Object.getPrototypeOf(Unprotect)).call.apply(_ref10, [this].concat(args))), _this10), _this10.onClick = function () {
      moderation.unprotect(_this10.props);
    }, _temp10), _possibleConstructorReturn(_this10, _ret10);
  }

  _createClass(Unprotect, [{
    key: "render",
    value: function render() {
      if (!this.props.post.acl.can_protect) return null;
      if (!this.props.post.is_protected) return null;

      return _react2.default.createElement(
        "li",
        null,
        _react2.default.createElement(
          "button",
          { className: "btn btn-link", onClick: this.onClick, type: "button" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "lock_open"
          ),
          "Ξεκλείδωμα"
        )
      );
    }
  }]);

  return Unprotect;
}(_react2.default.Component);

var Hide = exports.Hide = function (_React$Component11) {
  _inherits(Hide, _React$Component11);

  function Hide() {
    var _ref11;

    var _temp11, _this11, _ret11;

    _classCallCheck(this, Hide);

    for (var _len11 = arguments.length, args = Array(_len11), _key11 = 0; _key11 < _len11; _key11++) {
      args[_key11] = arguments[_key11];
    }

    return _ret11 = (_temp11 = (_this11 = _possibleConstructorReturn(this, (_ref11 = Hide.__proto__ || Object.getPrototypeOf(Hide)).call.apply(_ref11, [this].concat(args))), _this11), _this11.onClick = function () {
      moderation.hide(_this11.props);
    }, _temp11), _possibleConstructorReturn(_this11, _ret11);
  }

  _createClass(Hide, [{
    key: "render",
    value: function render() {
      var _props3 = this.props,
          post = _props3.post,
          thread = _props3.thread;


      if (post.id === thread.best_answer) return null;
      if (!post.acl.can_hide) return null;
      if (post.is_hidden) return null;

      return _react2.default.createElement(
        "li",
        null,
        _react2.default.createElement(
          "button",
          { className: "btn btn-link", onClick: this.onClick, type: "button" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "visibility_off"
          ),
          "Κρύψιμο"
        )
      );
    }
  }]);

  return Hide;
}(_react2.default.Component);

var Unhide = exports.Unhide = function (_React$Component12) {
  _inherits(Unhide, _React$Component12);

  function Unhide() {
    var _ref12;

    var _temp12, _this12, _ret12;

    _classCallCheck(this, Unhide);

    for (var _len12 = arguments.length, args = Array(_len12), _key12 = 0; _key12 < _len12; _key12++) {
      args[_key12] = arguments[_key12];
    }

    return _ret12 = (_temp12 = (_this12 = _possibleConstructorReturn(this, (_ref12 = Unhide.__proto__ || Object.getPrototypeOf(Unhide)).call.apply(_ref12, [this].concat(args))), _this12), _this12.onClick = function () {
      moderation.unhide(_this12.props);
    }, _temp12), _possibleConstructorReturn(_this12, _ret12);
  }

  _createClass(Unhide, [{
    key: "render",
    value: function render() {
      if (!this.props.post.acl.can_unhide) return null;
      if (!this.props.post.is_hidden) return null;

      return _react2.default.createElement(
        "li",
        null,
        _react2.default.createElement(
          "button",
          { className: "btn btn-link", onClick: this.onClick, type: "button" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "visibility"
          ),
          "Εμφάνιση"
        )
      );
    }
  }]);

  return Unhide;
}(_react2.default.Component);

var Delete = exports.Delete = function (_React$Component13) {
  _inherits(Delete, _React$Component13);

  function Delete() {
    var _ref13;

    var _temp13, _this13, _ret13;

    _classCallCheck(this, Delete);

    for (var _len13 = arguments.length, args = Array(_len13), _key13 = 0; _key13 < _len13; _key13++) {
      args[_key13] = arguments[_key13];
    }

    return _ret13 = (_temp13 = (_this13 = _possibleConstructorReturn(this, (_ref13 = Delete.__proto__ || Object.getPrototypeOf(Delete)).call.apply(_ref13, [this].concat(args))), _this13), _this13.onClick = function () {
      moderation.remove(_this13.props);
    }, _temp13), _possibleConstructorReturn(_this13, _ret13);
  }

  _createClass(Delete, [{
    key: "render",
    value: function render() {
      var _props4 = this.props,
          post = _props4.post,
          thread = _props4.thread;


      if (post.id === thread.best_answer) return null;
      if (!post.acl.can_delete) return null;

      return _react2.default.createElement(
        "li",
        null,
        _react2.default.createElement(
          "button",
          { className: "btn btn-link", onClick: this.onClick, type: "button" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "clear"
          ),
          "Διαγραφή"
        )
      );
    }
  }]);

  return Delete;
}(_react2.default.Component);

},{"../../../../services/modal":371,"../../../../services/posting":375,"../../../post-changelog":119,"./actions":155,"./move":158,"./split":159,"react":"react"}],157:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    "div",
    { className: "pull-right dropdown" },
    _react2.default.createElement(
      "button",
      {
        "aria-expanded": "true",
        "aria-haspopup": "true",
        className: "btn btn-default btn-icon dropdown-toggle",
        "data-toggle": "dropdown",
        type: "button"
      },
      _react2.default.createElement(
        "span",
        { className: "material-icon" },
        "expand_more"
      )
    ),
    _react2.default.createElement(_dropdown2.default, props)
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _dropdown = require("./dropdown");

var _dropdown2 = _interopRequireDefault(_dropdown);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./dropdown":156,"react":"react"}],158:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.ModalHeader = ModalHeader;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _form = require("../../../form");

var _form2 = _interopRequireDefault(_form);

var _formGroup = require("../../../form-group");

var _formGroup2 = _interopRequireDefault(_formGroup);

var _post = require("../../../../reducers/post");

var post = _interopRequireWildcard(_post);

var _ajax = require("../../../../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require("../../../../services/modal");

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require("../../../../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require("../../../../services/store");

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onUrlChange = function (event) {
      _this.changeValue("url", event.target.value);
    };

    _this.state = {
      isLoading: false,

      url: "",

      validators: {
        url: []
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_class, [{
    key: "clean",
    value: function clean() {
      if (!this.state.url.trim().length) {
        _snackbar2.default.error("Πρέπει να βάλεις το σύνδεσμο της άλλης αγγελίας!");
        return false;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax2.default.post(this.props.thread.api.posts.move, {
        new_thread: this.state.url,
        posts: [this.props.post.id]
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(success) {
      _store2.default.dispatch(post.patch(this.props.post, {
        isDeleted: true
      }));

      _modal2.default.hide();

      _snackbar2.default.success("Η επιλεγμένη προσφορά μεταφέρθηκε στην άλλη αγγελία!");
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        _snackbar2.default.error(rejection.detail);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: "modal-dialog", role: "document" },
        _react2.default.createElement(
          "form",
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            "div",
            { className: "modal-content" },
            _react2.default.createElement(ModalHeader, null),
            _react2.default.createElement(
              "div",
              { className: "modal-body" },
              _react2.default.createElement(
                _formGroup2.default,
                {
                  "for": "id_url",
                  label: "Σύνδεσμος για την αγγελία που θες να μετακινήσεις την προσφορά"
                },
                _react2.default.createElement("input", {
                  className: "form-control",
                  disabled: this.state.isLoading,
                  id: "id_url",
                  onChange: this.onUrlChange,
                  value: this.state.url
                })
              )
            ),
            _react2.default.createElement(
              "div",
              { className: "modal-footer" },
              _react2.default.createElement(
                "button",
                {
                  className: "btn btn-primary",
                  loading: this.state.isLoading
                },
                "Μετακίνηση προσφοράς"
              )
            )
          )
        )
      );
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;
function ModalHeader(props) {
  return _react2.default.createElement(
    "div",
    { className: "modal-header" },
    _react2.default.createElement(
      "button",
      {
        "aria-label": "Κλείσιμο",
        className: "close",
        "data-dismiss": "modal",
        type: "button"
      },
      _react2.default.createElement(
        "span",
        { "aria-hidden": "true" },
        "\xD7"
      )
    ),
    _react2.default.createElement(
      "h4",
      { className: "modal-title" },
      "Μετακίνηση προσφοράς"
    )
  );
}

},{"../../../../reducers/post":353,"../../../../services/ajax":365,"../../../../services/modal":371,"../../../../services/snackbar":376,"../../../../services/store":377,"../../../form":56,"../../../form-group":55,"react":"react"}],159:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ModerationForm = exports.PostingConfig = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.default = function (props) {
  return _react2.default.createElement(PostingConfig, _extends({}, props, { Form: ModerationForm }));
};

exports.Loader = Loader;
exports.Error = Error;
exports.Modal = Modal;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _button = require("../../../button");

var _button2 = _interopRequireDefault(_button);

var _form = require("../../../form");

var _form2 = _interopRequireDefault(_form);

var _formGroup = require("../../../form-group");

var _formGroup2 = _interopRequireDefault(_formGroup);

var _categorySelect = require("../../../category-select");

var _categorySelect2 = _interopRequireDefault(_categorySelect);

var _modalLoader = require("../../../modal-loader");

var _modalLoader2 = _interopRequireDefault(_modalLoader);

var _select = require("../../../select");

var _select2 = _interopRequireDefault(_select);

var _post = require("../../../../reducers/post");

var post = _interopRequireWildcard(_post);

var _ajax = require("../../../../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require("../../../../services/modal");

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require("../../../../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require("../../../../services/store");

var _store2 = _interopRequireDefault(_store);

var _validators = require("../../../../utils/validators");

var validators = _interopRequireWildcard(_validators);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var PostingConfig = exports.PostingConfig = function (_React$Component) {
  _inherits(PostingConfig, _React$Component);

  function PostingConfig(props) {
    _classCallCheck(this, PostingConfig);

    var _this = _possibleConstructorReturn(this, (PostingConfig.__proto__ || Object.getPrototypeOf(PostingConfig)).call(this, props));

    _this.state = {
      isLoaded: false,
      isError: false,

      categories: []
    };
    return _this;
  }

  _createClass(PostingConfig, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      _ajax2.default.get(misago.get("THREAD_EDITOR_API")).then(function (data) {
        // hydrate categories, extract posting options
        var categories = data.map(function (item) {
          return Object.assign(item, {
            disabled: item.post === false,
            label: item.name,
            value: item.id,
            post: item.post
          });
        });

        _this2.setState({
          isLoaded: true,
          categories: categories
        });
      }, function (rejection) {
        _this2.setState({
          isError: rejection.detail
        });
      });
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.isError) {
        return _react2.default.createElement(Error, { message: this.state.isError });
      } else if (this.state.isLoaded) {
        return _react2.default.createElement(ModerationForm, _extends({}, this.props, { categories: this.state.categories }));
      } else {
        return _react2.default.createElement(Loader, null);
      }
    }
  }]);

  return PostingConfig;
}(_react2.default.Component);

var ModerationForm = exports.ModerationForm = function (_Form) {
  _inherits(ModerationForm, _Form);

  function ModerationForm(props) {
    _classCallCheck(this, ModerationForm);

    var _this3 = _possibleConstructorReturn(this, (ModerationForm.__proto__ || Object.getPrototypeOf(ModerationForm)).call(this, props));

    _this3.onCategoryChange = function (ev) {
      var categoryId = ev.target.value;
      var newState = {
        category: categoryId
      };

      if (_this3.acl[categoryId].can_pin_threads < newState.weight) {
        newState.weight = 0;
      }

      if (!_this3.acl[categoryId].can_hide_threads) {
        newState.is_hidden = 0;
      }

      if (!_this3.acl[categoryId].can_close_threads) {
        newState.is_closed = false;
      }

      _this3.setState(newState);
    };

    _this3.state = {
      isLoading: false,

      title: "",
      category: null,
      categories: props.categories,
      weight: 0,
      is_hidden: 0,
      is_closed: false,

      validators: {
        title: [validators.required()]
      },

      errors: {}
    };

    _this3.isHiddenChoices = [{
      value: 0,
      icon: "visibility",
      label: "Όχι"
    }, {
      value: 1,
      icon: "visibility_off",
      label: "Ναι"
    }];

    _this3.isClosedChoices = [{
      value: false,
      icon: "lock_outline",
      label: "Όχι"
    }, {
      value: true,
      icon: "lock",
      label: "Ναι"
    }];

    _this3.acl = {};
    _this3.props.categories.forEach(function (category) {
      if (category.post) {
        if (!_this3.state.category) {
          _this3.state.category = category.id;
        }

        _this3.acl[category.id] = {
          can_pin_threads: category.post.pin,
          can_close_threads: category.post.close,
          can_hide_threads: category.post.hide
        };
      }
    });
    return _this3;
  }

  _createClass(ModerationForm, [{
    key: "clean",
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar2.default.error("Η φόρμα περιέχει λάθη!");
        this.setState({
          errors: this.validate()
        });
        return false;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax2.default.post(this.props.thread.api.posts.split, {
        title: this.state.title,
        category: this.state.category,
        weight: this.state.weight,
        is_hidden: this.state.is_hidden,
        is_closed: this.state.is_closed,
        posts: [this.props.post.id]
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(apiResponse) {
      _store2.default.dispatch(post.patch(this.props.post, {
        isDeleted: true
      }));

      _modal2.default.hide();

      _snackbar2.default.success("Η επιλεγμένη προσφορά διαχωρίστηκε σε καινούρια αγγελία");
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        this.setState({
          errors: Object.assign({}, this.state.errors, rejection)
        });
        _snackbar2.default.error("Η φόρμα περιέχει λάθη!");
      } else if (rejection.status === 403 && Array.isArray(rejection)) {
        _modal2.default.show(_react2.default.createElement(ErrorsModal, { errors: rejection }));
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: "getWeightChoices",
    value: function getWeightChoices() {
      var choices = [{
        value: 0,
        icon: "remove",
        label: "Μη προωθημένη"
      }, {
        value: 1,
        icon: "bookmark_border",
        label: "Προωθημένη σε αυτή την κατηγορία"
      }];

      if (this.acl[this.state.category].can_pin_threads === 2) {
        choices.push({
          value: 2,
          icon: "bookmark",
          label: "Προωθημένη σε όλη τη σελίδα"
        });
      }

      return choices;
    }
  }, {
    key: "renderWeightField",
    value: function renderWeightField() {
      if (this.acl[this.state.category].can_pin_threads) {
        return _react2.default.createElement(
          _formGroup2.default,
          {
            label: "Προώθηση αγγελίας",
            "for": "id_weight",
            labelClass: "col-sm-4",
            controlClass: "col-sm-8"
          },
          _react2.default.createElement(_select2.default, {
            id: "id_weight",
            onChange: this.bindInput("weight"),
            value: this.state.weight,
            choices: this.getWeightChoices()
          })
        );
      } else {
        return null;
      }
    }
  }, {
    key: "renderHiddenField",
    value: function renderHiddenField() {
      if (this.acl[this.state.category].can_hide_threads) {
        return _react2.default.createElement(
          _formGroup2.default,
          {
            label: "Κρύψιμο αγγελίας",
            "for": "id_is_hidden",
            labelClass: "col-sm-4",
            controlClass: "col-sm-8"
          },
          _react2.default.createElement(_select2.default, {
            id: "id_is_closed",
            onChange: this.bindInput("is_hidden"),
            value: this.state.is_hidden,
            choices: this.isHiddenChoices
          })
        );
      } else {
        return null;
      }
    }
  }, {
    key: "renderClosedField",
    value: function renderClosedField() {
      if (this.acl[this.state.category].can_close_threads) {
        return _react2.default.createElement(
          _formGroup2.default,
          {
            label: "Κλείσιμο αγγελίας",
            "for": "id_is_closed",
            labelClass: "col-sm-4",
            controlClass: "col-sm-8"
          },
          _react2.default.createElement(_select2.default, {
            id: "id_is_closed",
            onChange: this.bindInput("is_closed"),
            value: this.state.is_closed,
            choices: this.isClosedChoices
          })
        );
      } else {
        return null;
      }
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        Modal,
        { className: "modal-dialog" },
        _react2.default.createElement(
          "form",
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            "div",
            { className: "modal-body" },
            _react2.default.createElement(
              _formGroup2.default,
              {
                label: "Τίτλος αγγελίας",
                "for": "id_title",
                labelClass: "col-sm-4",
                controlClass: "col-sm-8",
                validation: this.state.errors.title
              },
              _react2.default.createElement("input", {
                id: "id_title",
                className: "form-control",
                type: "text",
                onChange: this.bindInput("title"),
                value: this.state.title
              })
            ),
            _react2.default.createElement("div", { className: "clearfix" }),
            _react2.default.createElement(
              _formGroup2.default,
              {
                label: "Κατηγορία",
                "for": "id_category",
                labelClass: "col-sm-4",
                controlClass: "col-sm-8",
                validation: this.state.errors.category
              },
              _react2.default.createElement(_categorySelect2.default, {
                id: "id_category",
                onChange: this.onCategoryChange,
                value: this.state.category,
                choices: this.state.categories
              })
            ),
            _react2.default.createElement("div", { className: "clearfix" }),
            this.renderWeightField(),
            this.renderHiddenField(),
            this.renderClosedField()
          ),
          _react2.default.createElement(
            "div",
            { className: "modal-footer" },
            _react2.default.createElement(
              _button2.default,
              { className: "btn-primary", loading: this.state.isLoading },
              "Διαχωρισμός προσφοράς"
            )
          )
        )
      );
    }
  }]);

  return ModerationForm;
}(_form2.default);

function Loader() {
  return _react2.default.createElement(
    Modal,
    { className: "modal-dialog" },
    _react2.default.createElement(_modalLoader2.default, null)
  );
}

function Error(props) {
  return _react2.default.createElement(
    Modal,
    { className: "modal-dialog modal-message" },
    _react2.default.createElement(
      "div",
      { className: "message-icon" },
      _react2.default.createElement(
        "span",
        { className: "material-icon" },
        "info_outline"
      )
    ),
    _react2.default.createElement(
      "div",
      { className: "message-body" },
      _react2.default.createElement(
        "p",
        { className: "lead" },
        "Δεν μπορείς να μετακινήσεις αυτή την προσφορά προς το παρόν"
      ),
      _react2.default.createElement(
        "p",
        null,
        props.message
      )
    )
  );
}

function Modal(props) {
  return _react2.default.createElement(
    "div",
    { className: props.className, role: "document" },
    _react2.default.createElement(
      "div",
      { className: "modal-content" },
      _react2.default.createElement(
        "div",
        { className: "modal-header" },
        _react2.default.createElement(
          "button",
          {
            "aria-label": "Κλείσιμο",
            className: "close",
            "data-dismiss": "modal",
            type: "button"
          },
          _react2.default.createElement(
            "span",
            { "aria-hidden": "true" },
            "\xD7"
          )
        ),
        _react2.default.createElement(
          "h4",
          { className: "modal-title" },
          "Διαχωρισμός προσφοράς σε καινούρια αγγελία"
        )
      ),
      props.children
    )
  );
}

},{"../../../../reducers/post":353,"../../../../services/ajax":365,"../../../../services/modal":371,"../../../../services/snackbar":376,"../../../../services/store":377,"../../../../utils/validators":393,"../../../button":8,"../../../category-select":21,"../../../form":56,"../../../form-group":55,"../../../modal-loader":61,"../../../select":210,"react":"react"}],160:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.FlagBestAnswer = FlagBestAnswer;
exports.FlagHidden = FlagHidden;
exports.FlagUnapproved = FlagUnapproved;
exports.FlagProtected = FlagProtected;
exports.isVisible = isVisible;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function FlagBestAnswer(_ref) {
  var post = _ref.post,
      thread = _ref.thread,
      user = _ref.user;

  if (!(isVisible(post) && post.id === thread.best_answer)) {
    return null;
  }

  var message = null;
  if (user.id && thread.best_answer_marked_by === user.id) {
    message = interpolate("Επέλεξες ως καλύτερη προσφορά %(marked_on)s", {
      marked_on: thread.best_answer_marked_on.fromNow()
    }, true);
  } else {
    message = interpolate("Επιλέχθηκε ως καλύτερη προσφορά από %(marked_by)s %(marked_on)s", {
      marked_by: thread.best_answer_marked_by_name,
      marked_on: thread.best_answer_marked_on.fromNow()
    }, true);
  }

  return _react2.default.createElement(
    "div",
    { className: "post-status-message post-status-best-answer" },
    _react2.default.createElement(
      "span",
      { className: "material-icon" },
      "check_box"
    ),
    _react2.default.createElement(
      "p",
      null,
      message
    )
  );
}

function FlagHidden(props) {
  if (!(isVisible(props.post) && props.post.is_hidden)) {
    return null;
  }

  return _react2.default.createElement(
    "div",
    { className: "post-status-message post-status-hidden" },
    _react2.default.createElement(
      "span",
      { className: "material-icon" },
      "visibility_off"
    ),
    _react2.default.createElement(
      "p",
      null,
      "Αυτή η προσφορά είναι κρυμμένη. Μόνο εξουσιοδοτημένοι χρήστες μπορούν να δουν τις λεπτομέρειές της."
    )
  );
}

function FlagUnapproved(props) {
  if (!(isVisible(props.post) && props.post.is_unapproved)) {
    return null;
  }

  return _react2.default.createElement(
    "div",
    { className: "post-status-message post-status-unapproved" },
    _react2.default.createElement(
      "span",
      { className: "material-icon" },
      "remove_circle_outline"
    ),
    _react2.default.createElement(
      "p",
      null,
      "Αυτή η προσφορά δεν έχει εγκριθεί. Μόνο ο χρήστης που την έκανε και χρήστες με εξουσιοδότηση να εγκρίνουν προσφορές μπορούν να δουν τις λεπτομέρειές της."
    )
  );
}

function FlagProtected(props) {
  if (!(isVisible(props.post) && props.post.is_protected)) {
    return null;
  }

  return _react2.default.createElement(
    "div",
    { className: "post-status-message post-status-protected visible-xs-block" },
    _react2.default.createElement(
      "span",
      { className: "material-icon" },
      "lock_outline"
    ),
    _react2.default.createElement(
      "p",
      null,
      "Αυτή η προσφορά είναι κλειδωμένη. Μόνο διαχειριστές μπορούν να την τροποποιήσουν."
    )
  );
}

function isVisible(post) {
  return !post.is_hidden || post.acl.can_see_hidden;
}

},{"react":"react"}],161:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Edit = exports.Reply = exports.LikesCompact = exports.Likes = exports.Like = exports.MarkAsBestAnswerCompact = exports.MarkAsBestAnswer = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.default = function (props) {
  if (!isVisible(props.post)) return null;

  return _react2.default.createElement(
    "div",
    { className: "post-footer" },
    _react2.default.createElement(MarkAsBestAnswer, props),
    _react2.default.createElement(MarkAsBestAnswerCompact, props),
    _react2.default.createElement(Like, props),
    _react2.default.createElement(Likes, _extends({
      lastLikes: props.post.last_likes,
      likes: props.post.likes
    }, props)),
    _react2.default.createElement(LikesCompact, _extends({ likes: props.post.likes }, props)),
    _react2.default.createElement(Reply, props),
    _react2.default.createElement(Edit, props)
  );
};

exports.isVisible = isVisible;
exports.getLikesMessage = getLikesMessage;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _actions = require("./controls/actions");

var actions = _interopRequireWildcard(_actions);

var _postLikes = require("../../post-likes");

var _postLikes2 = _interopRequireDefault(_postLikes);

var _modal = require("../../../services/modal");

var _modal2 = _interopRequireDefault(_modal);

var _posting = require("../../../services/posting");

var _posting2 = _interopRequireDefault(_posting);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

function isVisible(post) {
  return (!post.is_hidden || post.acl.can_see_hidden) && (post.acl.can_reply || post.acl.can_edit || post.acl.can_see_likes && (post.last_likes || []).length || post.acl.can_like);
}

var MarkAsBestAnswer = exports.MarkAsBestAnswer = function (_React$Component) {
  _inherits(MarkAsBestAnswer, _React$Component);

  function MarkAsBestAnswer() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, MarkAsBestAnswer);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = MarkAsBestAnswer.__proto__ || Object.getPrototypeOf(MarkAsBestAnswer)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      actions.markAsBestAnswer(_this.props);
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(MarkAsBestAnswer, [{
    key: "render",
    value: function render() {
      var _props = this.props,
          post = _props.post,
          thread = _props.thread;


      if (!thread.acl.can_mark_best_answer) return null;
      if (!post.acl.can_mark_as_best_answer) return null;
      if (thread.best_answer && !thread.acl.can_change_best_answer) return null;

      return _react2.default.createElement(
        "button",
        {
          className: "hidden-xs btn btn-default btn-sm pull-left",
          disabled: this.props.post.isBusy || post.id === thread.best_answer,
          onClick: this.onClick,
          type: "button"
        },
        _react2.default.createElement(
          "span",
          { className: "material-icon" },
          "check_box"
        ),
        "Επιλεγμένη προσφορά"
      );
    }
  }]);

  return MarkAsBestAnswer;
}(_react2.default.Component);

var MarkAsBestAnswerCompact = exports.MarkAsBestAnswerCompact = function (_React$Component2) {
  _inherits(MarkAsBestAnswerCompact, _React$Component2);

  function MarkAsBestAnswerCompact() {
    var _ref2;

    var _temp2, _this2, _ret2;

    _classCallCheck(this, MarkAsBestAnswerCompact);

    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    return _ret2 = (_temp2 = (_this2 = _possibleConstructorReturn(this, (_ref2 = MarkAsBestAnswerCompact.__proto__ || Object.getPrototypeOf(MarkAsBestAnswerCompact)).call.apply(_ref2, [this].concat(args))), _this2), _this2.onClick = function () {
      actions.markAsBestAnswer(_this2.props);
    }, _temp2), _possibleConstructorReturn(_this2, _ret2);
  }

  _createClass(MarkAsBestAnswerCompact, [{
    key: "render",
    value: function render() {
      var _props2 = this.props,
          post = _props2.post,
          thread = _props2.thread;


      if (!thread.acl.can_mark_best_answer) return null;
      if (!post.acl.can_mark_as_best_answer) return null;
      if (thread.best_answer && !thread.acl.can_change_best_answer) return null;

      return _react2.default.createElement(
        "button",
        {
          className: "visible-xs-inline-block btn btn-default btn-sm pull-left",
          disabled: this.props.post.isBusy || post.id === thread.best_answer,
          onClick: this.onClick,
          type: "button"
        },
        _react2.default.createElement(
          "span",
          { className: "material-icon" },
          "check_box"
        )
      );
    }
  }]);

  return MarkAsBestAnswerCompact;
}(_react2.default.Component);

var Like = exports.Like = function (_React$Component3) {
  _inherits(Like, _React$Component3);

  function Like() {
    var _ref3;

    var _temp3, _this3, _ret3;

    _classCallCheck(this, Like);

    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    return _ret3 = (_temp3 = (_this3 = _possibleConstructorReturn(this, (_ref3 = Like.__proto__ || Object.getPrototypeOf(Like)).call.apply(_ref3, [this].concat(args))), _this3), _this3.onClick = function () {
      if (_this3.props.post.is_liked) {
        actions.unlike(_this3.props);
      } else {
        actions.like(_this3.props);
      }
    }, _temp3), _possibleConstructorReturn(_this3, _ret3);
  }

  _createClass(Like, [{
    key: "render",
    value: function render() {
      if (!this.props.post.acl.can_like) return null;

      var className = "btn btn-default btn-sm pull-left";
      if (this.props.post.is_liked) {
        className = "btn btn-success btn-sm pull-left";
      }

      return _react2.default.createElement(
        "button",
        {
          className: className,
          disabled: this.props.post.isBusy,
          onClick: this.onClick,
          type: "button"
        },
        this.props.post.is_liked ? "Ενδιαφέρομαι" : "Εκδήλωση ενδιαφέροντος"
      );
    }
  }]);

  return Like;
}(_react2.default.Component);

var Likes = exports.Likes = function (_React$Component4) {
  _inherits(Likes, _React$Component4);

  function Likes() {
    var _ref4;

    var _temp4, _this4, _ret4;

    _classCallCheck(this, Likes);

    for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
      args[_key4] = arguments[_key4];
    }

    return _ret4 = (_temp4 = (_this4 = _possibleConstructorReturn(this, (_ref4 = Likes.__proto__ || Object.getPrototypeOf(Likes)).call.apply(_ref4, [this].concat(args))), _this4), _this4.onClick = function () {
      _modal2.default.show(_react2.default.createElement(_postLikes2.default, { post: _this4.props.post }));
    }, _temp4), _possibleConstructorReturn(_this4, _ret4);
  }

  _createClass(Likes, [{
    key: "render",
    value: function render() {
      var hasLikes = (this.props.post.last_likes || []).length > 0;
      if (!this.props.post.acl.can_see_likes || !hasLikes) return null;

      if (this.props.post.acl.can_see_likes === 2) {
        return _react2.default.createElement(
          "button",
          {
            className: "btn btn-link btn-sm pull-left hidden-xs",
            onClick: this.onClick,
            type: "button"
          },
          getLikesMessage(this.props.likes, this.props.lastLikes)
        );
      }

      return _react2.default.createElement(
        "p",
        { className: "pull-left hidden-xs" },
        getLikesMessage(this.props.likes, this.props.lastLikes)
      );
    }
  }]);

  return Likes;
}(_react2.default.Component);

var LikesCompact = exports.LikesCompact = function (_Likes) {
  _inherits(LikesCompact, _Likes);

  function LikesCompact() {
    _classCallCheck(this, LikesCompact);

    return _possibleConstructorReturn(this, (LikesCompact.__proto__ || Object.getPrototypeOf(LikesCompact)).apply(this, arguments));
  }

  _createClass(LikesCompact, [{
    key: "render",
    value: function render() {
      var hasLikes = (this.props.post.last_likes || []).length > 0;
      if (!this.props.post.acl.can_see_likes || !hasLikes) return null;

      if (this.props.post.acl.can_see_likes === 2) {
        return _react2.default.createElement(
          "button",
          {
            className: "btn btn-link btn-sm likes-compact pull-left visible-xs-block",
            onClick: this.onClick,
            type: "button"
          },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "favorite"
          ),
          this.props.likes
        );
      }

      return _react2.default.createElement(
        "p",
        { className: "likes-compact pull-left visible-xs-block" },
        _react2.default.createElement(
          "span",
          { className: "material-icon" },
          "favorite"
        ),
        this.props.likes
      );
    }
  }]);

  return LikesCompact;
}(Likes);

function getLikesMessage(likes, users) {
  var usernames = users.slice(0, 3).map(function (u) {
    return u.username;
  });

  if (usernames.length === 1) {
    return interpolate("%(user)s ενδιαφέρεται", {
      user: usernames[0]
    }, true);
  }

  var hiddenLikes = likes - usernames.length;

  var otherUsers = usernames.slice(0, -1).join(", ");
  var lastUser = usernames.slice(-1)[0];

  var usernamesList = interpolate("%(users)s και %(last_user)s", {
    users: otherUsers,
    last_user: lastUser
  }, true);

  if (hiddenLikes === 0) {
    return interpolate("Ο χρήστης %(users)s ενδιαφέρεται", {
      users: usernamesList
    }, true);
  }

  var message = "Ο χρήστης %(users)s και %(likes)s άλλοι χρήστες ενδιαφέρονται";
  if (hiddenLikes === 1) {
    message = "Ο χρήστης %(users)s και %(likes)s άλλος χρήστης ενδιαφέρονται";
  }

  return interpolate(message, {
    users: usernames.join(", "),
    likes: hiddenLikes
  }, true);
}

var Reply = exports.Reply = function (_React$Component5) {
  _inherits(Reply, _React$Component5);

  function Reply() {
    var _ref5;

    var _temp5, _this6, _ret5;

    _classCallCheck(this, Reply);

    for (var _len5 = arguments.length, args = Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {
      args[_key5] = arguments[_key5];
    }

    return _ret5 = (_temp5 = (_this6 = _possibleConstructorReturn(this, (_ref5 = Reply.__proto__ || Object.getPrototypeOf(Reply)).call.apply(_ref5, [this].concat(args))), _this6), _this6.onClick = function () {
      _posting2.default.open({
        mode: "REPLY",

        config: _this6.props.thread.api.editor,
        submit: _this6.props.thread.api.posts.index,

        context: {
          reply: _this6.props.post.id
        }
      });
    }, _temp5), _possibleConstructorReturn(_this6, _ret5);
  }

  _createClass(Reply, [{
    key: "render",
    value: function render() {
      if (this.props.post.acl.can_reply) {
        return _react2.default.createElement(
          "button",
          {
            className: "btn btn-primary btn-sm pull-right",
            type: "button",
            onClick: this.onClick
          },
          "Προσφορά"
        );
      } else {
        return null;
      }
    }
  }]);

  return Reply;
}(_react2.default.Component);

var Edit = exports.Edit = function (_React$Component6) {
  _inherits(Edit, _React$Component6);

  function Edit() {
    var _ref6;

    var _temp6, _this7, _ret6;

    _classCallCheck(this, Edit);

    for (var _len6 = arguments.length, args = Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {
      args[_key6] = arguments[_key6];
    }

    return _ret6 = (_temp6 = (_this7 = _possibleConstructorReturn(this, (_ref6 = Edit.__proto__ || Object.getPrototypeOf(Edit)).call.apply(_ref6, [this].concat(args))), _this7), _this7.onClick = function () {
      _posting2.default.open({
        mode: "EDIT",

        config: _this7.props.post.api.editor,
        submit: _this7.props.post.api.index
      });
    }, _temp6), _possibleConstructorReturn(_this7, _ret6);
  }

  _createClass(Edit, [{
    key: "render",
    value: function render() {
      if (this.props.post.acl.can_edit) {
        return _react2.default.createElement(
          "button",
          {
            className: "hidden-xs btn btn-default btn-sm pull-right",
            type: "button",
            onClick: this.onClick
          },
          "Επεξεργασία"
        );
      } else {
        return null;
      }
    }
  }]);

  return Edit;
}(_react2.default.Component);

},{"../../../services/modal":371,"../../../services/posting":375,"../../post-likes":132,"./controls/actions":155,"react":"react"}],162:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.PostEditsCompacts = exports.PostEdits = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = function (props) {
  return _react2.default.createElement(
    "div",
    { className: "post-heading" },
    _react2.default.createElement(UnreadLabel, props),
    _react2.default.createElement(UnreadCompact, props),
    _react2.default.createElement(PostedOn, props),
    _react2.default.createElement(PostedOnCompact, props),
    _react2.default.createElement(PostEdits, props),
    _react2.default.createElement(PostEditsCompacts, props),
    _react2.default.createElement(ProtectedLabel, props),
    _react2.default.createElement(_select2.default, props),
    _react2.default.createElement(_controls2.default, props)
  );
};

exports.UnreadLabel = UnreadLabel;
exports.UnreadCompact = UnreadCompact;
exports.PostedOn = PostedOn;
exports.PostedOnCompact = PostedOnCompact;
exports.ProtectedLabel = ProtectedLabel;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _controls = require("./controls");

var _controls2 = _interopRequireDefault(_controls);

var _select = require("./select");

var _select2 = _interopRequireDefault(_select);

var _postChangelog = require("../../post-changelog");

var _postChangelog2 = _interopRequireDefault(_postChangelog);

var _modal = require("../../../services/modal");

var _modal2 = _interopRequireDefault(_modal);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

function UnreadLabel(props) {
  if (props.post.is_read) return null;

  return _react2.default.createElement(
    "span",
    { className: "label label-unread hidden-xs" },
    "Νέα προσφορά"
  );
}

function UnreadCompact(props) {
  if (props.post.is_read) return null;

  return _react2.default.createElement(
    "span",
    { className: "label label-unread visible-xs-inline-block" },
    "Νέα"
  );
}

function PostedOn(props) {
  var tooltip = interpolate("Δημοσιεύθηκε %(posted_on)s", {
    posted_on: props.post.posted_on.format("LL, LT")
  }, true);

  return _react2.default.createElement(
    "a",
    {
      href: props.post.url.index,
      className: "btn btn-link posted-on hidden-xs",
      title: tooltip
    },
    props.post.posted_on.fromNow()
  );
}

function PostedOnCompact(props) {
  return _react2.default.createElement(
    "a",
    {
      href: props.post.url.index,
      className: "btn btn-link posted-on visible-xs-inline-block"
    },
    props.post.posted_on.fromNow(true)
  );
}

var PostEdits = exports.PostEdits = function (_React$Component) {
  _inherits(PostEdits, _React$Component);

  function PostEdits() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, PostEdits);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = PostEdits.__proto__ || Object.getPrototypeOf(PostEdits)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      _modal2.default.show(_react2.default.createElement(_postChangelog2.default, { post: _this.props.post }));
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(PostEdits, [{
    key: "render",
    value: function render() {
      var isHidden = this.props.post.is_hidden && !this.props.post.acl.can_see_hidden;
      var isUnedited = this.props.post.edits === 0;
      if (isHidden || isUnedited) return null;

      var tooltip = "Αυτή η προσφορά τροποποιήθηκε %(edits)s φορές";
      if (this.props.post.edits === 1) {
        tooltip = "Αυτή η προσφορά τροποποιήθηκε %(edits)s φορά";
      }

      var title = interpolate(tooltip, {
        edits: this.props.post.edits
      }, true);

      var label = "τροποποιήθηκε %(edits)s φορές";
      if (this.props.post.edits === 1) {
        label = "τροποποιήθηκε %(edits)s φορά";
      }

      return _react2.default.createElement(
        "button",
        {
          className: "btn btn-link btn-see-edits hidden-xs",
          onClick: this.onClick,
          title: title,
          type: "button"
        },
        interpolate(label, {
          edits: this.props.post.edits
        }, true)
      );
    }
  }]);

  return PostEdits;
}(_react2.default.Component);

var PostEditsCompacts = exports.PostEditsCompacts = function (_PostEdits) {
  _inherits(PostEditsCompacts, _PostEdits);

  function PostEditsCompacts() {
    _classCallCheck(this, PostEditsCompacts);

    return _possibleConstructorReturn(this, (PostEditsCompacts.__proto__ || Object.getPrototypeOf(PostEditsCompacts)).apply(this, arguments));
  }

  _createClass(PostEditsCompacts, [{
    key: "render",
    value: function render() {
      var isHidden = this.props.post.is_hidden && !this.props.post.acl.can_see_hidden;
      var isUnedited = this.props.post.edits === 0;
      if (isHidden || isUnedited) return null;

      var label = "%(edits)s τροποποιήσεις";
      if (this.props.post.edits === 1) {
        label = "%(edits)s τροποποίηση";
      }

      return _react2.default.createElement(
        "button",
        {
          className: "btn btn-link btn-see-edits visible-xs-inline-block",
          onClick: this.onClick,
          type: "button"
        },
        interpolate(label, {
          edits: this.props.post.edits
        }, true)
      );
    }
  }]);

  return PostEditsCompacts;
}(PostEdits);

function ProtectedLabel(props) {
  var postAuthor = props.post.poster && props.post.poster.id === props.user.id;
  var hasAcl = props.post.acl.can_protect;
  var isVisible = props.user.id && props.post.is_protected && (postAuthor || hasAcl);

  if (!isVisible) {
    return null;
  }

  return _react2.default.createElement(
    "span",
    {
      className: "label label-protected hidden-xs",
      title: "Αυτή η προσφορά είναι προστατευμένη και δεν μπορεί να τροποποιηθεί"
    },
    _react2.default.createElement(
      "span",
      { className: "material-icon" },
      "lock_outline"
    ),
    "προστατευμένη"
  );
}

},{"../../../services/modal":371,"../../post-changelog":119,"./controls":157,"./select":172,"react":"react"}],163:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  var className = "post";
  if (props.post.isDeleted) {
    className = "hide";
  } else if (props.post.is_hidden && !props.post.acl.can_see_hidden) {
    className = "post post-hidden";
  }

  if (props.post.poster && props.post.poster.rank.css_class) {
    className += " post-" + props.post.poster.rank.css_class;
  }

  if (!props.post.is_read) {
    className += " post-new";
  }

  return _react2.default.createElement(
    "li",
    { id: "post-" + props.post.id, className: className },
    _react2.default.createElement(
      "div",
      { className: "panel panel-default panel-post" },
      _react2.default.createElement(
        "div",
        { className: "panel-body" },
        _react2.default.createElement(
          "div",
          { className: "row" },
          _react2.default.createElement(_postSide2.default, props),
          _react2.default.createElement(
            "div",
            { className: "col-xs-12 col-md-9" },
            _react2.default.createElement(_header2.default, props),
            _react2.default.createElement(_flags.FlagBestAnswer, props),
            _react2.default.createElement(_flags.FlagUnapproved, props),
            _react2.default.createElement(_flags.FlagProtected, props),
            _react2.default.createElement(_flags.FlagHidden, props),
            _react2.default.createElement(_body2.default, props),
            _react2.default.createElement(_attachments2.default, props),
            _react2.default.createElement(_footer2.default, props)
          )
        )
      )
    )
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _attachments = require("./attachments");

var _attachments2 = _interopRequireDefault(_attachments);

var _body = require("./body");

var _body2 = _interopRequireDefault(_body);

var _flags = require("./flags");

var _footer = require("./footer");

var _footer2 = _interopRequireDefault(_footer);

var _header = require("./header");

var _header2 = _interopRequireDefault(_header);

var _postSide = require("./post-side");

var _postSide2 = _interopRequireDefault(_postSide);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./attachments":153,"./body":154,"./flags":160,"./footer":161,"./header":162,"./post-side":166,"react":"react"}],164:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var post = _ref.post,
      thread = _ref.thread;

  return _react2.default.createElement(
    "div",
    { className: "col-xs-12 col-md-3 post-side post-side-anonymous" },
    _react2.default.createElement(_select2.default, { post: post, thread: thread }),
    _react2.default.createElement(_controls2.default, { post: post, thread: thread }),
    _react2.default.createElement(
      "div",
      { className: "media" },
      _react2.default.createElement(
        "div",
        { className: "media-left" },
        _react2.default.createElement(
          "span",
          null,
          _react2.default.createElement(_avatar2.default, { className: "poster-avatar", size: 100 })
        )
      ),
      _react2.default.createElement(
        "div",
        { className: "media-body" },
        _react2.default.createElement(
          "span",
          { className: "media-heading item-title" },
          post.poster_name
        ),
        _react2.default.createElement(
          "span",
          { className: "user-title user-title-anonymous" },
          "Διεγραμμένος χρήστης"
        )
      )
    )
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _avatar = require("../../../avatar");

var _avatar2 = _interopRequireDefault(_avatar);

var _controls = require("../controls");

var _controls2 = _interopRequireDefault(_controls);

var _select = require("../select");

var _select2 = _interopRequireDefault(_select);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../../avatar":6,"../controls":157,"../select":172,"react":"react"}],165:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var title = _ref.title,
      rank = _ref.rank;

  return rank.is_tab || !!title || !!rank.title;
};

},{}],166:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (props.post.poster) {
    return _react2.default.createElement(_registered2.default, props);
  }

  return _react2.default.createElement(_anonymous2.default, props);
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _anonymous = require("./anonymous");

var _anonymous2 = _interopRequireDefault(_anonymous);

var _registered = require("./registered");

var _registered2 = _interopRequireDefault(_registered);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./anonymous":164,"./registered":167,"react":"react"}],167:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var post = _ref.post,
      thread = _ref.thread;
  var poster = post.poster;


  return _react2.default.createElement(
    "div",
    { className: "col-xs-12 col-md-3 post-side post-side-registered" },
    _react2.default.createElement(_select2.default, { post: post, thread: thread }),
    _react2.default.createElement(_controls2.default, { post: post, thread: thread }),
    _react2.default.createElement(
      "div",
      { className: "media" },
      _react2.default.createElement(
        "div",
        { className: "media-left" },
        _react2.default.createElement(
          "a",
          { href: poster.url },
          _react2.default.createElement(_avatar2.default, { className: "poster-avatar", size: 100, user: poster })
        )
      ),
      _react2.default.createElement(
        "div",
        { className: "media-body" },
        _react2.default.createElement(
          "div",
          { className: "media-heading" },
          _react2.default.createElement(
            "a",
            { className: "item-title", href: poster.url },
            poster.username
          ),
          _react2.default.createElement(
            _userStatus2.default,
            { status: poster.status },
            _react2.default.createElement(_userStatus.StatusIcon, { status: poster.status })
          )
        ),
        _react2.default.createElement(_userTitle2.default, { rank: poster.rank, title: poster.title }),
        _react2.default.createElement(_userStatus4.default, { poster: poster }),
        _react2.default.createElement(_userPostcount2.default, { poster: poster })
      )
    )
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _avatar = require("../../../avatar");

var _avatar2 = _interopRequireDefault(_avatar);

var _controls = require("../controls");

var _controls2 = _interopRequireDefault(_controls);

var _select = require("../select");

var _select2 = _interopRequireDefault(_select);

var _userStatus = require("../../../user-status");

var _userStatus2 = _interopRequireDefault(_userStatus);

var _userPostcount = require("./user-postcount");

var _userPostcount2 = _interopRequireDefault(_userPostcount);

var _userStatus3 = require("./user-status");

var _userStatus4 = _interopRequireDefault(_userStatus3);

var _userTitle = require("./user-title");

var _userTitle2 = _interopRequireDefault(_userTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../../avatar":6,"../../../user-status":274,"../controls":157,"../select":172,"./user-postcount":168,"./user-status":169,"./user-title":170,"react":"react"}],168:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var poster = _ref.poster;

  var message = "%(posts)s προσφορές";
  if (poster.posts === 1) {
    message = "%(posts)s προσφορά";
  }

  var className = "user-postcount";
  if ((0, _hasVisibleTitle2.default)(poster)) {
    className += " hidden-xs hidden-sm";
  }

  return _react2.default.createElement(
    "span",
    { className: className },
    interpolate(message, {
      posts: poster.posts
    }, true)
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _hasVisibleTitle = require("./has-visible-title");

var _hasVisibleTitle2 = _interopRequireDefault(_hasVisibleTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./has-visible-title":165,"react":"react"}],169:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var poster = _ref.poster;

  var className = "hidden-xs";
  if ((0, _hasVisibleTitle2.default)(poster)) {
    className += " hidden-sm";
  }

  return _react2.default.createElement(
    "span",
    { className: className },
    _react2.default.createElement(
      _userStatus2.default,
      { status: poster.status },
      _react2.default.createElement(_userStatus.StatusLabel, { status: poster.status, user: poster })
    )
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _userStatus = require("../../../user-status");

var _userStatus2 = _interopRequireDefault(_userStatus);

var _hasVisibleTitle = require("./has-visible-title");

var _hasVisibleTitle2 = _interopRequireDefault(_hasVisibleTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../../user-status":274,"./has-visible-title":165,"react":"react"}],170:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var rank = _ref.rank,
      title = _ref.title;

  var userTitle = title || rank.title;
  if (!userTitle && rank.is_tab) {
    userTitle = rank.name;
  }

  if (!userTitle) return null;

  var className = "user-title";
  if (rank.css_class) {
    className += " user-title-" + rank.css_class;
  }

  if (rank.is_tab) {
    return _react2.default.createElement(
      "div",
      { className: className },
      _react2.default.createElement(
        "a",
        { href: rank.url },
        userTitle
      )
    );
  }

  return _react2.default.createElement(
    "div",
    { className: className },
    userTitle
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],171:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    "li",
    { className: "post" },
    _react2.default.createElement(
      "div",
      { className: "post-border" },
      _react2.default.createElement(
        "div",
        { className: "post-avatar" },
        _react2.default.createElement(_avatar2.default, { size: "100" })
      ),
      _react2.default.createElement(
        "div",
        { className: "post-body" },
        _react2.default.createElement(
          "div",
          { className: "panel panel-default panel-post" },
          _react2.default.createElement(
            "div",
            { className: "panel-heading post-heading" },
            _react2.default.createElement(
              "span",
              {
                className: "ui-preview-text",
                style: { width: random.int(30, 100) + "px" }
              },
              "\xA0"
            ),
            _react2.default.createElement(
              "span",
              {
                className: "ui-preview-text",
                style: { width: random.int(30, 100) + "px" }
              },
              "\xA0"
            )
          ),
          _react2.default.createElement(
            "div",
            { className: "panel-body" },
            _react2.default.createElement(
              "article",
              { className: "misago-markup" },
              _react2.default.createElement(
                "p",
                {
                  className: "ui-preview-text",
                  style: { width: random.int(50, 100) + "%" }
                },
                "\xA0"
              ),
              _react2.default.createElement(
                "p",
                {
                  className: "ui-preview-text",
                  style: { width: random.int(50, 100) + "%" }
                },
                "\xA0"
              ),
              _react2.default.createElement(
                "p",
                {
                  className: "ui-preview-text",
                  style: { width: random.int(50, 100) + "%" }
                },
                "\xA0"
              )
            )
          )
        )
      )
    )
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _avatar = require("../../avatar");

var _avatar2 = _interopRequireDefault(_avatar);

var _random = require("../../../utils/random");

var random = _interopRequireWildcard(_random);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../../utils/random":388,"../../avatar":6,"react":"react"}],172:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.isVisible = isVisible;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _posts = require("../../../reducers/posts");

var posts = _interopRequireWildcard(_posts);

var _store = require("../../../services/store");

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      if (_this.props.post.isSelected) {
        _store2.default.dispatch(posts.deselect(_this.props.post));
      } else {
        _store2.default.dispatch(posts.select(_this.props.post));
      }
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: "render",
    value: function render() {
      if (!(this.props.thread.acl.can_merge_posts || isVisible(this.props.post.acl))) {
        return null;
      }

      return _react2.default.createElement(
        "div",
        { className: "pull-right hidden-xs" },
        _react2.default.createElement(
          "button",
          {
            className: "btn btn-default btn-icon",
            onClick: this.onClick,
            type: "button"
          },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            this.props.post.isSelected ? "check_box" : "check_box_outline_blank"
          )
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function isVisible(acl) {
  return acl.can_approve || acl.can_hide || acl.can_protect || acl.can_unhide || acl.can_delete || acl.can_move;
}

},{"../../../reducers/posts":354,"../../../services/store":377,"react":"react"}],173:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _post = require("../../reducers/post");

var post = _interopRequireWildcard(_post);

var _thread = require("../../reducers/thread");

var thread = _interopRequireWildcard(_thread);

var _ajax = require("../../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require("../../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require("../../services/store");

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "componentDidMount",

    /*
    Super naive and de-facto placeholder implementation for reading posts on scroll
    */
    value: function componentDidMount() {
      var _this2 = this;

      if (this.props.post.is_read) return; // don't register read tracker

      $(this.documentNode).waypoint({
        handler: function handler(direction) {
          if (direction !== "down" || _this2.props.post.is_read) return;

          // after 1500ms run flag post as read logic
          window.setTimeout(function () {
            // check if post's bottom edge is still in viewport
            var boundingClientRect = _this2.documentNode.getBoundingClientRect();
            var offsetBottom = boundingClientRect.height + boundingClientRect.top;
            var clientHeight = document.documentElement.clientHeight;

            if (offsetBottom < 5) return; // scrolled past the post
            if (offsetBottom > clientHeight) return; // scrolled back up

            // mark post as read
            _store2.default.dispatch(post.patch(_this2.props.post, {
              is_read: true
            }));

            // call API to let it know we have unread post
            _ajax2.default.post(_this2.props.post.api.read).then(function (data) {
              _store2.default.dispatch(thread.update(_this2.props.thread, {
                is_read: data.thread_is_read
              }));
            }, function (rejection) {
              _snackbar2.default.apiError(rejection);
            });
          }, 1000);
        },
        offset: "bottom-in-view"
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this3 = this;

      return _react2.default.createElement(
        "div",
        {
          className: this.props.className,
          ref: function ref(node) {
            _this3.documentNode = node;
          }
        },
        this.props.children
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../reducers/post":353,"../../reducers/thread":360,"../../services/ajax":365,"../../services/snackbar":376,"../../services/store":377,"react":"react"}],174:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _moment = require("moment");

var _moment2 = _interopRequireDefault(_moment);

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _panelLoader = require("../panel-loader");

var _panelLoader2 = _interopRequireDefault(_panelLoader);

var _panelMessage = require("../panel-message");

var _panelMessage2 = _interopRequireDefault(_panelMessage);

var _index = require("../../index");

var _index2 = _interopRequireDefault(_index);

var _polls = require("../../services/polls");

var _polls2 = _interopRequireDefault(_polls);

var _pageTitle = require("../../services/page-title");

var _pageTitle2 = _interopRequireDefault(_pageTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.update = function (ban) {
      if (ban.expires_on) {
        ban.expires_on = (0, _moment2.default)(ban.expires_on);
      }

      _this.setState({
        isLoaded: true,
        error: null,

        ban: ban
      });
    };

    _this.error = function (error) {
      _this.setState({
        isLoaded: true,
        error: error.detail,
        ban: null
      });
    };

    if (_index2.default.has("PROFILE_BAN")) {
      _this.initWithPreloadedData(_index2.default.pop("PROFILE_BAN"));
    } else {
      _this.initWithoutPreloadedData();
    }

    _this.startPolling(props.profile.api.ban);
    return _this;
  }

  _createClass(_class, [{
    key: "initWithPreloadedData",
    value: function initWithPreloadedData(ban) {
      if (ban.expires_on) {
        ban.expires_on = (0, _moment2.default)(ban.expires_on);
      }

      this.setState({
        isLoaded: true,
        ban: ban
      });
    }
  }, {
    key: "initWithoutPreloadedData",
    value: function initWithoutPreloadedData() {
      this.setState({
        isLoaded: false
      });
    }
  }, {
    key: "startPolling",
    value: function startPolling(api) {
      _polls2.default.start({
        poll: "ban-details",
        url: api,
        frequency: 90 * 1000,
        update: this.update,
        error: this.error
      });
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      _pageTitle2.default.set({
        title: "Πληροφορίες σχετικά με τον αποκλεισμό",
        parent: this.props.profile.username
      });
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      _polls2.default.stop("ban-details");
    }
  }, {
    key: "getUserMessage",
    value: function getUserMessage() {
      if (this.state.ban.user_message) {
        return _react2.default.createElement(
          "div",
          { className: "panel-body ban-message ban-user-message" },
          _react2.default.createElement(
            "h4",
            null,
            "Μήνυμα που βλέπει ο χρήστης"
          ),
          _react2.default.createElement("div", {
            className: "lead",
            dangerouslySetInnerHTML: {
              __html: this.state.ban.user_message.html
            }
          })
        );
      } else {
        return null;
      }
    }
  }, {
    key: "getStaffMessage",
    value: function getStaffMessage() {
      if (this.state.ban.staff_message) {
        return _react2.default.createElement(
          "div",
          { className: "panel-body ban-message ban-staff-message" },
          _react2.default.createElement(
            "h4",
            null,
            "Μήνυμα που βλέπουν οι διαχειριστές"
          ),
          _react2.default.createElement("div", {
            className: "lead",
            dangerouslySetInnerHTML: {
              __html: this.state.ban.staff_message.html
            }
          })
        );
      } else {
        return null;
      }
    }
  }, {
    key: "getExpirationMessage",
    value: function getExpirationMessage() {
      if (this.state.ban.expires_on) {
        if (this.state.ban.expires_on.isAfter((0, _moment2.default)())) {
          var _title = interpolate("Ο αποκλεισμός λήγει στις %(expires_on)s", {
            expires_on: this.state.ban.expires_on.format("LL, LT")
          }, true);

          var message = interpolate("Ο αποκλεισμός λήγει %(expires_on)s", {
            expires_on: this.state.ban.expires_on.fromNow()
          }, true);

          return _react2.default.createElement(
            "abbr",
            { title: _title },
            message
          );
        } else {
          return "Ο αποκλεισμός έχει λήξει";
        }
      } else {
        return interpolate("Ο αποκλεισμός του χρήστη %(username)s είναι μόνιμος", {
          username: this.props.profile.username
        }, true);
      }
    }
  }, {
    key: "getPanelBody",
    value: function getPanelBody() {
      if (this.state.ban) {
        if (Object.keys(this.state.ban).length) {
          return _react2.default.createElement(
            "div",
            null,
            this.getUserMessage(),
            this.getStaffMessage(),
            _react2.default.createElement(
              "div",
              { className: "panel-body ban-expires" },
              _react2.default.createElement(
                "h4",
                null,
                "Τέλος αποκλεισμού"
              ),
              _react2.default.createElement(
                "p",
                { className: "lead" },
                this.getExpirationMessage()
              )
            )
          );
        } else {
          return _react2.default.createElement(
            "div",
            null,
            _react2.default.createElement(_panelMessage2.default, {
              message: "Ο χρήστης δεν έχει αποκλειστεί"
            })
          );
        }
      } else if (this.state.error) {
        return _react2.default.createElement(
          "div",
          null,
          _react2.default.createElement(_panelMessage2.default, { icon: "error_outline", message: this.state.error })
        );
      } else {
        return _react2.default.createElement(
          "div",
          null,
          _react2.default.createElement(_panelLoader2.default, null)
        );
      }
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: "profile-ban-details" },
        _react2.default.createElement(
          "div",
          { className: "panel panel-default" },
          _react2.default.createElement(
            "div",
            { className: "panel-heading" },
            _react2.default.createElement(
              "h3",
              { className: "panel-title" },
              "Πληροφορίες σχετικά με τον αποκλεισμό"
            )
          ),
          this.getPanelBody()
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../index":302,"../../services/page-title":373,"../../services/polls":374,"../panel-loader":93,"../panel-message":94,"moment":"moment","react":"react"}],175:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var isAuthenticated = _ref.isAuthenticated,
      profile = _ref.profile;

  var message = null;
  if (isAuthenticated) {
    message = "Δε μοιράζεσαι τα στοιχεία σου με άλλους χρήστες";
  } else {
    message = interpolate("Ο χρήστης %(username)s δε μοιράζεται τα στοιχεία του με άλλους χρήστες", {
      username: profile.username
    }, true);
  }

  return _react2.default.createElement(
    "div",
    { className: "panel panel-default" },
    _react2.default.createElement(
      "div",
      { className: "panel-body text-center lead" },
      message
    )
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],176:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var html = _ref.html,
      text = _ref.text,
      url = _ref.url;

  if (html) {
    return _react2.default.createElement("div", {
      className: "form-control-static col-md-9",
      dangerouslySetInnerHTML: { __html: html }
    });
  }

  return _react2.default.createElement(
    "div",
    { className: "form-control-static col-md-9" },
    _react2.default.createElement(SafeValue, { text: text, url: url })
  );
};

exports.SafeValue = SafeValue;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function SafeValue(_ref2) {
  var text = _ref2.text,
      url = _ref2.url;

  if (url) {
    return _react2.default.createElement(
      "p",
      null,
      _react2.default.createElement(
        "a",
        { href: url, target: "_blank", rel: "nofollow" },
        text || url
      )
    );
  }

  if (text) {
    return _react2.default.createElement(
      "p",
      null,
      text
    );
  }

  return null;
}

},{"react":"react"}],177:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    "div",
    { className: "form-group" },
    _react2.default.createElement(
      "strong",
      { className: "control-label col-md-3" },
      props.name,
      ":"
    ),
    _react2.default.createElement(_fieldValue2.default, props)
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _fieldValue = require("./field-value");

var _fieldValue2 = _interopRequireDefault(_fieldValue);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./field-value":176,"react":"react"}],178:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var api = _ref.api,
      display = _ref.display,
      onCancel = _ref.onCancel,
      onSuccess = _ref.onSuccess;

  if (!display) return null;

  return _react2.default.createElement(_editDetails2.default, { api: api, onCancel: onCancel, onSuccess: onSuccess });
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _editDetails = require("../../edit-details");

var _editDetails2 = _interopRequireDefault(_editDetails);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../edit-details":32,"react":"react"}],179:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var fields = _ref.fields,
      name = _ref.name;

  return _react2.default.createElement(
    "div",
    { className: "panel panel-default panel-profile-details-group" },
    _react2.default.createElement(
      "div",
      { className: "panel-heading" },
      _react2.default.createElement(
        "h3",
        { className: "panel-title" },
        name
      )
    ),
    _react2.default.createElement(
      "div",
      { className: "panel-body" },
      _react2.default.createElement(
        "div",
        { className: "form-horizontal" },
        fields.map(function (_ref2) {
          var fieldname = _ref2.fieldname,
              html = _ref2.html,
              name = _ref2.name,
              text = _ref2.text,
              url = _ref2.url;

          return _react2.default.createElement(_field2.default, {
            key: fieldname,
            name: name,
            html: html,
            text: text,
            url: url
          });
        })
      )
    )
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _field = require("./field");

var _field2 = _interopRequireDefault(_field);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./field":177,"react":"react"}],180:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var display = _ref.display,
      groups = _ref.groups,
      isAuthenticated = _ref.isAuthenticated,
      loading = _ref.loading,
      profile = _ref.profile;

  if (!display) return null;

  if (loading) {
    return _react2.default.createElement(_loader2.default, null);
  }

  if (!groups.length) {
    return _react2.default.createElement(_emptyMessage2.default, { isAuthenticated: isAuthenticated, profile: profile });
  }

  return _react2.default.createElement(
    "div",
    null,
    groups.map(function (group, i) {
      return _react2.default.createElement(_group2.default, { fields: group.fields, key: i, name: group.name });
    })
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _emptyMessage = require("./empty-message");

var _emptyMessage2 = _interopRequireDefault(_emptyMessage);

var _group = require("./group");

var _group2 = _interopRequireDefault(_group);

var _loader = require("../../loader");

var _loader2 = _interopRequireDefault(_loader);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../loader":58,"./empty-message":175,"./group":179,"react":"react"}],181:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var onEdit = _ref.onEdit,
      showEditButton = _ref.showEditButton;

  return _react2.default.createElement(
    "div",
    null,
    _react2.default.createElement(
      "nav",
      { className: "toolbar" },
      _react2.default.createElement(
        "div",
        { className: "row" },
        _react2.default.createElement(
          "div",
          { className: "col-sm-8 col-md-10" },
          _react2.default.createElement(
            "h3",
            { className: "md-margin-top-no" },
            "Στοιχεία"
          )
        ),
        _react2.default.createElement(EditButton, { onEdit: onEdit, showEditButton: showEditButton })
      )
    )
  );
};

exports.EditButton = EditButton;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function EditButton(_ref2) {
  var onEdit = _ref2.onEdit,
      showEditButton = _ref2.showEditButton;

  if (!showEditButton) return null;

  return _react2.default.createElement(
    "div",
    { className: "col-sm-4 col-md-2" },
    _react2.default.createElement(
      "button",
      {
        className: "btn btn-default btn-outline btn-block",
        onClick: onEdit,
        type: "button"
      },
      "Αλλαγή"
    )
  );
}

},{"react":"react"}],182:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _form = require("./form");

var _form2 = _interopRequireDefault(_form);

var _groupsList = require("./groups-list");

var _groupsList2 = _interopRequireDefault(_groupsList);

var _header = require("./header");

var _header2 = _interopRequireDefault(_header);

var _profileDetails = require("../../../data/profile-details");

var _profileDetails2 = _interopRequireDefault(_profileDetails);

var _profileDetails3 = require("../../../reducers/profile-details");

var _pageTitle = require("../../../services/page-title");

var _pageTitle2 = _interopRequireDefault(_pageTitle);

var _snackbar = require("../../../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onCancel = function () {
      _this.setState({ editing: false });
    };

    _this.onEdit = function () {
      _this.setState({ editing: true });
    };

    _this.onSuccess = function (newDetails) {
      var _this$props = _this.props,
          dispatch = _this$props.dispatch,
          isAuthenticated = _this$props.isAuthenticated,
          profile = _this$props.profile;


      var message = null;
      if (isAuthenticated) {
        message = "Τα στοιχεία σου ανανεώθηκαν επιτυχώς!";
      } else {
        message = interpolate("Τα στοιχεία του χρήστη %(username)s ανανεώθηκαν επιτυχώς!", {
          username: profile.username
        }, true);
      }

      _snackbar2.default.info(message);
      dispatch((0, _profileDetails3.load)(newDetails));
      _this.setState({ editing: false });
    };

    _this.state = {
      editing: false
    };
    return _this;
  }

  _createClass(_class, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      _pageTitle2.default.set({
        title: "Στοιχεία",
        parent: this.props.profile.username
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _props = this.props,
          dispatch = _props.dispatch,
          isAuthenticated = _props.isAuthenticated,
          profile = _props.profile,
          profileDetails = _props.profileDetails;

      var loading = profileDetails.id !== profile.id;

      return _react2.default.createElement(
        _profileDetails2.default,
        {
          data: profileDetails,
          dispatch: dispatch,
          user: profile
        },
        _react2.default.createElement(
          "div",
          { className: "profile-details" },
          _react2.default.createElement(_header2.default, {
            onEdit: this.onEdit,
            showEditButton: !!profileDetails.edit && !this.state.editing
          }),
          _react2.default.createElement(_groupsList2.default, {
            display: !this.state.editing,
            groups: profileDetails.groups,
            isAuthenticated: isAuthenticated,
            loading: loading,
            profile: profile
          }),
          _react2.default.createElement(_form2.default, {
            api: profile.api.edit_details,
            dispatch: dispatch,
            display: this.state.editing,
            onCancel: this.onCancel,
            onSuccess: this.onSuccess
          })
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../data/profile-details":301,"../../../reducers/profile-details":355,"../../../services/page-title":373,"../../../services/snackbar":376,"./form":178,"./groups-list":180,"./header":181,"react":"react"}],183:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.Threads = Threads;
exports.Posts = Posts;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _route = require("./route");

var _route2 = _interopRequireDefault(_route);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function Threads(props) {
  var emptyMessage = null;
  if (props.user.id === props.profile.id) {
    emptyMessage = "Δεν έχεις δημοσιεύσει καμία αγγελία";
  } else {
    emptyMessage = interpolate("Ο χρήστης %(username)s δεν έχει δημοσιεύσει καμία αγγελία", {
      username: props.profile.username
    }, true);
  }

  var header = null;
  if (!props.posts.isLoaded) {
    header = "Φορτώνει...";
  } else if (props.profile.id === props.user.id) {
    var message = "Έχεις δημοσιεύσει %(threads)s αγγελίες";
    if (props.profile.threads === 1) {
      message = "Έχεις δημοσιεύσει %(threads)s αγγελία";
    }

    header = interpolate(message, {
      threads: props.profile.threads
    }, true);
  } else {
    var _message = "Ο χρήστης %(username)s έχει δημοσιεύσει %(threads)s αγγελίες";
    if (props.profile.threads === 1) {
      _message = "Ο χρήστης %(username)s έχει δημοσιεύσει %(threads)s αγγελία";
    }

    header = interpolate(_message, {
      username: props.profile.username,
      threads: props.profile.threads
    }, true);
  }

  return _react2.default.createElement(_route2.default, _extends({
    api: props.profile.api.threads,
    emptyMessage: emptyMessage,
    header: header,
    title: "Αγγελίες"
  }, props));
}

function Posts(props) {
  var emptyMessage = null;
  if (props.user.id === props.profile.id) {
    emptyMessage = "Δεν έχεις κάνει καμία προσφορά";
  } else {
    emptyMessage = interpolate("Ο χρήστης %(username)s δεν έχει κάνει καμία προσφορά", {
      username: props.profile.username
    }, true);
  }

  var header = null;
  if (!props.posts.isLoaded) {
    header = "Φορτώνει...";
  } else if (props.profile.id === props.user.id) {
    var message = "Έχεις κάνει %(posts)s προσφορές";
    if (props.profile.posts === 1) {
      message = "Έχεις κάνει %(posts)s προσφορά";
    }

    header = interpolate(message, {
      posts: props.profile.posts
    }, true);
  } else {
    var _message2 = "Ο χρήστης %(username)s έχει κάνει %(posts)s προσφορές";
    if (props.profile.posts === 1) {
      _message2 = "Ο χρήστης %(username)s έχει κάνει %(posts)s προσφορά";
    }

    header = interpolate(_message2, {
      username: props.profile.username,
      posts: props.profile.posts
    }, true);
  }

  return _react2.default.createElement(_route2.default, _extends({
    api: props.profile.api.posts,
    emptyMessage: emptyMessage,
    header: header,
    title: "Προσφορές"
  }, props));
}

},{"./route":184,"react":"react"}],184:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.Feed = Feed;
exports.LoadMoreButton = LoadMoreButton;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _postFeed = require("../../post-feed");

var _postFeed2 = _interopRequireDefault(_postFeed);

var _button = require("../../button");

var _button2 = _interopRequireDefault(_button);

var _posts = require("../../../reducers/posts");

var posts = _interopRequireWildcard(_posts);

var _pageTitle = require("../../../services/page-title");

var _pageTitle2 = _interopRequireDefault(_pageTitle);

var _ajax = require("../../../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require("../../../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require("../../../services/store");

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.loadMore = function () {
      _this.setState({
        isLoading: true
      });

      _this.loadItems(_this.props.posts.next);
    };

    _this.state = {
      isLoading: false
    };
    return _this;
  }

  _createClass(_class, [{
    key: "loadItems",
    value: function loadItems() {
      var _this2 = this;

      var start = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;

      _ajax2.default.get(this.props.api, {
        start: start || 0
      }).then(function (data) {
        if (start === 0) {
          _store2.default.dispatch(posts.load(data));
        } else {
          _store2.default.dispatch(posts.append(data));
        }

        _this2.setState({
          isLoading: false
        });
      }, function (rejection) {
        _this2.setState({
          isLoading: false
        });

        _snackbar2.default.apiError(rejection);
      });
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      _pageTitle2.default.set({
        title: this.props.title,
        parent: this.props.profile.username
      });

      this.loadItems();
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: "profile-feed" },
        _react2.default.createElement(
          "nav",
          { className: "toolbar" },
          _react2.default.createElement(
            "h3",
            { className: "toolbar-left" },
            this.props.header
          )
        ),
        _react2.default.createElement(Feed, _extends({
          isLoading: this.state.isLoading,
          loadMore: this.loadMore
        }, this.props))
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function Feed(props) {
  if (!props.posts.results.length) {
    return _react2.default.createElement(
      "p",
      { className: "lead" },
      props.emptyMessage
    );
  }

  return _react2.default.createElement(
    "div",
    null,
    _react2.default.createElement(_postFeed2.default, {
      isReady: props.posts.isLoaded,
      posts: props.posts.results,
      poster: props.profile
    }),
    _react2.default.createElement(LoadMoreButton, {
      isLoading: props.isLoading,
      loadMore: props.loadMore,
      next: props.posts.next
    })
  );
}

function LoadMoreButton(props) {
  if (!props.next) return null;

  return _react2.default.createElement(
    "div",
    { className: "pager-more" },
    _react2.default.createElement(
      _button2.default,
      {
        className: "btn btn-default btn-outline",
        loading: props.isLoading,
        onClick: props.loadMore
      },
      "Προβολή παλαιότερης δραστηριότητας"
    )
  );
}

},{"../../../reducers/posts":354,"../../../services/ajax":365,"../../../services/page-title":373,"../../../services/snackbar":376,"../../../services/store":377,"../../button":8,"../../post-feed":122,"react":"react"}],185:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _button = require("../button");

var _button2 = _interopRequireDefault(_button);

var _profile = require("../../reducers/profile");

var _ajax = require("../../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require("../../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require("../../services/store");

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.action = function () {
      _this.setState({
        isLoading: true
      });

      if (_this.props.profile.is_followed) {
        _store2.default.dispatch((0, _profile.patch)({
          is_followed: false,
          followers: _this.props.profile.followers - 1
        }));
      } else {
        _store2.default.dispatch((0, _profile.patch)({
          is_followed: true,
          followers: _this.props.profile.followers + 1
        }));
      }

      _ajax2.default.post(_this.props.profile.api.follow).then(function (data) {
        _this.setState({
          isLoading: false
        });

        _store2.default.dispatch((0, _profile.patch)(data));
      }, function (rejection) {
        _this.setState({
          isLoading: false
        });
        _snackbar2.default.apiError(rejection);
      });
    };

    _this.state = {
      isLoading: false
    };
    return _this;
  }

  _createClass(_class, [{
    key: "getClassName",
    value: function getClassName() {
      if (this.props.profile.is_followed) {
        return this.props.className + " btn-default btn-following";
      } else {
        return this.props.className + " btn-default btn-follow";
      }
    }
  }, {
    key: "getIcon",
    value: function getIcon() {
      if (this.props.profile.is_followed) {
        return "favorite";
      } else {
        return "favorite_border";
      }
    }
  }, {
    key: "getLabel",
    value: function getLabel() {
      if (this.props.profile.is_followed) {
        return "Ακολουθείς";
      } else {
        return "Ακολούθησε";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        _button2.default,
        {
          className: this.getClassName(),
          disabled: this.state.isLoading,
          onClick: this.action
        },
        _react2.default.createElement(
          "span",
          { className: "material-icon" },
          this.getIcon()
        ),
        this.getLabel()
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../reducers/profile":356,"../../services/ajax":365,"../../services/snackbar":376,"../../services/store":377,"../button":8,"react":"react"}],186:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _button = require("../button");

var _button2 = _interopRequireDefault(_button);

var _quickSearch = require("../quick-search");

var _quickSearch2 = _interopRequireDefault(_quickSearch);

var _usersList = require("../users-list");

var _usersList2 = _interopRequireDefault(_usersList);

var _index = require("../../index");

var _index2 = _interopRequireDefault(_index);

var _users = require("../../reducers/users");

var _ajax = require("../../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require("../../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require("../../services/store");

var _store2 = _interopRequireDefault(_store);

var _pageTitle = require("../../services/page-title");

var _pageTitle2 = _interopRequireDefault(_pageTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.loadMore = function () {
      _this.setState({
        isBusy: true
      });

      _this.loadUsers(_this.state.page + 1, _this.state.search);
    };

    _this.search = function (ev) {
      _this.setState({
        isLoaded: false,
        isBusy: true,

        search: ev.target.value,

        count: 0,
        more: 0,

        page: 1,
        pages: 1
      });

      _this.loadUsers(1, ev.target.value);
    };

    _this.setSpecialProps();

    if (_index2.default.has(_this.PRELOADED_DATA_KEY)) {
      _this.initWithPreloadedData(_index2.default.pop(_this.PRELOADED_DATA_KEY));
    } else {
      _this.initWithoutPreloadedData();
    }
    return _this;
  }

  _createClass(_class, [{
    key: "setSpecialProps",
    value: function setSpecialProps() {
      this.PRELOADED_DATA_KEY = "PROFILE_FOLLOWERS";
      this.TITLE = "Ακολουθούν";
      this.API_FILTER = "followers";
    }
  }, {
    key: "initWithPreloadedData",
    value: function initWithPreloadedData(data) {
      this.state = {
        isLoaded: true,
        isBusy: false,

        search: "",

        count: data.count,
        more: data.more,

        page: data.page,
        pages: data.pages
      };

      _store2.default.dispatch((0, _users.hydrate)(data.results));
    }
  }, {
    key: "initWithoutPreloadedData",
    value: function initWithoutPreloadedData() {
      this.state = {
        isLoaded: false,
        isBusy: false,

        search: "",

        count: 0,
        more: 0,

        page: 1,
        pages: 1
      };

      this.loadUsers();
    }
  }, {
    key: "loadUsers",
    value: function loadUsers() {
      var _this2 = this;

      var page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;
      var search = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

      var apiUrl = this.props.profile.api[this.API_FILTER];

      _ajax2.default.get(apiUrl, {
        search: search,
        page: page || 1
      }, "user-" + this.API_FILTER).then(function (data) {
        if (page === 1) {
          _store2.default.dispatch((0, _users.hydrate)(data.results));
        } else {
          _store2.default.dispatch((0, _users.append)(data.results));
        }

        _this2.setState({
          isLoaded: true,
          isBusy: false,

          count: data.count,
          more: data.more,

          page: data.page,
          pages: data.pages
        });
      }, function (rejection) {
        _snackbar2.default.apiError(rejection);
      });
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      _pageTitle2.default.set({
        title: this.TITLE,
        parent: this.props.profile.username
      });
    }
  }, {
    key: "getLabel",
    value: function getLabel() {
      if (!this.state.isLoaded) {
        return "Φορτώνει...";
      } else if (this.state.search) {
        var message = "Βρέθηκαν %(users)s χρήστες";
        if (this.state.count === 1) {
          message = "Βρέθηκε %(users)s χρήστης";
        }

        return interpolate(message, {
          users: this.state.count
        }, true);
      } else if (this.props.profile.id === this.props.user.id) {
        var _message = "Σε ακολουθούν %(users)s χρήστες";
        if (this.state.count === 1) {
          _message = "Σε ακολουθεί %(users)s χρήστης";
        }

        return interpolate(_message, {
          users: this.state.count
        }, true);
      } else {
        var _message2 = "Το χρήστη %(username)s τον ακολουθούν %(users)s χρήστες";
        if (this.state.count === 1) {
          _message2 = "Το χρήστη %(username)s τον ακολουθεί %(users)s χρήστης";
        }

        return interpolate(_message2, {
          username: this.props.profile.username,
          users: this.state.count
        }, true);
      }
    }
  }, {
    key: "getEmptyMessage",
    value: function getEmptyMessage() {
      if (this.state.search) {
        return "Η αναζήτηση δεν επέστρεψε κανένα χρήστη...";
      } else if (this.props.user.id === this.props.profile.id) {
        return "Δε σε ακολουθεί κανένας χρήστης";
      } else {
        return interpolate("Το χρήστη %(username)s δεν τον ακολουθεί κανένας άλλος χρήστης", {
          username: this.props.profile.username
        }, true);
      }
    }
  }, {
    key: "getMoreButton",
    value: function getMoreButton() {
      if (!this.state.more) return null;

      return _react2.default.createElement(
        "div",
        { className: "pager-more" },
        _react2.default.createElement(
          _button2.default,
          {
            className: "btn btn-default btn-outline",
            loading: this.state.isBusy,
            onClick: this.loadMore
          },
          interpolate("(%(more)s) περισσότεροι", {
            more: this.state.more
          }, true)
        )
      );
    }
  }, {
    key: "getListBody",
    value: function getListBody() {
      if (this.state.isLoaded && this.state.count === 0) {
        return _react2.default.createElement(
          "p",
          { className: "lead" },
          this.getEmptyMessage()
        );
      }

      return _react2.default.createElement(
        "div",
        null,
        _react2.default.createElement(_usersList2.default, {
          cols: 3,
          isReady: this.state.isLoaded,
          users: this.props.users
        }),
        this.getMoreButton()
      );
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      return "profile-" + this.API_FILTER;
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: this.getClassName() },
        _react2.default.createElement(
          "nav",
          { className: "toolbar" },
          _react2.default.createElement(
            "h3",
            { className: "toolbar-left" },
            this.getLabel()
          ),
          _react2.default.createElement(_quickSearch2.default, {
            className: "toolbar-right",
            value: this.state.search,
            onChange: this.search,
            placeholder: "Αναζήτηση χρηστών..."
          })
        ),
        this.getListBody()
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../index":302,"../../reducers/users":364,"../../services/ajax":365,"../../services/page-title":373,"../../services/snackbar":376,"../../services/store":377,"../button":8,"../quick-search":197,"../users-list":284,"react":"react"}],187:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _followers = require("./followers");

var _followers2 = _interopRequireDefault(_followers);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_Followers) {
  _inherits(_class, _Followers);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "setSpecialProps",
    value: function setSpecialProps() {
      this.PRELOADED_DATA_KEY = "PROFILE_FOLLOWS";
      if (this.props.profile.id === this.props.user.id) {
        this.TITLE = "Ακολουθείς";
      } else {
        this.TITLE = "Ακολουθεί";
      }
      this.API_FILTER = "follows";
    }
  }, {
    key: "getLabel",
    value: function getLabel() {
      if (!this.state.isLoaded) {
        return "Φορτώνει...";
      } else if (this.state.search) {
        var message = "Βρέθηκαν %(users)s χρήστες";
        if (this.state.count === 1) {
          message = "Βρέθηκε %(users)s χρήστης";
        }

        return interpolate(message, {
          users: this.state.count
        }, true);
      } else if (this.props.profile.id === this.props.user.id) {
        var _message = "Ακολουθείς %(users)s χρήστες";
        if (this.state.count === 1) {
          _message = "Ακολουθείς %(users)s χρήστη";
        }

        return interpolate(_message, {
          users: this.state.count
        }, true);
      } else {
        var _message2 = "Ο χρήστης %(username)s ακολουθεί %(users)s χρήστες";
        if (this.state.count === 1) {
          _message2 = "Ο χρήστης %(username)s ακολουθεί %(users)s χρήστη";
        }

        return interpolate(_message2, {
          username: this.props.profile.username,
          users: this.state.count
        }, true);
      }
    }
  }, {
    key: "getEmptyMessage",
    value: function getEmptyMessage() {
      if (this.state.search) {
        return "Η αναζήτηση δεν επέστρεψε κανένα χρήστη...";
      } else if (this.props.user.id === this.props.profile.id) {
        return "Δεν ακολουθείς κανένα χρήστη";
      } else {
        return interpolate("Ο χρήστης %(username)s δεν ακολουθεί κανένα χρήστη", {
          username: this.props.profile.username
        }, true);
      }
    }
  }]);

  return _class;
}(_followers2.default);

exports.default = _class;

},{"./followers":186,"react":"react"}],188:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.IsDisabledMessage = IsDisabledMessage;
exports.getColStyle = getColStyle;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _avatar = require("../avatar");

var _avatar2 = _interopRequireDefault(_avatar);

var _followButton = require("./follow-button");

var _followButton2 = _interopRequireDefault(_followButton);

var _messageButton = require("./message-button");

var _messageButton2 = _interopRequireDefault(_messageButton);

var _nav = require("./moderation/nav");

var _nav2 = _interopRequireDefault(_nav);

var _navs = require("./navs");

var _userStatus = require("../user-status");

var _userStatus2 = _interopRequireDefault(_userStatus);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "getUserStatus",
    value: function getUserStatus() {
      return _react2.default.createElement(
        "li",
        { className: "user-status-display" },
        _react2.default.createElement(
          _userStatus2.default,
          { user: this.props.profile, status: this.props.profile.status },
          _react2.default.createElement(_userStatus.StatusIcon, {
            user: this.props.profile,
            status: this.props.profile.status
          }),
          _react2.default.createElement(_userStatus.StatusLabel, {
            user: this.props.profile,
            status: this.props.profile.status,
            className: "status-label"
          })
        )
      );
    }
  }, {
    key: "getUserRank",
    value: function getUserRank() {
      if (this.props.profile.rank.is_tab) {
        return _react2.default.createElement(
          "li",
          { className: "user-rank" },
          _react2.default.createElement(
            "a",
            { href: this.props.profile.rank.url, className: "item-title" },
            this.props.profile.rank.name
          )
        );
      } else {
        return _react2.default.createElement(
          "li",
          { className: "user-rank" },
          _react2.default.createElement(
            "span",
            { className: "item-title" },
            this.props.profile.rank.name
          )
        );
      }
    }
  }, {
    key: "getUserTitle",
    value: function getUserTitle() {
      if (this.props.profile.title) {
        return _react2.default.createElement(
          "li",
          { className: "user-title" },
          this.props.profile.title
        );
      } else if (this.props.profile.rank.title) {
        return _react2.default.createElement(
          "li",
          { className: "user-title" },
          this.props.profile.rank.title
        );
      } else {
        return null;
      }
    }
  }, {
    key: "getJoinedOn",
    value: function getJoinedOn() {
      var title = interpolate("Έγινε μέλος %(joined_on)s", {
        joined_on: this.props.profile.joined_on.format("LL, LT")
      }, true);

      var age = interpolate("Έγινε μέλος %(joined_on)s", {
        joined_on: this.props.profile.joined_on.fromNow()
      }, true);

      return _react2.default.createElement(
        "li",
        { className: "user-joined-on" },
        _react2.default.createElement(
          "abbr",
          { title: title },
          age
        )
      );
    }
  }, {
    key: "getEmail",
    value: function getEmail() {
      if (this.props.profile.email) {
        return _react2.default.createElement(
          "li",
          { className: "user-email" },
          _react2.default.createElement(
            "a",
            { href: "mailto:" + this.props.profile.email, className: "item-title" },
            this.props.profile.email
          )
        );
      } else {
        return null;
      }
    }
  }, {
    key: "getFollowButton",
    value: function getFollowButton() {
      if (this.props.profile.acl.can_follow) {
        return _react2.default.createElement(_followButton2.default, {
          className: "btn btn-block btn-outline",
          profile: this.props.profile
        });
      } else {
        return null;
      }
    }
  }, {
    key: "getModerationButton",
    value: function getModerationButton() {
      if (this.props.profile.acl.can_moderate) {
        return _react2.default.createElement(
          "div",
          { className: "btn-group btn-group-justified" },
          _react2.default.createElement(
            "div",
            { className: "btn-group" },
            _react2.default.createElement(
              "button",
              {
                className: "btn btn-default btn-moderate btn-outline dropdown-toggle",
                type: "button",
                "data-toggle": "dropdown",
                "aria-haspopup": "true",
                "aria-expanded": "false"
              },
              _react2.default.createElement(
                "span",
                { className: "material-icon" },
                "tonality"
              ),
              "Διαχείριση"
            ),
            _react2.default.createElement(_nav2.default, { profile: this.props.profile })
          )
        );
      } else {
        return null;
      }
    }
  }, {
    key: "render",
    value: function render() {
      var canFollow = this.props.profile.acl.can_follow;
      var canModerate = this.props.profile.acl.can_moderate;

      var isProfileOwner = this.props.user.id === this.props.profile.id;
      var canMessage = !isProfileOwner && this.props.user.acl.can_start_private_threads;

      var cols = 0;
      if (canFollow) cols += 1;
      if (canModerate) cols += 1;
      if (canMessage) cols += 1;

      var colsWidth = cols ? 2 * cols + 1 : 0;

      var headerClassName = "page-header";
      if (this.props.profile.rank.css_class) {
        headerClassName += " page-header-rank-" + this.props.profile.rank.css_class;
      }

      return _react2.default.createElement(
        "div",
        { className: "page-header-bg" },
        _react2.default.createElement(
          "div",
          { className: headerClassName },
          _react2.default.createElement(
            "div",
            { className: "container" },
            _react2.default.createElement(IsDisabledMessage, {
              isActive: this.props.profile.is_active,
              isDeletingAccount: this.props.profile.is_deleting_account
            }),
            _react2.default.createElement(
              "div",
              { className: "row" },
              _react2.default.createElement(
                "div",
                { className: "col-md-9 col-md-offset-3" },
                _react2.default.createElement(
                  "div",
                  { className: "row" },
                  _react2.default.createElement(
                    "div",
                    { className: "col-sm-" + (12 - colsWidth) },
                    _react2.default.createElement(_avatar2.default, {
                      className: "user-avatar user-avatar-sm",
                      user: this.props.profile,
                      size: "100",
                      size2x: "200"
                    }),
                    _react2.default.createElement(
                      "h1",
                      null,
                      this.props.profile.username
                    )
                  ),
                  !!cols && _react2.default.createElement(
                    "div",
                    { className: "col-sm-" + colsWidth },
                    _react2.default.createElement(
                      "div",
                      { className: "row xs-margin-top sm-margin-top" },
                      !!canMessage && _react2.default.createElement(
                        "div",
                        { className: getColStyle(cols, 0) },
                        _react2.default.createElement(_messageButton2.default, {
                          className: "btn btn-default btn-block btn-outline",
                          profile: this.props.profile,
                          user: this.props.user
                        })
                      ),
                      !!canFollow && _react2.default.createElement(
                        "div",
                        { className: getColStyle(cols, 1) },
                        this.getFollowButton()
                      ),
                      !!canModerate && _react2.default.createElement(
                        "div",
                        { className: getColStyle(cols, 2) },
                        this.getModerationButton()
                      )
                    )
                  )
                )
              )
            )
          ),
          _react2.default.createElement(
            "div",
            { className: "header-stats" },
            _react2.default.createElement(
              "div",
              { className: "container" },
              _react2.default.createElement(
                "div",
                { className: "row" },
                _react2.default.createElement(
                  "div",
                  { className: "col-md-9 col-md-offset-3" },
                  _react2.default.createElement(
                    "ul",
                    { className: "list-inline" },
                    this.getUserStatus(),
                    this.getUserRank(),
                    this.getUserTitle(),
                    this.getJoinedOn(),
                    this.getEmail()
                  )
                )
              )
            )
          ),
          _react2.default.createElement(_navs.CompactNav, {
            baseUrl: this.props.baseUrl,
            pages: this.props.pages,
            profile: this.props.profile
          })
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function IsDisabledMessage(_ref) {
  var isActive = _ref.isActive,
      isDeletingAccount = _ref.isDeletingAccount;

  if (isActive !== false && isDeletingAccount !== true) return null;

  var message = null;
  if (isDeletingAccount) {
    message = "Αυτός ο χρήστης έχει διαγράψει το λογαριασμό του";
  } else {
    message = "Ο λογαριασμός αυτού του χρήστη έχει απενεργοποιηθεί από το διαχειριστή της σελίδας";
  }

  return _react2.default.createElement(
    "div",
    { className: "alert alert-danger" },
    _react2.default.createElement(
      "p",
      null,
      message
    )
  );
}

function getColStyle(cols, col) {
  var colStyle = "";

  if (cols === 1) {
    colStyle = "col-xs-12";
  }

  if (cols === 2) {
    colStyle = "col-xs-6 col-sm-6";
  }

  if (cols === 3) {
    if (col === 2) {
      colStyle = "col-xs-12 col-sm-4 xs-margin-top";
    } else {
      colStyle += "col-xs-6 col-sm-4";
    }
  }

  return colStyle;
}

},{"../avatar":6,"../user-status":274,"./follow-button":185,"./message-button":189,"./moderation/nav":193,"./navs":194,"react":"react"}],189:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _posting = require("../../services/posting");

var _posting2 = _interopRequireDefault(_posting);

var _ = require("../..");

var _2 = _interopRequireDefault(_);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      _posting2.default.open({
        mode: "START_PRIVATE",
        submit: _2.default.get("PRIVATE_THREADS_API"),

        to: [_this.props.profile]
      });
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: "render",
    value: function render() {
      var canMessage = this.props.user.acl.can_start_private_threads;
      var isProfileOwner = this.props.user.id === this.props.profile.id;

      if (!canMessage || isProfileOwner) return null;

      return _react2.default.createElement(
        "button",
        {
          className: this.props.className,
          onClick: this.onClick,
          type: "button"
        },
        _react2.default.createElement(
          "span",
          { className: "material-icon" },
          "comment"
        ),
        "Μήνυμα"
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../..":302,"../../services/posting":375,"react":"react"}],190:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _button = require("../../button");

var _button2 = _interopRequireDefault(_button);

var _form = require("../../form");

var _form2 = _interopRequireDefault(_form);

var _formGroup = require("../../form-group");

var _formGroup2 = _interopRequireDefault(_formGroup);

var _modalLoader = require("../../modal-loader");

var _modalLoader2 = _interopRequireDefault(_modalLoader);

var _yesNoSwitch = require("../../yes-no-switch");

var _yesNoSwitch2 = _interopRequireDefault(_yesNoSwitch);

var _modalMessage = require("../../modal-message");

var _modalMessage2 = _interopRequireDefault(_modalMessage);

var _users = require("../../../reducers/users");

var _ajax = require("../../../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require("../../../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require("../../../services/store");

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.state = {
      isLoaded: false,
      isLoading: false,
      error: null,

      is_avatar_locked: "",
      avatar_lock_user_message: "",
      avatar_lock_staff_message: ""
    };
    return _this;
  }

  _createClass(_class, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      _ajax2.default.get(this.props.profile.api.moderate_avatar).then(function (options) {
        _this2.setState({
          isLoaded: true,

          is_avatar_locked: options.is_avatar_locked,
          avatar_lock_user_message: options.avatar_lock_user_message || "",
          avatar_lock_staff_message: options.avatar_lock_staff_message || ""
        });
      }, function (rejection) {
        _this2.setState({
          isLoaded: true,
          error: rejection.detail
        });
      });
    }
  }, {
    key: "clean",
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar2.default.error(this.validate().username[0]);
        return false;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax2.default.post(this.props.profile.api.moderate_avatar, {
        is_avatar_locked: this.state.is_avatar_locked,
        avatar_lock_user_message: this.state.avatar_lock_user_message,
        avatar_lock_staff_message: this.state.avatar_lock_staff_message
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(apiResponse) {
      _store2.default.dispatch((0, _users.updateAvatar)(this.props.profile, apiResponse.avatar_hash));
      _snackbar2.default.success("Οι επιλογές εικόνας άλλαξαν επιτυχώς!");
    }
  }, {
    key: "getFormBody",
    value: function getFormBody() {
      return _react2.default.createElement(
        "form",
        { onSubmit: this.handleSubmit },
        _react2.default.createElement(
          "div",
          { className: "modal-body" },
          _react2.default.createElement(
            _formGroup2.default,
            {
              label: "Κλείδωμα εικόνας",
              helpText: "Το κλείδωμα απαγορεύει αλλαγή από το χρήστη και επιβάλει τη χρήση προκαθορισμένης εικόνας",
              "for": "id_is_avatar_locked"
            },
            _react2.default.createElement(_yesNoSwitch2.default, {
              id: "id_is_avatar_locked",
              disabled: this.state.isLoading,
              iconOn: "lock_outline",
              iconOff: "lock_open",
              labelOn: "Απαγόρευση αλλαγής εικόνας από το χρήστη",
              labelOff: "Επιτρέπεται η αλλαγή εικόνας από το χρήστη",
              onChange: this.bindInput("is_avatar_locked"),
              value: this.state.is_avatar_locked
            })
          ),
          _react2.default.createElement(
            _formGroup2.default,
            {
              label: "Μήνυμα χρήστη",
              helpText: "Προαιρετικό μήνυμα που εξηγεί στο χρήστη την απαγόρευση αλλαγής εικόνας",
              "for": "id_avatar_lock_user_message"
            },
            _react2.default.createElement("textarea", {
              id: "id_avatar_lock_user_message",
              className: "form-control",
              rows: "4",
              disabled: this.state.isLoading,
              onChange: this.bindInput("avatar_lock_user_message"),
              value: this.state.avatar_lock_user_message
            })
          ),
          _react2.default.createElement(
            _formGroup2.default,
            {
              label: "Μήνυμα διαχειριστών",
              helpText: "Προεραιτικό μήνυμα που εξηγεί στους διαχειριστές την απαγόρευση αλλαγής εικόνας",
              "for": "id_avatar_lock_staff_message"
            },
            _react2.default.createElement("textarea", {
              id: "id_avatar_lock_staff_message",
              className: "form-control",
              rows: "4",
              disabled: this.state.isLoading,
              onChange: this.bindInput("avatar_lock_staff_message"),
              value: this.state.avatar_lock_staff_message
            })
          )
        ),
        _react2.default.createElement(
          "div",
          { className: "modal-footer" },
          _react2.default.createElement(
            "button",
            {
              type: "button",
              className: "btn btn-default",
              "data-dismiss": "modal"
            },
            "Κλείσιμο"
          ),
          _react2.default.createElement(
            _button2.default,
            { className: "btn-primary", loading: this.state.isLoading },
            "Αποθήκευση αλλαγών"
          )
        )
      );
    }
  }, {
    key: "getModalBody",
    value: function getModalBody() {
      if (this.state.error) {
        return _react2.default.createElement(_modalMessage2.default, { icon: "remove_circle_outline", message: this.state.error });
      } else if (this.state.isLoaded) {
        return this.getFormBody();
      } else {
        return _react2.default.createElement(_modalLoader2.default, null);
      }
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (this.state.error) {
        return "modal-dialog modal-message modal-avatar-controls";
      } else {
        return "modal-dialog modal-avatar-controls";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: this.getClassName(), role: "document" },
        _react2.default.createElement(
          "div",
          { className: "modal-content" },
          _react2.default.createElement(
            "div",
            { className: "modal-header" },
            _react2.default.createElement(
              "button",
              {
                type: "button",
                className: "close",
                "data-dismiss": "modal",
                "aria-label": "Κλείσιμο"
              },
              _react2.default.createElement(
                "span",
                { "aria-hidden": "true" },
                "\xD7"
              )
            ),
            _react2.default.createElement(
              "h4",
              { className: "modal-title" },
              "Επιλογές εικόνας"
            )
          ),
          this.getModalBody()
        )
      );
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../../reducers/users":364,"../../../services/ajax":365,"../../../services/snackbar":376,"../../../services/store":377,"../../button":8,"../../form":56,"../../form-group":55,"../../modal-loader":61,"../../modal-message":62,"../../yes-no-switch":300,"react":"react"}],191:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _button = require("../../button");

var _button2 = _interopRequireDefault(_button);

var _form = require("../../form");

var _form2 = _interopRequireDefault(_form);

var _formGroup = require("../../form-group");

var _formGroup2 = _interopRequireDefault(_formGroup);

var _modalLoader = require("../../modal-loader");

var _modalLoader2 = _interopRequireDefault(_modalLoader);

var _modalMessage = require("../../modal-message");

var _modalMessage2 = _interopRequireDefault(_modalMessage);

var _usernameHistory = require("../../../reducers/username-history");

var _users = require("../../../reducers/users");

var _ajax = require("../../../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require("../../../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require("../../../services/store");

var _store2 = _interopRequireDefault(_store);

var _validators = require("../../../utils/validators");

var validators = _interopRequireWildcard(_validators);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.state = {
      isLoaded: false,
      isLoading: false,
      error: null,

      username: "",
      validators: {
        username: [validators.usernameContent()]
      }
    };
    return _this;
  }

  _createClass(_class, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      _ajax2.default.get(this.props.profile.api.moderate_username).then(function () {
        _this2.setState({
          isLoaded: true
        });
      }, function (rejection) {
        _this2.setState({
          isLoaded: true,
          error: rejection.detail
        });
      });
    }
  }, {
    key: "clean",
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar2.default.error(this.validate().username[0]);
        return false;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax2.default.post(this.props.profile.api.moderate_username, {
        username: this.state.username
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(apiResponse) {
      this.setState({
        username: ""
      });

      _store2.default.dispatch((0, _usernameHistory.addNameChange)(apiResponse, this.props.profile, this.props.user));
      _store2.default.dispatch((0, _users.updateUsername)(this.props.profile, apiResponse.username, apiResponse.slug));

      _snackbar2.default.success("Το όνομα χρήστη άλλαξε επιτυχώς!");
    }
  }, {
    key: "getFormBody",
    value: function getFormBody() {
      return _react2.default.createElement(
        "form",
        { onSubmit: this.handleSubmit },
        _react2.default.createElement(
          "div",
          { className: "modal-body" },
          _react2.default.createElement(
            _formGroup2.default,
            { label: "Νέο όνομα χρήστη", "for": "id_username" },
            _react2.default.createElement("input", {
              type: "text",
              id: "id_username",
              className: "form-control",
              disabled: this.state.isLoading,
              onChange: this.bindInput("username"),
              value: this.state.username
            })
          )
        ),
        _react2.default.createElement(
          "div",
          { className: "modal-footer" },
          _react2.default.createElement(
            "button",
            {
              className: "btn btn-default",
              "data-dismiss": "modal",
              disabled: this.state.isLoading,
              type: "button"
            },
            "Ακύρωση"
          ),
          _react2.default.createElement(
            _button2.default,
            { className: "btn-primary", loading: this.state.isLoading },
            "Αλλαγή"
          )
        )
      );
    }
  }, {
    key: "getModalBody",
    value: function getModalBody() {
      if (this.state.error) {
        return _react2.default.createElement(_modalMessage2.default, { icon: "remove_circle_outline", message: this.state.error });
      } else if (this.state.isLoaded) {
        return this.getFormBody();
      } else {
        return _react2.default.createElement(_modalLoader2.default, null);
      }
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (this.state.error) {
        return "modal-dialog modal-message modal-rename-user";
      } else {
        return "modal-dialog modal-rename-user";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: this.getClassName(), role: "document" },
        _react2.default.createElement(
          "div",
          { className: "modal-content" },
          _react2.default.createElement(
            "div",
            { className: "modal-header" },
            _react2.default.createElement(
              "button",
              {
                type: "button",
                className: "close",
                "data-dismiss": "modal",
                "aria-label": "Κλείσιμο"
              },
              _react2.default.createElement(
                "span",
                { "aria-hidden": "true" },
                "\xD7"
              )
            ),
            _react2.default.createElement(
              "h4",
              { className: "modal-title" },
              "Αλλαγή ονόματος χρήστη"
            )
          ),
          this.getModalBody()
        )
      );
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../../reducers/username-history":363,"../../../reducers/users":364,"../../../services/ajax":365,"../../../services/snackbar":376,"../../../services/store":377,"../../../utils/validators":393,"../../button":8,"../../form":56,"../../form-group":55,"../../modal-loader":61,"../../modal-message":62,"react":"react"}],192:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _button = require("../../button");

var _button2 = _interopRequireDefault(_button);

var _form = require("../../form");

var _form2 = _interopRequireDefault(_form);

var _formGroup = require("../../form-group");

var _formGroup2 = _interopRequireDefault(_formGroup);

var _modalLoader = require("../../modal-loader");

var _modalLoader2 = _interopRequireDefault(_modalLoader);

var _modalMessage = require("../../modal-message");

var _modalMessage2 = _interopRequireDefault(_modalMessage);

var _yesNoSwitch = require("../../yes-no-switch");

var _yesNoSwitch2 = _interopRequireDefault(_yesNoSwitch);

var _index = require("../../../index");

var _index2 = _interopRequireDefault(_index);

var _ajax = require("../../../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _polls = require("../../../services/polls");

var _polls2 = _interopRequireDefault(_polls);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.countdown = function () {
      window.setTimeout(function () {
        if (_this.state.countdown > 1) {
          _this.setState({
            countdown: _this.state.countdown - 1
          });
          _this.countdown();
        } else if (!_this.state.confirm) {
          _this.setState({
            confirm: true
          });
        }
      }, 1000);
    };

    _this.state = {
      isLoaded: false,
      isLoading: false,
      isDeleted: false,
      error: null,

      countdown: 5,
      confirm: false,

      with_content: false
    };
    return _this;
  }

  _createClass(_class, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      _ajax2.default.get(this.props.profile.api.delete).then(function () {
        _this2.setState({
          isLoaded: true
        });

        _this2.countdown();
      }, function (rejection) {
        _this2.setState({
          isLoaded: true,
          error: rejection.detail
        });
      });
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax2.default.post(this.props.profile.api.delete, {
        with_content: this.state.with_content
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess() {
      _polls2.default.stop("user-profile");

      if (this.state.with_content) {
        this.setState({
          isDeleted: interpolate("Ο λογαριασμός του χρήστη %(username)s έχει διαγραφεί τελείως", {
            username: this.props.profile.username
          }, true)
        });
      } else {
        this.setState({
          isDeleted: interpolate("Ο λογαριασμός του χρήστη %(username)s έχει διαγραφεί και η δραστηριότητά του θα είναι κρυμμένη", {
            username: this.props.profile.username
          }, true)
        });
      }
    }
  }, {
    key: "getButtonLabel",
    value: function getButtonLabel() {
      if (this.state.confirm) {
        return interpolate("Διαγραφή του χρήστη %(username)s", {
          username: this.props.profile.username
        }, true);
      } else {
        return interpolate("Παρακαλώ περίμενε... (%(countdown)s)", {
          countdown: this.state.countdown
        }, true);
      }
    }
  }, {
    key: "getForm",
    value: function getForm() {
      return _react2.default.createElement(
        "form",
        { onSubmit: this.handleSubmit },
        _react2.default.createElement(
          "div",
          { className: "modal-body" },
          _react2.default.createElement(
            _formGroup2.default,
            { label: "Δραστηριότητα χρήστη", "for": "id_with_content" },
            _react2.default.createElement(_yesNoSwitch2.default, {
              id: "id_with_content",
              disabled: this.state.isLoading,
              labelOn: "Διαγραφή μαζί με το λογαριασμό",
              labelOff: "Κρύψιμο μετά τη διαγραφή του λογαριασμού",
              onChange: this.bindInput("with_content"),
              value: this.state.with_content
            })
          )
        ),
        _react2.default.createElement(
          "div",
          { className: "modal-footer" },
          _react2.default.createElement(
            "button",
            {
              type: "button",
              className: "btn btn-default",
              "data-dismiss": "modal"
            },
            "Ακύρωση"
          ),
          _react2.default.createElement(
            _button2.default,
            {
              className: "btn-danger",
              loading: this.state.isLoading,
              disabled: !this.state.confirm
            },
            this.getButtonLabel()
          )
        )
      );
    }
  }, {
    key: "getDeletedBody",
    value: function getDeletedBody() {
      return _react2.default.createElement(
        "div",
        { className: "modal-body" },
        _react2.default.createElement(
          "div",
          { className: "message-icon" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "info_outline"
          )
        ),
        _react2.default.createElement(
          "div",
          { className: "message-body" },
          _react2.default.createElement(
            "p",
            { className: "lead" },
            this.state.isDeleted
          ),
          _react2.default.createElement(
            "p",
            null,
            _react2.default.createElement(
              "a",
              { href: _index2.default.get("USERS_LIST_URL") },
              "Επιστροφή στη λίστα χρηστών"
            )
          )
        )
      );
    }
  }, {
    key: "getModalBody",
    value: function getModalBody() {
      if (this.state.error) {
        return _react2.default.createElement(_modalMessage2.default, { icon: "remove_circle_outline", message: this.state.error });
      } else if (this.state.isLoaded) {
        if (this.state.isDeleted) {
          return this.getDeletedBody();
        } else {
          return this.getForm();
        }
      } else {
        return _react2.default.createElement(_modalLoader2.default, null);
      }
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (this.state.error || this.state.isDeleted) {
        return "modal-dialog modal-message modal-delete-account";
      } else {
        return "modal-dialog modal-delete-account";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: this.getClassName(), role: "document" },
        _react2.default.createElement(
          "div",
          { className: "modal-content" },
          _react2.default.createElement(
            "div",
            { className: "modal-header" },
            _react2.default.createElement(
              "button",
              {
                type: "button",
                className: "close",
                "data-dismiss": "modal",
                "aria-label": "Κλείσιμο"
              },
              _react2.default.createElement(
                "span",
                { "aria-hidden": "true" },
                "\xD7"
              )
            ),
            _react2.default.createElement(
              "h4",
              { className: "modal-title" },
              "Διαγραφή λογαριασμού χρήστη"
            )
          ),
          this.getModalBody()
        )
      );
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../../index":302,"../../../services/ajax":365,"../../../services/polls":374,"../../button":8,"../../form":56,"../../form-group":55,"../../modal-loader":61,"../../modal-message":62,"../../yes-no-switch":300,"react":"react"}],193:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _reactRedux = require("react-redux");

var _avatarControls = require("./avatar-controls");

var _avatarControls2 = _interopRequireDefault(_avatarControls);

var _changeUsername = require("./change-username");

var _changeUsername2 = _interopRequireDefault(_changeUsername);

var _deleteAccount = require("./delete-account");

var _deleteAccount2 = _interopRequireDefault(_deleteAccount);

var _modal = require("../../../services/modal");

var _modal2 = _interopRequireDefault(_modal);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var select = function select(store) {
  return {
    tick: store.tick,
    user: store.auth,
    profile: store.profile
  };
};

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.showAvatarDialog = function () {
      _modal2.default.show((0, _reactRedux.connect)(select)(_avatarControls2.default));
    }, _this.showRenameDialog = function () {
      _modal2.default.show((0, _reactRedux.connect)(select)(_changeUsername2.default));
    }, _this.showDeleteDialog = function () {
      _modal2.default.show((0, _reactRedux.connect)(select)(_deleteAccount2.default));
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: "getAvatarButton",
    value: function getAvatarButton() {
      if (this.props.profile.acl.can_moderate_avatar) {
        return _react2.default.createElement(
          "li",
          null,
          _react2.default.createElement(
            "button",
            {
              type: "button",
              className: "btn btn-link",
              onClick: this.showAvatarDialog
            },
            _react2.default.createElement(
              "span",
              { className: "material-icon" },
              "portrait"
            ),
            "Επιλογές εικόνας"
          )
        );
      } else {
        return null;
      }
    }
  }, {
    key: "getRenameButton",
    value: function getRenameButton() {
      if (this.props.profile.acl.can_rename) {
        return _react2.default.createElement(
          "li",
          null,
          _react2.default.createElement(
            "button",
            {
              type: "button",
              className: "btn btn-link",
              onClick: this.showRenameDialog
            },
            _react2.default.createElement(
              "span",
              { className: "material-icon" },
              "credit_card"
            ),
            "Αλλαγή όνομα χρήστη"
          )
        );
      } else {
        return null;
      }
    }
  }, {
    key: "getDeleteButton",
    value: function getDeleteButton() {
      if (this.props.profile.acl.can_delete) {
        return _react2.default.createElement(
          "li",
          null,
          _react2.default.createElement(
            "button",
            {
              type: "button",
              className: "btn btn-link",
              onClick: this.showDeleteDialog
            },
            _react2.default.createElement(
              "span",
              { className: "material-icon" },
              "clear"
            ),
            "Διαγραφή λογαριασμού"
          )
        );
      } else {
        return null;
      }
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "ul",
        {
          className: "dropdown-menu dropdown-menu-right stick-to-bottom",
          role: "menu"
        },
        this.getAvatarButton(),
        this.getRenameButton(),
        this.getDeleteButton()
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../services/modal":371,"./avatar-controls":190,"./change-username":191,"./delete-account":192,"react":"react","react-redux":"react-redux"}],194:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.SideNav = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.CompactNav = CompactNav;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require("react-router");

var _li = require("../li");

var _li2 = _interopRequireDefault(_li);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var SideNav = exports.SideNav = function (_React$Component) {
  _inherits(SideNav, _React$Component);

  function SideNav() {
    _classCallCheck(this, SideNav);

    return _possibleConstructorReturn(this, (SideNav.__proto__ || Object.getPrototypeOf(SideNav)).apply(this, arguments));
  }

  _createClass(SideNav, [{
    key: "render",
    value: function render() {
      var _this2 = this;

      return _react2.default.createElement(
        "div",
        { className: "list-group nav-side" },
        this.props.pages.map(function (page) {
          return _react2.default.createElement(
            _reactRouter.Link,
            {
              to: _this2.props.baseUrl + page.component + "/",
              className: "list-group-item",
              activeClassName: "active",
              key: page.component
            },
            _react2.default.createElement(
              "span",
              { className: "material-icon" },
              page.icon
            ),
            page.name
          );
        })
      );
    }
  }]);

  return SideNav;
}(_react2.default.Component);

function CompactNav(props) {
  return _react2.default.createElement(
    "div",
    { className: "page-tabs hidden-md hidden-lg" },
    _react2.default.createElement(
      "div",
      { className: "container" },
      _react2.default.createElement(
        "ul",
        { className: "nav nav-pills", role: "menu" },
        props.pages.map(function (page) {
          return _react2.default.createElement(
            _li2.default,
            {
              path: props.baseUrl + page.component + "/",
              key: page.component
            },
            _react2.default.createElement(
              _reactRouter.Link,
              {
                to: props.baseUrl + page.component + "/",
                onClick: props.hideNav
              },
              _react2.default.createElement(
                "span",
                { className: "material-icon" },
                page.icon
              ),
              page.name
            )
          );
        })
      )
    )
  );
}

},{"../li":57,"react":"react","react-router":"react-router"}],195:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.select = select;
exports.paths = paths;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _reactRedux = require("react-redux");

var _banDetails = require("./ban-details");

var _banDetails2 = _interopRequireDefault(_banDetails);

var _details = require("./details");

var _details2 = _interopRequireDefault(_details);

var _feed = require("./feed");

var _followers = require("./followers");

var _followers2 = _interopRequireDefault(_followers);

var _follows = require("./follows");

var _follows2 = _interopRequireDefault(_follows);

var _usernameHistory = require("./username-history");

var _usernameHistory2 = _interopRequireDefault(_usernameHistory);

var _header = require("./header");

var _header2 = _interopRequireDefault(_header);

var _nav = require("./moderation/nav");

var _nav2 = _interopRequireDefault(_nav);

var _navs = require("./navs");

var _avatar = require("../avatar");

var _avatar2 = _interopRequireDefault(_avatar);

var _withDropdown = require("../with-dropdown");

var _withDropdown2 = _interopRequireDefault(_withDropdown);

var _ = require("../..");

var _2 = _interopRequireDefault(_);

var _profile = require("../../reducers/profile");

var _polls = require("../../services/polls");

var _polls2 = _interopRequireDefault(_polls);

var _store = require("../../services/store");

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_WithDropdown) {
  _inherits(_class, _WithDropdown);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.update = function (data) {
      _store2.default.dispatch((0, _profile.hydrate)(data));
    };

    _this.startPolling(props.profile.api.index);
    return _this;
  }

  _createClass(_class, [{
    key: "startPolling",
    value: function startPolling(api) {
      _polls2.default.start({
        poll: "user-profile",
        url: api,
        frequency: 90 * 1000,
        update: this.update
      });
    }
  }, {
    key: "render",
    value: function render() {
      var baseUrl = _2.default.get("PROFILE").url;
      var pages = _2.default.get("PROFILE_PAGES");

      return _react2.default.createElement(
        "div",
        { className: "page page-user-profile" },
        _react2.default.createElement(_header2.default, {
          baseUrl: baseUrl,
          pages: pages,
          profile: this.props.profile,
          toggleNav: this.toggleNav,
          toggleModeration: this.toggleModeration,
          user: this.props.user
        }),
        _react2.default.createElement(
          "div",
          { className: "container" },
          _react2.default.createElement(
            "div",
            { className: "row" },
            _react2.default.createElement(
              "div",
              { className: "col-md-3 hidden-xs hidden-sm" },
              _react2.default.createElement(
                "div",
                { className: "profile-side-avatar" },
                _react2.default.createElement(_avatar2.default, { user: this.props.profile, size: "400" })
              ),
              _react2.default.createElement(_navs.SideNav, {
                baseUrl: baseUrl,
                pages: pages,
                profile: this.props.profile
              })
            ),
            _react2.default.createElement(
              "div",
              { className: "col-md-9" },
              this.props.children
            )
          )
        )
      );
    }
  }]);

  return _class;
}(_withDropdown2.default);

exports.default = _class;
function select(store) {
  return {
    isAuthenticated: store.auth.user.id === store.profile.id,

    tick: store.tick.tick,
    user: store.auth.user,
    users: store.users,
    posts: store.posts,
    profile: store.profile,
    profileDetails: store["profile-details"],
    "username-history": store["username-history"]
  };
}

var COMPONENTS = {
  posts: _feed.Posts,
  threads: _feed.Threads,
  followers: _followers2.default,
  follows: _follows2.default,
  details: _details2.default,
  "username-history": _usernameHistory2.default,
  "ban-details": _banDetails2.default
};

function paths() {
  var paths = [];
  _2.default.get("PROFILE_PAGES").forEach(function (item) {
    paths.push(Object.assign({}, item, {
      path: _2.default.get("PROFILE").url + item.component + "/",
      component: (0, _reactRedux.connect)(select)(COMPONENTS[item.component])
    }));
  });

  return paths;
}

},{"../..":302,"../../reducers/profile":356,"../../services/polls":374,"../../services/store":377,"../avatar":6,"../with-dropdown":299,"./ban-details":174,"./details":182,"./feed":183,"./followers":186,"./follows":187,"./header":188,"./moderation/nav":193,"./navs":194,"./username-history":196,"react":"react","react-redux":"react-redux"}],196:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _button = require("../button");

var _button2 = _interopRequireDefault(_button);

var _quickSearch = require("../quick-search");

var _quickSearch2 = _interopRequireDefault(_quickSearch);

var _root = require("../username-history/root");

var _root2 = _interopRequireDefault(_root);

var _index = require("../../index");

var _index2 = _interopRequireDefault(_index);

var _usernameHistory = require("../../reducers/username-history");

var _ajax = require("../../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require("../../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require("../../services/store");

var _store2 = _interopRequireDefault(_store);

var _pageTitle = require("../../services/page-title");

var _pageTitle2 = _interopRequireDefault(_pageTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.loadMore = function () {
      _this.setState({
        isBusy: true
      });

      _this.loadChanges(_this.state.page + 1, _this.state.search);
    };

    _this.search = function (ev) {
      _this.setState({
        isLoaded: false,
        isBusy: true,

        search: ev.target.value,

        count: 0,
        more: 0,

        page: 1,
        pages: 1
      });

      _this.loadChanges(1, ev.target.value);
    };

    if (_index2.default.has("PROFILE_NAME_HISTORY")) {
      _this.initWithPreloadedData(_index2.default.pop("PROFILE_NAME_HISTORY"));
    } else {
      _this.initWithoutPreloadedData();
    }
    return _this;
  }

  _createClass(_class, [{
    key: "initWithPreloadedData",
    value: function initWithPreloadedData(data) {
      this.state = {
        isLoaded: true,
        isBusy: false,

        search: "",

        count: data.count,
        more: data.more,

        page: data.page,
        pages: data.pages
      };

      _store2.default.dispatch((0, _usernameHistory.hydrate)(data.results));
    }
  }, {
    key: "initWithoutPreloadedData",
    value: function initWithoutPreloadedData() {
      this.state = {
        isLoaded: false,
        isBusy: false,

        search: "",

        count: 0,
        more: 0,

        page: 1,
        pages: 1
      };

      this.loadChanges();
    }
  }, {
    key: "loadChanges",
    value: function loadChanges() {
      var _this2 = this;

      var page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;
      var search = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

      _ajax2.default.get(_index2.default.get("USERNAME_CHANGES_API"), {
        user: this.props.profile.id,
        search: search,
        page: page || 1
      }, "search-username-history").then(function (data) {
        if (page === 1) {
          _store2.default.dispatch((0, _usernameHistory.hydrate)(data.results));
        } else {
          _store2.default.dispatch((0, _usernameHistory.append)(data.results));
        }

        _this2.setState({
          isLoaded: true,
          isBusy: false,

          count: data.count,
          more: data.more,

          page: data.page,
          pages: data.pages
        });
      }, function (rejection) {
        _snackbar2.default.apiError(rejection);
      });
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      _pageTitle2.default.set({
        title: "Ιστορικό ονόματος χρήστη",
        parent: this.props.profile.username
      });
    }
  }, {
    key: "getLabel",
    value: function getLabel() {
      if (!this.state.isLoaded) {
        return "Φορτώνει...";
      } else if (this.state.search) {
        var message = "Βρέθηκαν %(changes)s αλλαγές ονόματος χρήστη";
        if (this.state.count === 1) {
          message = "Βρέθηκε %(changes)s αλλαγή ονόματος χρήστη";
        }

        return interpolate(message, {
          changes: this.state.count
        }, true);
      } else if (this.props.profile.id === this.props.user.id) {
        var _message = "Το όνομα χρήστη σου έχει αλλάξει %(changes)s φορές";
        if (this.state.count === 1) {
          _message = "Το όνομα χρήστη σου έχει αλλάξει %(changes)s φορά";
        }

        return interpolate(_message, {
          changes: this.state.count
        }, true);
      } else {
        var _message2 = "Το όνομα χρήστη του %(username)s έχει αλλάξει %(changes)s φορές";
        if (this.state.count === 1) {
          _message2 = "Το όνομα χρήστη του %(username)s έχει αλλάξει %(changes)s φορά";
        }

        return interpolate(_message2, {
          username: this.props.profile.username,
          changes: this.state.count
        }, true);
      }
    }
  }, {
    key: "getEmptyMessage",
    value: function getEmptyMessage() {
      if (this.state.search) {
        return "Η αναζήτηση δεν επέστρεψε καμία αλλαγή ονόματος χρήστη";
      } else if (this.props.user.id === this.props.profile.id) {
        return "Δεν έχεις αλλάξει ποτέ το όνομα χρήστη σου";
      } else {
        return interpolate("Το όνομα χρήστη του %(username)s δεν έχει αλλάξει ποτέ", {
          username: this.props.profile.username
        }, true);
      }
    }
  }, {
    key: "getMoreButton",
    value: function getMoreButton() {
      if (!this.state.more) return null;

      return _react2.default.createElement(
        "div",
        { className: "pager-more" },
        _react2.default.createElement(
          _button2.default,
          {
            className: "btn btn-default btn-outline",
            loading: this.state.isBusy,
            onClick: this.loadMore
          },
          interpolate("Παλαιότερα (%(more)s)", {
            more: this.state.more
          }, true)
        )
      );
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: "profile-username-history" },
        _react2.default.createElement(
          "nav",
          { className: "toolbar" },
          _react2.default.createElement(
            "h3",
            { className: "toolbar-left" },
            this.getLabel()
          ),
          _react2.default.createElement(_quickSearch2.default, {
            className: "toolbar-right",
            value: this.state.search,
            onChange: this.search,
            placeholder: "Αναζήτηση ιστορικού..."
          })
        ),
        _react2.default.createElement(_root2.default, {
          isLoaded: this.state.isLoaded,
          emptyMessage: this.getEmptyMessage(),
          changes: this.props["username-history"]
        }),
        this.getMoreButton()
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../index":302,"../../reducers/username-history":363,"../../services/ajax":365,"../../services/page-title":373,"../../services/snackbar":376,"../../services/store":377,"../button":8,"../quick-search":197,"../username-history/root":280,"react":"react"}],197:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "getClassName",
    value: function getClassName() {
      if (this.props.className) {
        return "form-search " + this.props.className;
      } else {
        return "form-search";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: this.getClassName() },
        _react2.default.createElement("input", {
          type: "text",
          className: "form-control",
          value: this.props.value,
          onChange: this.props.onChange,
          placeholder: this.props.placeholder || "Αναζήτηση..."
        }),
        _react2.default.createElement(
          "span",
          { className: "material-icon" },
          "search"
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],198:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _loader = require("./loader");

var _loader2 = _interopRequireDefault(_loader);

var _register = require("./register.js");

var _register2 = _interopRequireDefault(_register);

var _ajax = require("../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _captcha = require("../services/captcha");

var _captcha2 = _interopRequireDefault(_captcha);

var _modal = require("../services/modal");

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require("../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.showRegisterForm = function () {
      if (misago.get("SETTINGS").account_activation === "closed") {
        _snackbar2.default.info("Οι νέες εγγραφές είναι προσωρινά κλεισμένες");
      } else if (_this.state.isLoaded) {
        _modal2.default.show(_react2.default.createElement(_register2.default, { criteria: _this.state.criteria }));
      } else {
        _this.setState({ isLoading: true });

        Promise.all([_captcha2.default.load(), _ajax2.default.get(misago.get("AUTH_CRITERIA_API"))]).then(function (result) {
          _this.setState({
            isLoading: false,
            isLoaded: true,
            criteria: result[1]
          });

          _modal2.default.show(_react2.default.createElement(_register2.default, { criteria: result[1] }));
        }, function () {
          _this.setState({ isLoading: false });

          _snackbar2.default.error("Η εγγραφή είναι προσωρινά μη διαθέσιμη! Προσπάθησε αργότερα");
        });
      }
    };

    _this.state = {
      isLoading: false,
      isLoaded: false,

      criteria: null
    };
    return _this;
  }

  _createClass(_class, [{
    key: "getClassName",
    value: function getClassName() {
      return this.props.className + (this.state.isLoading ? " btn-loading" : "");
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "button",
        {
          className: "btn " + this.getClassName(),
          disabled: this.state.isLoading,
          onClick: this.showRegisterForm,
          type: "button"
        },
        "Εγγραφή",
        this.state.isLoading ? _react2.default.createElement(_loader2.default, null) : null
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../services/ajax":365,"../services/captcha":367,"../services/modal":371,"../services/snackbar":376,"./loader":58,"./register.js":199,"react":"react"}],199:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.RegisterComplete = exports.RegisterForm = undefined;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _button = require("./button");

var _button2 = _interopRequireDefault(_button);

var _form = require("./form");

var _form2 = _interopRequireDefault(_form);

var _formGroup = require("./form-group");

var _formGroup2 = _interopRequireDefault(_formGroup);

var _passwordStrength = require("./password-strength");

var _passwordStrength2 = _interopRequireDefault(_passwordStrength);

var _RegisterLegalFootnote = require("./RegisterLegalFootnote");

var _RegisterLegalFootnote2 = _interopRequireDefault(_RegisterLegalFootnote);

var _StartSocialAuth = require("./StartSocialAuth");

var _StartSocialAuth2 = _interopRequireDefault(_StartSocialAuth);

var _ = require("..");

var _2 = _interopRequireDefault(_);

var _ajax = require("../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _auth = require("../services/auth");

var _auth2 = _interopRequireDefault(_auth);

var _captcha = require("../services/captcha");

var _captcha2 = _interopRequireDefault(_captcha);

var _modal = require("../services/modal");

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require("../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

var _bannedPage = require("../utils/banned-page");

var _bannedPage2 = _interopRequireDefault(_bannedPage);

var _validators = require("../utils/validators");

var validators = _interopRequireWildcard(_validators);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var RegisterForm = exports.RegisterForm = function (_Form) {
  _inherits(RegisterForm, _Form);

  function RegisterForm(props) {
    _classCallCheck(this, RegisterForm);

    var _this = _possibleConstructorReturn(this, (RegisterForm.__proto__ || Object.getPrototypeOf(RegisterForm)).call(this, props));

    _this.handlePrivacyPolicyChange = function (event) {
      var value = event.target.value;
      _this.handleToggleAgreement("privacyPolicy", value);
    };

    _this.handleTermsOfServiceChange = function (event) {
      var value = event.target.value;
      _this.handleToggleAgreement("termsOfService", value);
    };

    _this.handleToggleAgreement = function (agreement, value) {
      _this.setState(function (prevState, props) {
        if (prevState[agreement] === null) {
          var _errors = _extends({}, prevState.errors, _defineProperty({}, agreement, null));
          return _defineProperty({ errors: _errors }, agreement, value);
        }

        var validator = _this.state.validators[agreement][0];
        var errors = _extends({}, prevState.errors, _defineProperty({}, agreement, [validator(null)]));
        return _defineProperty({ errors: errors }, agreement, null);
      });
    };

    var _this$props$criteria = _this.props.criteria,
        username = _this$props$criteria.username,
        password = _this$props$criteria.password;


    var passwordMinLength = 0;
    password.forEach(function (item) {
      if (item.name === "MinimumLengthValidator") {
        passwordMinLength = item.min_length;
      }
    });

    var formValidators = {
      username: [validators.usernameContent(), validators.usernameMinLength(username.min_length), validators.usernameMaxLength(username.max_length)],
      email: [validators.email()],
      password: [validators.passwordMinLength(passwordMinLength)],
      captcha: _captcha2.default.validator()
    };

    if (!!_2.default.get("TERMS_OF_SERVICE_ID")) {
      formValidators.termsOfService = [validators.requiredTermsOfService()];
    }

    if (!!_2.default.get("PRIVACY_POLICY_ID")) {
      formValidators.privacyPolicy = [validators.requiredPrivacyPolicy()];
    }

    _this.state = {
      isLoading: false,

      username: "",
      email: "",
      password: "",
      captcha: "",

      termsOfService: null,
      privacyPolicy: null,

      validators: formValidators,
      errors: {}
    };
    return _this;
  }

  _createClass(RegisterForm, [{
    key: "clean",
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar2.default.error("Η φόρμα περιέχει λάθη!");
        this.setState({
          errors: this.validate()
        });
        return false;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax2.default.post(_2.default.get("USERS_API"), {
        username: this.state.username,
        email: this.state.email,
        password: this.state.password,
        captcha: this.state.captcha,
        terms_of_service: this.state.termsOfService,
        privacy_policy: this.state.privacyPolicy
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(apiResponse) {
      this.props.callback(apiResponse);
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        this.setState({
          errors: Object.assign({}, this.state.errors, rejection)
        });

        if (rejection.__all__ && rejection.__all__.length > 0) {
          _snackbar2.default.error(rejection.__all__[0]);
        } else {
          _snackbar2.default.error("Η φόρμα περιέχει λάθη!");
        }
      } else if (rejection.status === 403 && rejection.ban) {
        (0, _bannedPage2.default)(rejection.ban);
        _modal2.default.hide();
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: "modal-dialog modal-register", role: "document" },
        _react2.default.createElement(
          "div",
          { className: "modal-content" },
          _react2.default.createElement(
            "div",
            { className: "modal-header" },
            _react2.default.createElement(
              "button",
              {
                type: "button",
                className: "close",
                "data-dismiss": "modal",
                "aria-label": "Κλείσιμο"
              },
              _react2.default.createElement(
                "span",
                { "aria-hidden": "true" },
                "\xD7"
              )
            ),
            _react2.default.createElement(
              "h4",
              { className: "modal-title" },
              "Εγγραφή"
            )
          ),
          _react2.default.createElement(
            "form",
            { onSubmit: this.handleSubmit },
            _react2.default.createElement("input", { type: "type", style: { display: "none" } }),
            _react2.default.createElement("input", { type: "password", style: { display: "none" } }),
            _react2.default.createElement(
              "div",
              { className: "modal-body" },
              _react2.default.createElement(_StartSocialAuth2.default, {
                buttonClassName: "col-xs-12 col-sm-6",
                buttonLabel: "Σύνδεση μέσω %(site)s",
                formLabel: "Η δημιουργία λογαριασμού:"
              }),
              _react2.default.createElement(
                _formGroup2.default,
                {
                  label: "Όνομα χρήστη",
                  "for": "id_username",
                  validation: this.state.errors.username
                },
                _react2.default.createElement("input", {
                  type: "text",
                  id: "id_username",
                  className: "form-control",
                  "aria-describedby": "id_username_status",
                  disabled: this.state.isLoading,
                  onChange: this.bindInput("username"),
                  value: this.state.username
                })
              ),
              _react2.default.createElement(
                _formGroup2.default,
                {
                  label: "Email",
                  "for": "id_email",
                  validation: this.state.errors.email
                },
                _react2.default.createElement("input", {
                  type: "text",
                  id: "id_email",
                  className: "form-control",
                  "aria-describedby": "id_email_status",
                  disabled: this.state.isLoading,
                  onChange: this.bindInput("email"),
                  value: this.state.email
                })
              ),
              _react2.default.createElement(
                _formGroup2.default,
                {
                  label: "Κωδικός πρόσβασης",
                  "for": "id_password",
                  validation: this.state.errors.password,
                  extra: _react2.default.createElement(_passwordStrength2.default, {
                    password: this.state.password,
                    inputs: [this.state.username, this.state.email]
                  })
                },
                _react2.default.createElement("input", {
                  type: "password",
                  id: "id_password",
                  className: "form-control",
                  "aria-describedby": "id_password_status",
                  disabled: this.state.isLoading,
                  onChange: this.bindInput("password"),
                  value: this.state.password
                })
              ),
              _captcha2.default.component({
                form: this
              }),
              _react2.default.createElement(_RegisterLegalFootnote2.default, {
                errors: this.state.errors,
                privacyPolicy: this.state.privacyPolicy,
                termsOfService: this.state.termsOfService,
                onPrivacyPolicyChange: this.handlePrivacyPolicyChange,
                onTermsOfServiceChange: this.handleTermsOfServiceChange
              })
            ),
            _react2.default.createElement(
              "div",
              { className: "modal-footer" },
              _react2.default.createElement(
                "button",
                {
                  className: "btn btn-default",
                  "data-dismiss": "modal",
                  disabled: this.state.isLoading,
                  type: "button"
                },
                "Ακύρωση"
              ),
              _react2.default.createElement(
                _button2.default,
                { className: "btn-primary", loading: this.state.isLoading },
                "Εγγραφή λογαριασμού"
              )
            )
          )
        )
      );
    }
  }]);

  return RegisterForm;
}(_form2.default);

var RegisterComplete = exports.RegisterComplete = function (_React$Component) {
  _inherits(RegisterComplete, _React$Component);

  function RegisterComplete() {
    _classCallCheck(this, RegisterComplete);

    return _possibleConstructorReturn(this, (RegisterComplete.__proto__ || Object.getPrototypeOf(RegisterComplete)).apply(this, arguments));
  }

  _createClass(RegisterComplete, [{
    key: "getLead",
    value: function getLead() {
      if (this.props.activation === "user") {
        return "%(username)s, ο λογαριασμός σου έχει δημιουργηθεί, αλλά πρέπει να τον ενεργοποιήσεις πριν συνδεθείς!";
      } else if (this.props.activation === "admin") {
        return "%(username)s, ο λογαριασμός σου έχει δημιουργηθεί, αλλά πρέπει να γίνει επαλήθευση των στοιχείων πριν συνδεθείς!";
      }
    }
  }, {
    key: "getSubscript",
    value: function getSubscript() {
      if (this.props.activation === "user") {
        return "Έχουμε στείλει ένα email στο %(email)s που πρέπει να κάνεις κλικ για να ενεργοποιήσεις το λογαριασμό σου.";
      } else if (this.props.activation === "admin") {
        return "Θα στείλουμε ένα email στο %(email)s, όταν ολοκληρωθεί η διαδικασία.";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        {
          className: "modal-dialog modal-message modal-register",
          role: "document"
        },
        _react2.default.createElement(
          "div",
          { className: "modal-content" },
          _react2.default.createElement(
            "div",
            { className: "modal-header" },
            _react2.default.createElement(
              "button",
              {
                type: "button",
                className: "close",
                "data-dismiss": "modal",
                "aria-label": "Κλείσιμο"
              },
              _react2.default.createElement(
                "span",
                { "aria-hidden": "true" },
                "\xD7"
              )
            ),
            _react2.default.createElement(
              "h4",
              { className: "modal-title" },
              "Ολοκλήρωση εγγραφής"
            )
          ),
          _react2.default.createElement(
            "div",
            { className: "modal-body" },
            _react2.default.createElement(
              "div",
              { className: "message-icon" },
              _react2.default.createElement(
                "span",
                { className: "material-icon" },
                "info_outline"
              )
            ),
            _react2.default.createElement(
              "div",
              { className: "message-body" },
              _react2.default.createElement(
                "p",
                { className: "lead" },
                interpolate(this.getLead(), { username: this.props.username }, true)
              ),
              _react2.default.createElement(
                "p",
                null,
                interpolate(this.getSubscript(), { email: this.props.email }, true)
              ),
              _react2.default.createElement(
                "button",
                {
                  className: "btn btn-default",
                  "data-dismiss": "modal",
                  type: "button"
                },
                "ΟΚ"
              )
            )
          )
        )
      );
    }
  }]);

  return RegisterComplete;
}(_react2.default.Component);

var _class = function (_React$Component2) {
  _inherits(_class, _React$Component2);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this3 = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this3.completeRegistration = function (apiResponse) {
      if (apiResponse.activation === "active") {
        _modal2.default.hide();
        _auth2.default.signIn(apiResponse);
      } else {
        _this3.setState({
          complete: apiResponse
        });
      }
    };

    _this3.state = {
      complete: false
    };
    return _this3;
  }

  _createClass(_class, [{
    key: "render",
    value: function render() {
      if (this.state.complete) {
        return _react2.default.createElement(RegisterComplete, {
          activation: this.state.complete.activation,
          email: this.state.complete.email,
          username: this.state.complete.username
        });
      }

      return _react2.default.createElement(RegisterForm, _extends({ callback: this.completeRegistration }, this.props));
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"..":302,"../services/ajax":365,"../services/auth":366,"../services/captcha":367,"../services/modal":371,"../services/snackbar":376,"../utils/banned-page":379,"../utils/validators":393,"./RegisterLegalFootnote":1,"./StartSocialAuth":2,"./button":8,"./form":56,"./form-group":55,"./password-strength":103,"react":"react"}],200:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.LinkSent = exports.RequestLinkForm = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _index = require("../index");

var _index2 = _interopRequireDefault(_index);

var _button = require("./button");

var _button2 = _interopRequireDefault(_button);

var _form = require("./form");

var _form2 = _interopRequireDefault(_form);

var _ajax = require("../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require("../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

var _validators = require("../utils/validators");

var validators = _interopRequireWildcard(_validators);

var _bannedPage = require("../utils/banned-page");

var _bannedPage2 = _interopRequireDefault(_bannedPage);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var RequestLinkForm = exports.RequestLinkForm = function (_Form) {
  _inherits(RequestLinkForm, _Form);

  function RequestLinkForm(props) {
    _classCallCheck(this, RequestLinkForm);

    var _this = _possibleConstructorReturn(this, (RequestLinkForm.__proto__ || Object.getPrototypeOf(RequestLinkForm)).call(this, props));

    _this.state = {
      isLoading: false,

      email: "",

      validators: {
        email: [validators.email()]
      }
    };
    return _this;
  }

  _createClass(RequestLinkForm, [{
    key: "clean",
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar2.default.error("Βάλε έγκυρη διεύθυνση email!");
        return false;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax2.default.post(_index2.default.get("SEND_ACTIVATION_API"), {
        email: this.state.email
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(apiResponse) {
      this.props.callback(apiResponse);
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (["already_active", "inactive_admin"].indexOf(rejection.code) > -1) {
        _snackbar2.default.info(rejection.detail);
      } else if (rejection.status === 403 && rejection.ban) {
        (0, _bannedPage2.default)(rejection.ban);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: "well well-form well-form-request-activation-link" },
        _react2.default.createElement(
          "form",
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            "div",
            { className: "form-group" },
            _react2.default.createElement(
              "div",
              { className: "control-input" },
              _react2.default.createElement("input", {
                type: "text",
                className: "form-control",
                placeholder: "Η διεύθυνση email σου",
                disabled: this.state.isLoading,
                onChange: this.bindInput("email"),
                value: this.state.email
              })
            )
          ),
          _react2.default.createElement(
            _button2.default,
            {
              className: "btn-primary btn-block",
              loading: this.state.isLoading
            },
            "Αποστολή συνδέσμου"
          )
        )
      );
    }
  }]);

  return RequestLinkForm;
}(_form2.default);

var LinkSent = exports.LinkSent = function (_React$Component) {
  _inherits(LinkSent, _React$Component);

  function LinkSent() {
    _classCallCheck(this, LinkSent);

    return _possibleConstructorReturn(this, (LinkSent.__proto__ || Object.getPrototypeOf(LinkSent)).apply(this, arguments));
  }

  _createClass(LinkSent, [{
    key: "getMessage",
    value: function getMessage() {
      return interpolate("Ο σύνδεσμος ενεργοποίησης εστάλει στο %(email)s", {
        email: this.props.user.email
      }, true);
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: "well well-form well-form-request-activation-link well-done" },
        _react2.default.createElement(
          "div",
          { className: "done-message" },
          _react2.default.createElement(
            "div",
            { className: "message-icon" },
            _react2.default.createElement(
              "span",
              { className: "material-icon" },
              "check"
            )
          ),
          _react2.default.createElement(
            "div",
            { className: "message-body" },
            _react2.default.createElement(
              "p",
              null,
              this.getMessage()
            )
          ),
          _react2.default.createElement(
            "button",
            {
              className: "btn btn-primary btn-block",
              type: "button",
              onClick: this.props.callback
            },
            "Αποστολή καινούριου συνδέσμου"
          )
        )
      );
    }
  }]);

  return LinkSent;
}(_react2.default.Component);

var _class = function (_React$Component2) {
  _inherits(_class, _React$Component2);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this3 = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this3.complete = function (apiResponse) {
      _this3.setState({
        complete: apiResponse
      });
    };

    _this3.reset = function () {
      _this3.setState({
        complete: false
      });
    };

    _this3.state = {
      complete: false
    };
    return _this3;
  }

  _createClass(_class, [{
    key: "render",
    value: function render() {
      if (this.state.complete) {
        return _react2.default.createElement(LinkSent, { user: this.state.complete, callback: this.reset });
      } else {
        return _react2.default.createElement(RequestLinkForm, { callback: this.complete });
      }
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../index":302,"../services/ajax":365,"../services/snackbar":376,"../utils/banned-page":379,"../utils/validators":393,"./button":8,"./form":56,"react":"react"}],201:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.AccountInactivePage = exports.LinkSent = exports.RequestResetForm = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _reactDom = require("react-dom");

var _reactDom2 = _interopRequireDefault(_reactDom);

var _index = require("../index");

var _index2 = _interopRequireDefault(_index);

var _button = require("./button");

var _button2 = _interopRequireDefault(_button);

var _form = require("./form");

var _form2 = _interopRequireDefault(_form);

var _ajax = require("../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require("../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

var _validators = require("../utils/validators");

var validators = _interopRequireWildcard(_validators);

var _bannedPage = require("../utils/banned-page");

var _bannedPage2 = _interopRequireDefault(_bannedPage);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var RequestResetForm = exports.RequestResetForm = function (_Form) {
  _inherits(RequestResetForm, _Form);

  function RequestResetForm(props) {
    _classCallCheck(this, RequestResetForm);

    var _this = _possibleConstructorReturn(this, (RequestResetForm.__proto__ || Object.getPrototypeOf(RequestResetForm)).call(this, props));

    _this.state = {
      isLoading: false,

      email: "",

      validators: {
        email: [validators.email()]
      }
    };
    return _this;
  }

  _createClass(RequestResetForm, [{
    key: "clean",
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar2.default.error("Βάλε έγκυρη διεύθυνση email!");
        return false;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax2.default.post(_index2.default.get("SEND_PASSWORD_RESET_API"), {
        email: this.state.email
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(apiResponse) {
      this.props.callback(apiResponse);
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (["inactive_user", "inactive_admin"].indexOf(rejection.code) > -1) {
        this.props.showInactivePage(rejection);
      } else if (rejection.status === 403 && rejection.ban) {
        (0, _bannedPage2.default)(rejection.ban);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: "well well-form well-form-request-password-reset" },
        _react2.default.createElement(
          "form",
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            "div",
            { className: "form-group" },
            _react2.default.createElement(
              "div",
              { className: "control-input" },
              _react2.default.createElement("input", {
                type: "text",
                className: "form-control",
                placeholder: "Η διεύθυνση email σου",
                disabled: this.state.isLoading,
                onChange: this.bindInput("email"),
                value: this.state.email
              })
            )
          ),
          _react2.default.createElement(
            _button2.default,
            {
              className: "btn-primary btn-block",
              loading: this.state.isLoading
            },
            "Αποστολή συνδέσμου"
          )
        )
      );
    }
  }]);

  return RequestResetForm;
}(_form2.default);

var LinkSent = exports.LinkSent = function (_React$Component) {
  _inherits(LinkSent, _React$Component);

  function LinkSent() {
    _classCallCheck(this, LinkSent);

    return _possibleConstructorReturn(this, (LinkSent.__proto__ || Object.getPrototypeOf(LinkSent)).apply(this, arguments));
  }

  _createClass(LinkSent, [{
    key: "getMessage",
    value: function getMessage() {
      return interpolate("Ο σύνδεσμος για ανάκτηση κωδικού πρόσβασης εστάλει στο %(email)s", {
        email: this.props.user.email
      }, true);
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: "well well-form well-form-request-password-reset well-done" },
        _react2.default.createElement(
          "div",
          { className: "done-message" },
          _react2.default.createElement(
            "div",
            { className: "message-icon" },
            _react2.default.createElement(
              "span",
              { className: "material-icon" },
              "check"
            )
          ),
          _react2.default.createElement(
            "div",
            { className: "message-body" },
            _react2.default.createElement(
              "p",
              null,
              this.getMessage()
            )
          ),
          _react2.default.createElement(
            "button",
            {
              type: "button",
              className: "btn btn-primary btn-block",
              onClick: this.props.callback
            },
            "Request another link"
          )
        )
      );
    }
  }]);

  return LinkSent;
}(_react2.default.Component);

var AccountInactivePage = exports.AccountInactivePage = function (_React$Component2) {
  _inherits(AccountInactivePage, _React$Component2);

  function AccountInactivePage() {
    _classCallCheck(this, AccountInactivePage);

    return _possibleConstructorReturn(this, (AccountInactivePage.__proto__ || Object.getPrototypeOf(AccountInactivePage)).apply(this, arguments));
  }

  _createClass(AccountInactivePage, [{
    key: "getActivateButton",
    value: function getActivateButton() {
      if (this.props.activation === "inactive_user") {
        return _react2.default.createElement(
          "p",
          null,
          _react2.default.createElement(
            "a",
            { href: _index2.default.get("REQUEST_ACTIVATION_URL") },
            "Ενεργοποίηση λογαριασμού"
          )
        );
      } else {
        return null;
      }
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: "page page-message page-message-info page-forgotten-password-inactive" },
        _react2.default.createElement(
          "div",
          { className: "container" },
          _react2.default.createElement(
            "div",
            { className: "message-panel" },
            _react2.default.createElement(
              "div",
              { className: "message-icon" },
              _react2.default.createElement(
                "span",
                { className: "material-icon" },
                "info_outline"
              )
            ),
            _react2.default.createElement(
              "div",
              { className: "message-body" },
              _react2.default.createElement(
                "p",
                { className: "lead" },
                "Ο λογαριασμός σου είναι απενεργοποιημένος!"
              ),
              _react2.default.createElement(
                "p",
                null,
                this.props.message
              ),
              this.getActivateButton()
            )
          )
        )
      );
    }
  }]);

  return AccountInactivePage;
}(_react2.default.Component);

var _class = function (_React$Component3) {
  _inherits(_class, _React$Component3);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this4 = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this4.complete = function (apiResponse) {
      _this4.setState({
        complete: apiResponse
      });
    };

    _this4.reset = function () {
      _this4.setState({
        complete: false
      });
    };

    _this4.state = {
      complete: false
    };
    return _this4;
  }

  _createClass(_class, [{
    key: "showInactivePage",
    value: function showInactivePage(apiResponse) {
      _reactDom2.default.render(_react2.default.createElement(AccountInactivePage, {
        activation: apiResponse.code,
        message: apiResponse.detail
      }), document.getElementById("page-mount"));
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.complete) {
        return _react2.default.createElement(LinkSent, { callback: this.reset, user: this.state.complete });
      }

      return _react2.default.createElement(RequestResetForm, {
        callback: this.complete,
        showInactivePage: this.showInactivePage
      });
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../index":302,"../services/ajax":365,"../services/snackbar":376,"../utils/banned-page":379,"../utils/validators":393,"./button":8,"./form":56,"react":"react","react-dom":"react-dom"}],202:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.PasswordChangedPage = exports.ResetPasswordForm = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _reactDom = require("react-dom");

var _reactDom2 = _interopRequireDefault(_reactDom);

var _index = require("../index");

var _index2 = _interopRequireDefault(_index);

var _button = require("./button");

var _button2 = _interopRequireDefault(_button);

var _form = require("./form");

var _form2 = _interopRequireDefault(_form);

var _signIn = require("./sign-in.js");

var _signIn2 = _interopRequireDefault(_signIn);

var _ajax = require("../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _auth = require("../services/auth");

var _auth2 = _interopRequireDefault(_auth);

var _modal = require("../services/modal");

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require("../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

var _bannedPage = require("../utils/banned-page");

var _bannedPage2 = _interopRequireDefault(_bannedPage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ResetPasswordForm = exports.ResetPasswordForm = function (_Form) {
  _inherits(ResetPasswordForm, _Form);

  function ResetPasswordForm(props) {
    _classCallCheck(this, ResetPasswordForm);

    var _this = _possibleConstructorReturn(this, (ResetPasswordForm.__proto__ || Object.getPrototypeOf(ResetPasswordForm)).call(this, props));

    _this.state = {
      isLoading: false,

      password: ""
    };
    return _this;
  }

  _createClass(ResetPasswordForm, [{
    key: "clean",
    value: function clean() {
      if (this.state.password.trim().length) {
        return true;
      } else {
        _snackbar2.default.error("Βάλε καινούριο κωδικό πρόσβασης!");
        return false;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax2.default.post(_index2.default.get("CHANGE_PASSWORD_API"), {
        password: this.state.password
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(apiResponse) {
      this.props.callback(apiResponse);
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 403 && rejection.ban) {
        (0, _bannedPage2.default)(rejection.ban);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: "well well-form well-form-reset-password" },
        _react2.default.createElement(
          "form",
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            "div",
            { className: "form-group" },
            _react2.default.createElement(
              "div",
              { className: "control-input" },
              _react2.default.createElement("input", {
                type: "password",
                className: "form-control",
                placeholder: "Βάλε καινούριο κωδικό πρόσβασης",
                disabled: this.state.isLoading,
                onChange: this.bindInput("password"),
                value: this.state.password
              })
            )
          ),
          _react2.default.createElement(
            _button2.default,
            {
              className: "btn-primary btn-block",
              loading: this.state.isLoading
            },
            "Άλλαξε τον κωδικό σου"
          )
        )
      );
    }
  }]);

  return ResetPasswordForm;
}(_form2.default);

var PasswordChangedPage = exports.PasswordChangedPage = function (_React$Component) {
  _inherits(PasswordChangedPage, _React$Component);

  function PasswordChangedPage() {
    _classCallCheck(this, PasswordChangedPage);

    return _possibleConstructorReturn(this, (PasswordChangedPage.__proto__ || Object.getPrototypeOf(PasswordChangedPage)).apply(this, arguments));
  }

  _createClass(PasswordChangedPage, [{
    key: "getMessage",
    value: function getMessage() {
      return interpolate("%(username)s, ο κωδικός πρόσβασής σου έχει αλλάξει επιτυχώς!", {
        username: this.props.user.username
      }, true);
    }
  }, {
    key: "showSignIn",
    value: function showSignIn() {
      _modal2.default.show(_signIn2.default);
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: "page page-message page-message-success page-forgotten-password-changed" },
        _react2.default.createElement(
          "div",
          { className: "container" },
          _react2.default.createElement(
            "div",
            { className: "message-panel" },
            _react2.default.createElement(
              "div",
              { className: "message-icon" },
              _react2.default.createElement(
                "span",
                { className: "material-icon" },
                "check"
              )
            ),
            _react2.default.createElement(
              "div",
              { className: "message-body" },
              _react2.default.createElement(
                "p",
                { className: "lead" },
                this.getMessage()
              ),
              _react2.default.createElement(
                "p",
                null,
                "Θα πρέπει να συνδεθείς με τον καινούριο σου κωδικό πριν συνεχίσεις!"
              ),
              _react2.default.createElement(
                "p",
                null,
                _react2.default.createElement(
                  "button",
                  {
                    type: "button",
                    className: "btn btn-primary",
                    onClick: this.showSignIn
                  },
                  "Σύνδεση"
                )
              )
            )
          )
        )
      );
    }
  }]);

  return PasswordChangedPage;
}(_react2.default.Component);

var _class = function (_React$Component2) {
  _inherits(_class, _React$Component2);

  function _class() {
    var _ref;

    var _temp, _this3, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this3 = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this3), _this3.complete = function (apiResponse) {
      _auth2.default.softSignOut();

      // nuke "redirect_to" field so we don't end
      // coming back to error page after sign in
      $('#hidden-login-form input[name="redirect_to"]').remove();

      _reactDom2.default.render(_react2.default.createElement(PasswordChangedPage, { user: apiResponse }), document.getElementById("page-mount"));
    }, _temp), _possibleConstructorReturn(_this3, _ret);
  }

  _createClass(_class, [{
    key: "render",
    value: function render() {
      return _react2.default.createElement(ResetPasswordForm, { callback: this.complete });
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../index":302,"../services/ajax":365,"../services/auth":366,"../services/modal":371,"../services/snackbar":376,"../utils/banned-page":379,"./button":8,"./form":56,"./sign-in.js":211,"react":"react","react-dom":"react-dom"}],203:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _ = require("../..");

var _2 = _interopRequireDefault(_);

var _form = require("../form");

var _form2 = _interopRequireDefault(_form);

var _posts = require("../../reducers/posts");

var _search = require("../../reducers/search");

var _users = require("../../reducers/users");

var _ajax = require("../../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require("../../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require("../../services/store");

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onQueryChange = function (event) {
      _this.changeValue("query", event.target.value);
    };

    _this.state = {
      isLoading: false,

      query: props.search.query
    };
    return _this;
  }

  _createClass(_class, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      if (this.state.query.length) {
        this.handleSubmit();
      }
    }
  }, {
    key: "clean",
    value: function clean() {
      if (!this.state.query.trim().length) {
        _snackbar2.default.error("Πρέπει να βάλεις όρους αναζήτησης!");
        return false;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      _store2.default.dispatch((0, _search.update)({
        isLoading: true
      }));

      return _ajax2.default.get(_2.default.get("SEARCH_API"), {
        q: this.state.query.trim()
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(providers) {
      _store2.default.dispatch((0, _search.update)({
        query: this.state.query.trim(),
        isLoading: false,
        providers: providers
      }));

      providers.forEach(function (provider) {
        if (provider.id === "users") {
          _store2.default.dispatch((0, _users.hydrate)(provider.results.results));
        } else if (provider.id === "threads") {
          _store2.default.dispatch((0, _posts.load)(provider.results));
        }
      });
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      _snackbar2.default.apiError(rejection);

      _store2.default.dispatch((0, _search.update)({
        isLoading: false
      }));
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: "page-header-bg" },
        _react2.default.createElement(
          "div",
          { className: "page-header page-search-form" },
          _react2.default.createElement(
            "form",
            { onSubmit: this.handleSubmit },
            _react2.default.createElement(
              "div",
              { className: "container" },
              _react2.default.createElement(
                "div",
                { className: "row" },
                _react2.default.createElement(
                  "div",
                  { className: "col-xs-12 col-md-3" },
                  _react2.default.createElement(
                    "h1",
                    null,
                    "Αναζήτηση"
                  )
                ),
                _react2.default.createElement(
                  "div",
                  { className: "col-xs-12 col-md-9" },
                  _react2.default.createElement(
                    "div",
                    { className: "row xs-margin-top sm-margin-top" },
                    _react2.default.createElement(
                      "div",
                      { className: "col-xs-12 col-sm-8 col-md-9" },
                      _react2.default.createElement(
                        "div",
                        { className: "form-group" },
                        _react2.default.createElement("input", {
                          className: "form-control",
                          disabled: this.props.search.isLoading || this.state.isLoading,
                          onChange: this.onQueryChange,
                          type: "text",
                          value: this.state.query
                        })
                      )
                    ),
                    _react2.default.createElement(
                      "div",
                      { className: "col-xs-12 col-sm-4 col-md-3" },
                      _react2.default.createElement(
                        "button",
                        {
                          className: "btn btn-primary btn-block btn-outline",
                          disabled: this.props.search.isLoading || this.state.isLoading
                        },
                        "Αναζήτηση"
                      )
                    )
                  )
                )
              )
            )
          )
        )
      );
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../..":302,"../../reducers/posts":354,"../../reducers/search":357,"../../reducers/users":364,"../../services/ajax":365,"../../services/snackbar":376,"../../services/store":377,"../form":56,"react":"react"}],204:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.select = select;

exports.default = function (providers) {
  return providers.map(function (provider) {
    return {
      path: provider.url,
      component: (0, _reactRedux.connect)(select)(components[provider.id]),
      provider: provider
    };
  });
};

var _reactRedux = require("react-redux");

var _threads = require("./threads");

var _threads2 = _interopRequireDefault(_threads);

var _users = require("./users");

var _users2 = _interopRequireDefault(_users);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var components = {
  threads: _threads2.default,
  users: _users2.default
};

function select(store) {
  return {
    posts: store.posts,
    search: store.search,
    tick: store.tick.tick,
    user: store.auth.user,
    users: store.users
  };
}

},{"./threads":207,"./users":209,"react-redux":"react-redux"}],205:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    "div",
    { className: "page page-search" },
    _react2.default.createElement(_form2.default, { provider: props.provider, search: props.search }),
    _react2.default.createElement(
      "div",
      { className: "container" },
      _react2.default.createElement(
        "div",
        { className: "row" },
        _react2.default.createElement(
          "div",
          { className: "col-md-3" },
          _react2.default.createElement(_sidenav2.default, { providers: props.search.providers })
        ),
        _react2.default.createElement(
          "div",
          { className: "col-md-9" },
          props.children,
          _react2.default.createElement(SearchTime, { provider: props.provider, search: props.search })
        )
      )
    )
  );
};

exports.SearchTime = SearchTime;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _form = require("./form");

var _form2 = _interopRequireDefault(_form);

var _sidenav = require("./sidenav");

var _sidenav2 = _interopRequireDefault(_sidenav);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function SearchTime(props) {
  var time = null;
  props.search.providers.forEach(function (p) {
    if (p.id === props.provider.id) {
      time = p.time;
    }
  });

  if (time === null) return null;

  var copy = "Η αναζήτηση διήρκεσε %(time)s δευτερόλεπτα";

  return _react2.default.createElement(
    "footer",
    { className: "search-footer" },
    _react2.default.createElement(
      "p",
      null,
      interpolate(copy, { time: time }, true)
    )
  );
}

},{"./form":203,"./sidenav":206,"react":"react"}],206:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    "div",
    { className: "list-group nav-side" },
    props.providers.map(function (provider) {
      return _react2.default.createElement(
        _reactRouter.Link,
        {
          activeClassName: "active",
          className: "list-group-item",
          key: provider.id,
          to: provider.url
        },
        _react2.default.createElement(
          "span",
          { className: "material-icon" },
          provider.icon
        ),
        provider.name,
        _react2.default.createElement(Badge, { results: provider.results })
      );
    })
  );
};

exports.Badge = Badge;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require("react-router");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function Badge(props) {
  if (!props.results) return null;

  var count = props.results.count;
  if (count > 1000000) {
    count = Math.ceil(count / 1000000) + "KK";
  } else if (count > 1000) {
    count = Math.ceil(count / 1000) + "K";
  }

  return _react2.default.createElement(
    "span",
    { className: "badge" },
    count
  );
}

},{"react":"react","react-router":"react-router"}],207:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.default = function (props) {
  return _react2.default.createElement(
    _page2.default,
    { provider: props.route.provider, search: props.search },
    _react2.default.createElement(
      Blankslate,
      { query: props.search.query, posts: props.posts },
      _react2.default.createElement(_results2.default, _extends({
        provider: props.route.provider,
        query: props.search.query
      }, props.posts))
    )
  );
};

exports.Blankslate = Blankslate;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _page = require("../page");

var _page2 = _interopRequireDefault(_page);

var _results = require("./results");

var _results2 = _interopRequireDefault(_results);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function Blankslate(props) {
  if (props.posts && props.posts.count) return props.children;

  if (props.query.length) {
    return _react2.default.createElement(
      "p",
      { className: "lead" },
      "Καμία αγγελία δε βρέθηκε..."
    );
  }

  return _react2.default.createElement(
    "p",
    { className: "lead" },
    "Βάλε τουλάχιστον δύο χαρακτήρες..."
  );
}

},{"../page":205,"./results":208,"react":"react"}],208:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.LoadMore = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = function (props) {
  return _react2.default.createElement(
    "div",
    null,
    _react2.default.createElement(_postFeed2.default, { isReady: true, posts: props.results }),
    _react2.default.createElement(LoadMore, props)
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _postFeed = require("../../post-feed");

var _postFeed2 = _interopRequireDefault(_postFeed);

var _button = require("../../button");

var _button2 = _interopRequireDefault(_button);

var _misagoMarkup = require("../../misago-markup");

var _misagoMarkup2 = _interopRequireDefault(_misagoMarkup);

var _posts = require("../../../reducers/posts");

var _search = require("../../../reducers/search");

var _ajax = require("../../../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require("../../../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require("../../../services/store");

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var LoadMore = exports.LoadMore = function (_React$Component) {
  _inherits(LoadMore, _React$Component);

  function LoadMore() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, LoadMore);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = LoadMore.__proto__ || Object.getPrototypeOf(LoadMore)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      _store2.default.dispatch((0, _posts.update)({
        isBusy: true
      }));

      _ajax2.default.get(_this.props.provider.api, {
        q: _this.props.query,
        page: _this.props.next
      }).then(function (providers) {
        providers.forEach(function (provider) {
          if (provider.id !== "threads") return;
          _store2.default.dispatch((0, _posts.append)(provider.results));
          _store2.default.dispatch((0, _search.updateProvider)(provider));
        });

        _store2.default.dispatch((0, _posts.update)({
          isBusy: false
        }));
      }, function (rejection) {
        _snackbar2.default.apiError(rejection);

        _store2.default.dispatch((0, _posts.update)({
          isBusy: false
        }));
      });
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(LoadMore, [{
    key: "render",
    value: function render() {
      if (!this.props.more) return null;

      return _react2.default.createElement(
        "div",
        { className: "pager-more" },
        _react2.default.createElement(
          _button2.default,
          {
            className: "btn btn-default btn-outline",
            loading: this.props.isBusy,
            onClick: this.onClick
          },
          "Περισσότερες"
        )
      );
    }
  }]);

  return LoadMore;
}(_react2.default.Component);

},{"../../../reducers/posts":354,"../../../reducers/search":357,"../../../services/ajax":365,"../../../services/snackbar":376,"../../../services/store":377,"../../button":8,"../../misago-markup":60,"../../post-feed":122,"react":"react"}],209:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    _page2.default,
    { provider: props.route.provider, search: props.search },
    _react2.default.createElement(
      Blankslate,
      { query: props.search.query, users: props.users },
      _react2.default.createElement(_usersList2.default, { cols: 3, isReady: true, users: props.users })
    )
  );
};

exports.Blankslate = Blankslate;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _page = require("../page");

var _page2 = _interopRequireDefault(_page);

var _usersList = require("../../users-list");

var _usersList2 = _interopRequireDefault(_usersList);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function Blankslate(props) {
  if (props.users.length) return props.children;

  if (props.query.length) {
    return _react2.default.createElement(
      "p",
      { className: "lead" },
      "Κανένας χρήστης δε βρέθηκε..."
    );
  }

  return _react2.default.createElement(
    "p",
    { className: "lead" },
    "Βάλε τουλάχιστον δύο χαρακτήρες..."
  );
}

},{"../../users-list":284,"../page":205,"react":"react"}],210:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.Icon = Icon;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.change = function (value) {
      return function () {
        _this.props.onChange({
          target: {
            value: value
          }
        });
      };
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: "getChoice",
    value: function getChoice() {
      var _this2 = this;

      var choice = null;
      this.props.choices.map(function (item) {
        if (item.value === _this2.props.value) {
          choice = item;
        }
      });
      return choice;
    }
  }, {
    key: "getIcon",
    value: function getIcon() {
      return this.getChoice().icon;
    }
  }, {
    key: "getLabel",
    value: function getLabel() {
      return this.getChoice().label;
    }
  }, {
    key: "render",
    value: function render() {
      var _this3 = this;

      return _react2.default.createElement(
        "div",
        { className: "btn-group btn-select-group" },
        _react2.default.createElement(
          "button",
          {
            type: "button",
            className: "btn btn-select dropdown-toggle",
            id: this.props.id || null,
            "data-toggle": "dropdown",
            "aria-haspopup": "true",
            "aria-expanded": "false",
            "aria-describedby": this.props["aria-describedby"] || null,
            disabled: this.props.disabled || false
          },
          _react2.default.createElement(Icon, { icon: this.getIcon() }),
          this.getLabel()
        ),
        _react2.default.createElement(
          "ul",
          { className: "dropdown-menu" },
          this.props.choices.map(function (item, i) {
            return _react2.default.createElement(
              "li",
              { key: i },
              _react2.default.createElement(
                "button",
                {
                  type: "button",
                  className: "btn-link",
                  onClick: _this3.change(item.value)
                },
                _react2.default.createElement(Icon, { icon: item.icon }),
                item.label
              )
            );
          })
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function Icon(_ref2) {
  var icon = _ref2.icon;

  if (!icon) return null;

  return _react2.default.createElement(
    "span",
    { className: "material-icon" },
    icon
  );
}

},{"react":"react"}],211:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _index = require("../index");

var _index2 = _interopRequireDefault(_index);

var _button = require("./button");

var _button2 = _interopRequireDefault(_button);

var _form = require("./form");

var _form2 = _interopRequireDefault(_form);

var _StartSocialAuth = require("./StartSocialAuth");

var _StartSocialAuth2 = _interopRequireDefault(_StartSocialAuth);

var _ajax = require("../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require("../services/modal");

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require("../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

var _bannedPage = require("../utils/banned-page");

var _bannedPage2 = _interopRequireDefault(_bannedPage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.state = {
      isLoading: false,
      showActivation: false,

      username: "",
      password: "",

      validators: {
        username: [],
        password: []
      }
    };
    return _this;
  }

  _createClass(_class, [{
    key: "clean",
    value: function clean() {
      if (!this.isValid()) {
        _snackbar2.default.error("Συμπλήρωσε και τα δύο!");
        return false;
      } else {
        return true;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax2.default.post(_index2.default.get("AUTH_API"), {
        username: this.state.username,
        password: this.state.password
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess() {
      var form = $("#hidden-login-form");

      form.append('<input type="text" name="username" />');
      form.append('<input type="password" name="password" />');

      // fill out form with user credentials and submit it, this will tell
      // Misago to redirect user back to right page, and will trigger browser's
      // key ring feature
      form.find('input[type="hidden"]').val(_ajax2.default.getCsrfToken());
      form.find('input[name="redirect_to"]').val(window.location.pathname);
      form.find('input[name="username"]').val(this.state.username);
      form.find('input[name="password"]').val(this.state.password);
      form.submit();

      // keep form loading
      this.setState({
        isLoading: true
      });
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        if (rejection.code === "inactive_admin") {
          _snackbar2.default.info(rejection.detail);
        } else if (rejection.code === "inactive_user") {
          _snackbar2.default.info(rejection.detail);
          this.setState({
            showActivation: true
          });
        } else if (rejection.code === "banned") {
          (0, _bannedPage2.default)(rejection.detail);
          _modal2.default.hide();
        } else {
          _snackbar2.default.error(rejection.detail);
        }
      } else if (rejection.status === 403 && rejection.ban) {
        (0, _bannedPage2.default)(rejection.ban);
        _modal2.default.hide();
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: "getActivationButton",
    value: function getActivationButton() {
      if (!this.state.showActivation) return null;

      return _react2.default.createElement(
        "a",
        {
          className: "btn btn-success btn-block",
          href: _index2.default.get("REQUEST_ACTIVATION_URL")
        },
        "Ενεργοποίηση λογαριασμού"
      );
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: "modal-dialog modal-sm modal-sign-in", role: "document" },
        _react2.default.createElement(
          "div",
          { className: "modal-content" },
          _react2.default.createElement(
            "div",
            { className: "modal-header" },
            _react2.default.createElement(
              "button",
              {
                "aria-label": "Κλείσιμο",
                className: "close",
                "data-dismiss": "modal",
                type: "button"
              },
              _react2.default.createElement(
                "span",
                { "aria-hidden": "true" },
                "\xD7"
              )
            ),
            _react2.default.createElement(
              "h4",
              { className: "modal-title" },
              "Σύνδεση"
            )
          ),
          _react2.default.createElement(
            "form",
            { onSubmit: this.handleSubmit },
            _react2.default.createElement(
              "div",
              { className: "modal-body" },
              _react2.default.createElement(_StartSocialAuth2.default, {
                buttonLabel: "Σύνδεση στο %(site)s",
                formLabel: "Ή χρησιμοποίησε το λογαριασμό σου:",
                labelClassName: "text-center"
              }),
              _react2.default.createElement(
                "div",
                { className: "form-group" },
                _react2.default.createElement(
                  "div",
                  { className: "control-input" },
                  _react2.default.createElement("input", {
                    className: "form-control input-lg",
                    disabled: this.state.isLoading,
                    id: "id_username",
                    onChange: this.bindInput("username"),
                    placeholder: "Όνομα χρήστη ή email",
                    type: "text",
                    value: this.state.username
                  })
                )
              ),
              _react2.default.createElement(
                "div",
                { className: "form-group" },
                _react2.default.createElement(
                  "div",
                  { className: "control-input" },
                  _react2.default.createElement("input", {
                    className: "form-control input-lg",
                    disabled: this.state.isLoading,
                    id: "id_password",
                    onChange: this.bindInput("password"),
                    placeholder: "Κωδικός πρόσβασης",
                    type: "password",
                    value: this.state.password
                  })
                )
              )
            ),
            _react2.default.createElement(
              "div",
              { className: "modal-footer" },
              this.getActivationButton(),
              _react2.default.createElement(
                _button2.default,
                {
                  className: "btn-primary btn-block",
                  loading: this.state.isLoading
                },
                "Σύνδεση"
              ),
              _react2.default.createElement(
                "a",
                {
                  className: "btn btn-default btn-block",
                  href: _index2.default.get("FORGOTTEN_PASSWORD_URL")
                },
                "Ξέχασες τον κωδικό πρόσβασής σου;"
              )
            )
          )
        )
      );
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../index":302,"../services/ajax":365,"../services/modal":371,"../services/snackbar":376,"../utils/banned-page":379,"./StartSocialAuth":2,"./button":8,"./form":56,"react":"react"}],212:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Snackbar = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.select = select;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var TYPES_CLASSES = {
  info: "alert-info",
  success: "alert-success",
  warning: "alert-warning",
  error: "alert-danger"
};

var Snackbar = exports.Snackbar = function (_React$Component) {
  _inherits(Snackbar, _React$Component);

  function Snackbar() {
    _classCallCheck(this, Snackbar);

    return _possibleConstructorReturn(this, (Snackbar.__proto__ || Object.getPrototypeOf(Snackbar)).apply(this, arguments));
  }

  _createClass(Snackbar, [{
    key: "getSnackbarClass",
    value: function getSnackbarClass() {
      var snackbarClass = "alerts-snackbar";
      if (this.props.isVisible) {
        snackbarClass += " in";
      } else {
        snackbarClass += " out";
      }
      return snackbarClass;
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: this.getSnackbarClass() },
        _react2.default.createElement(
          "p",
          { className: "alert " + TYPES_CLASSES[this.props.type] },
          this.props.message
        )
      );
    }
  }]);

  return Snackbar;
}(_react2.default.Component);

function select(state) {
  return state.snackbar;
}

},{"react":"react"}],213:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _header = require("./header");

var _header2 = _interopRequireDefault(_header);

var _ = require("../..");

var _2 = _interopRequireDefault(_);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Complete = function Complete(_ref) {
  var activation = _ref.activation,
      backend_name = _ref.backend_name,
      username = _ref.username;

  var icon = "";
  var message = "";
  if (activation === "user") {
    message = "%(username)s, ο λογαριασμός σου έχει δημιουργηθεί, αλλά πρέπει να τον ενεργοποιήσεις";
  } else if (activation === "admin") {
    message = "%(username)s, ο λογαριασμός σου έχει δημιουργηθεί, αλλά ο διαχειριστής πρέπει να κάνει επιβεβαίωση των στοιχείων και να τον ενεργοποιήσει";
  } else {
    message = "%(username)s, ο λογαριασμός σου έχει ενεργοποιηθεί και έχεις συνδεθεί";
  }

  if (activation === "active") {
    icon = "check";
  } else {
    icon = "info_outline";
  }

  return _react2.default.createElement(
    "div",
    { className: "page page-social-auth page-social-sauth-register" },
    _react2.default.createElement(_header2.default, { backendName: backend_name }),
    _react2.default.createElement(
      "div",
      { className: "container" },
      _react2.default.createElement(
        "div",
        { className: "row" },
        _react2.default.createElement(
          "div",
          { className: "col-md-6 col-md-offset-3" },
          _react2.default.createElement(
            "div",
            { className: "panel panel-default panel-form" },
            _react2.default.createElement(
              "div",
              { className: "panel-heading" },
              _react2.default.createElement(
                "h3",
                { className: "panel-title" },
                "Επιτυχής εγγραφή!"
              )
            ),
            _react2.default.createElement(
              "div",
              { className: "panel-body panel-message-body" },
              _react2.default.createElement(
                "div",
                { className: "message-icon" },
                _react2.default.createElement(
                  "span",
                  { className: "material-icon" },
                  icon
                )
              ),
              _react2.default.createElement(
                "div",
                { className: "message-body" },
                _react2.default.createElement(
                  "p",
                  { className: "lead" },
                  interpolate(message, { username: username }, true)
                ),
                _react2.default.createElement(
                  "p",
                  { className: "help-block" },
                  _react2.default.createElement(
                    "a",
                    {
                      className: "btn btn-default",
                      href: _2.default.get("MISAGO_PATH")
                    },
                    "Επιστροφή στην αρχική σελίδα"
                  )
                )
              )
            )
          )
        )
      )
    )
  );
};

exports.default = Complete;

},{"../..":302,"./header":214,"react":"react"}],214:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Header = function Header(_ref) {
  var backendName = _ref.backendName;

  var pageTitleTpl = "Συνδέσου μέσω %(backend)s";
  var pageTitle = interpolate(pageTitleTpl, { backend: backendName }, true);

  return _react2.default.createElement(
    "div",
    { className: "page-header-bg" },
    _react2.default.createElement(
      "div",
      { className: "page-header" },
      _react2.default.createElement(
        "div",
        { className: "container" },
        _react2.default.createElement(
          "h1",
          null,
          pageTitle
        )
      )
    )
  );
};

exports.default = Header;

},{"react":"react"}],215:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _register = require("./register");

var _register2 = _interopRequireDefault(_register);

var _complete = require("./complete");

var _complete2 = _interopRequireDefault(_complete);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var SocialAuth = function (_React$Component) {
  _inherits(SocialAuth, _React$Component);

  function SocialAuth(props) {
    _classCallCheck(this, SocialAuth);

    var _this = _possibleConstructorReturn(this, (SocialAuth.__proto__ || Object.getPrototypeOf(SocialAuth)).call(this, props));

    _this.handleRegistrationComplete = function (_ref) {
      var activation = _ref.activation,
          email = _ref.email,
          step = _ref.step,
          username = _ref.username;

      _this.setState({ activation: activation, email: email, step: step, username: username });
    };

    _this.state = {
      step: props.step,

      activation: props.activation || "",
      email: props.email || "",
      username: props.username || ""
    };
    return _this;
  }

  _createClass(SocialAuth, [{
    key: "render",
    value: function render() {
      var _props = this.props,
          backend_name = _props.backend_name,
          url = _props.url;
      var _state = this.state,
          activation = _state.activation,
          email = _state.email,
          step = _state.step,
          username = _state.username;


      if (step === "register") {
        return _react2.default.createElement(_register2.default, {
          backend_name: backend_name,
          email: email,
          url: url,
          username: username,
          onRegistrationComplete: this.handleRegistrationComplete
        });
      }

      return _react2.default.createElement(_complete2.default, {
        activation: activation,
        backend_name: backend_name,
        email: email,
        url: url,
        username: username
      });
    }
  }]);

  return SocialAuth;
}(_react2.default.Component);

exports.default = SocialAuth;

},{"./complete":213,"./register":216,"react":"react"}],216:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _ = require("../..");

var _2 = _interopRequireDefault(_);

var _RegisterLegalFootnote = require("../RegisterLegalFootnote");

var _RegisterLegalFootnote2 = _interopRequireDefault(_RegisterLegalFootnote);

var _button = require("../button");

var _button2 = _interopRequireDefault(_button);

var _form = require("../form");

var _form2 = _interopRequireDefault(_form);

var _formGroup = require("../form-group");

var _formGroup2 = _interopRequireDefault(_formGroup);

var _ajax = require("../../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require("../../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

var _validators = require("../../utils/validators");

var validators = _interopRequireWildcard(_validators);

var _header = require("./header");

var _header2 = _interopRequireDefault(_header);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Register = function (_Form) {
  _inherits(Register, _Form);

  function Register(props) {
    _classCallCheck(this, Register);

    var _this = _possibleConstructorReturn(this, (Register.__proto__ || Object.getPrototypeOf(Register)).call(this, props));

    _this.handlePrivacyPolicyChange = function (event) {
      var value = event.target.value;
      _this.handleToggleAgreement("privacyPolicy", value);
    };

    _this.handleTermsOfServiceChange = function (event) {
      var value = event.target.value;
      _this.handleToggleAgreement("termsOfService", value);
    };

    _this.handleToggleAgreement = function (agreement, value) {
      _this.setState(function (prevState, props) {
        if (prevState[agreement] === null) {
          var _errors = _extends({}, prevState.errors, _defineProperty({}, agreement, null));
          return _defineProperty({ errors: _errors }, agreement, value);
        }

        var validator = _this.state.validators[agreement][0];
        var errors = _extends({}, prevState.errors, _defineProperty({}, agreement, [validator(null)]));
        return _defineProperty({ errors: errors }, agreement, null);
      });
    };

    var formValidators = {
      email: [validators.email()],
      username: [validators.usernameContent()]
    };

    if (!!_2.default.get("TERMS_OF_SERVICE_ID")) {
      formValidators.termsOfService = [validators.requiredTermsOfService()];
    }

    if (!!_2.default.get("PRIVACY_POLICY_ID")) {
      formValidators.privacyPolicy = [validators.requiredPrivacyPolicy()];
    }

    _this.state = {
      email: props.email || "",
      emailProtected: !!props.email,
      username: props.username || "",

      termsOfService: null,
      privacyPolicy: null,

      validators: formValidators,
      errors: {},

      isLoading: false
    };
    return _this;
  }

  _createClass(Register, [{
    key: "clean",
    value: function clean() {
      this.validate();
      var lengths = [this.state.email.trim().length, this.state.username.trim().length];

      if (lengths.indexOf(0) !== -1) {
        _snackbar2.default.error("Συμπλήρωσε όλα τα πεδία!");
        return false;
      }

      var validators = this.state.validators;


      var checkTermsOfService = !!_2.default.get("TERMS_OF_SERVICE_ID");
      if (checkTermsOfService && this.state.termsOfService === null) {
        _snackbar2.default.error(validators.termsOfService[0](null));
        return false;
      }

      var checkPrivacyPolicy = !!_2.default.get("PRIVACY_POLICY_ID");
      if (checkPrivacyPolicy && this.state.privacyPolicy === null) {
        _snackbar2.default.error(validators.privacyPolicy[0](null));
        _snackbar2.default.error("Πρέπει να αποδεχτείς την πολιτική προστασίας δεδομένων!");
        return false;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax2.default.post(this.props.url, {
        email: this.state.email,
        username: this.state.username,
        terms_of_service: this.state.termsOfService,
        privacy_policy: this.state.privacyPolicy
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(response) {
      var onRegistrationComplete = this.props.onRegistrationComplete;

      onRegistrationComplete(response);
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 200) {
        // We've entered "errored" state because response is HTML instead of exptected JSON
        var onRegistrationComplete = this.props.onRegistrationComplete;
        var username = this.state.username;

        onRegistrationComplete({ activation: "active", step: "done", username: username });
      } else if (rejection.status === 400) {
        var stateUpdate = { errors: rejection };
        if (rejection.email) {
          stateUpdate.emailProtected = false;
        }
        this.setState(stateUpdate);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var backend_name = this.props.backend_name;
      var _state = this.state,
          email = _state.email,
          emailProtected = _state.emailProtected,
          username = _state.username,
          isLoading = _state.isLoading;


      var emailHelpText = null;
      if (emailProtected) {
        var emailHelpTextTpl = "Το email σου έχει επιβεβαιωθεί από %(backend)s.";
        emailHelpText = interpolate(emailHelpTextTpl, { backend: backend_name }, true);
      }

      return _react2.default.createElement(
        "div",
        { className: "page page-social-auth page-social-sauth-register" },
        _react2.default.createElement(_header2.default, { backendName: backend_name }),
        _react2.default.createElement(
          "div",
          { className: "container" },
          _react2.default.createElement(
            "div",
            { className: "row" },
            _react2.default.createElement(
              "div",
              { className: "col-md-6 col-md-offset-3" },
              _react2.default.createElement(
                "form",
                { onSubmit: this.handleSubmit },
                _react2.default.createElement(
                  "div",
                  { className: "panel panel-default panel-form" },
                  _react2.default.createElement(
                    "div",
                    { className: "panel-heading" },
                    _react2.default.createElement(
                      "h3",
                      { className: "panel-title" },
                      "Συμπλήρωσε τα στοιχεία σου"
                    )
                  ),
                  _react2.default.createElement(
                    "div",
                    { className: "panel-body" },
                    _react2.default.createElement(
                      _formGroup2.default,
                      {
                        "for": "id_username",
                        label: "Όνομα χρήστη",
                        validation: this.state.errors.username
                      },
                      _react2.default.createElement("input", {
                        type: "text",
                        id: "id_username",
                        className: "form-control",
                        disabled: isLoading,
                        onChange: this.bindInput("username"),
                        value: username
                      })
                    ),
                    _react2.default.createElement(
                      _formGroup2.default,
                      {
                        "for": "id_email",
                        label: "Email",
                        helpText: emailHelpText,
                        validation: emailProtected ? null : this.state.errors.email
                      },
                      _react2.default.createElement("input", {
                        type: "email",
                        id: "id_email",
                        className: "form-control",
                        disabled: isLoading || emailProtected,
                        onChange: this.bindInput("email"),
                        value: email
                      })
                    ),
                    _react2.default.createElement(_RegisterLegalFootnote2.default, {
                      errors: this.state.errors,
                      privacyPolicy: this.state.privacyPolicy,
                      termsOfService: this.state.termsOfService,
                      onPrivacyPolicyChange: this.handlePrivacyPolicyChange,
                      onTermsOfServiceChange: this.handleTermsOfServiceChange
                    })
                  ),
                  _react2.default.createElement(
                    "div",
                    { className: "panel-footer" },
                    _react2.default.createElement(
                      _button2.default,
                      {
                        className: "btn-primary",
                        loading: this.state.isLoading
                      },
                      "Σύνδεση"
                    )
                  )
                )
              )
            )
          )
        )
      );
    }
  }]);

  return Register;
}(_form2.default);

exports.default = Register;

},{"../..":302,"../../services/ajax":365,"../../services/snackbar":376,"../../utils/validators":393,"../RegisterLegalFootnote":1,"../button":8,"../form":56,"../form-group":55,"./header":214,"react":"react"}],217:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    "div",
    { className: "page-breadcrumbs" },
    _react2.default.createElement(
      "div",
      { className: "container" },
      _react2.default.createElement(
        "ol",
        { className: "breadcrumb hidden-xs" },
        props.path.map(function (item) {
          return _react2.default.createElement(Breadcrumb, { key: item.id, node: item });
        })
      ),
      _react2.default.createElement(GoBack, props)
    )
  );
};

exports.Breadcrumb = Breadcrumb;
exports.GoBack = GoBack;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function Breadcrumb(props) {
  return _react2.default.createElement(
    "li",
    null,
    _react2.default.createElement(
      "a",
      { href: props.node.url.index },
      props.node.name
    )
  );
}

function GoBack(props) {
  var lastItem = props.path[props.path.length - 1];

  return _react2.default.createElement(
    "a",
    { href: lastItem.url.index, className: "go-back-sm visible-xs-block" },
    _react2.default.createElement(
      "span",
      { className: "material-icon" },
      "chevron_left"
    ),
    lastItem.name
  );
}

},{"react":"react"}],218:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.Moderation = Moderation;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _breadcrumbs = require("./breadcrumbs");

var _breadcrumbs2 = _interopRequireDefault(_breadcrumbs);

var _thread = require("../moderation/thread");

var _stats = require("./stats");

var _stats2 = _interopRequireDefault(_stats);

var _form = require("../../form");

var _form2 = _interopRequireDefault(_form);

var _validators = require("../../posting/utils/validators");

var _ajax = require("../../../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require("../../../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require("../../../services/store");

var _store2 = _interopRequireDefault(_store);

var _thread2 = require("../../../reducers/thread");

var thread = _interopRequireWildcard(_thread2);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onChange = function (event) {
      _this.changeValue("title", event.target.value);
    };

    _this.onEdit = function () {
      _this.setState({
        isEditing: true
      });
    };

    _this.onCancel = function () {
      _this.setState({
        title: _this.props.thread.title,

        isEditing: false
      });
    };

    _this.state = {
      isEditing: false,
      isLoading: false,

      title: props.thread.title,

      validators: {
        title: (0, _validators.getTitleValidators)()
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_class, [{
    key: "clean",
    value: function clean() {
      if (!this.state.title.trim().length) {
        _snackbar2.default.error("Πρέπει να βάλεις τίτλο αγγελίας!");
        return false;
      }

      var errors = this.validate();

      if (errors.title) {
        _snackbar2.default.error(errors.title[0]);
        return false;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax2.default.patch(this.props.thread.api.index, [{ op: "replace", path: "title", value: this.state.title }]);
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(data) {
      _store2.default.dispatch(thread.update(data));

      this.setState({
        isEditing: false
      });
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        _snackbar2.default.error(rejection.detail[0]);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _props = this.props,
          thread = _props.thread,
          user = _props.user;

      var showModeration = !!user.id && (0, _thread.isModerationVisible)(thread);

      if (this.state.isEditing) {
        return _react2.default.createElement(
          "div",
          { className: "page-header" },
          _react2.default.createElement(_breadcrumbs2.default, { path: thread.path }),
          _react2.default.createElement(
            "div",
            { className: "container" },
            _react2.default.createElement(
              "div",
              { className: "row xs-margin-top title-edit-form" },
              _react2.default.createElement(
                "form",
                { onSubmit: this.handleSubmit },
                _react2.default.createElement(
                  "div",
                  { className: "col-sm-6 col-md-6" },
                  _react2.default.createElement("input", {
                    className: "form-control",
                    type: "text",
                    value: this.state.title,
                    onChange: this.onChange
                  })
                ),
                _react2.default.createElement(
                  "div",
                  { className: "col-sm-6 col-md-4" },
                  _react2.default.createElement(
                    "div",
                    { className: "row xs-margin-top-half sm-margin-top-no md-margin-top-no" },
                    _react2.default.createElement(
                      "div",
                      { className: "col-xs-6" },
                      _react2.default.createElement(
                        "button",
                        {
                          className: "btn btn-primary btn-block btn-outline",
                          disabled: this.state.isLoading,
                          title: "Αλλαγή τίτλου"
                        },
                        "Αποθήκευση"
                      )
                    ),
                    _react2.default.createElement(
                      "div",
                      { className: "col-xs-6" },
                      _react2.default.createElement(
                        "button",
                        {
                          className: "btn btn-default btn-block btn-outline",
                          disabled: this.state.isLoading,
                          onClick: this.onCancel,
                          title: "Ακύρωση",
                          type: "button"
                        },
                        "Ακύρωση"
                      )
                    )
                  )
                )
              )
            )
          ),
          _react2.default.createElement(_stats2.default, { thread: thread })
        );
      } else if (user.id && thread.acl.can_edit) {
        return _react2.default.createElement(
          "div",
          { className: "page-header" },
          _react2.default.createElement(_breadcrumbs2.default, { path: thread.path }),
          _react2.default.createElement(
            "div",
            { className: "container" },
            _react2.default.createElement(
              "div",
              { className: "row" },
              _react2.default.createElement(
                "div",
                {
                  className: showModeration ? "col-sm-9 col-md-8" : "col-sm-10 col-md-10"
                },
                _react2.default.createElement(
                  "h1",
                  null,
                  thread.title
                )
              ),
              _react2.default.createElement(
                "div",
                {
                  className: showModeration ? "col-sm-3 col-md-4" : "col-sm-3 col-md-2"
                },
                _react2.default.createElement(
                  "div",
                  { className: "row xs-margin-top md-margin-top-no" },
                  _react2.default.createElement(
                    "div",
                    { className: showModeration ? "col-xs-6" : "col-xs-12" },
                    _react2.default.createElement(
                      "button",
                      {
                        className: "btn btn-default btn-block btn-outline",
                        onClick: this.onEdit,
                        title: "Αλλαγή τίτλου",
                        type: "button"
                      },
                      _react2.default.createElement(
                        "span",
                        { className: "material-icon" },
                        "edit"
                      ),
                      _react2.default.createElement(
                        "span",
                        { className: "hidden-sm" },
                        "Αλλαγή"
                      )
                    )
                  ),
                  showModeration && _react2.default.createElement(Moderation, this.props)
                )
              )
            )
          ),
          _react2.default.createElement(_stats2.default, { thread: thread })
        );
      } else if (showModeration) {
        return _react2.default.createElement(
          "div",
          { className: "page-header" },
          _react2.default.createElement(_breadcrumbs2.default, { path: thread.path }),
          _react2.default.createElement(
            "div",
            { className: "container" },
            _react2.default.createElement(
              "div",
              { className: "row" },
              _react2.default.createElement(
                "div",
                { className: "col-sm-9 col-md-10" },
                _react2.default.createElement(
                  "h1",
                  null,
                  thread.title
                )
              ),
              _react2.default.createElement(
                "div",
                { className: "col-sm-3 col-md-2" },
                _react2.default.createElement(
                  "div",
                  { className: "row xs-margin-top md-margin-top-no" },
                  _react2.default.createElement(Moderation, _extends({ isSingle: true }, this.props))
                )
              )
            )
          ),
          _react2.default.createElement(_stats2.default, { thread: thread })
        );
      }

      return _react2.default.createElement(
        "div",
        { className: "page-header" },
        _react2.default.createElement(_breadcrumbs2.default, { path: thread.path }),
        _react2.default.createElement(
          "div",
          { className: "container" },
          _react2.default.createElement(
            "h1",
            null,
            thread.title
          )
        ),
        _react2.default.createElement(_stats2.default, { thread: thread })
      );
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;
function Moderation(props) {
  return _react2.default.createElement(
    "div",
    { className: props.isSingle ? "col-xs-12" : "col-xs-6" },
    _react2.default.createElement(
      "div",
      { className: "btn-group btn-group-justified" },
      _react2.default.createElement(
        "div",
        { className: "btn-group" },
        _react2.default.createElement(
          "button",
          {
            "aria-expanded": "false",
            "aria-haspopup": "true",
            className: "btn btn-default btn-outline dropdown-toggle",
            "data-toggle": "dropdown",
            disabled: props.thread.isBusy,
            type: "button"
          },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "settings"
          ),
          _react2.default.createElement(
            "span",
            { className: props.isSingle ? "" : "hidden-sm" },
            "Διαχείριση"
          )
        ),
        _react2.default.createElement(_thread.ModerationControls, {
          posts: props.posts,
          thread: props.thread,
          user: props.user
        })
      )
    )
  );
}

},{"../../../reducers/thread":360,"../../../services/ajax":365,"../../../services/snackbar":376,"../../../services/store":377,"../../form":56,"../../posting/utils/validators":144,"../moderation/thread":227,"./breadcrumbs":217,"./stats":219,"react":"react"}],219:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Weight = Weight;
exports.Unapproved = Unapproved;
exports.IsHidden = IsHidden;
exports.IsClosed = IsClosed;
exports.Replies = Replies;
exports.LastReply = LastReply;

exports.default = function (props) {
  return _react2.default.createElement(
    "div",
    { className: "header-stats" },
    _react2.default.createElement(
      "div",
      { className: "container" },
      _react2.default.createElement(
        "ul",
        { className: "list-inline" },
        _react2.default.createElement(Weight, { thread: props.thread }),
        _react2.default.createElement(Unapproved, { thread: props.thread }),
        _react2.default.createElement(IsHidden, { thread: props.thread }),
        _react2.default.createElement(IsClosed, { thread: props.thread }),
        _react2.default.createElement(Replies, { thread: props.thread }),
        _react2.default.createElement(LastReply, { thread: props.thread })
      )
    )
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _escapeHtml = require("../../../utils/escape-html");

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var LAST_POSTER_URL = '<a href="%(url)s" class="poster-title">%(user)s</a>';
var LAST_POSTER_SPAN = '<span class="poster-title">%(user)s</span>';
var LAST_REPLY = '<abbr class="last-title" title="%(absolute)s">%(relative)s</abbr>';

function Weight(props) {
  if (props.thread.weight == 2) {
    return _react2.default.createElement(
      "li",
      { className: "thread-pinned-globally" },
      _react2.default.createElement(
        "span",
        { className: "material-icon" },
        "bookmark"
      ),
      _react2.default.createElement(
        "span",
        { className: "icon-legend" },
        "Προωθημένη σε όλη τη σελίδα"
      )
    );
  } else if (props.thread.weight == 1) {
    return _react2.default.createElement(
      "li",
      { className: "thread-pinned-locally" },
      _react2.default.createElement(
        "span",
        { className: "material-icon" },
        "bookmark_border"
      ),
      _react2.default.createElement(
        "span",
        { className: "icon-legend" },
        "Προωθημένη σε αυτή την κατηγορία"
      )
    );
  } else {
    return null;
  }
}

function Unapproved(props) {
  if (props.thread.is_unapproved) {
    return _react2.default.createElement(
      "li",
      { className: "thread-unapproved" },
      _react2.default.createElement(
        "span",
        { className: "material-icon" },
        "remove_circle"
      ),
      _react2.default.createElement(
        "span",
        { className: "icon-legend" },
        "Μη εγκεκριμένη"
      )
    );
  } else if (props.thread.has_unapproved_posts) {
    return _react2.default.createElement(
      "li",
      { className: "thread-unapproved-posts" },
      _react2.default.createElement(
        "span",
        { className: "material-icon" },
        "remove_circle_outline"
      ),
      _react2.default.createElement(
        "span",
        { className: "icon-legend" },
        "Μη εγκεκριμένες προσφορές"
      )
    );
  } else {
    return null;
  }
}

function IsHidden(props) {
  if (props.thread.is_hidden) {
    return _react2.default.createElement(
      "li",
      { className: "thread-hidden" },
      _react2.default.createElement(
        "span",
        { className: "material-icon" },
        "visibility_off"
      ),
      _react2.default.createElement(
        "span",
        { className: "icon-legend" },
        "Κρυμμένη"
      )
    );
  } else {
    return null;
  }
}

function IsClosed(props) {
  if (props.thread.is_closed) {
    return _react2.default.createElement(
      "li",
      { className: "thread-closed" },
      _react2.default.createElement(
        "span",
        { className: "material-icon" },
        "lock_outline"
      ),
      _react2.default.createElement(
        "span",
        { className: "icon-legend" },
        "Κλειστή για καινούριες προσφορές"
      )
    );
  } else {
    return null;
  }
}

function Replies(props) {
  var message = "%(replies)s προσφορές";
  if (props.thread.replies === 1) {
    message = "%(replies)s προσφορά";
  }

  var legend = interpolate(message, { replies: props.thread.replies }, true);

  return _react2.default.createElement(
    "li",
    { className: "thread-replies" },
    _react2.default.createElement(
      "span",
      { className: "material-icon" },
      "forum"
    ),
    _react2.default.createElement(
      "span",
      { className: "icon-legend" },
      legend
    )
  );
}

function LastReply(props) {
  var user = null;
  if (props.thread.url.last_poster) {
    user = interpolate(LAST_POSTER_URL, {
      url: (0, _escapeHtml2.default)(props.thread.url.last_poster),
      user: (0, _escapeHtml2.default)(props.thread.last_poster_name)
    }, true);
  } else {
    user = interpolate(LAST_POSTER_SPAN, {
      user: (0, _escapeHtml2.default)(props.thread.last_poster_name)
    }, true);
  }

  var date = interpolate(LAST_REPLY, {
    absolute: (0, _escapeHtml2.default)(props.thread.last_post_on.format("LLL")),
    relative: (0, _escapeHtml2.default)(props.thread.last_post_on.fromNow())
  }, true);

  var message = interpolate((0, _escapeHtml2.default)("τελευταία δημοσίευση από %(user)s %(date)s"), {
    date: date,
    user: user
  }, true);

  return _react2.default.createElement("li", {
    className: "thread-last-reply",
    dangerouslySetInnerHTML: { __html: message }
  });
}

},{"../../../utils/escape-html":383,"react":"react"}],220:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.approve = approve;
exports.protect = protect;
exports.unprotect = unprotect;
exports.hide = hide;
exports.unhide = unhide;
exports.patch = patch;
exports.merge = merge;
exports.remove = remove;

var _moment = require("moment");

var _moment2 = _interopRequireDefault(_moment);

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _post = require("../../../../reducers/post");

var post = _interopRequireWildcard(_post);

var _posts = require("../../../../reducers/posts");

var posts = _interopRequireWildcard(_posts);

var _ajax = require("../../../../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require("../../../../services/modal");

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require("../../../../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require("../../../../services/store");

var _store2 = _interopRequireDefault(_store);

var _errorsList = require("./errors-list");

var _errorsList2 = _interopRequireDefault(_errorsList);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function approve(props) {
  var selection = props.selection;


  var ops = [{ op: "replace", path: "is-unapproved", value: false }];

  var newState = selection.map(function (post) {
    return {
      id: post.id,
      is_unapproved: false
    };
  });

  var previousState = selection.map(function (post) {
    return {
      id: post.id,
      is_unapproved: post.is_unapproved
    };
  });

  patch(props, ops, newState, previousState);
}

function protect(props) {
  var selection = props.selection;


  var ops = [{ op: "replace", path: "is-protected", value: true }];

  var newState = selection.map(function (post) {
    return {
      id: post.id,
      is_protected: true
    };
  });

  var previousState = selection.map(function (post) {
    return {
      id: post.id,
      is_protected: post.is_protected
    };
  });

  patch(props, ops, newState, previousState);
}

function unprotect(props) {
  var selection = props.selection;


  var ops = [{ op: "replace", path: "is-protected", value: false }];

  var newState = selection.map(function (post) {
    return {
      id: post.id,
      is_protected: false
    };
  });

  var previousState = selection.map(function (post) {
    return {
      id: post.id,
      is_protected: post.is_protected
    };
  });

  patch(props, ops, newState, previousState);
}

function hide(props) {
  var selection = props.selection;


  var ops = [{ op: "replace", path: "is-hidden", value: true }];

  var newState = selection.map(function (post) {
    return {
      id: post.id,
      is_hidden: true,
      hidden_on: (0, _moment2.default)(),
      hidden_by_name: props.user.username,
      url: Object.assign(post.url, {
        hidden_by: props.user.url
      })
    };
  });

  var previousState = selection.map(function (post) {
    return {
      id: post.id,
      is_hidden: post.is_hidden,
      hidden_on: post.hidden_on,
      hidden_by_name: post.hidden_by_name,
      url: post.url
    };
  });

  patch(props, ops, newState, previousState);
}

function unhide(props) {
  var selection = props.selection;


  var ops = [{ op: "replace", path: "is-hidden", value: false }];

  var newState = selection.map(function (post) {
    return {
      id: post.id,
      is_hidden: false,
      hidden_on: (0, _moment2.default)(),
      hidden_by_name: props.user.username,
      url: Object.assign(post.url, {
        hidden_by: props.user.url
      })
    };
  });

  var previousState = selection.map(function (post) {
    return {
      id: post.id,
      is_hidden: post.is_hidden,
      hidden_on: post.hidden_on,
      hidden_by_name: post.hidden_by_name,
      url: post.url
    };
  });

  patch(props, ops, newState, previousState);
}

function patch(props, ops, newState, previousState) {
  var selection = props.selection,
      thread = props.thread;

  // patch selected items

  newState.forEach(function (item) {
    post.patch(item, item);
  });

  // deselect all the things
  _store2.default.dispatch(posts.deselectAll());

  // call ajax
  var data = {
    ops: ops,

    ids: selection.map(function (post) {
      return post.id;
    })
  };

  _ajax2.default.patch(thread.api.posts.index, data).then(function (data) {
    data.forEach(function (item) {
      _store2.default.dispatch(post.patch(item, item));
    });
  }, function (rejection) {
    if (rejection.status !== 400) {
      // rollback all
      previousState.forEach(function (item) {
        _store2.default.dispatch(post.patch(item, item));
      });
      return _snackbar2.default.apiError(rejection);
    }

    var errors = [];
    var rollback = [];

    rejection.forEach(function (item) {
      if (item.detail) {
        errors.push(item);
        rollback.push(item.id);
      } else {
        _store2.default.dispatch(post.patch(item, item));
      }

      previousState.forEach(function (item) {
        if (rollback.indexOf(item) !== -1) {
          _store2.default.dispatch(post.patch(item, item));
        }
      });
    });

    var posts = {};
    selection.forEach(function (item) {
      posts[item.id] = item;
    });

    _modal2.default.show(_react2.default.createElement(_errorsList2.default, { errors: errors, posts: posts }));
  });
}

function merge(props) {
  var confirmed = confirm("Είσαι σίγουρος ότι θέλεις να συγχωνεύσεις τις συγκεκριμένες προσφορές; Αυτή η ενέργεια δεν είναι αναστρέψιμη!");
  if (!confirmed) {
    return;
  }

  props.selection.slice(1).map(function (selection) {
    _store2.default.dispatch(post.patch(selection, {
      isDeleted: true
    }));
  });

  _ajax2.default.post(props.thread.api.posts.merge, {
    posts: props.selection.map(function (post) {
      return post.id;
    })
  }).then(function (data) {
    _store2.default.dispatch(post.patch(data, post.hydrate(data)));
  }, function (rejection) {
    if (rejection.status === 400) {
      _snackbar2.default.error(rejection.detail);
    } else {
      _snackbar2.default.apiError(rejection);
    }

    props.selection.slice(1).map(function (selection) {
      _store2.default.dispatch(post.patch(selection, {
        isDeleted: false
      }));
    });
  });

  _store2.default.dispatch(posts.deselectAll());
}

function remove(props) {
  var confirmed = confirm("Είσαι σίγουρος ότι θέλεις να διαγράψεις τις επιλεγμένες προσφορές; Αυτή η ενέργεια δεν είναι αναστρέψιμη!");
  if (!confirmed) {
    return;
  }

  props.selection.map(function (selection) {
    _store2.default.dispatch(post.patch(selection, {
      isDeleted: true
    }));
  });

  var ids = props.selection.map(function (post) {
    return post.id;
  });

  _ajax2.default.delete(props.thread.api.posts.index, ids).then(function () {
    return;
  }, function (rejection) {
    if (rejection.status === 400) {
      _snackbar2.default.error(rejection.detail);
    } else {
      _snackbar2.default.apiError(rejection);
    }

    props.selection.map(function (selection) {
      _store2.default.dispatch(post.patch(selection, {
        isDeleted: false
      }));
    });
  });

  _store2.default.dispatch(posts.deselectAll());
}

},{"../../../../reducers/post":353,"../../../../reducers/posts":354,"../../../../services/ajax":365,"../../../../services/modal":371,"../../../../services/snackbar":376,"../../../../services/store":377,"./errors-list":222,"moment":"moment","react":"react"}],221:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Delete = exports.Unhide = exports.Hide = exports.Unprotect = exports.Protect = exports.Split = exports.Move = exports.Merge = exports.Approve = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = function (props) {
  return _react2.default.createElement(
    "ul",
    { className: "dropdown-menu" },
    _react2.default.createElement(Approve, props),
    _react2.default.createElement(Merge, props),
    _react2.default.createElement(Move, props),
    _react2.default.createElement(Split, props),
    _react2.default.createElement(Protect, props),
    _react2.default.createElement(Unprotect, props),
    _react2.default.createElement(Unhide, props),
    _react2.default.createElement(Hide, props),
    _react2.default.createElement(Delete, props)
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _modal = require("../../../../services/modal");

var _modal2 = _interopRequireDefault(_modal);

var _actions = require("./actions");

var moderation = _interopRequireWildcard(_actions);

var _move = require("./move");

var _move2 = _interopRequireDefault(_move);

var _split = require("./split");

var _split2 = _interopRequireDefault(_split);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Approve = exports.Approve = function (_React$Component) {
  _inherits(Approve, _React$Component);

  function Approve() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, Approve);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Approve.__proto__ || Object.getPrototypeOf(Approve)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      moderation.approve(_this.props);
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(Approve, [{
    key: "render",
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_approve && post.is_unapproved;
      });

      if (!isVisible) return null;

      return _react2.default.createElement(
        "li",
        null,
        _react2.default.createElement(
          "button",
          { type: "button", className: "btn btn-link", onClick: this.onClick },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "done"
          ),
          "Έγκριση"
        )
      );
    }
  }]);

  return Approve;
}(_react2.default.Component);

var Merge = exports.Merge = function (_React$Component2) {
  _inherits(Merge, _React$Component2);

  function Merge() {
    var _ref2;

    var _temp2, _this2, _ret2;

    _classCallCheck(this, Merge);

    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    return _ret2 = (_temp2 = (_this2 = _possibleConstructorReturn(this, (_ref2 = Merge.__proto__ || Object.getPrototypeOf(Merge)).call.apply(_ref2, [this].concat(args))), _this2), _this2.onClick = function () {
      moderation.merge(_this2.props);
    }, _temp2), _possibleConstructorReturn(_this2, _ret2);
  }

  _createClass(Merge, [{
    key: "render",
    value: function render() {
      var isVisible = this.props.selection.length > 1 && this.props.selection.find(function (post) {
        return post.acl.can_merge;
      });

      if (!isVisible) return null;

      return _react2.default.createElement(
        "li",
        null,
        _react2.default.createElement(
          "button",
          { type: "button", className: "btn btn-link", onClick: this.onClick },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "call_merge"
          ),
          "Συγχώνευση"
        )
      );
    }
  }]);

  return Merge;
}(_react2.default.Component);

var Move = exports.Move = function (_React$Component3) {
  _inherits(Move, _React$Component3);

  function Move() {
    var _ref3;

    var _temp3, _this3, _ret3;

    _classCallCheck(this, Move);

    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    return _ret3 = (_temp3 = (_this3 = _possibleConstructorReturn(this, (_ref3 = Move.__proto__ || Object.getPrototypeOf(Move)).call.apply(_ref3, [this].concat(args))), _this3), _this3.onClick = function () {
      _modal2.default.show(_react2.default.createElement(_move2.default, _this3.props));
    }, _temp3), _possibleConstructorReturn(_this3, _ret3);
  }

  _createClass(Move, [{
    key: "render",
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_move;
      });

      if (!isVisible) return null;

      return _react2.default.createElement(
        "li",
        null,
        _react2.default.createElement(
          "button",
          { type: "button", className: "btn btn-link", onClick: this.onClick },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "arrow_forward"
          ),
          "Μετακίνηση"
        )
      );
    }
  }]);

  return Move;
}(_react2.default.Component);

var Split = exports.Split = function (_React$Component4) {
  _inherits(Split, _React$Component4);

  function Split() {
    var _ref4;

    var _temp4, _this4, _ret4;

    _classCallCheck(this, Split);

    for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
      args[_key4] = arguments[_key4];
    }

    return _ret4 = (_temp4 = (_this4 = _possibleConstructorReturn(this, (_ref4 = Split.__proto__ || Object.getPrototypeOf(Split)).call.apply(_ref4, [this].concat(args))), _this4), _this4.onClick = function () {
      _modal2.default.show(_react2.default.createElement(_split2.default, _this4.props));
    }, _temp4), _possibleConstructorReturn(_this4, _ret4);
  }

  _createClass(Split, [{
    key: "render",
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_move;
      });

      if (!isVisible) return null;

      return _react2.default.createElement(
        "li",
        null,
        _react2.default.createElement(
          "button",
          { type: "button", className: "btn btn-link", onClick: this.onClick },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "call_split"
          ),
          "Διαχωρισμός"
        )
      );
    }
  }]);

  return Split;
}(_react2.default.Component);

var Protect = exports.Protect = function (_React$Component5) {
  _inherits(Protect, _React$Component5);

  function Protect() {
    var _ref5;

    var _temp5, _this5, _ret5;

    _classCallCheck(this, Protect);

    for (var _len5 = arguments.length, args = Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {
      args[_key5] = arguments[_key5];
    }

    return _ret5 = (_temp5 = (_this5 = _possibleConstructorReturn(this, (_ref5 = Protect.__proto__ || Object.getPrototypeOf(Protect)).call.apply(_ref5, [this].concat(args))), _this5), _this5.onClick = function () {
      moderation.protect(_this5.props);
    }, _temp5), _possibleConstructorReturn(_this5, _ret5);
  }

  _createClass(Protect, [{
    key: "render",
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return !post.is_protected && post.acl.can_protect;
      });

      if (!isVisible) return null;

      return _react2.default.createElement(
        "li",
        null,
        _react2.default.createElement(
          "button",
          { type: "button", className: "btn btn-link", onClick: this.onClick },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "lock_outline"
          ),
          "Κλείδωμα"
        )
      );
    }
  }]);

  return Protect;
}(_react2.default.Component);

var Unprotect = exports.Unprotect = function (_React$Component6) {
  _inherits(Unprotect, _React$Component6);

  function Unprotect() {
    var _ref6;

    var _temp6, _this6, _ret6;

    _classCallCheck(this, Unprotect);

    for (var _len6 = arguments.length, args = Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {
      args[_key6] = arguments[_key6];
    }

    return _ret6 = (_temp6 = (_this6 = _possibleConstructorReturn(this, (_ref6 = Unprotect.__proto__ || Object.getPrototypeOf(Unprotect)).call.apply(_ref6, [this].concat(args))), _this6), _this6.onClick = function () {
      moderation.unprotect(_this6.props);
    }, _temp6), _possibleConstructorReturn(_this6, _ret6);
  }

  _createClass(Unprotect, [{
    key: "render",
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.is_protected && post.acl.can_protect;
      });

      if (!isVisible) return null;

      return _react2.default.createElement(
        "li",
        null,
        _react2.default.createElement(
          "button",
          { type: "button", className: "btn btn-link", onClick: this.onClick },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "lock_open"
          ),
          "Ξεκλείδωμα"
        )
      );
    }
  }]);

  return Unprotect;
}(_react2.default.Component);

var Hide = exports.Hide = function (_React$Component7) {
  _inherits(Hide, _React$Component7);

  function Hide() {
    var _ref7;

    var _temp7, _this7, _ret7;

    _classCallCheck(this, Hide);

    for (var _len7 = arguments.length, args = Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {
      args[_key7] = arguments[_key7];
    }

    return _ret7 = (_temp7 = (_this7 = _possibleConstructorReturn(this, (_ref7 = Hide.__proto__ || Object.getPrototypeOf(Hide)).call.apply(_ref7, [this].concat(args))), _this7), _this7.onClick = function () {
      moderation.hide(_this7.props);
    }, _temp7), _possibleConstructorReturn(_this7, _ret7);
  }

  _createClass(Hide, [{
    key: "render",
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_hide && !post.is_hidden;
      });

      if (!isVisible) return null;

      return _react2.default.createElement(
        "li",
        null,
        _react2.default.createElement(
          "button",
          { type: "button", className: "btn btn-link", onClick: this.onClick },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "visibility_off"
          ),
          "Κρύψιμο"
        )
      );
    }
  }]);

  return Hide;
}(_react2.default.Component);

var Unhide = exports.Unhide = function (_React$Component8) {
  _inherits(Unhide, _React$Component8);

  function Unhide() {
    var _ref8;

    var _temp8, _this8, _ret8;

    _classCallCheck(this, Unhide);

    for (var _len8 = arguments.length, args = Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {
      args[_key8] = arguments[_key8];
    }

    return _ret8 = (_temp8 = (_this8 = _possibleConstructorReturn(this, (_ref8 = Unhide.__proto__ || Object.getPrototypeOf(Unhide)).call.apply(_ref8, [this].concat(args))), _this8), _this8.onClick = function () {
      moderation.unhide(_this8.props);
    }, _temp8), _possibleConstructorReturn(_this8, _ret8);
  }

  _createClass(Unhide, [{
    key: "render",
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_unhide && post.is_hidden;
      });

      if (!isVisible) return null;

      return _react2.default.createElement(
        "li",
        null,
        _react2.default.createElement(
          "button",
          { type: "button", className: "btn btn-link", onClick: this.onClick },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "visibility"
          ),
          "Εμφάνιση"
        )
      );
    }
  }]);

  return Unhide;
}(_react2.default.Component);

var Delete = exports.Delete = function (_React$Component9) {
  _inherits(Delete, _React$Component9);

  function Delete() {
    var _ref9;

    var _temp9, _this9, _ret9;

    _classCallCheck(this, Delete);

    for (var _len9 = arguments.length, args = Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {
      args[_key9] = arguments[_key9];
    }

    return _ret9 = (_temp9 = (_this9 = _possibleConstructorReturn(this, (_ref9 = Delete.__proto__ || Object.getPrototypeOf(Delete)).call.apply(_ref9, [this].concat(args))), _this9), _this9.onClick = function () {
      moderation.remove(_this9.props);
    }, _temp9), _possibleConstructorReturn(_this9, _ret9);
  }

  _createClass(Delete, [{
    key: "render",
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_delete;
      });

      if (!isVisible) return null;

      return _react2.default.createElement(
        "li",
        null,
        _react2.default.createElement(
          "button",
          { type: "button", className: "btn btn-link", onClick: this.onClick },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "clear"
          ),
          "Διαγραφή"
        )
      );
    }
  }]);

  return Delete;
}(_react2.default.Component);

},{"../../../../services/modal":371,"./actions":220,"./move":224,"./split":225,"react":"react"}],222:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var errors = _ref.errors,
      posts = _ref.posts;

  return _react2.default.createElement(
    "div",
    { className: "modal-dialog", role: "document" },
    _react2.default.createElement(
      "div",
      { className: "modal-content" },
      _react2.default.createElement(
        "div",
        { className: "modal-header" },
        _react2.default.createElement(
          "button",
          {
            "aria-label": "Κλείσιμο",
            className: "close",
            "data-dismiss": "modal",
            type: "button"
          },
          _react2.default.createElement(
            "span",
            { "aria-hidden": "true" },
            "\xD7"
          )
        ),
        _react2.default.createElement(
          "h4",
          { className: "modal-title" },
          "Διαχείριση"
        )
      ),
      _react2.default.createElement(
        "div",
        { className: "modal-body" },
        _react2.default.createElement(
          "p",
          { className: "lead" },
          "Μία ή περισσότερες αγγελίες δεν ήταν δυνατόν να αλλαχθούν:"
        ),
        _react2.default.createElement(
          "ul",
          { className: "list-unstyled list-errored-items" },
          errors.map(function (post) {
            return _react2.default.createElement(PostErrors, {
              errors: post.detail,
              key: post.id,
              post: posts[post.id]
            });
          })
        )
      )
    )
  );
};

exports.PostErrors = PostErrors;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function PostErrors(_ref2) {
  var errors = _ref2.errors,
      post = _ref2.post;

  var heading = interpolate("%(username)s στις %(posted_on)s", {
    posted_on: post.posted_on.format("LL, LT"),
    username: post.poster_name
  }, true);

  return _react2.default.createElement(
    "li",
    null,
    _react2.default.createElement(
      "h5",
      null,
      heading,
      ":"
    ),
    errors.map(function (error, i) {
      return _react2.default.createElement(
        "p",
        { key: i },
        error
      );
    })
  );
}

},{"react":"react"}],223:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.default = function (props) {
  if (!props.user.id || !isVisible(props.thread, props.posts.results)) {
    return null;
  }

  var selection = props.posts.results.filter(function (post) {
    return post.isSelected;
  });

  return _react2.default.createElement(
    "div",
    { className: "dropup" },
    _react2.default.createElement(
      "button",
      {
        "aria-expanded": "true",
        "aria-haspopup": "true",
        className: "btn btn-default dropdown-toggle btn-block btn-outline",
        "data-toggle": "dropdown",
        disabled: !selection.length,
        type: "button"
      },
      "Επιλογές αγγελιών"
    ),
    _react2.default.createElement(_dropdown2.default, _extends({ selection: selection }, props))
  );
};

exports.isVisible = isVisible;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _dropdown = require("./dropdown");

var _dropdown2 = _interopRequireDefault(_dropdown);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function isVisible(thread, posts) {
  if (thread.acl.can_merge_posts && posts.length > 1) {
    // fast test: show moderation menu if we can merge posts
    return true;
  }

  // slow test: show moderation if any of posts has moderation options
  var visible = false;
  posts.forEach(function (post) {
    if (!post.is_event) {
      var showModeration = post.acl.can_approve && post.is_unapproved || post.acl.can_delete || !post.is_hidden && post.acl.can_hide || post.acl.can_move || post.acl.can_merge || post.acl.can_protect || post.is_hidden && post.acl.can_unhide || post.acl.can_unprotect;

      if (showModeration) {
        visible = true;
      }
    }
  });
  return visible;
}

},{"./dropdown":221,"react":"react"}],224:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.ModalHeader = ModalHeader;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _button = require("../../../button");

var _button2 = _interopRequireDefault(_button);

var _form = require("../../../form");

var _form2 = _interopRequireDefault(_form);

var _formGroup = require("../../../form-group");

var _formGroup2 = _interopRequireDefault(_formGroup);

var _post = require("../../../../reducers/post");

var post = _interopRequireWildcard(_post);

var _ajax = require("../../../../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require("../../../../services/modal");

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require("../../../../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require("../../../../services/store");

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onUrlChange = function (event) {
      _this.changeValue("url", event.target.value);
    };

    _this.state = {
      isLoading: false,

      url: "",

      validators: {
        url: []
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_class, [{
    key: "clean",
    value: function clean() {
      if (!this.state.url.trim().length) {
        _snackbar2.default.error("Πρέπει να βάλεις το σύνδεσμο για την άλλη αγγελία!");
        return false;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax2.default.post(this.props.thread.api.posts.move, {
        new_thread: this.state.url,
        posts: this.props.selection.map(function (post) {
          return post.id;
        })
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(success) {
      this.props.selection.forEach(function (selection) {
        _store2.default.dispatch(post.patch(selection, {
          isDeleted: true
        }));
      });

      _modal2.default.hide();

      _snackbar2.default.success("Οι επιλεγμένες προσφορές μετακινήθηκαν στην άλλη αγγελία");
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        _snackbar2.default.error(rejection.detail);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: "modal-dialog", role: "document" },
        _react2.default.createElement(
          "form",
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            "div",
            { className: "modal-content" },
            _react2.default.createElement(ModalHeader, null),
            _react2.default.createElement(
              "div",
              { className: "modal-body" },
              _react2.default.createElement(
                _formGroup2.default,
                {
                  "for": "id_url",
                  label: "Σύνδεσμος της αγγελίας που θες να μετακινήσεις τις προσφορές"
                },
                _react2.default.createElement("input", {
                  className: "form-control",
                  disabled: this.state.isLoading,
                  id: "id_url",
                  onChange: this.onUrlChange,
                  value: this.state.url
                })
              )
            ),
            _react2.default.createElement(
              "div",
              { className: "modal-footer" },
              _react2.default.createElement(
                "button",
                {
                  className: "btn btn-default",
                  "data-dismiss": "modal",
                  disabled: this.state.isLoading,
                  type: "button"
                },
                "Ακύρωση"
              ),
              _react2.default.createElement(
                "button",
                {
                  className: "btn btn-primary",
                  loading: this.state.isLoading
                },
                "Μετακίνηση προσφορών"
              )
            )
          )
        )
      );
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;
function ModalHeader(props) {
  return _react2.default.createElement(
    "div",
    { className: "modal-header" },
    _react2.default.createElement(
      "button",
      {
        "aria-label": "Κλείσιμο",
        className: "close",
        "data-dismiss": "modal",
        type: "button"
      },
      _react2.default.createElement(
        "span",
        { "aria-hidden": "true" },
        "\xD7"
      )
    ),
    _react2.default.createElement(
      "h4",
      { className: "modal-title" },
      "Μετακίνηση προσφορών"
    )
  );
}

},{"../../../../reducers/post":353,"../../../../services/ajax":365,"../../../../services/modal":371,"../../../../services/snackbar":376,"../../../../services/store":377,"../../../button":8,"../../../form":56,"../../../form-group":55,"react":"react"}],225:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ModerationForm = exports.PostingConfig = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.default = function (props) {
  return _react2.default.createElement(PostingConfig, _extends({}, props, { Form: ModerationForm }));
};

exports.Loader = Loader;
exports.Error = Error;
exports.Modal = Modal;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _button = require("../../../button");

var _button2 = _interopRequireDefault(_button);

var _form = require("../../../form");

var _form2 = _interopRequireDefault(_form);

var _formGroup = require("../../../form-group");

var _formGroup2 = _interopRequireDefault(_formGroup);

var _categorySelect = require("../../../category-select");

var _categorySelect2 = _interopRequireDefault(_categorySelect);

var _modalLoader = require("../../../modal-loader");

var _modalLoader2 = _interopRequireDefault(_modalLoader);

var _select = require("../../../select");

var _select2 = _interopRequireDefault(_select);

var _post = require("../../../../reducers/post");

var post = _interopRequireWildcard(_post);

var _ajax = require("../../../../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require("../../../../services/modal");

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require("../../../../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require("../../../../services/store");

var _store2 = _interopRequireDefault(_store);

var _validators = require("../../../../utils/validators");

var validators = _interopRequireWildcard(_validators);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var PostingConfig = exports.PostingConfig = function (_React$Component) {
  _inherits(PostingConfig, _React$Component);

  function PostingConfig(props) {
    _classCallCheck(this, PostingConfig);

    var _this = _possibleConstructorReturn(this, (PostingConfig.__proto__ || Object.getPrototypeOf(PostingConfig)).call(this, props));

    _this.state = {
      isLoaded: false,
      isError: false,

      categories: []
    };
    return _this;
  }

  _createClass(PostingConfig, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      _ajax2.default.get(misago.get("THREAD_EDITOR_API")).then(function (data) {
        // hydrate categories, extract posting options
        var categories = data.map(function (item) {
          return Object.assign(item, {
            disabled: item.post === false,
            label: item.name,
            value: item.id,
            post: item.post
          });
        });

        _this2.setState({
          isLoaded: true,
          categories: categories
        });
      }, function (rejection) {
        _this2.setState({
          isError: rejection.detail
        });
      });
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.isError) {
        return _react2.default.createElement(Error, { message: this.state.isError });
      } else if (this.state.isLoaded) {
        return _react2.default.createElement(ModerationForm, _extends({}, this.props, { categories: this.state.categories }));
      } else {
        return _react2.default.createElement(Loader, null);
      }
    }
  }]);

  return PostingConfig;
}(_react2.default.Component);

var ModerationForm = exports.ModerationForm = function (_Form) {
  _inherits(ModerationForm, _Form);

  function ModerationForm(props) {
    _classCallCheck(this, ModerationForm);

    var _this3 = _possibleConstructorReturn(this, (ModerationForm.__proto__ || Object.getPrototypeOf(ModerationForm)).call(this, props));

    _this3.onCategoryChange = function (ev) {
      var categoryId = ev.target.value;
      var newState = {
        category: categoryId
      };

      if (_this3.acl[categoryId].can_pin_threads < newState.weight) {
        newState.weight = 0;
      }

      if (!_this3.acl[categoryId].can_hide_threads) {
        newState.is_hidden = 0;
      }

      if (!_this3.acl[categoryId].can_close_threads) {
        newState.is_closed = false;
      }

      _this3.setState(newState);
    };

    _this3.state = {
      isLoading: false,

      title: "",
      category: null,
      categories: props.categories,
      weight: 0,
      is_hidden: 0,
      is_closed: false,

      validators: {
        title: [validators.required()]
      },

      errors: {}
    };

    _this3.isHiddenChoices = [{
      value: 0,
      icon: "visibility",
      label: "Όχι"
    }, {
      value: 1,
      icon: "visibility_off",
      label: "Ναι"
    }];

    _this3.isClosedChoices = [{
      value: false,
      icon: "lock_outline",
      label: "Όχι"
    }, {
      value: true,
      icon: "lock",
      label: "Ναι"
    }];

    _this3.acl = {};
    _this3.props.categories.forEach(function (category) {
      if (category.post) {
        if (!_this3.state.category) {
          _this3.state.category = category.id;
        }

        _this3.acl[category.id] = {
          can_pin_threads: category.post.pin,
          can_close_threads: category.post.close,
          can_hide_threads: category.post.hide
        };
      }
    });
    return _this3;
  }

  _createClass(ModerationForm, [{
    key: "clean",
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar2.default.error("Η φόρμα περιέχει λάθη!");
        this.setState({
          errors: this.validate()
        });
        return false;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax2.default.post(this.props.thread.api.posts.split, {
        title: this.state.title,
        category: this.state.category,
        weight: this.state.weight,
        is_hidden: this.state.is_hidden,
        is_closed: this.state.is_closed,
        posts: this.props.selection.map(function (post) {
          return post.id;
        })
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(apiResponse) {
      this.props.selection.forEach(function (selection) {
        _store2.default.dispatch(post.patch(selection, {
          isDeleted: true
        }));
      });

      _modal2.default.hide();

      _snackbar2.default.success("Οι επιλεγμένες προσφορές διαχωρίστηκαν σε καινούρια αγγελία");
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        this.setState({
          errors: Object.assign({}, this.state.errors, rejection)
        });
        _snackbar2.default.error("Η φόρμα περιέχει λάθη!");
      } else if (rejection.status === 403 && Array.isArray(rejection)) {
        _modal2.default.show(_react2.default.createElement(ErrorsModal, { errors: rejection }));
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: "getWeightChoices",
    value: function getWeightChoices() {
      var choices = [{
        value: 0,
        icon: "remove",
        label: "Μη προωθημένη"
      }, {
        value: 1,
        icon: "bookmark_border",
        label: "Προωθημένη σε αυτή την κατηγορία"
      }];

      if (this.acl[this.state.category].can_pin_threads === 2) {
        choices.push({
          value: 2,
          icon: "bookmark",
          label: "Προωθημένη σε όλη τη σελίδα"
        });
      }

      return choices;
    }
  }, {
    key: "renderWeightField",
    value: function renderWeightField() {
      if (this.acl[this.state.category].can_pin_threads) {
        return _react2.default.createElement(
          _formGroup2.default,
          {
            label: "Βαθμός προώθησης αγγελίας",
            "for": "id_weight",
            labelClass: "col-sm-4",
            controlClass: "col-sm-8"
          },
          _react2.default.createElement(_select2.default, {
            id: "id_weight",
            onChange: this.bindInput("weight"),
            value: this.state.weight,
            choices: this.getWeightChoices()
          })
        );
      } else {
        return null;
      }
    }
  }, {
    key: "renderHiddenField",
    value: function renderHiddenField() {
      if (this.acl[this.state.category].can_hide_threads) {
        return _react2.default.createElement(
          _formGroup2.default,
          {
            label: "Κρύψιμο αγγελίας",
            "for": "id_is_hidden",
            labelClass: "col-sm-4",
            controlClass: "col-sm-8"
          },
          _react2.default.createElement(_select2.default, {
            id: "id_is_closed",
            onChange: this.bindInput("is_hidden"),
            value: this.state.is_hidden,
            choices: this.isHiddenChoices
          })
        );
      } else {
        return null;
      }
    }
  }, {
    key: "renderClosedField",
    value: function renderClosedField() {
      if (this.acl[this.state.category].can_close_threads) {
        return _react2.default.createElement(
          _formGroup2.default,
          {
            label: "Κλείσιμο αγγελίας",
            "for": "id_is_closed",
            labelClass: "col-sm-4",
            controlClass: "col-sm-8"
          },
          _react2.default.createElement(_select2.default, {
            id: "id_is_closed",
            onChange: this.bindInput("is_closed"),
            value: this.state.is_closed,
            choices: this.isClosedChoices
          })
        );
      } else {
        return null;
      }
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        Modal,
        { className: "modal-dialog" },
        _react2.default.createElement(
          "form",
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            "div",
            { className: "modal-body" },
            _react2.default.createElement(
              _formGroup2.default,
              {
                label: "Τίτλος αγγελίας",
                "for": "id_title",
                labelClass: "col-sm-4",
                controlClass: "col-sm-8",
                validation: this.state.errors.title
              },
              _react2.default.createElement("input", {
                id: "id_title",
                className: "form-control",
                type: "text",
                onChange: this.bindInput("title"),
                value: this.state.title
              })
            ),
            _react2.default.createElement("div", { className: "clearfix" }),
            _react2.default.createElement(
              _formGroup2.default,
              {
                label: "Κατηγορία",
                "for": "id_category",
                labelClass: "col-sm-4",
                controlClass: "col-sm-8",
                validation: this.state.errors.category
              },
              _react2.default.createElement(_categorySelect2.default, {
                id: "id_category",
                onChange: this.onCategoryChange,
                value: this.state.category,
                choices: this.state.categories
              })
            ),
            _react2.default.createElement("div", { className: "clearfix" }),
            this.renderWeightField(),
            this.renderHiddenField(),
            this.renderClosedField()
          ),
          _react2.default.createElement(
            "div",
            { className: "modal-footer" },
            _react2.default.createElement(
              "button",
              {
                className: "btn btn-default",
                "data-dismiss": "modal",
                disabled: this.state.isLoading,
                type: "button"
              },
              "Ακύρωση"
            ),
            _react2.default.createElement(
              _button2.default,
              { className: "btn-primary", loading: this.state.isLoading },
              "Διαχωρισμός προσφορών"
            )
          )
        )
      );
    }
  }]);

  return ModerationForm;
}(_form2.default);

function Loader() {
  return _react2.default.createElement(
    Modal,
    { className: "modal-dialog" },
    _react2.default.createElement(_modalLoader2.default, null)
  );
}

function Error(props) {
  return _react2.default.createElement(
    Modal,
    { className: "modal-dialog modal-message" },
    _react2.default.createElement(
      "div",
      { className: "message-icon" },
      _react2.default.createElement(
        "span",
        { className: "material-icon" },
        "info_outline"
      )
    ),
    _react2.default.createElement(
      "div",
      { className: "message-body" },
      _react2.default.createElement(
        "p",
        { className: "lead" },
        "Δεν μπορείς να μετακινήσεις τις επιλεγμένες προσφορές αυτή τη στιγμή"
      ),
      _react2.default.createElement(
        "p",
        null,
        props.message
      ),
      _react2.default.createElement(
        "button",
        { className: "btn btn-default", "data-dismiss": "modal", type: "button" },
        "ΟΚ"
      )
    )
  );
}

function Modal(props) {
  return _react2.default.createElement(
    "div",
    { className: props.className, role: "document" },
    _react2.default.createElement(
      "div",
      { className: "modal-content" },
      _react2.default.createElement(
        "div",
        { className: "modal-header" },
        _react2.default.createElement(
          "button",
          {
            "aria-label": "Κλείσιμο",
            className: "close",
            "data-dismiss": "modal",
            type: "button"
          },
          _react2.default.createElement(
            "span",
            { "aria-hidden": "true" },
            "\xD7"
          )
        ),
        _react2.default.createElement(
          "h4",
          { className: "modal-title" },
          "Διαχωρισμός προσφορών σε καινούρια αγγελία"
        )
      ),
      props.children
    )
  );
}

},{"../../../../reducers/post":353,"../../../../services/ajax":365,"../../../../services/modal":371,"../../../../services/snackbar":376,"../../../../services/store":377,"../../../../utils/validators":393,"../../../button":8,"../../../category-select":21,"../../../form":56,"../../../form-group":55,"../../../modal-loader":61,"../../../select":210,"react":"react"}],226:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _merge = require("./merge");

var _merge2 = _interopRequireDefault(_merge);

var _move = require("./move");

var _move2 = _interopRequireDefault(_move);

var _thread = require("../../../../reducers/thread");

var thread = _interopRequireWildcard(_thread);

var _ajax = require("../../../../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require("../../../../services/modal");

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require("../../../../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require("../../../../services/store");

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.callApi = function (ops, successMessage) {
      _store2.default.dispatch(thread.busy());

      // by the chance update thread acl too
      ops.push({ op: "add", path: "acl", value: true });

      _ajax2.default.patch(_this.props.thread.api.index, ops).then(function (data) {
        _store2.default.dispatch(thread.update(data));
        _store2.default.dispatch(thread.release());
        _snackbar2.default.success(successMessage);
      }, function (rejection) {
        _store2.default.dispatch(thread.release());
        if (rejection.status === 400) {
          _snackbar2.default.error(rejection.detail[0]);
        } else {
          _snackbar2.default.apiError(rejection);
        }
      });
    }, _this.pinGlobally = function () {
      _this.callApi([{
        op: "replace",
        path: "weight",
        value: 2
      }], "Η αγγελία προωθείται σε όλη τη σελίδα");
    }, _this.pinLocally = function () {
      _this.callApi([{
        op: "replace",
        path: "weight",
        value: 1
      }], "Η αγγελία προωθείται σε αυτή την κατηγορία");
    }, _this.unpin = function () {
      _this.callApi([{
        op: "replace",
        path: "weight",
        value: 0
      }], "Η αγγελία δεν προωθείται πλέον");
    }, _this.approve = function () {
      _this.callApi([{
        op: "replace",
        path: "is-unapproved",
        value: false
      }], "Η αγγελία εγκρίθηκε για δημοσίευση");
    }, _this.open = function () {
      _this.callApi([{
        op: "replace",
        path: "is-closed",
        value: false
      }], "Η αγγελία άνοιξε για καινούριες προσφορές");
    }, _this.close = function () {
      _this.callApi([{
        op: "replace",
        path: "is-closed",
        value: true
      }], "Η αγγελία έκλεισε για καινούριες προσφορές");
    }, _this.unhide = function () {
      _this.callApi([{
        op: "replace",
        path: "is-hidden",
        value: false
      }], "Η αγγελία θα εμφανίζεται τώρα");
    }, _this.hide = function () {
      _this.callApi([{
        op: "replace",
        path: "is-hidden",
        value: true
      }], "Η αγγελία θα είναι κρυμμένη από εδώ και πέρα");
    }, _this.move = function () {
      _modal2.default.show(_react2.default.createElement(_move2.default, { posts: _this.props.posts, thread: _this.props.thread }));
    }, _this.merge = function () {
      _modal2.default.show(_react2.default.createElement(_merge2.default, { thread: _this.props.thread }));
    }, _this.delete = function () {
      if (!confirm("Είσαι σίγουρος ότι θέλεις να διαγράψεις αυτή την αγγελία;")) {
        return;
      }

      _store2.default.dispatch(thread.busy());

      _ajax2.default.delete(_this.props.thread.api.index).then(function (data) {
        _snackbar2.default.success("Η αγγελία διαγράφηκε επιτυχώς");
        window.location = _this.props.thread.category.url.index;
      }, function (rejection) {
        _store2.default.dispatch(thread.release());
        _snackbar2.default.apiError(rejection);
      });
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: "getPinGloballyButton",
    value: function getPinGloballyButton() {
      if (this.props.thread.weight === 2) return null;
      if (!this.props.thread.acl.can_pin_globally) return null;

      return _react2.default.createElement(
        "li",
        null,
        _react2.default.createElement(
          "button",
          {
            className: "btn btn-link",
            onClick: this.pinGlobally,
            type: "button"
          },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "bookmark"
          ),
          "Προώθηση σε όλη τη σελίδα"
        )
      );
    }
  }, {
    key: "getPinLocallyButton",
    value: function getPinLocallyButton() {
      if (this.props.thread.weight === 1) return null;
      if (!this.props.thread.acl.can_pin) return null;

      return _react2.default.createElement(
        "li",
        null,
        _react2.default.createElement(
          "button",
          {
            className: "btn btn-link",
            onClick: this.pinLocally,
            type: "button"
          },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "bookmark_border"
          ),
          "Προώθηση σε αυτή την κατηγορία"
        )
      );
    }
  }, {
    key: "getUnpinButton",
    value: function getUnpinButton() {
      if (this.props.thread.weight === 0) return null;
      if (!this.props.thread.acl.can_pin) return null;

      return _react2.default.createElement(
        "li",
        null,
        _react2.default.createElement(
          "button",
          { className: "btn btn-link", onClick: this.unpin, type: "button" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "panorama_fish_eye"
          ),
          "Τέλος προώθησης"
        )
      );
    }
  }, {
    key: "getMoveButton",
    value: function getMoveButton() {
      if (!this.props.thread.acl.can_move) return null;

      return _react2.default.createElement(
        "li",
        null,
        _react2.default.createElement(
          "button",
          { className: "btn btn-link", onClick: this.move, type: "button" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "arrow_forward"
          ),
          "Μετακίνηση"
        )
      );
    }
  }, {
    key: "getMergeButton",
    value: function getMergeButton() {
      if (!this.props.thread.acl.can_merge) return null;

      return _react2.default.createElement(
        "li",
        null,
        _react2.default.createElement(
          "button",
          { className: "btn btn-link", onClick: this.merge, type: "button" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "call_merge"
          ),
          "Συγχώνευση"
        )
      );
    }
  }, {
    key: "getApproveButton",
    value: function getApproveButton() {
      if (!this.props.thread.is_unapproved) return null;
      if (!this.props.thread.acl.can_approve) return null;

      return _react2.default.createElement(
        "li",
        null,
        _react2.default.createElement(
          "button",
          { className: "btn btn-link", onClick: this.approve, type: "button" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "done"
          ),
          "Έγκριση"
        )
      );
    }
  }, {
    key: "getOpenButton",
    value: function getOpenButton() {
      if (!this.props.thread.is_closed) return null;
      if (!this.props.thread.acl.can_close) return null;

      return _react2.default.createElement(
        "li",
        null,
        _react2.default.createElement(
          "button",
          { className: "btn btn-link", onClick: this.open, type: "button" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "lock_open"
          ),
          "Άνοιγμα για προσφορές"
        )
      );
    }
  }, {
    key: "getCloseButton",
    value: function getCloseButton() {
      if (this.props.thread.is_closed) return null;
      if (!this.props.thread.acl.can_close) return null;

      return _react2.default.createElement(
        "li",
        null,
        _react2.default.createElement(
          "button",
          { className: "btn btn-link", onClick: this.close, type: "button" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "lock_outline"
          ),
          "Κλείσιμο για προσφορές"
        )
      );
    }
  }, {
    key: "getUnhideButton",
    value: function getUnhideButton() {
      if (!this.props.thread.is_hidden) return null;
      if (!this.props.thread.acl.can_unhide) return null;

      return _react2.default.createElement(
        "li",
        null,
        _react2.default.createElement(
          "button",
          { className: "btn btn-link", onClick: this.unhide, type: "button" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "visibility"
          ),
          "Εμφάνιση"
        )
      );
    }
  }, {
    key: "getHideButton",
    value: function getHideButton() {
      if (this.props.thread.is_hidden) return null;
      if (!this.props.thread.acl.can_hide) return null;

      return _react2.default.createElement(
        "li",
        null,
        _react2.default.createElement(
          "button",
          { className: "btn btn-link", onClick: this.hide, type: "button" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "visibility_off"
          ),
          "Κρύψιμο"
        )
      );
    }
  }, {
    key: "getDeleteButton",
    value: function getDeleteButton() {
      if (!this.props.thread.acl.can_delete) return null;

      return _react2.default.createElement(
        "li",
        null,
        _react2.default.createElement(
          "button",
          { className: "btn btn-link", onClick: this.delete, type: "button" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "clear"
          ),
          "Διαγραφή"
        )
      );
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "ul",
        { className: "dropdown-menu dropdown-menu-right stick-to-bottom" },
        this.getPinGloballyButton(),
        this.getPinLocallyButton(),
        this.getUnpinButton(),
        this.getMoveButton(),
        this.getMergeButton(),
        this.getApproveButton(),
        this.getOpenButton(),
        this.getCloseButton(),
        this.getUnhideButton(),
        this.getHideButton(),
        this.getDeleteButton()
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../../reducers/thread":360,"../../../../services/ajax":365,"../../../../services/modal":371,"../../../../services/snackbar":376,"../../../../services/store":377,"./merge":229,"./move":230,"react":"react"}],227:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.isModerationVisible = exports.ModerationControls = undefined;

var _controls = require("./controls");

var _controls2 = _interopRequireDefault(_controls);

var _isVisible = require("./is-visible");

var _isVisible2 = _interopRequireDefault(_isVisible);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.ModerationControls = _controls2.default;
exports.isModerationVisible = _isVisible2.default;

},{"./controls":226,"./is-visible":228}],228:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (thread) {
  return !!(thread.acl.can_approve && thread.is_unapproved || thread.acl.can_close || thread.acl.can_delete || thread.acl.can_hide || thread.acl.can_move || thread.acl.can_merge || thread.acl.can_pin || thread.acl.can_pin_globally && thread.weight !== 2 || thread.acl.can_unhide && thread.is_hidden);
};

},{}],229:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.ModalHeader = ModalHeader;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _form = require("../../../form");

var _form2 = _interopRequireDefault(_form);

var _formGroup = require("../../../form-group");

var _formGroup2 = _interopRequireDefault(_formGroup);

var _mergeConflict = require("../../../merge-conflict");

var _mergeConflict2 = _interopRequireDefault(_mergeConflict);

var _thread = require("../../../../reducers/thread");

var thread = _interopRequireWildcard(_thread);

var _ajax = require("../../../../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require("../../../../services/modal");

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require("../../../../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require("../../../../services/store");

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.handleSuccess = function (success) {
      _this.handleSuccessUnmounted(success);

      // keep form loading
      _this.setState({
        isLoading: true
      });
    };

    _this.handleSuccessUnmounted = function (success) {
      _snackbar2.default.success("Η αγγελίες έχουν συγχωνευθεί");
      window.location = success.url;
    };

    _this.handleError = function (rejection) {
      _store2.default.dispatch(thread.release());

      if (rejection.status === 400) {
        if (rejection.best_answers || rejection.polls) {
          _modal2.default.show(_react2.default.createElement(_mergeConflict2.default, {
            api: _this.props.thread.api.merge,
            bestAnswers: rejection.best_answers,
            data: { other_thread: _this.state.url },
            polls: rejection.polls,
            onError: _this.handleError,
            onSuccess: _this.handleSuccessUnmounted
          }));
        } else if (rejection.best_answer) {
          _snackbar2.default.error(rejection.best_answer[0]);
        } else if (rejection.poll) {
          _snackbar2.default.error(rejection.poll[0]);
        } else {
          _snackbar2.default.error(rejection.detail);
        }
      } else {
        _snackbar2.default.apiError(rejection);
      }
    };

    _this.onUrlChange = function (event) {
      _this.changeValue("url", event.target.value);
    };

    _this.state = {
      isLoading: false,

      url: "",

      validators: {
        url: []
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_class, [{
    key: "clean",
    value: function clean() {
      if (!this.state.url.trim().length) {
        _snackbar2.default.error("Πρέπει να βάλεις το σύνδεσμο για την άλλη αγγελία!");
        return false;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      // freeze thread
      _store2.default.dispatch(thread.busy());

      return _ajax2.default.post(this.props.thread.api.merge, {
        other_thread: this.state.url
      });
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: "modal-dialog", role: "document" },
        _react2.default.createElement(
          "form",
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            "div",
            { className: "modal-content" },
            _react2.default.createElement(ModalHeader, null),
            _react2.default.createElement(
              "div",
              { className: "modal-body" },
              _react2.default.createElement(
                _formGroup2.default,
                {
                  "for": "id_url",
                  label: "Σύνδεσμος για την αγγελία που θες να συγχωνεύσεις",
                  help_text: "Θα διαγραφεί η τωρινή αγγελία και θα μεταφερθούν τα περιεχόμενά της σε αυτή στο σύνδεσμο"
                },
                _react2.default.createElement("input", {
                  className: "form-control",
                  disabled: this.state.isLoading || this.props.thread.isBusy,
                  id: "id_url",
                  onChange: this.onUrlChange,
                  value: this.state.url
                })
              )
            ),
            _react2.default.createElement(
              "div",
              { className: "modal-footer" },
              _react2.default.createElement(
                "button",
                {
                  className: "btn btn-default",
                  "data-dismiss": "modal",
                  disabled: this.state.isLoading,
                  type: "button"
                },
                "Ακύρωση"
              ),
              _react2.default.createElement(
                "button",
                {
                  className: "btn btn-primary",
                  loading: this.state.isLoading || this.props.thread.isBusy
                },
                "Συγχώνευση αγγελίας"
              )
            )
          )
        )
      );
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;
function ModalHeader(props) {
  return _react2.default.createElement(
    "div",
    { className: "modal-header" },
    _react2.default.createElement(
      "button",
      {
        "aria-label": "Κλείσιμο",
        className: "close",
        "data-dismiss": "modal",
        type: "button"
      },
      _react2.default.createElement(
        "span",
        { "aria-hidden": "true" },
        "\xD7"
      )
    ),
    _react2.default.createElement(
      "h4",
      { className: "modal-title" },
      "}",
      "Συγχώνευση αγγελίας"
    )
  );
}

},{"../../../../reducers/thread":360,"../../../../services/ajax":365,"../../../../services/modal":371,"../../../../services/snackbar":376,"../../../../services/store":377,"../../../form":56,"../../../form-group":55,"../../../merge-conflict":59,"react":"react"}],230:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.ModalHeader = ModalHeader;
exports.ModalLoading = ModalLoading;
exports.ModalMessage = ModalMessage;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _form = require("../../../form");

var _form2 = _interopRequireDefault(_form);

var _formGroup = require("../../../form-group");

var _formGroup2 = _interopRequireDefault(_formGroup);

var _categorySelect = require("../../../category-select");

var _categorySelect2 = _interopRequireDefault(_categorySelect);

var _modalLoader = require("../../../modal-loader");

var _modalLoader2 = _interopRequireDefault(_modalLoader);

var _posts = require("../../../../reducers/posts");

var posts = _interopRequireWildcard(_posts);

var _thread = require("../../../../reducers/thread");

var thread = _interopRequireWildcard(_thread);

var _ = require("../../../..");

var _2 = _interopRequireDefault(_);

var _ajax = require("../../../../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require("../../../../services/modal");

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require("../../../../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require("../../../../services/store");

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onCategoryChange = function (event) {
      _this.changeValue("category", event.target.value);
    };

    _this.state = {
      isReady: false,
      isLoading: false,
      isError: false,

      category: null,
      categories: []
    };
    return _this;
  }

  _createClass(_class, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      _ajax2.default.get(_2.default.get("THREAD_EDITOR_API")).then(function (data) {
        var category = null;

        // hydrate categories, extract posting options
        var categories = data.map(function (item) {
          // pick first category that allows posting and if it may, override it with initial one
          if (item.post !== false && !category) {
            category = item.id;
          }

          return Object.assign(item, {
            disabled: item.post === false,
            label: item.name,
            value: item.id
          });
        });

        _this2.setState({
          isReady: true,

          category: category,
          categories: categories
        });
      }, function (rejection) {
        _this2.setState({
          isError: rejection.detail
        });
      });
    }
  }, {
    key: "send",
    value: function send() {
      // freeze thread
      _store2.default.dispatch(thread.busy());

      return _ajax2.default.patch(this.props.thread.api.index, [{ op: "replace", path: "category", value: this.state.category }]);
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess() {
      // refresh thread and displayed posts
      _ajax2.default.get(this.props.thread.api.posts.index, { page: this.props.posts.page }).then(function (data) {
        _store2.default.dispatch(thread.replace(data));
        _store2.default.dispatch(posts.load(data.post_set));
        _store2.default.dispatch(thread.release());

        _snackbar2.default.success("Η αγγελία μετακινήθηκε");
        _modal2.default.hide();
      }, function (rejection) {
        _store2.default.dispatch(thread.release());
        _snackbar2.default.apiError(rejection);
      });
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        _snackbar2.default.error(rejection.detail[0]);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.isReady) {
        return _react2.default.createElement(
          "div",
          { className: "modal-dialog", role: "document" },
          _react2.default.createElement(
            "form",
            { onSubmit: this.handleSubmit },
            _react2.default.createElement(
              "div",
              { className: "modal-content" },
              _react2.default.createElement(ModalHeader, null),
              _react2.default.createElement(
                "div",
                { className: "modal-body" },
                _react2.default.createElement(
                  _formGroup2.default,
                  { "for": "id_category", label: "Νέα κατηγορία" },
                  _react2.default.createElement(_categorySelect2.default, {
                    choices: this.state.categories,
                    disabled: this.state.isLoading || this.props.thread.isBusy,
                    id: "id_category",
                    onChange: this.onCategoryChange,
                    value: this.state.category
                  })
                )
              ),
              _react2.default.createElement(
                "div",
                { className: "modal-footer" },
                _react2.default.createElement(
                  "button",
                  {
                    className: "btn btn-default",
                    "data-dismiss": "modal",
                    disabled: this.state.isLoading,
                    type: "button"
                  },
                  "Ακύρωση"
                ),
                _react2.default.createElement(
                  "button",
                  {
                    className: "btn btn-primary",
                    loading: this.state.isLoading || this.props.thread.isBusy
                  },
                  "Μετακίνηση αγγελίας"
                )
              )
            )
          )
        );
      } else if (this.state.isError) {
        return _react2.default.createElement(ModalMessage, { message: this.state.isError });
      } else {
        return _react2.default.createElement(ModalLoading, null);
      }
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;
function ModalHeader(props) {
  return _react2.default.createElement(
    "div",
    { className: "modal-header" },
    _react2.default.createElement(
      "button",
      {
        "aria-label": "Κλείσιμο",
        className: "close",
        "data-dismiss": "modal",
        type: "button"
      },
      _react2.default.createElement(
        "span",
        { "aria-hidden": "true" },
        "\xD7"
      )
    ),
    _react2.default.createElement(
      "h4",
      { className: "modal-title" },
      "Μετακίνηση αγγελίας"
    )
  );
}

function ModalLoading(props) {
  return _react2.default.createElement(
    "div",
    { className: "modal-dialog", role: "document" },
    _react2.default.createElement(
      "div",
      { className: "modal-content" },
      _react2.default.createElement(ModalHeader, null),
      _react2.default.createElement(_modalLoader2.default, null)
    )
  );
}

function ModalMessage(props) {
  return _react2.default.createElement(
    "div",
    { className: "modal-dialog modal-message", role: "document" },
    _react2.default.createElement(
      "div",
      { className: "modal-content" },
      _react2.default.createElement(ModalHeader, null),
      _react2.default.createElement(
        "div",
        { className: "message-icon" },
        _react2.default.createElement(
          "span",
          { className: "material-icon" },
          "info_outline"
        )
      ),
      _react2.default.createElement(
        "div",
        { className: "message-body" },
        _react2.default.createElement(
          "p",
          { className: "lead" },
          "Δεν μπορείς να μετακινήσεις την αγγελία αυτή τη στιγμή"
        ),
        _react2.default.createElement(
          "p",
          null,
          props.message
        ),
        _react2.default.createElement(
          "button",
          {
            className: "btn btn-default",
            "data-dismiss": "modal",
            type: "button"
          },
          "ΟΚ"
        )
      )
    )
  );
}

},{"../../../..":302,"../../../../reducers/posts":354,"../../../../reducers/thread":360,"../../../../services/ajax":365,"../../../../services/modal":371,"../../../../services/snackbar":376,"../../../../services/store":377,"../../../category-select":21,"../../../form":56,"../../../form-group":55,"../../../modal-loader":61,"react":"react"}],231:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    "nav",
    { className: "misago-pagination pull-left" },
    _react2.default.createElement(Pager, props),
    _react2.default.createElement(More, { more: props.posts.more })
  );
};

exports.Pager = Pager;
exports.FirstPage = FirstPage;
exports.PreviousPage = PreviousPage;
exports.NextPage = NextPage;
exports.LastPage = LastPage;
exports.More = More;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require("react-router");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function Pager(props) {
  return _react2.default.createElement(
    "div",
    { className: "row row-paginator" },
    _react2.default.createElement(
      "div",
      { className: "col-xs-3" },
      _react2.default.createElement(FirstPage, props)
    ),
    _react2.default.createElement(
      "div",
      { className: "col-xs-3" },
      _react2.default.createElement(PreviousPage, props)
    ),
    _react2.default.createElement(
      "div",
      { className: "col-xs-3" },
      _react2.default.createElement(NextPage, props)
    ),
    _react2.default.createElement(
      "div",
      { className: "col-xs-3" },
      _react2.default.createElement(LastPage, props)
    )
  );
}

function FirstPage(props) {
  if (props.posts.isLoaded && props.posts.first) {
    return _react2.default.createElement(
      _reactRouter.Link,
      {
        className: "btn btn-default btn-block btn-outline btn-icon",
        to: props.thread.url.index,
        title: "Πρώτη σελίδα"
      },
      _react2.default.createElement(
        "span",
        { className: "material-icon" },
        "first_page"
      )
    );
  } else {
    return _react2.default.createElement(
      "span",
      {
        className: "btn btn-default btn-block btn-outline btn-icon disabled",
        title: "Πρώτη σελίδα"
      },
      _react2.default.createElement(
        "span",
        { className: "material-icon" },
        "first_page"
      )
    );
  }
}

function PreviousPage(props) {
  if (props.posts.isLoaded && props.posts.page > 1) {
    var previousUrl = "";
    if (props.posts.previous) {
      previousUrl = props.posts.previous + "/";
    }

    return _react2.default.createElement(
      _reactRouter.Link,
      {
        className: "btn btn-default btn-block btn-outline btn-icon",
        to: props.thread.url.index + previousUrl,
        title: "Προηγούμενη σελίδα"
      },
      _react2.default.createElement(
        "span",
        { className: "material-icon" },
        "chevron_left"
      )
    );
  } else {
    return _react2.default.createElement(
      "span",
      {
        className: "btn btn-default btn-block btn-outline btn-icon disabled",
        title: "Προηγούμενη σελίδα"
      },
      _react2.default.createElement(
        "span",
        { className: "material-icon" },
        "chevron_left"
      )
    );
  }
}

function NextPage(props) {
  if (props.posts.isLoaded && props.posts.more) {
    var nextUrl = "";
    if (props.posts.next) {
      nextUrl = props.posts.next + "/";
    }

    return _react2.default.createElement(
      _reactRouter.Link,
      {
        className: "btn btn-default btn-block btn-outline btn-icon",
        to: props.thread.url.index + nextUrl,
        title: "Επόμενη σελίδα"
      },
      _react2.default.createElement(
        "span",
        { className: "material-icon" },
        "chevron_right"
      )
    );
  } else {
    return _react2.default.createElement(
      "span",
      {
        className: "btn btn-default btn-block btn-outline btn-icon disabled",
        title: "Επόμενη σελίδα"
      },
      _react2.default.createElement(
        "span",
        { className: "material-icon" },
        "chevron_right"
      )
    );
  }
}

function LastPage(props) {
  if (props.posts.isLoaded && props.posts.last) {
    return _react2.default.createElement(
      _reactRouter.Link,
      {
        className: "btn btn-default btn-block btn-outline btn-icon",
        to: props.thread.url.index + props.posts.last + "/",
        title: "Τελευταία σελίδα"
      },
      _react2.default.createElement(
        "span",
        { className: "material-icon" },
        "last_page"
      )
    );
  } else {
    return _react2.default.createElement(
      "span",
      {
        className: "btn btn-default btn-block btn-outline btn-icon disabled",
        title: "Τελευταία σελίδα"
      },
      _react2.default.createElement(
        "span",
        { className: "material-icon" },
        "last_page"
      )
    );
  }
}

function More(props) {
  var message = null;
  if (props.more) {
    message = "Υπάρχουν άλλες %(more)s προσφορές για αυτή την αγγελία.";
    message = interpolate(message, { more: props.more }, true);
  } else {
    message = "Δεν υπάρχουν άλλες προσφορές για αυτή την αγγελία.";
  }

  return _react2.default.createElement(
    "p",
    null,
    message
  );
}

},{"react":"react","react-router":"react-router"}],232:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    "button",
    {
      className: props.className || "btn btn-primary btn-outline",
      onClick: props.onClick,
      type: "button"
    },
    _react2.default.createElement(
      "span",
      { className: "material-icon" },
      "chat"
    ),
    "Προσφορά"
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],233:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.select = select;
exports.paths = paths;

var _reactRedux = require("react-redux");

var _route = require("./route");

var _route2 = _interopRequireDefault(_route);

var _index = require("../../index");

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function select(store) {
  return {
    participants: store.participants,
    poll: store.poll,
    posts: store.posts,
    thread: store.thread,
    tick: store.tick.tick,
    user: store.auth.user
  };
}

function paths() {
  var thread = _index2.default.get("THREAD");
  var basePath = thread.url.index.replace(thread.slug + "-" + thread.pk, ":slug");

  return [{
    path: basePath,
    component: (0, _reactRedux.connect)(select)(_route2.default)
  }, {
    path: basePath + ":page/",
    component: (0, _reactRedux.connect)(select)(_route2.default)
  }];
}

},{"../../index":302,"./route":234,"react-redux":"react-redux"}],234:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _participants = require("../participants");

var _participants2 = _interopRequireDefault(_participants);

var _poll = require("../poll");

var _postsList = require("../posts-list");

var _postsList2 = _interopRequireDefault(_postsList);

var _header = require("./header");

var _header2 = _interopRequireDefault(_header);

var _toolbarTop = require("./toolbar-top");

var _toolbarTop2 = _interopRequireDefault(_toolbarTop);

var _toolbarBottom = require("./toolbar-bottom");

var _toolbarBottom2 = _interopRequireDefault(_toolbarBottom);

var _participants3 = require("../../reducers/participants");

var participants = _interopRequireWildcard(_participants3);

var _poll2 = require("../../reducers/poll");

var poll = _interopRequireWildcard(_poll2);

var _posts = require("../../reducers/posts");

var posts = _interopRequireWildcard(_posts);

var _thread = require("../../reducers/thread");

var thread = _interopRequireWildcard(_thread);

var _ajax = require("../../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _polls = require("../../services/polls");

var _polls2 = _interopRequireDefault(_polls);

var _snackbar = require("../../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

var _posting = require("../../services/posting");

var _posting2 = _interopRequireDefault(_posting);

var _store = require("../../services/store");

var _store2 = _interopRequireDefault(_store);

var _pageTitle = require("../../services/page-title");

var _pageTitle2 = _interopRequireDefault(_pageTitle);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.update = function (data) {
      _store2.default.dispatch(thread.replace(data));
      _store2.default.dispatch(posts.load(data.post_set));

      if (data.participants) {
        _store2.default.dispatch(participants.replace(data.participants));
      }

      if (data.poll) {
        _store2.default.dispatch(poll.replace(data.poll));
      }

      _this.setPageTitle();
    }, _this.openReplyForm = function () {
      _posting2.default.open({
        mode: "REPLY",

        config: _this.props.thread.api.editor,
        submit: _this.props.thread.api.posts.index
      });
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      if (this.shouldFetchData()) {
        this.fetchData();
        this.setPageTitle();
      }

      this.startPollingApi();
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate() {
      if (this.shouldFetchData()) {
        this.fetchData();
        this.startPollingApi();
        this.setPageTitle();
      }
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this.stopPollingApi();
    }
  }, {
    key: "shouldFetchData",
    value: function shouldFetchData() {
      if (this.props.posts.isLoaded) {
        var page = (this.props.params.page || 1) * 1;
        return page != this.props.posts.page;
      } else {
        return false;
      }
    }
  }, {
    key: "fetchData",
    value: function fetchData() {
      var _this2 = this;

      _store2.default.dispatch(posts.unload());

      _ajax2.default.get(this.props.thread.api.posts.index, {
        page: this.props.params.page || 1
      }, "posts").then(function (data) {
        _this2.update(data);
      }, function (rejection) {
        _snackbar2.default.apiError(rejection);
      });
    }
  }, {
    key: "startPollingApi",
    value: function startPollingApi() {
      _polls2.default.start({
        poll: "thread-posts",

        url: this.props.thread.api.posts.index,
        data: {
          page: this.props.params.page || 1
        },
        update: this.update,

        frequency: 120 * 1000,
        delayed: true
      });
    }
  }, {
    key: "stopPollingApi",
    value: function stopPollingApi() {
      _polls2.default.stop("thread-posts");
    }
  }, {
    key: "setPageTitle",
    value: function setPageTitle() {
      _pageTitle2.default.set({
        title: this.props.thread.title,
        parent: this.props.thread.category.name,
        page: (this.props.params.page || 1) * 1
      });
    }
  }, {
    key: "render",
    value: function render() {
      var className = "page page-thread";
      if (this.props.thread.category.css_class) {
        className += " page-thread-" + this.props.thread.category.css_class;
      }

      return _react2.default.createElement(
        "div",
        { className: className },
        _react2.default.createElement(
          "div",
          { className: "page-header-bg" },
          _react2.default.createElement(_header2.default, this.props)
        ),
        _react2.default.createElement(
          "div",
          { className: "container" },
          _react2.default.createElement(_toolbarTop2.default, _extends({ openReplyForm: this.openReplyForm }, this.props)),
          _react2.default.createElement(_poll.Poll, {
            poll: this.props.poll,
            thread: this.props.thread,
            user: this.props.user
          }),
          _react2.default.createElement(_participants2.default, {
            participants: this.props.participants,
            thread: this.props.thread,
            user: this.props.user
          }),
          _react2.default.createElement(_postsList2.default, this.props),
          _react2.default.createElement(_toolbarBottom2.default, _extends({ openReplyForm: this.openReplyForm }, this.props))
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../reducers/participants":351,"../../reducers/poll":352,"../../reducers/posts":354,"../../reducers/thread":360,"../../services/ajax":365,"../../services/page-title":373,"../../services/polls":374,"../../services/posting":375,"../../services/snackbar":376,"../../services/store":377,"../participants":101,"../poll":106,"../posts-list":151,"./header":218,"./toolbar-bottom":236,"./toolbar-top":237,"react":"react"}],235:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Email = exports.Enable = exports.Disable = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = function (props) {
  if (!props.user.id) return null;

  return _react2.default.createElement(
    "div",
    { className: props.className },
    _react2.default.createElement(
      "button",
      {
        "aria-expanded": "true",
        "aria-haspopup": "true",
        className: "btn btn-default dropdown-toggle btn-block btn-outline",
        "data-toggle": "dropdown",
        type: "button"
      },
      _react2.default.createElement(
        "span",
        { className: "material-icon" },
        getIcon(props.thread.subscription)
      ),
      getLabel(props.thread.subscription)
    ),
    _react2.default.createElement(Dropdown, props)
  );
};

exports.getIcon = getIcon;
exports.getLabel = getLabel;
exports.Dropdown = Dropdown;
exports.update = update;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _thread = require("../../reducers/thread");

var actions = _interopRequireWildcard(_thread);

var _ajax = require("../../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require("../../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require("../../services/store");

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

function getIcon(subscription) {
  if (subscription === true) {
    return "star";
  } else if (subscription === false) {
    return "star_half";
  } else {
    return "star_border";
  }
}

function getLabel(subscription) {
  if (subscription === true) {
    return "Ειδοποιήσεις μέσω email";
  } else if (subscription === false) {
    return "Ενεργές ειδοποιήσεις";
  } else {
    return "Απενεργοποιημένες ειδοποιήσεις";
  }
}

function Dropdown(props) {
  return _react2.default.createElement(
    "ul",
    { className: props.dropdownClassName || "dropdown-menu stick-to-bottom" },
    _react2.default.createElement(Disable, props),
    _react2.default.createElement(Enable, props),
    _react2.default.createElement(Email, props)
  );
}

var Disable = exports.Disable = function (_React$Component) {
  _inherits(Disable, _React$Component);

  function Disable() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, Disable);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Disable.__proto__ || Object.getPrototypeOf(Disable)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      if (_this.props.thread.subscription === null) {
        return;
      }

      update(_this.props.thread, null, "unsubscribe");
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(Disable, [{
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "li",
        null,
        _react2.default.createElement(
          "button",
          { className: "btn btn-link", onClick: this.onClick },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "star_border"
          ),
          "Απεγγραφή από ειδοποιήσεις"
        )
      );
    }
  }]);

  return Disable;
}(_react2.default.Component);

var Enable = exports.Enable = function (_React$Component2) {
  _inherits(Enable, _React$Component2);

  function Enable() {
    var _ref2;

    var _temp2, _this2, _ret2;

    _classCallCheck(this, Enable);

    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    return _ret2 = (_temp2 = (_this2 = _possibleConstructorReturn(this, (_ref2 = Enable.__proto__ || Object.getPrototypeOf(Enable)).call.apply(_ref2, [this].concat(args))), _this2), _this2.onClick = function () {
      if (_this2.props.thread.subscription === false) {
        return;
      }

      update(_this2.props.thread, false, "notify");
    }, _temp2), _possibleConstructorReturn(_this2, _ret2);
  }

  _createClass(Enable, [{
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "li",
        null,
        _react2.default.createElement(
          "button",
          { className: "btn btn-link", onClick: this.onClick },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "star_half"
          ),
          "Εγγραφή σε ειδοποιήσεις στη σελίδα"
        )
      );
    }
  }]);

  return Enable;
}(_react2.default.Component);

var Email = exports.Email = function (_React$Component3) {
  _inherits(Email, _React$Component3);

  function Email() {
    var _ref3;

    var _temp3, _this3, _ret3;

    _classCallCheck(this, Email);

    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    return _ret3 = (_temp3 = (_this3 = _possibleConstructorReturn(this, (_ref3 = Email.__proto__ || Object.getPrototypeOf(Email)).call.apply(_ref3, [this].concat(args))), _this3), _this3.onClick = function () {
      if (_this3.props.thread.subscription === true) {
        return;
      }

      update(_this3.props.thread, true, "email");
    }, _temp3), _possibleConstructorReturn(_this3, _ret3);
  }

  _createClass(Email, [{
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "li",
        null,
        _react2.default.createElement(
          "button",
          { className: "btn btn-link", onClick: this.onClick },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "star"
          ),
          "Εγγραφή σε ειδοποιήσεις μέσω email"
        )
      );
    }
  }]);

  return Email;
}(_react2.default.Component);

function update(thread, newState, value) {
  var oldState = {
    subscription: thread.subscription
  };

  _store2.default.dispatch(actions.update({
    subscription: newState
  }));

  _ajax2.default.patch(thread.api.index, [{ op: "replace", path: "subscription", value: value }]).then(function (finalState) {
    _store2.default.dispatch(actions.update(finalState));
  }, function (rejection) {
    if (rejection.status === 400) {
      _snackbar2.default.error(rejection.detail[0]);
    } else {
      _snackbar2.default.apiError(rejection);
    }

    _store2.default.dispatch(actions.update(oldState));
  });
}

},{"../../reducers/thread":360,"../../services/ajax":365,"../../services/snackbar":376,"../../services/store":377,"react":"react"}],236:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.default = function (props) {
  return _react2.default.createElement(
    "div",
    { className: "row row-toolbar" },
    _react2.default.createElement(
      "div",
      { className: "col-xs-12 text-center visible-xs-block" },
      _react2.default.createElement(_paginator.More, { more: props.posts.more }),
      _react2.default.createElement("div", { className: "toolbar-vertical-spacer" })
    ),
    _react2.default.createElement(
      "div",
      { className: "col-md-7" },
      _react2.default.createElement(
        "div",
        { className: "row" },
        _react2.default.createElement(
          "div",
          { className: "col-sm-4 col-md-5" },
          _react2.default.createElement(_paginator.Pager, props)
        ),
        _react2.default.createElement(
          "div",
          { className: "col-sm-8 col-md-7 hidden-xs" },
          _react2.default.createElement(_paginator.More, { more: props.posts.more })
        )
      )
    ),
    _react2.default.createElement(
      Options,
      { visible: !!props.user.id },
      _react2.default.createElement("div", { className: "toolbar-vertical-spacer hidden-md hidden-lg" }),
      _react2.default.createElement(
        "div",
        { className: "row" },
        _react2.default.createElement(Spacer, props),
        _react2.default.createElement(Moderation, props),
        _react2.default.createElement(Subscription, props),
        _react2.default.createElement(Reply, { thread: props.thread, onClick: props.openReplyForm })
      )
    )
  );
};

exports.Options = Options;
exports.Moderation = Moderation;
exports.Subscription = Subscription;
exports.Reply = Reply;
exports.Spacer = Spacer;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _paginator = require("./paginator");

var _posts = require("./moderation/posts");

var _posts2 = _interopRequireDefault(_posts);

var _replyButton = require("./reply-button");

var _replyButton2 = _interopRequireDefault(_replyButton);

var _subscription = require("./subscription");

var _subscription2 = _interopRequireDefault(_subscription);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function Options(props) {
  if (!props.visible) return null;

  return _react2.default.createElement(
    "div",
    { className: "col-md-5" },
    props.children
  );
}

function Moderation(props) {
  if (!props.user.id) return null;

  return _react2.default.createElement(
    "div",
    { className: "col-sm-4 hidden-xs" },
    _react2.default.createElement(_posts2.default, props)
  );
}

function Subscription(props) {
  var xsClass = "col-xs-6";
  if (!props.thread.acl.can_reply) {
    xsClass = "col-xs-12";
  }

  return _react2.default.createElement(
    "div",
    { className: xsClass + " col-sm-4" },
    _react2.default.createElement(_subscription2.default, _extends({
      btnClassName: "btn-block",
      className: "dropup"
    }, props))
  );
}

function Reply(props) {
  if (!props.thread.acl.can_reply) return null;

  return _react2.default.createElement(
    "div",
    { className: "col-xs-6 col-sm-4" },
    _react2.default.createElement(_replyButton2.default, {
      className: "btn btn-primary btn-block btn-outline",
      onClick: props.onClick
    })
  );
}

function Spacer(props) {
  if (props.thread.acl.can_reply) return null;

  return _react2.default.createElement("div", { className: "hidden-xs hidden-sm col-sm-4" });
}

},{"./moderation/posts":223,"./paginator":231,"./reply-button":232,"./subscription":235,"react":"react"}],237:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.StartPollCompact = exports.StartPoll = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.default = function (props) {
  var hiddenSpecialOption = !props.thread.acl.can_start_poll || props.thread.poll;

  return _react2.default.createElement(
    "div",
    { className: "row row-toolbar row-toolbar-bottom-margin" },
    _react2.default.createElement(GotoMenu, props),
    _react2.default.createElement(
      "div",
      { className: "col-xs-9 col-md-5 col-md-offset-2" },
      _react2.default.createElement(
        "div",
        { className: "row" },
        _react2.default.createElement(Spacer, { visible: !props.user.id }),
        _react2.default.createElement(Spacer, { visible: hiddenSpecialOption }),
        _react2.default.createElement(SubscriptionMenu, props),
        _react2.default.createElement(StartPoll, props),
        _react2.default.createElement(Reply, props)
      )
    )
  );
};

exports.GotoMenu = GotoMenu;
exports.GotoNew = GotoNew;
exports.GotoBestAnswer = GotoBestAnswer;
exports.GotoUnapproved = GotoUnapproved;
exports.GotoLast = GotoLast;
exports.CompactOptions = CompactOptions;
exports.GotoNewCompact = GotoNewCompact;
exports.GotoUnapprovedCompact = GotoUnapprovedCompact;
exports.GotoLastCompact = GotoLastCompact;
exports.Reply = Reply;
exports.SubscriptionMenu = SubscriptionMenu;
exports.Spacer = Spacer;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _replyButton = require("./reply-button");

var _replyButton2 = _interopRequireDefault(_replyButton);

var _subscription = require("./subscription");

var _subscription2 = _interopRequireDefault(_subscription);

var _posting = require("../../services/posting");

var _posting2 = _interopRequireDefault(_posting);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

function GotoMenu(props) {
  var user = props.user;


  var className = "col-xs-3 col-sm-3 col-md-5";
  if (user.is_anonymous) {
    className = "col-xs-12 col-sm-3 col-md-5";
  }

  return _react2.default.createElement(
    "div",
    { className: className },
    _react2.default.createElement(
      "div",
      { className: "row hidden-xs hidden-sm" },
      _react2.default.createElement(GotoLast, { thread: props.thread }),
      _react2.default.createElement(GotoNew, { thread: props.thread }),
      _react2.default.createElement(GotoBestAnswer, { thread: props.thread }),
      _react2.default.createElement(GotoUnapproved, { thread: props.thread })
    ),
    _react2.default.createElement(CompactOptions, props)
  );
}

function GotoNew(props) {
  if (!props.thread.is_new) return null;

  return _react2.default.createElement(
    "div",
    { className: "col-sm-4" },
    _react2.default.createElement(
      "a",
      {
        href: props.thread.url.new_post,
        className: "btn btn-default btn-block btn-outline",
        title: "Πρώτη νέα προσφορά"
      },
      "Νέα"
    )
  );
}

function GotoBestAnswer(props) {
  if (!props.thread.best_answer) {
    return null;
  }

  return _react2.default.createElement(
    "div",
    { className: "col-sm-4" },
    _react2.default.createElement(
      "a",
      {
        href: props.thread.url.best_answer,
        className: "btn btn-default btn-block btn-outline",
        title: "Επιλεγμένη προσφορά"
      },
      "Επιτυχής προσφορά"
    )
  );
}

function GotoUnapproved(props) {
  if (!props.thread.has_unapproved_posts || !props.thread.acl.can_approve) {
    return null;
  }

  return _react2.default.createElement(
    "div",
    { className: "col-sm-4" },
    _react2.default.createElement(
      "a",
      {
        href: props.thread.url.unapproved_post,
        className: "btn btn-default btn-block btn-outline",
        title: "Πρώτη μη εγκεκριμένη προσφορά"
      },
      "Μη εγκεκριμένη"
    )
  );
}

function GotoLast(props) {
  return _react2.default.createElement(
    "div",
    { className: "col-sm-4" },
    _react2.default.createElement(
      "a",
      {
        href: props.thread.url.last_post,
        className: "btn btn-default btn-block btn-outline",
        title: "Τελευταία προσφορά"
      },
      "Τελευταία"
    )
  );
}

function CompactOptions(props) {
  var user = props.user;

  if (user.is_anonymous) {
    return _react2.default.createElement(
      "div",
      { className: "visible-xs-block visible-sm-block" },
      _react2.default.createElement(
        "a",
        {
          href: props.thread.url.last_post,
          className: "btn btn-default btn-block btn-outline"
        },
        "Τελευταία προσφορά"
      )
    );
  }

  return _react2.default.createElement(
    "div",
    { className: "dropdown visible-xs-block visible-sm-block" },
    _react2.default.createElement(
      "button",
      {
        "aria-expanded": "true",
        "aria-haspopup": "true",
        className: "btn btn-default dropdown-toggle btn-block btn-outline",
        "data-toggle": "dropdown",
        type: "button"
      },
      _react2.default.createElement(
        "span",
        { className: "material-icon" },
        "expand_more"
      ),
      _react2.default.createElement(
        "span",
        { className: "btn-text hidden-xs" },
        "Επιλογές"
      )
    ),
    _react2.default.createElement(
      "ul",
      { className: "dropdown-menu" },
      _react2.default.createElement(StartPollCompact, props),
      _react2.default.createElement(GotoNewCompact, props),
      _react2.default.createElement(GotoUnapprovedCompact, props),
      _react2.default.createElement(GotoLastCompact, props)
    )
  );
}

function GotoNewCompact(props) {
  if (!props.thread.is_new) return null;

  return _react2.default.createElement(
    "li",
    null,
    _react2.default.createElement(
      "a",
      { href: props.thread.url.new_post, className: "btn btn-link" },
      "Πρώτη νέα προσφορά"
    )
  );
}

function GotoUnapprovedCompact(props) {
  if (!props.thread.has_unapproved_posts || !props.thread.acl.can_approve) {
    return null;
  }

  return _react2.default.createElement(
    "li",
    null,
    _react2.default.createElement(
      "a",
      { href: props.thread.url.unapproved_post, className: "btn btn-link" },
      "Πρώτη μη εγκεκριμένη προσφορά"
    )
  );
}

function GotoLastCompact(props) {
  return _react2.default.createElement(
    "li",
    null,
    _react2.default.createElement(
      "a",
      { href: props.thread.url.last_post, className: "btn btn-link" },
      "Τελευταία προσφορά"
    )
  );
}

function Reply(props) {
  if (!props.thread.acl.can_reply) return null;

  return _react2.default.createElement(
    "div",
    { className: "col-sm-4 hidden-xs" },
    _react2.default.createElement(_replyButton2.default, {
      className: "btn btn-primary btn-block btn-outline",
      onClick: props.openReplyForm
    })
  );
}

function SubscriptionMenu(props) {
  if (!props.user.id) return null;

  return _react2.default.createElement(
    "div",
    { className: "col-xs-12 col-sm-4" },
    _react2.default.createElement(_subscription2.default, _extends({
      className: "dropdown",
      dropdownClassName: "dropdown-menu dropdown-menu-right stick-to-bottom"
    }, props))
  );
}

var StartPoll = exports.StartPoll = function (_React$Component) {
  _inherits(StartPoll, _React$Component);

  function StartPoll() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, StartPoll);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = StartPoll.__proto__ || Object.getPrototypeOf(StartPoll)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      _posting2.default.open({
        mode: "POLL",
        submit: _this.props.thread.api.poll,

        thread: _this.props.thread,
        poll: null
      });
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(StartPoll, [{
    key: "render",
    value: function render() {
      if (!this.props.thread.acl.can_start_poll || this.props.thread.poll) {
        return null;
      }

      return _react2.default.createElement(
        "div",
        { className: "col-sm-4 hidden-xs" },
        _react2.default.createElement(
          "button",
          {
            className: "btn btn-default btn-block btn-outline",
            onClick: this.onClick,
            type: "button"
          },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "poll"
          ),
          "Προσθήκη ψηφοφορίας"
        )
      );
    }
  }]);

  return StartPoll;
}(_react2.default.Component);

var StartPollCompact = exports.StartPollCompact = function (_StartPoll) {
  _inherits(StartPollCompact, _StartPoll);

  function StartPollCompact() {
    _classCallCheck(this, StartPollCompact);

    return _possibleConstructorReturn(this, (StartPollCompact.__proto__ || Object.getPrototypeOf(StartPollCompact)).apply(this, arguments));
  }

  _createClass(StartPollCompact, [{
    key: "render",
    value: function render() {
      if (!this.props.thread.acl.can_start_poll || this.props.thread.poll) {
        return null;
      }

      return _react2.default.createElement(
        "li",
        null,
        _react2.default.createElement(
          "button",
          { className: "btn btn-link", onClick: this.onClick, type: "button" },
          "Προσθήκη ψηφοφορίας"
        )
      );
    }
  }]);

  return StartPollCompact;
}(StartPoll);

function Spacer(props) {
  if (!props.visible) return null;

  return _react2.default.createElement("div", { className: "col-sm-4 hidden-xs" });
}

},{"../../services/posting":375,"./reply-button":232,"./subscription":235,"react":"react"}],238:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (!props.isLoaded) {
    return _react2.default.createElement(_preview2.default, null);
  }

  if (props.threads.length === 0) {
    return _react2.default.createElement(
      _empty2.default,
      { diffSize: props.diffSize, applyDiff: props.applyDiff },
      props.children
    );
  }

  return _react2.default.createElement(_ready2.default, {
    activeCategory: props.category,
    categories: props.categories,
    list: props.list,
    threads: props.threads,
    diffSize: props.diffSize,
    applyDiff: props.applyDiff,
    showOptions: props.showOptions,
    selection: props.selection,
    busyThreads: props.busyThreads
  });
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _empty = require("./list/empty");

var _empty2 = _interopRequireDefault(_empty);

var _ready = require("./list/ready");

var _ready2 = _interopRequireDefault(_ready);

var _preview = require("./list/preview");

var _preview2 = _interopRequireDefault(_preview);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./list/empty":240,"./list/preview":241,"./list/ready":242,"react":"react"}],239:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  var applyDiff = props.applyDiff,
      diffSize = props.diffSize;

  if (diffSize === 0) return null;

  return _react2.default.createElement(
    "li",
    { className: "list-group-item threads-diff-message" },
    _react2.default.createElement(
      "button",
      {
        type: "button",
        className: "btn btn-block btn-default",
        onClick: applyDiff
      },
      _react2.default.createElement(
        "span",
        { className: "material-icon" },
        "cached"
      ),
      _react2.default.createElement(
        "span",
        { className: "diff-message" },
        getMessage(diffSize)
      )
    )
  );
};

exports.getMessage = getMessage;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function getMessage(diffSize) {
  var message = "Υπάρχουν %(threads)s καινούριες αγγελίες. Κάνε κλικ σε αυτό το μήνυμα για να τις δεις.";

  return interpolate(message, {
    threads: diffSize
  }, true);
}

},{"react":"react"}],240:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _diffMessage = require("./diff-message");

var _diffMessage2 = _interopRequireDefault(_diffMessage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "getDiffMessage",
    value: function getDiffMessage() {
      if (this.props.diffSize === 0) return null;

      return _react2.default.createElement(_diffMessage2.default, {
        applyDiff: this.props.applyDiff,
        diffSize: this.props.diffSize
      });
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: "threads-list ui-ready" },
        _react2.default.createElement(
          "ul",
          { className: "list-group" },
          this.getDiffMessage(),
          this.props.children
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./diff-message":239,"react":"react"}],241:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _preview = require("../thread/preview");

var _preview2 = _interopRequireDefault(_preview);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: "threads-list ui-preview" },
        _react2.default.createElement(
          "ul",
          { className: "list-group" },
          _react2.default.createElement(_preview2.default, null)
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../thread/preview":249,"react":"react"}],242:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    "div",
    { className: "threads-list ui-ready" },
    _react2.default.createElement(
      "ul",
      { className: "list-group" },
      _react2.default.createElement(_diffMessage2.default, { diffSize: props.diffSize, applyDiff: props.applyDiff }),
      props.threads.map(function (thread) {
        return _react2.default.createElement(_ready2.default, {
          activeCategory: props.activeCategory,
          categories: props.categories,
          list: props.list,
          thread: thread,
          showOptions: props.showOptions,
          isSelected: props.selection.indexOf(thread.id) >= 0,
          isBusy: props.busyThreads.indexOf(thread.id) >= 0,
          key: thread.id
        });
      })
    )
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _diffMessage = require("./diff-message");

var _diffMessage2 = _interopRequireDefault(_diffMessage);

var _ready = require("../thread/ready");

var _ready2 = _interopRequireDefault(_ready);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../thread/ready":250,"./diff-message":239,"react":"react"}],243:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var category = _ref.category,
      isBusy = _ref.isBusy,
      showOptions = _ref.showOptions,
      isSelected = _ref.isSelected,
      thread = _ref.thread;

  var className = "col-xs-12 col-sm-12";
  if (showOptions) {
    if (thread.moderation.length) {
      className = "col-xs-6 col-sm-12";
    } else {
      className = "col-xs-9 col-sm-12";
    }
  }

  var statusFlags = 0;
  if (thread.is_hidden) statusFlags += 1;
  if (thread.is_closed) statusFlags += 1;
  if (thread.has_poll) statusFlags += 1;

  var allFlagsVisible = showOptions && statusFlags === 3;

  var textClassName = "detail-text hidden-xs";
  if (allFlagsVisible) {
    textClassName += " hidden-sm";
  }

  return _react2.default.createElement(
    "div",
    { className: "row thread-details-bottom" },
    _react2.default.createElement(
      "div",
      { className: className },
      _react2.default.createElement(_category2.default, {
        className: "item-title thread-detail-category hidden-xs",
        category: category
      }),
      _react2.default.createElement(HiddenLabel, { textClassName: textClassName, display: thread.is_hidden }),
      _react2.default.createElement(ClosedLabel, { textClassName: textClassName, display: thread.is_closed }),
      _react2.default.createElement(PollLabel, { textClassName: textClassName, display: thread.has_poll }),
      _react2.default.createElement(BestAnswerLabel, { thread: thread }),
      _react2.default.createElement(RepliesLabel, {
        forceFullText: !showOptions || statusFlags < 2,
        replies: thread.replies
      }),
      _react2.default.createElement(LastReplyLabel, {
        datetime: thread.last_post_on,
        url: thread.url.last_post
      }),
      _react2.default.createElement(LastPoster, {
        posterName: thread.last_poster_name,
        url: thread.url.last_poster
      })
    ),
    _react2.default.createElement(_options.OptionsXs, {
      disabled: isBusy,
      display: showOptions,
      isSelected: isSelected,
      thread: thread
    })
  );
};

exports.HiddenLabel = HiddenLabel;
exports.ClosedLabel = ClosedLabel;
exports.PollLabel = PollLabel;
exports.BestAnswerLabel = BestAnswerLabel;
exports.RepliesLabel = RepliesLabel;
exports.LastReplyLabel = LastReplyLabel;
exports.LastPoster = LastPoster;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _category = require("./category");

var _category2 = _interopRequireDefault(_category);

var _options = require("../options");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function HiddenLabel(_ref2) {
  var display = _ref2.display,
      textClassName = _ref2.textClassName;

  if (!display) return null;

  return _react2.default.createElement(
    "span",
    { className: "thread-detail-hidden" },
    _react2.default.createElement(
      "span",
      { className: "material-icon" },
      "visibility_off"
    ),
    _react2.default.createElement(
      "span",
      { className: textClassName },
      "Κρυμμένη"
    )
  );
}

function ClosedLabel(_ref3) {
  var display = _ref3.display,
      textClassName = _ref3.textClassName;

  if (!display) return null;

  return _react2.default.createElement(
    "span",
    { className: "thread-detail-closed" },
    _react2.default.createElement(
      "span",
      { className: "material-icon" },
      "lock_outline"
    ),
    _react2.default.createElement(
      "span",
      { className: textClassName },
      "Κλεισμένη"
    )
  );
}

function PollLabel(_ref4) {
  var display = _ref4.display,
      textClassName = _ref4.textClassName;

  if (!display) return null;

  return _react2.default.createElement(
    "span",
    { className: "thread-detail-poll" },
    _react2.default.createElement(
      "span",
      { className: "material-icon" },
      "assessment"
    ),
    _react2.default.createElement(
      "span",
      { className: textClassName },
      "Poll"
    )
  );
}

function BestAnswerLabel(_ref5) {
  var thread = _ref5.thread;

  if (!thread.best_answer) return null;

  return _react2.default.createElement(
    "a",
    {
      className: "visible-xs-inline-block thread-detail-answered",
      href: thread.url.best_answer
    },
    _react2.default.createElement(
      "span",
      { className: "material-icon" },
      "check_box"
    )
  );
}

function RepliesLabel(_ref6) {
  var replies = _ref6.replies,
      forceFullText = _ref6.forceFullText;

  var text = "%(replies)s προσφορές";

  var compactClassName = "";
  var fullClassName = "";

  if (forceFullText) {
    compactClassName = "detail-text hide";
    fullClassName = "detail-text";
  } else {
    compactClassName = "detail-text visible-xs-inline-block";
    fullClassName = "detail-text hidden-xs";
  }

  return _react2.default.createElement(
    "span",
    { className: "thread-detail-replies" },
    _react2.default.createElement(
      "span",
      { className: "material-icon" },
      "forum"
    ),
    _react2.default.createElement(
      "span",
      { className: compactClassName },
      replies
    ),
    _react2.default.createElement(
      "span",
      { className: fullClassName },
      interpolate(text, { replies: replies }, true)
    )
  );
}

function LastReplyLabel(_ref7) {
  var datetime = _ref7.datetime,
      url = _ref7.url;

  return _react2.default.createElement(
    "a",
    {
      className: "visible-sm-inline-block thread-detail-last-reply",
      href: url,
      title: datetime.format("LLL")
    },
    datetime.fromNow(true)
  );
}

function LastPoster(props) {
  var posterName = props.posterName,
      url = props.url;

  var className = "visible-sm-inline-block item-title thread-last-poster";

  if (url) {
    return _react2.default.createElement(
      "a",
      { className: className, href: url },
      posterName
    );
  }

  return _react2.default.createElement(
    "span",
    { className: className },
    posterName
  );
}

},{"../options":248,"./category":244,"react":"react"}],244:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var category = _ref.category,
      className = _ref.className;

  if (!category) return null;

  if (category.css_class) {
    className += " thread-detail-category-" + category.css_class;
  }

  return _react2.default.createElement(
    "a",
    { className: className, href: category.url.index },
    category.name
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],245:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.TopDetails = exports.BottomDetails = undefined;

var _bottom = require("./bottom");

var _bottom2 = _interopRequireDefault(_bottom);

var _top = require("./top");

var _top2 = _interopRequireDefault(_top);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.BottomDetails = _bottom2.default;
exports.TopDetails = _top2.default;

},{"./bottom":243,"./top":246}],246:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var category = _ref.category,
      thread = _ref.thread;

  return _react2.default.createElement(
    "div",
    { className: "thread-details-top" },
    _react2.default.createElement(NewLabel, { isRead: thread.is_read, url: thread.url.new_post }),
    _react2.default.createElement(PinnedLabel, { weight: thread.weight }),
    _react2.default.createElement(UnapprovedLabel, {
      thread: thread.is_unapproved,
      posts: thread.has_unapproved_posts
    }),
    _react2.default.createElement(BestAnswerLabel, { thread: thread }),
    _react2.default.createElement(_category2.default, {
      className: "item-title thread-detail-category visible-xs-inline-block",
      category: category
    }),
    _react2.default.createElement(LastReplyLabel, {
      datetime: thread.last_post_on,
      url: thread.url.last_post
    }),
    _react2.default.createElement(LastPoster, {
      posterName: thread.last_poster_name,
      url: thread.url.last_poster
    })
  );
};

exports.NewLabel = NewLabel;
exports.PinnedLabel = PinnedLabel;
exports.UnapprovedLabel = UnapprovedLabel;
exports.BestAnswerLabel = BestAnswerLabel;
exports.LastReplyLabel = LastReplyLabel;
exports.LastPoster = LastPoster;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _category = require("./category");

var _category2 = _interopRequireDefault(_category);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function NewLabel(_ref2) {
  var isRead = _ref2.isRead,
      url = _ref2.url;

  if (isRead) return null;

  return _react2.default.createElement(
    "a",
    { className: "thread-detail-new", href: url },
    _react2.default.createElement(
      "span",
      { className: "material-icon" },
      "comment"
    ),
    _react2.default.createElement(
      "span",
      { className: "detail-text" },
      "Νέες προσφορές"
    )
  );
}

function PinnedLabel(_ref3) {
  var weight = _ref3.weight;

  if (weight === 0) return null;

  var className = "thread-detail-pinned-globally";
  var icon = "bookmark";
  var text = "Προωθημένη παντού";

  if (weight === 1) {
    className = "thread-detail-pinned-locally";
    icon = "bookmark_border";
    text = "Προωθημένη σε αυτή την κατηγορία";
  }

  return _react2.default.createElement(
    "span",
    { className: className },
    _react2.default.createElement(
      "span",
      { className: "material-icon" },
      icon
    ),
    _react2.default.createElement(
      "span",
      { className: "detail-text" },
      text
    )
  );
}

function UnapprovedLabel(_ref4) {
  var posts = _ref4.posts,
      thread = _ref4.thread;

  if (!posts && !thread) return null;

  var className = "thread-detail-unapproved-posts";
  var icon = "remove_circle_outline";
  var text = "Προσφορές που δεν έχουν εγκριθεί";

  if (thread) {
    className = "thread-detail-unapproved";
    icon = "remove_circle";
    text = "Μη εγκεκριμένες";
  }

  return _react2.default.createElement(
    "span",
    { className: className },
    _react2.default.createElement(
      "span",
      { className: "material-icon" },
      icon
    ),
    _react2.default.createElement(
      "span",
      { className: "detail-text" },
      text
    )
  );
}

function BestAnswerLabel(_ref5) {
  var thread = _ref5.thread;

  if (!thread.best_answer) return null;

  return _react2.default.createElement(
    "a",
    {
      className: "hidden-xs thread-detail-answered",
      href: thread.url.best_answer
    },
    _react2.default.createElement(
      "span",
      { className: "material-icon" },
      "check_box"
    ),
    _react2.default.createElement(
      "span",
      { className: "detail-text" },
      "Έχει ανατεθεί"
    )
  );
}

function LastReplyLabel(_ref6) {
  var datetime = _ref6.datetime,
      url = _ref6.url;

  return _react2.default.createElement(
    "a",
    {
      className: "visible-xs-inline-block thread-detail-last-reply",
      href: url,
      title: datetime.format("LLL")
    },
    datetime.fromNow(true)
  );
}

function LastPoster(props) {
  var posterName = props.posterName,
      url = props.url;


  if (url) {
    return _react2.default.createElement(
      "a",
      {
        className: "visible-xs-inline-block item-title thread-last-poster",
        href: url
      },
      posterName
    );
  }

  return _react2.default.createElement(
    "span",
    { className: "visible-xs-inline-block item-title thread-last-poster" },
    posterName
  );
}

},{"./category":244,"react":"react"}],247:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var thread = _ref.thread;

  return _react2.default.createElement(
    "div",
    { className: "media" },
    _react2.default.createElement(
      "div",
      { className: "media-left" },
      _react2.default.createElement(
        _userUrl2.default,
        {
          className: "thread-last-poster-avatar",
          title: thread.last_poster_name,
          url: thread.url.last_poster
        },
        _react2.default.createElement(_avatar2.default, {
          className: "media-object",
          size: 40,
          user: thread.last_poster
        })
      )
    ),
    _react2.default.createElement(
      "div",
      { className: "media-body" },
      _react2.default.createElement(
        _userUrl2.default,
        {
          className: "item-title thread-last-poster",
          url: thread.url.last_poster
        },
        thread.last_poster_name
      ),
      _react2.default.createElement(Timestamp, { datetime: thread.last_post_on, url: thread.url.last_post })
    )
  );
};

exports.Timestamp = Timestamp;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _avatar = require("../../avatar");

var _avatar2 = _interopRequireDefault(_avatar);

var _userUrl = require("./user-url");

var _userUrl2 = _interopRequireDefault(_userUrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function Timestamp(_ref2) {
  var datetime = _ref2.datetime,
      url = _ref2.url;

  return _react2.default.createElement(
    "a",
    { className: "thread-last-reply", href: url, title: datetime.format("LLL") },
    datetime.fromNow(true)
  );
}

},{"../../avatar":6,"./user-url":255,"react":"react"}],248:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Checkbox = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.Options = Options;
exports.OptionsXs = OptionsXs;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _compact = require("./subscription/compact");

var _compact2 = _interopRequireDefault(_compact);

var _full = require("./subscription/full");

var _full2 = _interopRequireDefault(_full);

var _selection = require("../../../reducers/selection");

var select = _interopRequireWildcard(_selection);

var _store = require("../../../services/store");

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

function Options(_ref) {
  var display = _ref.display,
      disabled = _ref.disabled,
      isSelected = _ref.isSelected,
      thread = _ref.thread;

  if (!display) return null;

  var className = "col-sm-2 col-md-2 hidden-xs";
  if (thread.moderation.length) {
    className = "col-sm-3 col-md-2 hidden-xs";
  }

  return _react2.default.createElement(
    "div",
    { className: className },
    _react2.default.createElement(
      "div",
      { className: "row thread-options" },
      _react2.default.createElement(_full2.default, { thread: thread, disabled: disabled }),
      _react2.default.createElement(_compact2.default, { thread: thread, disabled: disabled }),
      _react2.default.createElement(Checkbox, { thread: thread, disabled: disabled, isSelected: isSelected })
    )
  );
}

function OptionsXs(_ref2) {
  var display = _ref2.display,
      disabled = _ref2.disabled,
      isSelected = _ref2.isSelected,
      thread = _ref2.thread;

  if (!display) return null;

  var className = "";
  if (thread.moderation.length) {
    className += "col-xs-6";
  } else {
    className += "col-xs-3";
  }
  className += " visible-xs-block thread-options-xs";

  return _react2.default.createElement(
    "div",
    { className: className },
    _react2.default.createElement(
      "div",
      { className: "row thread-options" },
      _react2.default.createElement(_full2.default, { thread: thread, disabled: disabled }),
      _react2.default.createElement(_compact2.default, { thread: thread, disabled: disabled }),
      _react2.default.createElement(Checkbox, { thread: thread, disabled: disabled, isSelected: isSelected })
    )
  );
}

var Checkbox = exports.Checkbox = function (_React$Component) {
  _inherits(Checkbox, _React$Component);

  function Checkbox() {
    var _ref3;

    var _temp, _this, _ret;

    _classCallCheck(this, Checkbox);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref3 = Checkbox.__proto__ || Object.getPrototypeOf(Checkbox)).call.apply(_ref3, [this].concat(args))), _this), _this.toggleSelection = function () {
      _store2.default.dispatch(select.item(_this.props.thread.id));
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(Checkbox, [{
    key: "render",
    value: function render() {
      var _props = this.props,
          disabled = _props.disabled,
          isSelected = _props.isSelected,
          thread = _props.thread;


      if (!thread.moderation.length) return null;

      return _react2.default.createElement(
        "div",
        { className: "col-xs-6" },
        _react2.default.createElement(
          "button",
          {
            className: "btn btn-default btn-icon btn-block",
            onClick: this.toggleSelection,
            disabled: disabled
          },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            isSelected ? "check_box" : "check_box_outline_blank"
          )
        )
      );
    }
  }]);

  return Checkbox;
}(_react2.default.Component);

},{"../../../reducers/selection":358,"../../../services/store":377,"./subscription/compact":251,"./subscription/full":252,"react":"react"}],249:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _random = require("../../../utils/random");

var random = _interopRequireWildcard(_random);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "li",
        { className: "list-group-item thread-preview" },
        _react2.default.createElement(
          "div",
          { className: "thread-details-top visible-xs-block" },
          _react2.default.createElement(
            "span",
            {
              className: "ui-preview-text",
              style: { width: random.int(30, 80) + "px" }
            },
            "\xA0"
          ),
          _react2.default.createElement(
            "span",
            {
              className: "ui-preview-text",
              style: { width: random.int(30, 80) + "px" }
            },
            "\xA0"
          ),
          _react2.default.createElement(
            "span",
            {
              className: "ui-preview-text",
              style: { width: random.int(30, 80) + "px" }
            },
            "\xA0"
          )
        ),
        _react2.default.createElement(
          "span",
          { className: "item-title thread-title" },
          _react2.default.createElement(
            "span",
            {
              className: "ui-preview-text",
              style: { width: random.int(60, 200) + "px" }
            },
            "\xA0"
          ),
          _react2.default.createElement(
            "span",
            {
              className: "ui-preview-text hidden-xs",
              style: { width: random.int(60, 200) + "px" }
            },
            "\xA0"
          ),
          _react2.default.createElement(
            "span",
            {
              className: "ui-preview-text hidden-xs",
              style: { width: random.int(60, 200) + "px" }
            },
            "\xA0"
          )
        ),
        _react2.default.createElement(
          "div",
          { className: "thread-details-bottom" },
          _react2.default.createElement(
            "div",
            null,
            _react2.default.createElement(
              "span",
              {
                className: "ui-preview-text",
                style: { width: random.int(30, 80) + "px" }
              },
              "\xA0"
            ),
            _react2.default.createElement(
              "span",
              {
                className: "ui-preview-text",
                style: { width: random.int(30, 80) + "px" }
              },
              "\xA0"
            ),
            _react2.default.createElement(
              "span",
              {
                className: "ui-preview-text",
                style: { width: random.int(30, 80) + "px" }
              },
              "\xA0"
            )
          )
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../utils/random":388,"react":"react"}],250:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  var activeCategory = props.activeCategory,
      categories = props.categories,
      list = props.list,
      thread = props.thread,
      isBusy = props.isBusy,
      isSelected = props.isSelected,
      showOptions = props.showOptions;


  var category = null;
  if (activeCategory.id !== thread.category) {
    category = categories[thread.category];
  }

  var flavor = category || activeCategory;

  var className = "thread-main col-xs-12";
  if (showOptions) {
    if (thread.moderation.length) {
      className += " col-sm-9 col-md-7";
    } else {
      className += " col-sm-10 col-md-7";
    }
  } else {
    className += " col-sm-12 col-md-9";
  }

  return _react2.default.createElement(
    "li",
    { className: getClassName(thread.is_read, isBusy, isSelected, flavor) },
    _react2.default.createElement(_details.TopDetails, { category: category, thread: thread }),
    _react2.default.createElement(
      "div",
      { className: "row thread-row" },
      _react2.default.createElement(
        "div",
        { className: className },
        _react2.default.createElement(
          "div",
          { className: "media" },
          _react2.default.createElement(
            "div",
            { className: "media-left hidden-xs" },
            _react2.default.createElement(
              _userUrl2.default,
              {
                className: "thread-starter-avatar",
                title: thread.starter_name,
                url: thread.url.starter
              },
              _react2.default.createElement(_avatar2.default, { size: 40, user: thread.starter })
            )
          ),
          _react2.default.createElement(
            "div",
            { className: "media-body" },
            _react2.default.createElement(
              "a",
              { href: thread.url.index, className: "item-title thread-title" },
              thread.title
            ),
            _react2.default.createElement(_details.BottomDetails, {
              category: category,
              disabled: isBusy,
              isSelected: isSelected,
              showOptions: showOptions,
              thread: thread
            })
          )
        )
      ),
      _react2.default.createElement(
        "div",
        { className: "col-md-3 hidden-xs hidden-sm thread-last-action" },
        _react2.default.createElement(_lastAction2.default, { thread: thread })
      ),
      _react2.default.createElement(_options.Options, {
        disabled: isBusy,
        display: showOptions,
        isSelected: isSelected,
        thread: thread
      })
    )
  );
};

exports.getClassName = getClassName;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _avatar = require("../../avatar");

var _avatar2 = _interopRequireDefault(_avatar);

var _details = require("./details");

var _lastAction = require("./last-action");

var _lastAction2 = _interopRequireDefault(_lastAction);

var _options = require("./options");

var _userUrl = require("./user-url");

var _userUrl2 = _interopRequireDefault(_userUrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function getClassName(isRead, isBusy, isSelected, flavor) {
  var styles = ["list-group-item"];

  if (flavor && flavor.css_class) {
    styles.push("list-group-category-has-flavor");
    styles.push("list-group-item-category-" + flavor.css_class);
  }

  if (isRead) {
    styles.push("thread-read");
  } else {
    styles.push("thread-new");
  }

  if (isBusy) {
    styles.push("thread-busy");
  } else if (isSelected) {
    styles.push("thread-selected");
  }

  return styles.join(" ");
}

},{"../../avatar":6,"./details":245,"./last-action":247,"./options":248,"./user-url":255,"react":"react"}],251:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _full = require("./full");

var _full2 = _interopRequireDefault(_full);

var _modal = require("./modal");

var _modal2 = _interopRequireDefault(_modal);

var _modal3 = require("../../../../services/modal");

var _modal4 = _interopRequireDefault(_modal3);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_SubscriptionFull) {
  _inherits(_class, _SubscriptionFull);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.showOptions = function () {
      _modal4.default.show(_react2.default.createElement(_modal2.default, { thread: _this.props.thread }));
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: "render",
    value: function render() {
      var moderation = this.props.thread.moderation;


      var className = "";
      if (moderation.length) {
        className += "col-xs-6";
      } else {
        className += "col-xs-12";
      }
      className += " hidden-md hidden-lg";

      return _react2.default.createElement(
        "div",
        { className: className },
        _react2.default.createElement(
          "button",
          {
            type: "button",
            className: this.getClassName(),
            disabled: this.props.disabled,
            onClick: this.showOptions
          },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            this.getIcon()
          )
        )
      );
    }
  }]);

  return _class;
}(_full2.default);

exports.default = _class;

},{"../../../../services/modal":371,"./full":252,"./modal":253,"react":"react"}],252:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.Label = Label;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _options = require("./options");

var _options2 = _interopRequireDefault(_options);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "getIcon",
    value: function getIcon() {
      if (this.props.thread.subscription === true) {
        return "star";
      } else if (this.props.thread.subscription === false) {
        return "star_half";
      }

      return "star_border";
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (this.props.thread.subscription === true) {
        return "btn btn-default btn-icon btn-block btn-subscribe btn-subscribe-full dropdown-toggle";
      } else if (this.props.thread.subscription === false) {
        return "btn btn-default btn-icon btn-block btn-subscribe btn-subscribe-half dropdown-toggle";
      }

      return "btn btn-default btn-icon btn-block btn-subscribe dropdown-toggle";
    }
  }, {
    key: "render",
    value: function render() {
      var _props$thread = this.props.thread,
          moderation = _props$thread.moderation,
          subscription = _props$thread.subscription;

      var fullwidth = !moderation.length;

      var className = fullwidth ? "col-xs-12" : "col-xs-6";
      className += " hidden-xs hidden-sm";

      return _react2.default.createElement(
        "div",
        { className: className },
        _react2.default.createElement(
          "div",
          { className: "btn-group btn-group-justified" },
          _react2.default.createElement(
            "div",
            { className: "btn-group" },
            _react2.default.createElement(
              "button",
              {
                type: "button",
                className: this.getClassName(),
                disabled: this.props.disabled,
                "data-toggle": "dropdown",
                "aria-haspopup": "true",
                "aria-expanded": "false"
              },
              _react2.default.createElement(
                "span",
                { className: "material-icon" },
                this.getIcon()
              ),
              _react2.default.createElement(Label, { moderation: moderation, subscription: subscription })
            ),
            _react2.default.createElement(_options2.default, {
              className: "dropdown-menu dropdown-menu-right",
              thread: this.props.thread
            })
          )
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function Label(_ref) {
  var moderation = _ref.moderation,
      subscription = _ref.subscription;

  if (moderation.length) return null;

  var text = "Καμία ειδοποίηση";
  if (subscription === true) {
    text = "Μέσω εmail";
  } else if (subscription === false) {
    text = "Eνεργοποιημένες ειδοποιήσεις";
  }

  return _react2.default.createElement(
    "span",
    { className: "btn-text" },
    text
  );
}

},{"./options":254,"react":"react"}],253:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _options = require("./options");

var _options2 = _interopRequireDefault(_options);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: "modal-dialog modal-sm", role: "document" },
        _react2.default.createElement(
          "div",
          { className: "modal-content" },
          _react2.default.createElement(
            "div",
            { className: "modal-header" },
            _react2.default.createElement(
              "button",
              {
                type: "button",
                className: "close",
                "data-dismiss": "modal",
                "aria-label": "Κλείσιμο"
              },
              _react2.default.createElement(
                "span",
                { "aria-hidden": "true" },
                "\xD7"
              )
            ),
            _react2.default.createElement(
              "h4",
              { className: "modal-title" },
              "Αλλαγή ειδοποιήσεων"
            )
          ),
          _react2.default.createElement(_options2.default, { className: "modal-menu", thread: this.props.thread })
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./options":254,"react":"react"}],254:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _threads = require("../../../../reducers/threads");

var _ajax = require("../../../../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require("../../../../services/modal");

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require("../../../../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require("../../../../services/store");

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var STATE_UPDATES = {
  unsubscribe: null,
  notify: false,
  email: true
};

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.setSubscription = function (newState) {
      _modal2.default.hide();

      _this.setState({
        isLoading: true
      });

      var oldState = _this.props.thread.subscription;

      _store2.default.dispatch((0, _threads.patch)(_this.props.thread, {
        subscription: STATE_UPDATES[newState]
      }));

      _ajax2.default.patch(_this.props.thread.api.index, [{ op: "replace", path: "subscription", value: newState }]).then(function () {
        _this.setState({
          isLoading: false
        });
      }, function (rejection) {
        _this.setState({
          isLoading: false
        });
        _store2.default.dispatch((0, _threads.patch)(_this.props.thread, {
          subscription: STATE_UPDATES[oldState]
        }));
        _snackbar2.default.apiError(rejection);
      });
    };

    _this.unsubscribe = function () {
      _this.setSubscription("unsubscribe");
    };

    _this.notify = function () {
      _this.setSubscription("notify");
    };

    _this.email = function () {
      _this.setSubscription("email");
    };

    _this.state = {
      isLoading: false
    };
    return _this;
  }

  _createClass(_class, [{
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "ul",
        { className: this.props.className },
        _react2.default.createElement(
          "li",
          null,
          _react2.default.createElement(
            "button",
            { className: "btn-link", onClick: this.unsubscribe },
            _react2.default.createElement(
              "span",
              { className: "material-icon" },
              "star_border"
            ),
            "Απεγγραφή από ειδοποιήσεις"
          )
        ),
        _react2.default.createElement(
          "li",
          null,
          _react2.default.createElement(
            "button",
            { className: "btn-link", onClick: this.notify },
            _react2.default.createElement(
              "span",
              { className: "material-icon" },
              "star_half"
            ),
            "Ειδοποιήσεις"
          )
        ),
        _react2.default.createElement(
          "li",
          null,
          _react2.default.createElement(
            "button",
            { className: "btn-link", onClick: this.email },
            _react2.default.createElement(
              "span",
              { className: "material-icon" },
              "star"
            ),
            "Ειδοποιήσεις μέσω email"
          )
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../../reducers/threads":361,"../../../../services/ajax":365,"../../../../services/modal":371,"../../../../services/snackbar":376,"../../../../services/store":377,"react":"react"}],255:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var children = _ref.children,
      className = _ref.className,
      title = _ref.title,
      url = _ref.url;

  if (url) {
    return _react2.default.createElement(
      "a",
      { className: className, href: url, title: title },
      children
    );
  }

  return _react2.default.createElement(
    "span",
    { className: className, title: title },
    children
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],256:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Subcategory = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require("react-router");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Subcategory = exports.Subcategory = function (_React$Component) {
  _inherits(Subcategory, _React$Component);

  function Subcategory() {
    _classCallCheck(this, Subcategory);

    return _possibleConstructorReturn(this, (Subcategory.__proto__ || Object.getPrototypeOf(Subcategory)).apply(this, arguments));
  }

  _createClass(Subcategory, [{
    key: "getUrl",
    value: function getUrl() {
      if (this.props.listPath) {
        return this.props.category.url.index + this.props.listPath;
      } else {
        return this.props.category.url.index;
      }
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "li",
        null,
        _react2.default.createElement(
          _reactRouter.Link,
          { to: this.getUrl(), className: "btn btn-link" },
          this.props.category.name
        )
      );
    }
  }]);

  return Subcategory;
}(_react2.default.Component);

var _class = function (_React$Component2) {
  _inherits(_class, _React$Component2);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "render",
    value: function render() {
      var _this3 = this;

      return _react2.default.createElement(
        "div",
        { className: "dropdown category-picker" },
        _react2.default.createElement(
          "button",
          {
            type: "button",
            className: "btn btn-default btn-outline dropdown-toggle btn-block",
            "data-toggle": "dropdown",
            "aria-haspopup": "true",
            "aria-expanded": "false"
          },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "label_outline"
          ),
          _react2.default.createElement(
            "span",
            { className: "hidden-xs" },
            "Κατηγορία"
          )
        ),
        _react2.default.createElement(
          "ul",
          { className: "dropdown-menu stick-to-bottom categories-menu" },
          this.props.choices.map(function (id) {
            if (_this3.props.categories[id]) {
              return _react2.default.createElement(Subcategory, {
                category: _this3.props.categories[id],
                listPath: _this3.props.list.path,
                key: id
              });
            } else {
              return null;
            }
          })
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react","react-router":"react-router"}],257:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.compareLastPostAge = compareLastPostAge;
exports.compareGlobalWeight = compareGlobalWeight;
exports.compareWeight = compareWeight;
function compareLastPostAge(a, b) {
  if (a.last_post > b.last_post) {
    return -1;
  } else if (a.last_post < b.last_post) {
    return 1;
  } else {
    return 0;
  }
}

function compareGlobalWeight(a, b) {
  if (a.weight === 2 && a.weight > b.weight) {
    return -1;
  } else if (b.weight === 2 && a.weight < b.weight) {
    return 1;
  } else {
    return compareLastPostAge(a, b);
  }
}

function compareWeight(a, b) {
  if (a.weight > b.weight) {
    return -1;
  } else if (a.weight < b.weight) {
    return 1;
  } else {
    return compareLastPostAge(a, b);
  }
}

},{}],258:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _pageLead = require("../page-lead");

var _pageLead2 = _interopRequireDefault(_pageLead);

var _toolbar = require("./toolbar");

var _toolbar2 = _interopRequireDefault(_toolbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "getCategoryDescription",
    value: function getCategoryDescription() {
      if (this.props.pageLead) {
        return _react2.default.createElement(
          "div",
          { className: "category-description" },
          _react2.default.createElement(
            "div",
            { className: "page-lead" },
            _react2.default.createElement(
              "p",
              null,
              this.props.pageLead
            )
          )
        );
      } else if (this.props.route.category.description) {
        return _react2.default.createElement(
          "div",
          { className: "category-description" },
          _react2.default.createElement(_pageLead2.default, { copy: this.props.route.category.description.html })
        );
      } else {
        return null;
      }
    }
  }, {
    key: "getDisableToolbar",
    value: function getDisableToolbar() {
      return !this.props.isLoaded || this.props.isBusy || this.props.busyThreads.length;
    }
  }, {
    key: "getToolbar",
    value: function getToolbar() {
      var isVisible = this.props.subcategories.length || this.props.user.id;

      if (!isVisible) return null;

      return _react2.default.createElement(_toolbar2.default, {
        subcategories: this.props.subcategories,
        categories: this.props.route.categories,
        categoriesMap: this.props.route.categoriesMap,
        list: this.props.route.list,
        threads: this.props.threads,
        moderation: this.props.moderation,
        selection: this.props.selection,
        selectAllThreads: this.props.selectAllThreads,
        selectNoneThreads: this.props.selectNoneThreads,
        addThreads: this.props.addThreads,
        freezeThread: this.props.freezeThread,
        deleteThread: this.props.deleteThread,
        updateThread: this.props.updateThread,
        api: this.props.api,
        route: this.props.route,
        disabled: this.getDisableToolbar(),
        user: this.props.user
      });
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: "container" },
        this.getCategoryDescription(),
        this.getToolbar(),
        this.props.children
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../page-lead":92,"./toolbar":269,"react":"react"}],259:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.ParentCategory = ParentCategory;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require("react-router");

var _button = require("../button");

var _button2 = _interopRequireDefault(_button);

var _dropdownToggle = require("../dropdown-toggle");

var _dropdownToggle2 = _interopRequireDefault(_dropdownToggle);

var _nav = require("./nav");

var _nav2 = _interopRequireDefault(_nav);

var _ajax = require("../../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _posting = require("../../services/posting");

var _posting2 = _interopRequireDefault(_posting);

var _snackbar = require("../../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require("../../services/store");

var _store2 = _interopRequireDefault(_store);

var _ = require("../..");

var _2 = _interopRequireDefault(_);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.startThread = function () {
      _posting2.default.open(_this.props.startThread || {
        mode: "START",

        config: _2.default.get("THREAD_EDITOR_API"),
        submit: _2.default.get("THREADS_API"),

        category: _this.props.route.category.id
      });
    };

    _this.state = {
      isBusy: false
    };
    return _this;
  }

  _createClass(_class, [{
    key: "hasGoBackButton",
    value: function hasGoBackButton() {
      return !!this.props.route.category.parent;
    }
  }, {
    key: "getGoBackButton",
    value: function getGoBackButton() {
      if (!this.props.route.category.parent) return null;

      var parent = this.props.categories[this.props.route.category.parent];

      return _react2.default.createElement(
        "div",
        { className: "hidden-xs col-sm-2 col-lg-1" },
        _react2.default.createElement(
          _reactRouter.Link,
          {
            className: "btn btn-default btn-icon btn-aligned btn-go-back btn-block btn-outline",
            to: parent.url.index + this.props.route.list.path
          },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "keyboard_arrow_left"
          )
        )
      );
    }
  }, {
    key: "getStartThreadButton",
    value: function getStartThreadButton() {
      if (!this.props.user.id) return null;

      return _react2.default.createElement(
        _button2.default,
        {
          className: "btn-primary btn-block btn-outline",
          onClick: this.startThread,
          disabled: this.props.disabled
        },
        _react2.default.createElement(
          "span",
          { className: "material-icon" },
          "chat"
        ),
        "Δημοσίευσε αγγελία"
      );
    }
  }, {
    key: "render",
    value: function render() {
      var headerClassName = "col-xs-12";
      if (this.hasGoBackButton()) {
        headerClassName += " col-sm-10 col-lg-11 sm-align-row-buttons";
      }

      var isAuthenticated = !!this.props.user.id;

      return _react2.default.createElement(
        "div",
        { className: "page-header-bg" },
        _react2.default.createElement(
          "div",
          { className: "page-header" },
          _react2.default.createElement(
            "div",
            { className: "container" },
            _react2.default.createElement(
              "div",
              { className: "row" },
              _react2.default.createElement(
                "div",
                {
                  className: isAuthenticated ? "col-sm-9 col-md-10" : "col-xs-12"
                },
                _react2.default.createElement(
                  "div",
                  { className: "row" },
                  this.getGoBackButton(),
                  _react2.default.createElement(
                    "div",
                    { className: headerClassName },
                    _react2.default.createElement(ParentCategory, {
                      categories: this.props.categories,
                      category: this.props.route.category.parent
                    }),
                    _react2.default.createElement(
                      "h1",
                      null,
                      this.props.title
                    )
                  )
                )
              ),
              isAuthenticated && _react2.default.createElement(
                "div",
                { className: "col-sm-3 col-md-2 xs-margin-top" },
                this.getStartThreadButton()
              )
            )
          ),
          _react2.default.createElement(_nav2.default, {
            baseUrl: this.props.route.category.url.index,
            list: this.props.route.list,
            lists: this.props.route.lists
          })
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function ParentCategory(_ref) {
  var categories = _ref.categories,
      category = _ref.category;

  if (!category) return null;

  var parent = categories[category];

  return _react2.default.createElement(
    _reactRouter.Link,
    { className: "go-back-sm visible-xs-block", to: parent.url.index },
    _react2.default.createElement(
      "span",
      { className: "material-icon" },
      "chevron_left"
    ),
    parent.parent ? parent.name : "Αγγελίες"
  );
}

},{"../..":302,"../../services/ajax":365,"../../services/posting":375,"../../services/snackbar":376,"../../services/store":377,"../button":8,"../dropdown-toggle":27,"./nav":266,"react":"react","react-router":"react-router"}],260:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "render",
    value: function render() {
      if (this.props.list.type === "all") {
        if (this.props.emptyMessage) {
          return _react2.default.createElement(
            "li",
            { className: "list-group-item empty-message" },
            _react2.default.createElement(
              "p",
              { className: "lead" },
              this.props.emptyMessage
            ),
            _react2.default.createElement(
              "p",
              null,
              "Πόσταρε μια αγγελία ή κάνε προσφορά!"
            )
          );
        } else {
          return _react2.default.createElement(
            "li",
            { className: "list-group-item empty-message" },
            _react2.default.createElement(
              "p",
              { className: "lead" },
              this.props.category.special_role ? "Δεν υπάρχουν αγγελίες σε αυτό το φόρουμ ακόμα!" : "Δεν υπάρχουν αγγελίες σε αυτή την κατηγορία"
            ),
            _react2.default.createElement(
              "p",
              null,
              "Μπορείς να δημοσιεύσεις μία εύκολα και γρήγορα!"
            )
          );
        }
      } else {
        return _react2.default.createElement(
          "li",
          { className: "list-group-item empty-message" },
          "Δεν υπάρχουν αγγελίες για τη συγκεκριμένη επιλογή"
        );
      }
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],261:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _errorsList = require("./errors-list");

var _errorsList2 = _interopRequireDefault(_errorsList);

var _merge = require("./merge");

var _merge2 = _interopRequireDefault(_merge);

var _move = require("./move");

var _move2 = _interopRequireDefault(_move);

var _selection = require("../../../reducers/selection");

var select = _interopRequireWildcard(_selection);

var _ajax = require("../../../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require("../../../services/modal");

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require("../../../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require("../../../services/store");

var _store2 = _interopRequireDefault(_store);

var _countdown = require("../../../utils/countdown");

var _countdown2 = _interopRequireDefault(_countdown);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.callApi = function (ops, successMessage) {
      var onSuccess = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;

      // freeze threads
      _this.props.threads.forEach(function (thread) {
        _this.props.freezeThread(thread.id);
      });

      // list ids
      var ids = _this.props.threads.map(function (thread) {
        return thread.id;
      });

      // always return current acl
      ops.push({ op: "add", path: "acl", value: true });

      _ajax2.default.patch(_this.props.api, { ids: ids, ops: ops }).then(function (data) {
        // unfreeze
        _this.props.threads.forEach(function (thread) {
          _this.props.freezeThread(thread.id);
        });

        // update threads
        data.forEach(function (thread) {
          _this.props.updateThread(thread);
        });

        // show success message and call callback
        _snackbar2.default.success(successMessage);
        if (onSuccess) {
          onSuccess();
        }
      }, function (rejection) {
        // unfreeze
        _this.props.threads.forEach(function (thread) {
          _this.props.freezeThread(thread.id);
        });

        // escape on non-400 error
        if (rejection.status !== 400) {
          return _snackbar2.default.apiError(rejection);
        }

        // build errors list
        var errors = [];
        var threadsMap = {};

        _this.props.threads.forEach(function (thread) {
          threadsMap[thread.id] = thread;
        });

        rejection.forEach(function (_ref2) {
          var id = _ref2.id,
              detail = _ref2.detail;

          if (typeof threadsMap[id] !== "undefined") {
            errors.push({
              errors: detail,
              thread: threadsMap[id]
            });
          }
        });

        _modal2.default.show(_react2.default.createElement(_errorsList2.default, { errors: errors }));
      });
    }, _this.pinGlobally = function () {
      _this.callApi([{
        op: "replace",
        path: "weight",
        value: 2
      }], "Οι επιλεγμένες αγγελίες προωθούνται σε όλη τη σελίδα.");
    }, _this.pinLocally = function () {
      _this.callApi([{
        op: "replace",
        path: "weight",
        value: 1
      }], "Οι επιλεγμένες αγγελίες προωθούνται σε αυτή τη συγκεκριμένη κατηγορία.");
    }, _this.unpin = function () {
      _this.callApi([{
        op: "replace",
        path: "weight",
        value: 0
      }], "Οι επιλεγμένες αγγελίες δεν προωθούνται πλέον.");
    }, _this.approve = function () {
      _this.callApi([{
        op: "replace",
        path: "is-unapproved",
        value: false
      }], "Οι επιλεγμένες αγγελίες εγκρίθηκαν.");
    }, _this.open = function () {
      _this.callApi([{
        op: "replace",
        path: "is-closed",
        value: false
      }], "Οι επιλεγμένες αγγελίες άνοιξαν για προσφορές.");
    }, _this.close = function () {
      _this.callApi([{
        op: "replace",
        path: "is-closed",
        value: true
      }], "Οι επιλεγμένες αγγελίες έκλεισαν για προσφορές.");
    }, _this.unhide = function () {
      _this.callApi([{
        op: "replace",
        path: "is-hidden",
        value: false
      }], "Οι επιλεγμένες αγγελίες θα εμφανίζονται τώρα.");
    }, _this.hide = function () {
      _this.callApi([{
        op: "replace",
        path: "is-hidden",
        value: true
      }], "Οι επιλεγμένες αγγελίες θα είναι κρυμμένες τώρα.");
    }, _this.move = function () {
      _modal2.default.show(_react2.default.createElement(_move2.default, {
        callApi: _this.callApi,
        categories: _this.props.categories,
        categoriesMap: _this.props.categoriesMap,
        route: _this.props.route,
        user: _this.props.user
      }));
    }, _this.merge = function () {
      var errors = [];
      _this.props.threads.forEach(function (thread) {
        if (!thread.acl.can_merge) {
          errors.append({
            id: thread.id,
            title: thread.title,
            errors: ["Δεν έχεις άδεια να συγχωνεύσεις αυτή την αγγελία με άλλες!"]
          });
        }
      });

      if (_this.props.threads.length < 2) {
        _snackbar2.default.info("Πρέπει να επιλέξεις τουλάχιστον δύο αγγελίες για να τις συγχωνεύσεις.");
      } else if (errors.length) {
        _modal2.default.show(_react2.default.createElement(_errorsList2.default, { errors: errors }));
        return;
      } else {
        _modal2.default.show(_react2.default.createElement(_merge2.default, _this.props));
      }
    }, _this.delete = function () {
      if (!confirm("Είσαι σίγουρος ότι θέλεις να διαγράψεις τις επιλεγμένες αγγελίες;")) {
        return;
      }

      _this.props.threads.map(function (thread) {
        _this.props.freezeThread(thread.id);
      });

      var ids = _this.props.threads.map(function (thread) {
        return thread.id;
      });

      _ajax2.default.delete(_this.props.api, ids).then(function () {
        _this.props.threads.map(function (thread) {
          _this.props.freezeThread(thread.id);
          _this.props.deleteThread(thread);
        });

        _snackbar2.default.success("Οι επιλεγμένες αγγελίες διαγράφηκαν.");
      }, function (rejection) {
        if (rejection.status === 400) {
          var failedThreads = rejection.map(function (thread) {
            return thread.id;
          });

          _this.props.threads.map(function (thread) {
            _this.props.freezeThread(thread.id);
            if (failedThreads.indexOf(thread.id) === -1) {
              _this.props.deleteThread(thread);
            }
          });

          _modal2.default.show(_react2.default.createElement(_errorsList2.default, { errors: rejection }));
        } else {
          _snackbar2.default.apiError(rejection);
        }
      });
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: "getPinGloballyButton",
    value: function getPinGloballyButton() {
      if (!this.props.moderation.can_pin_globally) return null;

      return _react2.default.createElement(
        "li",
        null,
        _react2.default.createElement(
          "button",
          {
            className: "btn btn-link",
            onClick: this.pinGlobally,
            type: "button"
          },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "bookmark"
          ),
          "Προώθησε αγγελίες σε όλη τη σελίδα"
        )
      );
    }
  }, {
    key: "getPinLocallyButton",
    value: function getPinLocallyButton() {
      if (!this.props.moderation.can_pin) return null;

      return _react2.default.createElement(
        "li",
        null,
        _react2.default.createElement(
          "button",
          {
            className: "btn btn-link",
            onClick: this.pinLocally,
            type: "button"
          },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "bookmark_border"
          ),
          "Προώθησε αγγελίες στην κατηγορία τους"
        )
      );
    }
  }, {
    key: "getUnpinButton",
    value: function getUnpinButton() {
      if (!this.props.moderation.can_pin) return null;

      return _react2.default.createElement(
        "li",
        null,
        _react2.default.createElement(
          "button",
          { className: "btn btn-link", onClick: this.unpin, type: "button" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "panorama_fish_eye"
          ),
          "Σταμάτησε την προώθηση αγγελιών"
        )
      );
    }
  }, {
    key: "getMoveButton",
    value: function getMoveButton() {
      if (!this.props.moderation.can_move) return null;

      return _react2.default.createElement(
        "li",
        null,
        _react2.default.createElement(
          "button",
          { className: "btn btn-link", onClick: this.move, type: "button" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "arrow_forward"
          ),
          "Μετακίνησε αγγελίες"
        )
      );
    }
  }, {
    key: "getMergeButton",
    value: function getMergeButton() {
      if (!this.props.moderation.can_merge) return null;

      return _react2.default.createElement(
        "li",
        null,
        _react2.default.createElement(
          "button",
          { className: "btn btn-link", onClick: this.merge, type: "button" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "call_merge"
          ),
          "Συγχώνευσε αγγελίες"
        )
      );
    }
  }, {
    key: "getApproveButton",
    value: function getApproveButton() {
      if (!this.props.moderation.can_approve) return null;

      return _react2.default.createElement(
        "li",
        null,
        _react2.default.createElement(
          "button",
          { className: "btn btn-link", onClick: this.approve, type: "button" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "done"
          ),
          "Ενέκρινε αγγελίες"
        )
      );
    }
  }, {
    key: "getOpenButton",
    value: function getOpenButton() {
      if (!this.props.moderation.can_close) return null;

      return _react2.default.createElement(
        "li",
        null,
        _react2.default.createElement(
          "button",
          { className: "btn btn-link", onClick: this.open, type: "button" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "lock_open"
          ),
          "Ανοιξε αγγελίες"
        )
      );
    }
  }, {
    key: "getCloseButton",
    value: function getCloseButton() {
      if (!this.props.moderation.can_close) return null;

      return _react2.default.createElement(
        "li",
        null,
        _react2.default.createElement(
          "button",
          { className: "btn btn-link", onClick: this.close, type: "button" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "lock_outline"
          ),
          "Κλείσε αγγελίες"
        )
      );
    }
  }, {
    key: "getUnhideButton",
    value: function getUnhideButton() {
      if (!this.props.moderation.can_unhide) return null;

      return _react2.default.createElement(
        "li",
        null,
        _react2.default.createElement(
          "button",
          { className: "btn btn-link", onClick: this.unhide, type: "button" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "visibility"
          ),
          "Εμφάνισε αγγελίες"
        )
      );
    }
  }, {
    key: "getHideButton",
    value: function getHideButton() {
      if (!this.props.moderation.can_hide) return null;

      return _react2.default.createElement(
        "li",
        null,
        _react2.default.createElement(
          "button",
          { onClick: this.hide, type: "button", className: "btn btn-link" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "visibility_off"
          ),
          "Κρύψε αγγελίες"
        )
      );
    }
  }, {
    key: "getDeleteButton",
    value: function getDeleteButton() {
      if (!this.props.moderation.can_delete) return null;

      return _react2.default.createElement(
        "li",
        null,
        _react2.default.createElement(
          "button",
          { className: "btn btn-link", onClick: this.delete, type: "button" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "clear"
          ),
          "Διέγραψε αγγελίες"
        )
      );
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "ul",
        { className: this.props.className },
        this.getPinGloballyButton(),
        this.getPinLocallyButton(),
        this.getUnpinButton(),
        this.getMoveButton(),
        this.getMergeButton(),
        this.getApproveButton(),
        this.getOpenButton(),
        this.getCloseButton(),
        this.getUnhideButton(),
        this.getHideButton(),
        this.getDeleteButton()
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../reducers/selection":358,"../../../services/ajax":365,"../../../services/modal":371,"../../../services/snackbar":376,"../../../services/store":377,"../../../utils/countdown":382,"./errors-list":262,"./merge":263,"./move":264,"react":"react"}],262:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.ThreadErrors = ThreadErrors;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: "modal-dialog", role: "document" },
        _react2.default.createElement(
          "div",
          { className: "modal-content" },
          _react2.default.createElement(
            "div",
            { className: "modal-header" },
            _react2.default.createElement(
              "button",
              {
                "aria-label": "Κλείσιμο",
                className: "close",
                "data-dismiss": "modal",
                type: "button"
              },
              _react2.default.createElement(
                "span",
                { "aria-hidden": "true" },
                "\xD7"
              )
            ),
            _react2.default.createElement(
              "h4",
              { className: "modal-title" },
              "Διαχείριση αγγελιών"
            )
          ),
          _react2.default.createElement(
            "div",
            { className: "modal-body" },
            _react2.default.createElement(
              "p",
              { className: "lead" },
              "Μία ή περισσότερες αγγελίες δεν ήταν δυνατόν να διαγραφούν:"
            ),
            _react2.default.createElement(
              "ul",
              { className: "list-unstyled list-errored-items" },
              this.props.errors.map(function (item) {
                return _react2.default.createElement(ThreadErrors, {
                  errors: item.errors,
                  key: item.thread.id,
                  thread: item.thread
                });
              })
            )
          )
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function ThreadErrors(_ref) {
  var errors = _ref.errors,
      thread = _ref.thread;

  return _react2.default.createElement(
    "li",
    null,
    _react2.default.createElement(
      "h5",
      null,
      thread.title
    ),
    errors.map(function (message, i) {
      return _react2.default.createElement(
        "p",
        null,
        message
      );
    })
  );
}

},{"react":"react"}],263:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _button = require("../../button");

var _button2 = _interopRequireDefault(_button);

var _form = require("../../form");

var _form2 = _interopRequireDefault(_form);

var _formGroup = require("../../form-group");

var _formGroup2 = _interopRequireDefault(_formGroup);

var _categorySelect = require("../../category-select");

var _categorySelect2 = _interopRequireDefault(_categorySelect);

var _select = require("../../select");

var _select2 = _interopRequireDefault(_select);

var _index = require("../../../index");

var _index2 = _interopRequireDefault(_index);

var _threads = require("../../../reducers/threads");

var _selection = require("../../../reducers/selection");

var select = _interopRequireWildcard(_selection);

var _errorsList = require("./errors-list");

var _errorsList2 = _interopRequireDefault(_errorsList);

var _mergeConflict = require("../../merge-conflict");

var _mergeConflict2 = _interopRequireDefault(_mergeConflict);

var _ajax = require("../../../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require("../../../services/modal");

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require("../../../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require("../../../services/store");

var _store2 = _interopRequireDefault(_store);

var _validators = require("../../../utils/validators");

var validators = _interopRequireWildcard(_validators);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.getFormdata = function () {
      return {
        threads: _this.props.threads.map(function (thread) {
          return thread.id;
        }),
        title: _this.state.title,
        category: _this.state.category,
        weight: _this.state.weight,
        is_hidden: _this.state.is_hidden,
        is_closed: _this.state.is_closed
      };
    };

    _this.handleSuccess = function (apiResponse) {
      // unfreeze and remove merged threads
      _this.props.threads.forEach(function (thread) {
        _this.props.freezeThread(thread.id);
        _this.props.deleteThread(thread);
      });

      // deselect all threads
      _store2.default.dispatch(select.none());

      // append merged thread, filter threads
      _this.props.addThreads([apiResponse]);
      _store2.default.dispatch((0, _threads.filterThreads)(_this.props.route.category, _this.props.categoriesMap));

      // hide modal
      _modal2.default.hide();
    };

    _this.handleError = function (rejection) {
      if (rejection.status === 400) {
        if (rejection.best_answers || rejection.polls) {
          _modal2.default.show(_react2.default.createElement(_mergeConflict2.default, {
            api: _index2.default.get("MERGE_THREADS_API"),
            bestAnswers: rejection.best_answers,
            data: _this.getFormdata(),
            polls: rejection.polls,
            onError: _this.handleError,
            onSuccess: _this.handleSuccess
          }));
        } else {
          _this.setState({
            errors: Object.assign({}, _this.state.errors, rejection)
          });
          _snackbar2.default.error("Η φόρμα περιέχει λάθη!");
        }
      } else if (rejection.status === 403 && Array.isArray(rejection)) {
        _modal2.default.show(_react2.default.createElement(_errorsList2.default, { errors: rejection }));
      } else if (rejection.best_answer) {
        _snackbar2.default.error(rejection.best_answer[0]);
      } else if (rejection.poll) {
        _snackbar2.default.error(rejection.poll[0]);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    };

    _this.onCategoryChange = function (ev) {
      var categoryId = ev.target.value;
      var newState = {
        category: categoryId
      };

      if (_this.acl[categoryId].can_pin_threads < newState.weight) {
        newState.weight = 0;
      }

      if (!_this.acl[categoryId].can_hide_threads) {
        newState.is_hidden = 0;
      }

      if (!_this.acl[categoryId].can_close_threads) {
        newState.is_closed = false;
      }

      _this.setState(newState);
    };

    _this.state = {
      isLoading: false,

      title: "",
      category: null,
      weight: 0,
      is_hidden: 0,
      is_closed: false,

      validators: {
        title: [validators.required()]
      },

      errors: {}
    };

    _this.acl = {};
    for (var i in props.user.acl.categories) {
      if (!props.user.acl.categories.hasOwnProperty(i)) {
        continue;
      }

      var acl = props.user.acl.categories[i];
      _this.acl[acl.id] = acl;
    }

    _this.categoryChoices = [];
    props.categories.forEach(function (category) {
      if (category.level > 0) {
        var _acl = _this.acl[category.id];
        var disabled = !_acl.can_start_threads || category.is_closed && !_acl.can_close_threads;

        _this.categoryChoices.push({
          value: category.id,
          disabled: disabled,
          level: category.level - 1,
          label: category.name
        });

        if (!disabled && !_this.state.category) {
          _this.state.category = category.id;
        }
      }
    });

    _this.isHiddenChoices = [{
      value: 0,
      icon: "visibility",
      label: "Όχι"
    }, {
      value: 1,
      icon: "visibility_off",
      label: "Ναι"
    }];

    _this.isClosedChoices = [{
      value: false,
      icon: "lock_outline",
      label: "Όχι"
    }, {
      value: true,
      icon: "lock",
      label: "Ναι"
    }];
    return _this;
  }

  _createClass(_class, [{
    key: "clean",
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar2.default.error("Η φόρμα περιέχει λάθη!");
        this.setState({
          errors: this.validate()
        });
        return false;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax2.default.post(_index2.default.get("MERGE_THREADS_API"), this.getFormdata());
    }
  }, {
    key: "getWeightChoices",
    value: function getWeightChoices() {
      var choices = [{
        value: 0,
        icon: "remove",
        label: "Μη προωθημένο"
      }, {
        value: 1,
        icon: "bookmark_border",
        label: "Προωθημένο σε αυτή την κατηγορία"
      }];

      if (this.acl[this.state.category].can_pin_threads == 2) {
        choices.push({
          value: 2,
          icon: "bookmark",
          label: "Προωθημένο σε όλη τη σελίδα"
        });
      }

      return choices;
    }
  }, {
    key: "renderWeightField",
    value: function renderWeightField() {
      if (this.acl[this.state.category].can_pin_threads) {
        return _react2.default.createElement(
          _formGroup2.default,
          { label: "Προώθηση αγγελίας", "for": "id_weight" },
          _react2.default.createElement(_select2.default, {
            id: "id_weight",
            onChange: this.bindInput("weight"),
            value: this.state.weight,
            choices: this.getWeightChoices()
          })
        );
      } else {
        return null;
      }
    }
  }, {
    key: "renderHiddenField",
    value: function renderHiddenField() {
      if (this.acl[this.state.category].can_hide_threads) {
        return _react2.default.createElement(
          _formGroup2.default,
          { label: "Απόκρυψη αγγελίας", "for": "id_is_hidden" },
          _react2.default.createElement(_select2.default, {
            id: "id_is_closed",
            onChange: this.bindInput("is_hidden"),
            value: this.state.is_hidden,
            choices: this.isHiddenChoices
          })
        );
      } else {
        return null;
      }
    }
  }, {
    key: "renderClosedField",
    value: function renderClosedField() {
      if (this.acl[this.state.category].can_close_threads) {
        return _react2.default.createElement(
          _formGroup2.default,
          { label: "Κλείσιμο αγγελίας", "for": "id_is_closed" },
          _react2.default.createElement(_select2.default, {
            id: "id_is_closed",
            onChange: this.bindInput("is_closed"),
            value: this.state.is_closed,
            choices: this.isClosedChoices
          })
        );
      } else {
        return null;
      }
    }
  }, {
    key: "renderForm",
    value: function renderForm() {
      return _react2.default.createElement(
        "form",
        { onSubmit: this.handleSubmit },
        _react2.default.createElement(
          "div",
          { className: "modal-body" },
          _react2.default.createElement(
            _formGroup2.default,
            {
              label: "Τίτλος Αγγελίας",
              "for": "id_title",
              validation: this.state.errors.title
            },
            _react2.default.createElement("input", {
              id: "id_title",
              className: "form-control",
              type: "text",
              onChange: this.bindInput("title"),
              value: this.state.title
            })
          ),
          _react2.default.createElement("div", { className: "clearfix" }),
          _react2.default.createElement(
            _formGroup2.default,
            {
              label: "Κατηγορία",
              "for": "id_category",
              validation: this.state.errors.category
            },
            _react2.default.createElement(_categorySelect2.default, {
              id: "id_category",
              onChange: this.onCategoryChange,
              value: this.state.category,
              choices: this.categoryChoices
            })
          ),
          _react2.default.createElement("div", { className: "clearfix" }),
          this.renderWeightField(),
          this.renderHiddenField(),
          this.renderClosedField()
        ),
        _react2.default.createElement(
          "div",
          { className: "modal-footer" },
          _react2.default.createElement(
            "button",
            {
              className: "btn btn-default",
              "data-dismiss": "modal",
              disabled: this.state.isLoading,
              type: "button"
            },
            "Ακύρωση"
          ),
          _react2.default.createElement(
            _button2.default,
            { className: "btn-primary", loading: this.state.isLoading },
            "Συγχώνευση αγγελιών"
          )
        )
      );
    }
  }, {
    key: "renderCantMergeMessage",
    value: function renderCantMergeMessage() {
      return _react2.default.createElement(
        "div",
        { className: "modal-body" },
        _react2.default.createElement(
          "div",
          { className: "message-icon" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "info_outline"
          )
        ),
        _react2.default.createElement(
          "div",
          { className: "message-body" },
          _react2.default.createElement(
            "p",
            { className: "lead" },
            "Δεν μπορείς να μετακινήσεις τις αγγελίες, γιατί δεν υπάρχουν διαθέσιμες κατηγορίες."
          ),
          _react2.default.createElement(
            "p",
            null,
            "Πρέπει να έχεις άδεια να δημιουργήσεις καινούριες αγγελίες σε μια κατηγορία για να μπορείς να συγχωνεύσεις αγγελίες εκεί."
          ),
          _react2.default.createElement(
            "button",
            {
              className: "btn btn-default",
              "data-dismiss": "modal",
              type: "button"
            },
            "ΟΚ"
          )
        )
      );
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (!this.state.category) {
        return "modal-dialog modal-message";
      } else {
        return "modal-dialog";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: this.getClassName(), role: "document" },
        _react2.default.createElement(
          "div",
          { className: "modal-content" },
          _react2.default.createElement(
            "div",
            { className: "modal-header" },
            _react2.default.createElement(
              "button",
              {
                type: "button",
                className: "close",
                "data-dismiss": "modal",
                "aria-label": "Κλείσιμο"
              },
              _react2.default.createElement(
                "span",
                { "aria-hidden": "true" },
                "\xD7"
              )
            ),
            _react2.default.createElement(
              "h4",
              { className: "modal-title" },
              "Συγχώνευση αγγελιών"
            )
          ),
          this.state.category ? this.renderForm() : this.renderCantMergeMessage()
        )
      );
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../../index":302,"../../../reducers/selection":358,"../../../reducers/threads":361,"../../../services/ajax":365,"../../../services/modal":371,"../../../services/snackbar":376,"../../../services/store":377,"../../../utils/validators":393,"../../button":8,"../../category-select":21,"../../form":56,"../../form-group":55,"../../merge-conflict":59,"../../select":210,"./errors-list":262,"react":"react"}],264:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _form = require("../../form");

var _form2 = _interopRequireDefault(_form);

var _formGroup = require("../../form-group");

var _formGroup2 = _interopRequireDefault(_formGroup);

var _categorySelect = require("../../category-select");

var _categorySelect2 = _interopRequireDefault(_categorySelect);

var _selection = require("../../../reducers/selection");

var select = _interopRequireWildcard(_selection);

var _threads = require("../../../reducers/threads");

var _modal = require("../../../services/modal");

var _modal2 = _interopRequireDefault(_modal);

var _store = require("../../../services/store");

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.handleSubmit = function (event) {
      // we don't reload page on submissions
      event.preventDefault();

      _modal2.default.hide();

      var onSuccess = function onSuccess() {
        _store2.default.dispatch((0, _threads.filterThreads)(_this.props.route.category, _this.props.categoriesMap));

        // deselect threads moved outside of visible scope
        var storeState = _store2.default.getState();
        var leftThreads = storeState.threads.map(function (thread) {
          return thread.id;
        });
        _store2.default.dispatch(select.all(storeState.selection.filter(function (thread) {
          return leftThreads.indexOf(thread) !== -1;
        })));
      };

      _this.props.callApi([{ op: "replace", path: "category", value: _this.state.category }, { op: "replace", path: "flatten-categories", value: null }, { op: "add", path: "acl", value: true }], "Οι επιλεγμένες αγγελίες μετακινήθηκαν επιτυχώς.", onSuccess);
    };

    _this.state = {
      category: null
    };

    var acls = {};
    for (var i in props.user.acl.categories) {
      if (!props.user.acl.categories.hasOwnProperty(i)) {
        continue;
      }

      var acl = props.user.acl.categories[i];
      acls[acl.id] = acl;
    }

    _this.categoryChoices = [];
    props.categories.forEach(function (category) {
      if (category.level > 0) {
        var _acl = acls[category.id];
        var disabled = !_acl.can_start_threads || category.is_closed && !_acl.can_close_threads;

        _this.categoryChoices.push({
          value: category.id,
          disabled: disabled,
          level: category.level - 1,
          label: category.name
        });

        if (!disabled && !_this.state.category) {
          _this.state.category = category.id;
        }
      }
    });
    return _this;
  }

  _createClass(_class, [{
    key: "getClassName",
    value: function getClassName() {
      if (!this.state.category) {
        return "modal-dialog modal-message";
      } else {
        return "modal-dialog";
      }
    }
  }, {
    key: "renderForm",
    value: function renderForm() {
      return _react2.default.createElement(
        "form",
        { onSubmit: this.handleSubmit },
        _react2.default.createElement(
          "div",
          { className: "modal-body" },
          _react2.default.createElement(
            _formGroup2.default,
            { label: "Νέα κατηγορία", "for": "id_new_category" },
            _react2.default.createElement(_categorySelect2.default, {
              id: "id_new_category",
              onChange: this.bindInput("category"),
              value: this.state.category,
              choices: this.categoryChoices
            })
          )
        ),
        _react2.default.createElement(
          "div",
          { className: "modal-footer" },
          _react2.default.createElement(
            "button",
            {
              className: "btn btn-default",
              "data-dismiss": "modal",
              disabled: this.state.isLoading,
              type: "button"
            },
            "Ακύρωση"
          ),
          _react2.default.createElement(
            "button",
            { className: "btn btn-primary" },
            "Μετακίνηση αγγελιών"
          )
        )
      );
    }
  }, {
    key: "renderCantMoveMessage",
    value: function renderCantMoveMessage() {
      return _react2.default.createElement(
        "div",
        { className: "modal-body" },
        _react2.default.createElement(
          "div",
          { className: "message-icon" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "info_outline"
          )
        ),
        _react2.default.createElement(
          "div",
          { className: "message-body" },
          _react2.default.createElement(
            "p",
            { className: "lead" },
            "Δεν μπορείς να μετακινήσεις τις αγγελίες, γιατί δεν υπάρχουν διαθέσιμες κατηγορίες."
          ),
          _react2.default.createElement(
            "p",
            null,
            "Πρέπει να έχεις άδεια να δημιουργήσεις καινούριες αγγελίες σε μια κατηγορία για να μπορείς να μετακινήσεις αγγελίες εκεί."
          ),
          _react2.default.createElement(
            "button",
            {
              className: "btn btn-default",
              "data-dismiss": "modal",
              type: "button"
            },
            "ΟΚ"
          )
        )
      );
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: this.getClassName(), role: "document" },
        _react2.default.createElement(
          "div",
          { className: "modal-content" },
          _react2.default.createElement(
            "div",
            { className: "modal-header" },
            _react2.default.createElement(
              "button",
              {
                type: "button",
                className: "close",
                "data-dismiss": "modal",
                "aria-label": "Κλείσιμο"
              },
              _react2.default.createElement(
                "span",
                { "aria-hidden": "true" },
                "\xD7"
              )
            ),
            _react2.default.createElement(
              "h4",
              { className: "modal-title" },
              "Μετακίνηση αγγελιών"
            )
          ),
          this.state.category ? this.renderForm() : this.renderCantMoveMessage()
        )
      );
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../../reducers/selection":358,"../../../reducers/threads":361,"../../../services/modal":371,"../../../services/store":377,"../../category-select":21,"../../form":56,"../../form-group":55,"react":"react"}],265:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _selection = require("../../../reducers/selection");

var select = _interopRequireWildcard(_selection);

var _store = require("../../../services/store");

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.selectAll = function () {
      _store2.default.dispatch(select.all(_this.props.threads.map(function (thread) {
        return thread.id;
      })));
    }, _this.selectNone = function () {
      _store2.default.dispatch(select.none());
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "ul",
        { className: this.props.className },
        _react2.default.createElement(
          "li",
          null,
          _react2.default.createElement(
            "button",
            {
              className: "btn btn-link",
              type: "button",
              onClick: this.selectAll
            },
            _react2.default.createElement(
              "span",
              { className: "material-icon" },
              "check_box"
            ),
            "Επιλογή όλων"
          )
        ),
        _react2.default.createElement(
          "li",
          null,
          _react2.default.createElement(
            "button",
            {
              className: "btn btn-link",
              type: "button",
              onClick: this.selectNone
            },
            _react2.default.createElement(
              "span",
              { className: "material-icon" },
              "check_box_outline_blank"
            ),
            "Αποεπιλογή όλων"
          )
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../reducers/selection":358,"../../../services/store":377,"react":"react"}],266:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var baseUrl = _ref.baseUrl,
      list = _ref.list,
      lists = _ref.lists;

  if (lists.length < 2) return null;

  return _react2.default.createElement(
    "div",
    { className: "page-tabs" },
    _react2.default.createElement(
      "div",
      { className: "container" },
      _react2.default.createElement(
        "ul",
        { className: "nav nav-pills" },
        lists.map(function (item) {
          return _react2.default.createElement(
            _li2.default,
            {
              isControlled: true,
              isActive: item.path === list.path,
              key: baseUrl + item.path
            },
            _react2.default.createElement(
              _reactRouter.Link,
              { to: baseUrl + item.path },
              item.name
            )
          );
        })
      )
    )
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require("react-router");

var _li = require("../li");

var _li2 = _interopRequireDefault(_li);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../li":57,"react":"react","react-router":"react-router"}],267:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getSelect = getSelect;
exports.getLists = getLists;
exports.paths = paths;

var _reactRedux = require("react-redux");

var _route = require("./route");

var _route2 = _interopRequireDefault(_route);

var _index = require("../../index");

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function getSelect(options) {
  return function (store) {
    return {
      options: options,
      selection: store.selection,
      threads: store.threads,
      tick: store.tick.tick,
      user: store.auth.user
    };
  };
}

function getLists(user) {
  var lists = [{
    type: "all",
    path: "",
    name: "Όλες",
    longName: "Όλες οι αγγελίες"
  }];

  if (user.id) {
    lists.push({
      type: "my",
      path: "my/",
      name: "Δικές μου",
      longName: "Οι αγγελίες μου"
    });
    lists.push({
      type: "new",
      path: "new/",
      name: "Νέες",
      longName: "Νέες αγγελίες"
    });
    lists.push({
      type: "unread",
      path: "unread/",
      name: "Αδιάβαστες",
      longName: "Αδιάβαστες αγγελίες"
    });
    lists.push({
      type: "subscribed",
      path: "subscribed/",
      name: "Ακολουθώ",
      longName: "Αγγελίες που ακολουθώ"
    });

    if (user.acl.can_see_unapproved_content_lists) {
      lists.push({
        type: "unapproved",
        path: "unapproved/",
        name: "Μη εγκεκριμένες",
        longName: "Μη εγκεκριμένες αγγελίες"
      });
    }
  }

  return lists;
}

function paths(user, mode) {
  var lists = getLists(user);
  var routes = [];
  var categoriesMap = {};

  _index2.default.get("CATEGORIES").forEach(function (category) {
    lists.forEach(function (list) {
      categoriesMap[category.id] = category;

      routes.push({
        path: category.url.index + list.path,
        component: (0, _reactRedux.connect)(getSelect(mode))(_route2.default),

        categories: _index2.default.get("CATEGORIES"),
        categoriesMap: categoriesMap,
        category: category,

        lists: lists,
        list: list
      });
    });
  });

  return routes;
}

},{"../../index":302,"./route":268,"react-redux":"react-redux"}],268:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _button = require("../button");

var _button2 = _interopRequireDefault(_button);

var _compare = require("./compare");

var _container = require("./container");

var _container2 = _interopRequireDefault(_container);

var _header = require("./header");

var _header2 = _interopRequireDefault(_header);

var _utils = require("./utils");

var _threadsList = require("../threads-list");

var _threadsList2 = _interopRequireDefault(_threadsList);

var _listEmpty = require("./list-empty");

var _listEmpty2 = _interopRequireDefault(_listEmpty);

var _withDropdown = require("../with-dropdown");

var _withDropdown2 = _interopRequireDefault(_withDropdown);

var _index = require("../../index");

var _index2 = _interopRequireDefault(_index);

var _selection = require("../../reducers/selection");

var select = _interopRequireWildcard(_selection);

var _threads = require("../../reducers/threads");

var _ajax = require("../../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _polls = require("../../services/polls");

var _polls2 = _interopRequireDefault(_polls);

var _snackbar = require("../../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require("../../services/store");

var _store2 = _interopRequireDefault(_store);

var _pageTitle = require("../../services/page-title");

var _pageTitle2 = _interopRequireDefault(_pageTitle);

var _sets = require("../../utils/sets");

var sets = _interopRequireWildcard(_sets);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_WithDropdown) {
  _inherits(_class, _WithDropdown);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.loadMore = function () {
      _this.setState({
        isBusy: true
      });

      _this.loadThreads(_this.getCategory(), _this.state.next);
    };

    _this.pollResponse = function (data) {
      _this.setState({
        diff: Object.assign({}, data, {
          results: (0, _utils.diffThreads)(_this.props.threads, data.results)
        })
      });
    };

    _this.addThreads = function (threads) {
      _store2.default.dispatch((0, _threads.append)(threads, _this.getSorting()));
    };

    _this.applyDiff = function () {
      _this.addThreads(_this.state.diff.results);

      _this.setState(Object.assign({}, _this.state.diff, {
        moderation: (0, _utils.getModerationActions)(_store2.default.getState().threads),

        diff: {
          results: []
        }
      }));
    };

    _this.freezeThread = function (thread) {
      _this.setState(function (currentState) {
        return {
          busyThreads: sets.toggle(currentState.busyThreads, thread)
        };
      });
    };

    _this.updateThread = function (thread) {
      _store2.default.dispatch((0, _threads.patch)(thread, thread, _this.getSorting()));
    };

    _this.deleteThread = function (thread) {
      _store2.default.dispatch((0, _threads.deleteThread)(thread));
    };

    _this.state = {
      isMounted: true,

      isLoaded: false,
      isBusy: false,

      diff: {
        results: []
      },

      moderation: [],
      busyThreads: [],

      dropdown: false,
      subcategories: [],

      next: 0
    };

    var category = _this.getCategory();

    if (_index2.default.has("THREADS")) {
      _this.initWithPreloadedData(category, _index2.default.get("THREADS"));
    } else {
      _this.initWithoutPreloadedData(category);
    }
    return _this;
  }

  _createClass(_class, [{
    key: "getCategory",
    value: function getCategory() {
      if (!this.props.route.category.special_role) {
        return this.props.route.category.id;
      } else {
        return null;
      }
    }
  }, {
    key: "initWithPreloadedData",
    value: function initWithPreloadedData(category, data) {
      this.state = Object.assign(this.state, {
        moderation: (0, _utils.getModerationActions)(data.results),
        subcategories: data.subcategories,
        next: data.next
      });

      this.startPolling(category);
    }
  }, {
    key: "initWithoutPreloadedData",
    value: function initWithoutPreloadedData(category) {
      this.loadThreads(category);
    }
  }, {
    key: "loadThreads",
    value: function loadThreads(category) {
      var _this2 = this;

      var next = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;

      _ajax2.default.get(this.props.options.api, {
        category: category,
        list: this.props.route.list.type,
        start: next || 0
      }, "threads").then(function (data) {
        if (!_this2.state.isMounted) {
          // user changed route before loading completion
          return;
        }

        if (next === 0) {
          _store2.default.dispatch((0, _threads.hydrate)(data.results));
        } else {
          _store2.default.dispatch((0, _threads.append)(data.results, _this2.getSorting()));
        }

        _this2.setState({
          isLoaded: true,
          isBusy: false,

          moderation: (0, _utils.getModerationActions)(_store2.default.getState().threads),

          subcategories: data.subcategories,

          next: data.next
        });

        _this2.startPolling(category);
      }, function (rejection) {
        _snackbar2.default.apiError(rejection);
      });
    }
  }, {
    key: "startPolling",
    value: function startPolling(category) {
      _polls2.default.start({
        poll: "threads",
        url: this.props.options.api,
        data: {
          category: category,
          list: this.props.route.list.type
        },
        frequency: 120 * 1000,
        update: this.pollResponse
      });
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      this.setPageTitle();

      if (_index2.default.has("THREADS")) {
        // unlike in other components, routes are root components for threads
        // so we can't dispatch store action from constructor
        _store2.default.dispatch((0, _threads.hydrate)(_index2.default.pop("THREADS").results));

        this.setState({
          isLoaded: true
        });
      }

      _store2.default.dispatch(select.none());
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this.state.isMounted = false;
      _polls2.default.stop("threads");
    }
  }, {
    key: "getTitle",
    value: function getTitle() {
      if (this.props.options.title) {
        return this.props.options.title;
      }

      return (0, _utils.getTitle)(this.props.route);
    }
  }, {
    key: "setPageTitle",
    value: function setPageTitle() {
      if (this.props.route.category.level || !_index2.default.get("THREADS_ON_INDEX")) {
        _pageTitle2.default.set((0, _utils.getPageTitle)(this.props.route));
      } else if (this.props.options.title) {
        _pageTitle2.default.set(this.props.options.title);
      } else {
        if (_index2.default.get("SETTINGS").index_title) {
          document.title = _index2.default.get("SETTINGS").index_title;
        } else {
          document.title = _index2.default.get("SETTINGS").forum_name;
        }
      }
    }
  }, {
    key: "getSorting",
    value: function getSorting() {
      if (this.props.route.category.level) {
        return _compare.compareWeight;
      } else {
        return _compare.compareGlobalWeight;
      }
    }

    // AJAX

    // Thread state utils

  }, {
    key: "getMoreButton",
    value: function getMoreButton() {
      if (!this.state.next) return null;

      return _react2.default.createElement(
        "div",
        { className: "pager-more" },
        _react2.default.createElement(
          _button2.default,
          {
            className: "btn btn-default btn-outline",
            loading: this.state.isBusy || this.state.busyThreads.length,
            onClick: this.loadMore
          },
          "Προβολή περισσότερων"
        )
      );
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      var className = "page page-threads";
      className += " page-threads-" + this.props.route.list.type;
      if (isIndex(this.props)) {
        className += " page-threads-index";
      }
      if (this.props.route.category.css_class) {
        className += " page-threads-" + this.props.route.category.css_class;
      }
      return className;
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: this.getClassName() },
        _react2.default.createElement(_header2.default, {
          categories: this.props.route.categoriesMap,
          disabled: !this.state.isLoaded,
          startThread: this.props.options.startThread,
          threads: this.props.threads,
          title: this.getTitle(),
          toggleNav: this.toggleNav,
          route: this.props.route,
          user: this.props.user
        }),
        _react2.default.createElement(
          _container2.default,
          {
            api: this.props.options.api,
            route: this.props.route,
            subcategories: this.state.subcategories,
            user: this.props.user,
            pageLead: this.props.options.pageLead,
            threads: this.props.threads,
            threadsCount: this.state.count,
            moderation: this.state.moderation,
            selection: this.props.selection,
            busyThreads: this.state.busyThreads,
            addThreads: this.addThreads,
            freezeThread: this.freezeThread,
            deleteThread: this.deleteThread,
            updateThread: this.updateThread,
            isLoaded: this.state.isLoaded,
            isBusy: this.state.isBusy
          },
          _react2.default.createElement(
            _threadsList2.default,
            {
              category: this.props.route.category,
              categories: this.props.route.categoriesMap,
              list: this.props.route.list,
              selection: this.props.selection,
              threads: this.props.threads,
              diffSize: this.state.diff.results.length,
              applyDiff: this.applyDiff,
              showOptions: !!this.props.user.id,
              isLoaded: this.state.isLoaded,
              busyThreads: this.state.busyThreads
            },
            _react2.default.createElement(_listEmpty2.default, {
              category: this.props.route.category,
              emptyMessage: this.props.options.emptyMessage,
              list: this.props.route.list
            })
          ),
          this.getMoreButton()
        )
      );
    }
  }]);

  return _class;
}(_withDropdown2.default);

exports.default = _class;


function isIndex(props) {
  if (props.route.category.level || !_index2.default.get("THREADS_ON_INDEX")) return false;
  if (props.options.title) return false;

  return true;
}

},{"../../index":302,"../../reducers/selection":358,"../../reducers/threads":361,"../../services/ajax":365,"../../services/page-title":373,"../../services/polls":374,"../../services/snackbar":376,"../../services/store":377,"../../utils/sets":391,"../button":8,"../threads-list":238,"../with-dropdown":299,"./compare":257,"./container":258,"./header":259,"./list-empty":260,"./utils":270,"react":"react"}],269:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _categoryPicker = require("./category-picker");

var _categoryPicker2 = _interopRequireDefault(_categoryPicker);

var _controls = require("./moderation/controls");

var _controls2 = _interopRequireDefault(_controls);

var _selection = require("./moderation/selection");

var _selection2 = _interopRequireDefault(_selection);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "getCategoryPicker",
    value: function getCategoryPicker() {
      if (!this.props.subcategories.length) return null;

      return _react2.default.createElement(_categoryPicker2.default, {
        categories: this.props.categoriesMap,
        choices: this.props.subcategories,
        list: this.props.list
      });
    }
  }, {
    key: "showModerationOptions",
    value: function showModerationOptions() {
      return this.props.user.id && this.props.moderation.allow;
    }
  }, {
    key: "getSelectedThreads",
    value: function getSelectedThreads() {
      var _this2 = this;

      return this.props.threads.filter(function (thread) {
        return _this2.props.selection.indexOf(thread.id) >= 0;
      });
    }
  }, {
    key: "getModerationButton",
    value: function getModerationButton() {
      if (!this.showModerationOptions()) return null;

      return _react2.default.createElement(
        "div",
        { className: "col-xs-6 col-sm-3 col-md-2" },
        _react2.default.createElement(
          "div",
          { className: "btn-group btn-group-justified" },
          _react2.default.createElement(
            "div",
            { className: "btn-group dropdown" },
            _react2.default.createElement(
              "button",
              {
                type: "button",
                className: "btn btn-default btn-outline dropdown-toggle",
                "data-toggle": "dropdown",
                "aria-haspopup": "true",
                "aria-expanded": "false",
                disabled: this.props.disabled || !this.props.selection.length
              },
              _react2.default.createElement(
                "span",
                { className: "material-icon" },
                "settings"
              ),
              "Επιλογές"
            ),
            _react2.default.createElement(_controls2.default, {
              addThreads: this.props.addThreads,
              api: this.props.api,
              categories: this.props.categories,
              categoriesMap: this.props.categoriesMap,
              className: "dropdown-menu dropdown-menu-right stick-to-bottom",
              deleteThread: this.props.deleteThread,
              freezeThread: this.props.freezeThread,
              moderation: this.props.moderation,
              route: this.props.route,
              threads: this.getSelectedThreads(),
              updateThread: this.props.updateThread,
              user: this.props.user
            })
          )
        )
      );
    }
  }, {
    key: "getSelectionButton",
    value: function getSelectionButton() {
      if (!this.showModerationOptions()) return null;

      return _react2.default.createElement(
        "div",
        { className: "col-xs-3 col-sm-2 col-md-1" },
        _react2.default.createElement(
          "div",
          { className: "btn-group btn-group-justified" },
          _react2.default.createElement(
            "div",
            { className: "btn-group dropdown" },
            _react2.default.createElement(
              "button",
              {
                type: "button",
                className: "btn btn-default btn-outline btn-icon dropdown-toggle",
                "data-toggle": "dropdown",
                "aria-haspopup": "true",
                "aria-expanded": "false",
                disabled: this.props.disabled
              },
              _react2.default.createElement(
                "span",
                { className: "material-icon" },
                "select_all"
              )
            ),
            _react2.default.createElement(_selection2.default, {
              className: "dropdown-menu dropdown-menu-right stick-to-bottom",
              threads: this.props.threads
            })
          )
        )
      );
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: "row row-toolbar row-toolbar-bottom-margin" },
        _react2.default.createElement(
          "div",
          { className: "col-xs-3 col-sm-3 col-md-2 dropdown" },
          this.getCategoryPicker()
        ),
        _react2.default.createElement("div", { className: "hidden-xs col-sm-4 col-md-7" }),
        this.getModerationButton(),
        this.getSelectionButton()
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./category-picker":256,"./moderation/controls":261,"./moderation/selection":265,"react":"react"}],270:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getPageTitle = getPageTitle;
exports.getTitle = getTitle;
exports.isThreadChanged = isThreadChanged;
exports.diffThreads = diffThreads;
exports.getModerationActions = getModerationActions;

var _index = require("../../index");

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function getPageTitle(route) {
  if (route.category.level) {
    if (route.list.path) {
      return {
        title: route.list.longName,
        parent: route.category.name
      };
    } else {
      return {
        title: route.category.name
      };
    }
  } else if (_index2.default.get("THREADS_ON_INDEX")) {
    if (route.list.path) {
      return {
        title: route.list.longName
      };
    } else {
      return null;
    }
  } else {
    if (route.list.path) {
      return {
        title: route.list.longName,
        parent: "Αγγελίες"
      };
    } else {
      return {
        title: "Αγγελίες"
      };
    }
  }
}

function getTitle(route) {
  if (route.category.level) {
    return route.category.name;
  } else if (_index2.default.get("THREADS_ON_INDEX")) {
    if (_index2.default.get("SETTINGS").index_header) {
      return _index2.default.get("SETTINGS").index_header;
    } else {
      return _index2.default.get("SETTINGS").forum_name;
    }
  } else {
    return "Αγγελίες";
  }
}

function isThreadChanged(current, fromDb) {
  return [current.title === fromDb.title, current.weight === fromDb.weight, current.category === fromDb.category, current.last_post === fromDb.last_post, current.last_poster_name === fromDb.last_poster_name].indexOf(false) >= 0;
}

function diffThreads(current, fromDb) {
  var currentMap = {};
  current.forEach(function (thread) {
    currentMap[thread.id] = thread;
  });

  return fromDb.filter(function (thread) {
    if (currentMap[thread.id]) {
      return isThreadChanged(currentMap[thread.id], thread);
    } else {
      return true;
    }
  });
}

function getModerationActions(threads) {
  var moderation = {
    allow: false,

    can_approve: 0,
    can_close: 0,
    can_delete: 0,
    can_hide: 0,
    can_merge: 0,
    can_move: 0,
    can_pin: 0,
    can_pin_globally: 0,
    can_unhide: 0
  };

  threads.forEach(function (thread) {
    if (thread.is_unapproved && thread.acl.can_approve > moderation.can_approve) {
      moderation.can_approve = thread.acl.can_approve;
    }

    if (thread.acl.can_close > moderation.can_close) {
      moderation.can_close = thread.acl.can_close;
    }

    if (thread.acl.can_delete > moderation.can_delete) {
      moderation.can_delete = thread.acl.can_delete;
    }

    if (thread.acl.can_hide > moderation.can_hide) {
      moderation.can_hide = thread.acl.can_hide;
    }

    if (thread.acl.can_merge > moderation.can_merge) {
      moderation.can_merge = thread.acl.can_merge;
    }

    if (thread.acl.can_move > moderation.can_move) {
      moderation.can_move = thread.acl.can_move;
    }

    if (thread.acl.can_pin > moderation.can_pin) {
      moderation.can_pin = thread.acl.can_pin;
    }

    if (thread.acl.can_pin_globally > moderation.can_pin_globally) {
      moderation.can_pin_globally = thread.acl.can_pin_globally;
    }

    if (thread.is_hidden && thread.acl.can_unhide > moderation.can_unhide) {
      moderation.can_unhide = thread.acl.can_unhide;
    }

    moderation.allow = moderation.can_approve || moderation.can_close || moderation.can_delete || moderation.can_hide || moderation.can_merge || moderation.can_move || moderation.can_pin || moderation.can_pin_globally || moderation.can_unhide;
  });

  return moderation;
}

},{"../../index":302}],271:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CompactGuestNav = exports.GuestNav = exports.GuestMenu = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _avatar = require("../avatar");

var _avatar2 = _interopRequireDefault(_avatar);

var _navbarSearch = require("../navbar-search");

var _navbarSearch2 = _interopRequireDefault(_navbarSearch);

var _registerButton = require("../register-button");

var _registerButton2 = _interopRequireDefault(_registerButton);

var _signIn = require("../sign-in.js");

var _signIn2 = _interopRequireDefault(_signIn);

var _ = require("../..");

var _2 = _interopRequireDefault(_);

var _mobileNavbarDropdown = require("../../services/mobile-navbar-dropdown");

var _mobileNavbarDropdown2 = _interopRequireDefault(_mobileNavbarDropdown);

var _modal = require("../../services/modal");

var _modal2 = _interopRequireDefault(_modal);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var GuestMenu = exports.GuestMenu = function (_React$Component) {
  _inherits(GuestMenu, _React$Component);

  function GuestMenu() {
    _classCallCheck(this, GuestMenu);

    return _possibleConstructorReturn(this, (GuestMenu.__proto__ || Object.getPrototypeOf(GuestMenu)).apply(this, arguments));
  }

  _createClass(GuestMenu, [{
    key: "showSignInModal",
    value: function showSignInModal() {
      _modal2.default.show(_signIn2.default);
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "ul",
        {
          className: "dropdown-menu user-dropdown dropdown-menu-right",
          role: "menu"
        },
        _react2.default.createElement(
          "li",
          { className: "guest-preview" },
          _react2.default.createElement(
            "h4",
            null,
            "Βλέπεις τη σελίδα ως επισκέπτης"
          ),
          _react2.default.createElement(
            "p",
            null,
            "Συνδέσου ή κάνε εγγραφή για να δημοσιέυσεις ή να αναλάβεις έργα!"
          ),
          _react2.default.createElement(
            "div",
            { className: "row" },
            _2.default.get("SETTINGS").enable_sso ? _react2.default.createElement(
              "div",
              { className: "col-xs-12" },
              _react2.default.createElement(
                "a",
                {
                  className: "btn btn-primary btn-register btn-block",
                  href: _2.default.get("SETTINGS").SSO_LOGIN_URL
                },
                "Σύνδεση"
              )
            ) : _react2.default.createElement(
              "div",
              { className: "col-xs-6" },
              _react2.default.createElement(
                "button",
                {
                  className: "btn btn-default btn-sign-in btn-block",
                  onClick: this.showSignInModal,
                  type: "button"
                },
                "Σύνδεση"
              )
            ),
            !_2.default.get("SETTINGS").enable_sso && _react2.default.createElement(
              "div",
              { className: "col-xs-6" },
              _react2.default.createElement(
                _registerButton2.default,
                { className: "btn-primary btn-register btn-block" },
                "Εγγραφή"
              )
            )
          )
        )
      );
    }
  }]);

  return GuestMenu;
}(_react2.default.Component);

var GuestNav = exports.GuestNav = function (_GuestMenu) {
  _inherits(GuestNav, _GuestMenu);

  function GuestNav() {
    _classCallCheck(this, GuestNav);

    return _possibleConstructorReturn(this, (GuestNav.__proto__ || Object.getPrototypeOf(GuestNav)).apply(this, arguments));
  }

  _createClass(GuestNav, [{
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: "nav nav-guest" },
        _2.default.get("SETTINGS").enable_sso ? _react2.default.createElement(
          "a",
          {
            className: "btn navbar-btn btn-primary btn-register",
            href: _2.default.get("SETTINGS").SSO_LOGIN_URL
          },
          "Σύνδεση"
        ) : _react2.default.createElement(
          "button",
          {
            className: "btn navbar-btn btn-default btn-sign-in",
            onClick: this.showSignInModal,
            type: "button"
          },
          "Σύνδεση"
        ),
        !_2.default.get("SETTINGS").enable_sso && _react2.default.createElement(
          _registerButton2.default,
          { className: "navbar-btn btn-primary btn-register" },
          "Εγγραφή"
        ),
        _react2.default.createElement(
          "div",
          { className: "navbar-left" },
          _react2.default.createElement(_navbarSearch2.default, null)
        )
      );
    }
  }]);

  return GuestNav;
}(GuestMenu);

var CompactGuestNav = exports.CompactGuestNav = function (_React$Component2) {
  _inherits(CompactGuestNav, _React$Component2);

  function CompactGuestNav() {
    _classCallCheck(this, CompactGuestNav);

    return _possibleConstructorReturn(this, (CompactGuestNav.__proto__ || Object.getPrototypeOf(CompactGuestNav)).apply(this, arguments));
  }

  _createClass(CompactGuestNav, [{
    key: "showGuestMenu",
    value: function showGuestMenu() {
      _mobileNavbarDropdown2.default.show(GuestMenu);
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "button",
        { type: "button", onClick: this.showGuestMenu },
        _react2.default.createElement(_avatar2.default, { size: "64" })
      );
    }
  }]);

  return CompactGuestNav;
}(_react2.default.Component);

},{"../..":302,"../../services/mobile-navbar-dropdown":370,"../../services/modal":371,"../avatar":6,"../navbar-search":77,"../register-button":198,"../sign-in.js":211,"react":"react"}],272:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CompactUserMenu = exports.UserMenu = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.select = select;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _guestNav = require("./guest-nav");

var _userNav = require("./user-nav");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var UserMenu = exports.UserMenu = function (_React$Component) {
  _inherits(UserMenu, _React$Component);

  function UserMenu() {
    _classCallCheck(this, UserMenu);

    return _possibleConstructorReturn(this, (UserMenu.__proto__ || Object.getPrototypeOf(UserMenu)).apply(this, arguments));
  }

  _createClass(UserMenu, [{
    key: "render",
    value: function render() {
      if (this.props.isAuthenticated) {
        return _react2.default.createElement(_userNav.UserNav, { user: this.props.user });
      } else {
        return _react2.default.createElement(_guestNav.GuestNav, null);
      }
    }
  }]);

  return UserMenu;
}(_react2.default.Component);

var CompactUserMenu = exports.CompactUserMenu = function (_React$Component2) {
  _inherits(CompactUserMenu, _React$Component2);

  function CompactUserMenu() {
    _classCallCheck(this, CompactUserMenu);

    return _possibleConstructorReturn(this, (CompactUserMenu.__proto__ || Object.getPrototypeOf(CompactUserMenu)).apply(this, arguments));
  }

  _createClass(CompactUserMenu, [{
    key: "render",
    value: function render() {
      if (this.props.isAuthenticated) {
        return _react2.default.createElement(_userNav.CompactUserNav, { user: this.props.user });
      } else {
        return _react2.default.createElement(_guestNav.CompactGuestNav, null);
      }
    }
  }]);

  return CompactUserMenu;
}(_react2.default.Component);

function select(state) {
  return state.auth;
}

},{"./guest-nav":271,"./user-nav":273,"react":"react"}],273:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CompactUserNav = exports.UserMenu = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.PrivateThreadsBadge = PrivateThreadsBadge;
exports.UserNav = UserNav;
exports.UserPrivateThreadsLink = UserPrivateThreadsLink;
exports.selectUserMenu = selectUserMenu;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _reactRedux = require("react-redux");

var _avatar = require("../avatar");

var _avatar2 = _interopRequireDefault(_avatar);

var _root = require("../change-avatar/root");

var _root2 = _interopRequireDefault(_root);

var _navbarSearch = require("../navbar-search");

var _navbarSearch2 = _interopRequireDefault(_navbarSearch);

var _ = require("../..");

var _2 = _interopRequireDefault(_);

var _mobileNavbarDropdown = require("../../services/mobile-navbar-dropdown");

var _mobileNavbarDropdown2 = _interopRequireDefault(_mobileNavbarDropdown);

var _modal = require("../../services/modal");

var _modal2 = _interopRequireDefault(_modal);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var UserMenu = exports.UserMenu = function (_React$Component) {
  _inherits(UserMenu, _React$Component);

  function UserMenu() {
    _classCallCheck(this, UserMenu);

    return _possibleConstructorReturn(this, (UserMenu.__proto__ || Object.getPrototypeOf(UserMenu)).apply(this, arguments));
  }

  _createClass(UserMenu, [{
    key: "logout",
    value: function logout() {
      var decision = confirm("Θέλεις σίγουρα να αποσυνδεθείς;");
      if (decision) {
        $("#hidden-logout-form").submit();
      }
    }
  }, {
    key: "changeAvatar",
    value: function changeAvatar() {
      _modal2.default.show((0, _reactRedux.connect)(_root.select)(_root2.default));
    }
  }, {
    key: "render",
    value: function render() {
      var user = this.props.user;


      return _react2.default.createElement(
        "ul",
        {
          className: "dropdown-menu user-dropdown dropdown-menu-right",
          role: "menu"
        },
        _react2.default.createElement(
          "li",
          { className: "dropdown-header" },
          _react2.default.createElement(
            "strong",
            null,
            user.username
          ),
          _react2.default.createElement(
            "div",
            { className: "row user-stats" },
            _react2.default.createElement(
              "div",
              { className: "col-sm-3" },
              _react2.default.createElement(
                "span",
                { className: "material-icon" },
                "message"
              ),
              user.posts
            ),
            _react2.default.createElement(
              "div",
              { className: "col-sm-3" },
              _react2.default.createElement(
                "span",
                { className: "material-icon" },
                "forum"
              ),
              user.threads
            ),
            _react2.default.createElement(
              "div",
              { className: "col-sm-3" },
              _react2.default.createElement(
                "span",
                { className: "material-icon" },
                "favorite"
              ),
              user.followers
            ),
            _react2.default.createElement(
              "div",
              { className: "col-sm-3" },
              _react2.default.createElement(
                "span",
                { className: "material-icon" },
                "favorite_outline"
              ),
              user.following
            )
          )
        ),
        _react2.default.createElement("li", { className: "divider" }),
        _react2.default.createElement(
          "li",
          null,
          _react2.default.createElement(
            "a",
            { href: user.url },
            _react2.default.createElement(
              "span",
              { className: "material-icon" },
              "account_circle"
            ),
            "Δες το προφίλ σου"
          )
        ),
        _react2.default.createElement(
          "li",
          null,
          _react2.default.createElement(
            "a",
            { href: _2.default.get("USERCP_URL") },
            _react2.default.createElement(
              "span",
              { className: "material-icon" },
              "done_all"
            ),
            "Άλλαξε τις επιλογές σου"
          )
        ),
        _react2.default.createElement(
          "li",
          null,
          _react2.default.createElement(
            "button",
            {
              className: "btn-link",
              onClick: this.changeAvatar,
              type: "button"
            },
            _react2.default.createElement(
              "span",
              { className: "material-icon" },
              "portrait"
            ),
            "Άλλαξε την εικόνα σου"
          )
        ),
        !!user.acl.can_use_private_threads && _react2.default.createElement(
          "li",
          null,
          _react2.default.createElement(
            "a",
            { href: _2.default.get("PRIVATE_THREADS_URL") },
            _react2.default.createElement(
              "span",
              { className: "material-icon" },
              "message"
            ),
            "Συνομιλίες για εργασίες",
            _react2.default.createElement(PrivateThreadsBadge, { user: user })
          )
        ),
        _react2.default.createElement("li", { className: "divider" }),
        _react2.default.createElement(
          "li",
          { className: "dropdown-buttons" },
          _react2.default.createElement(
            "button",
            {
              className: "btn btn-default btn-block",
              onClick: this.logout,
              type: "button"
            },
            "Αποσύνδεση"
          )
        )
      );
    }
  }]);

  return UserMenu;
}(_react2.default.Component);

function PrivateThreadsBadge(_ref) {
  var user = _ref.user;

  if (!user.unread_private_threads) return null;

  return _react2.default.createElement(
    "span",
    { className: "badge" },
    user.unread_private_threads
  );
}

function UserNav(_ref2) {
  var user = _ref2.user;

  return _react2.default.createElement(
    "ul",
    { className: "ul nav navbar-nav nav-user" },
    _react2.default.createElement(
      "li",
      null,
      _react2.default.createElement(_navbarSearch2.default, null)
    ),
    _react2.default.createElement(UserPrivateThreadsLink, { user: user }),
    _react2.default.createElement(
      "li",
      { className: "dropdown" },
      _react2.default.createElement(
        "a",
        {
          "aria-haspopup": "true",
          "aria-expanded": "false",
          className: "dropdown-toggle",
          "data-toggle": "dropdown",
          href: user.url,
          role: "button"
        },
        _react2.default.createElement(_avatar2.default, { user: user, size: "64" })
      ),
      _react2.default.createElement(UserMenu, { user: user })
    )
  );
}

function UserPrivateThreadsLink(_ref3) {
  var user = _ref3.user;

  if (!user.acl.can_use_private_threads) return null;

  var title = null;
  if (user.unread_private_threads) {
    title = "Έχεις αδιάβαστα μηνύματα!";
  } else {
    title = "Συνομιλίες για εργασίες";
  }

  return _react2.default.createElement(
    "li",
    null,
    _react2.default.createElement(
      "a",
      {
        className: "navbar-icon",
        href: _2.default.get("PRIVATE_THREADS_URL"),
        title: title
      },
      _react2.default.createElement(
        "span",
        { className: "material-icon" },
        "message"
      ),
      user.unread_private_threads > 0 && _react2.default.createElement(
        "span",
        { className: "badge" },
        user.unread_private_threads
      )
    )
  );
}

function selectUserMenu(state) {
  return {
    user: state.auth.user
  };
}

var CompactUserNav = exports.CompactUserNav = function (_React$Component2) {
  _inherits(CompactUserNav, _React$Component2);

  function CompactUserNav() {
    _classCallCheck(this, CompactUserNav);

    return _possibleConstructorReturn(this, (CompactUserNav.__proto__ || Object.getPrototypeOf(CompactUserNav)).apply(this, arguments));
  }

  _createClass(CompactUserNav, [{
    key: "showUserMenu",
    value: function showUserMenu() {
      _mobileNavbarDropdown2.default.showConnected("user-menu", (0, _reactRedux.connect)(selectUserMenu)(UserMenu));
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "button",
        { type: "button", onClick: this.showUserMenu },
        _react2.default.createElement(_avatar2.default, { user: this.props.user, size: "50" })
      );
    }
  }]);

  return CompactUserNav;
}(_react2.default.Component);

},{"../..":302,"../../services/mobile-navbar-dropdown":370,"../../services/modal":371,"../avatar":6,"../change-avatar/root":25,"../navbar-search":77,"react":"react","react-redux":"react-redux"}],274:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.StatusLabel = exports.StatusIcon = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.getStatusClassName = getStatusClassName;
exports.getStatusDescription = getStatusDescription;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "getClass",
    value: function getClass() {
      return getStatusClassName(this.props.status);
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "span",
        { className: this.getClass() },
        this.props.children
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

var StatusIcon = exports.StatusIcon = function (_React$Component2) {
  _inherits(StatusIcon, _React$Component2);

  function StatusIcon() {
    _classCallCheck(this, StatusIcon);

    return _possibleConstructorReturn(this, (StatusIcon.__proto__ || Object.getPrototypeOf(StatusIcon)).apply(this, arguments));
  }

  _createClass(StatusIcon, [{
    key: "getIcon",
    value: function getIcon() {
      if (this.props.status.is_banned) {
        return "remove_circle_outline";
      } else if (this.props.status.is_hidden) {
        return "help_outline";
      } else if (this.props.status.is_online_hidden) {
        return "label";
      } else if (this.props.status.is_offline_hidden) {
        return "label_outline";
      } else if (this.props.status.is_online) {
        return "lens";
      } else if (this.props.status.is_offline) {
        return "panorama_fish_eye";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "span",
        { className: "material-icon status-icon" },
        this.getIcon()
      );
    }
  }]);

  return StatusIcon;
}(_react2.default.Component);

var StatusLabel = exports.StatusLabel = function (_React$Component3) {
  _inherits(StatusLabel, _React$Component3);

  function StatusLabel() {
    _classCallCheck(this, StatusLabel);

    return _possibleConstructorReturn(this, (StatusLabel.__proto__ || Object.getPrototypeOf(StatusLabel)).apply(this, arguments));
  }

  _createClass(StatusLabel, [{
    key: "getHelp",
    value: function getHelp() {
      return getStatusDescription(this.props.user, this.props.status);
    }
  }, {
    key: "getLabel",
    value: function getLabel() {
      if (this.props.status.is_banned) {
        return "Απεκλεισμένος";
      } else if (this.props.status.is_hidden) {
        return "Κρυμμένος";
      } else if (this.props.status.is_online_hidden) {
        return "Συνδεδεμένος (κρυμμένος)";
      } else if (this.props.status.is_offline_hidden) {
        return "Εκτός σύνδεσης (κρυμμένός)";
      } else if (this.props.status.is_online) {
        return "Συνδεδεμένος";
      } else if (this.props.status.is_offline) {
        return "Εκτός σύνδεσης";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "span",
        {
          className: this.props.className || "status-label",
          title: this.getHelp()
        },
        this.getLabel()
      );
    }
  }]);

  return StatusLabel;
}(_react2.default.Component);

function getStatusClassName(status) {
  var className = "";
  if (status.is_banned) {
    className = "banned";
  } else if (status.is_hidden) {
    className = "offline";
  } else if (status.is_online_hidden) {
    className = "online";
  } else if (status.is_offline_hidden) {
    className = "offline";
  } else if (status.is_online) {
    className = "online";
  } else if (status.is_offline) {
    className = "offline";
  }

  return "user-status user-" + className;
}

function getStatusDescription(user, status) {
  if (status.is_banned) {
    if (status.banned_until) {
      return interpolate("Ο χρήστης %(username)s είναι απεκλεισμένος μέχρι %(ban_expires)s", {
        username: user.username,
        ban_expires: status.banned_until.format("LL, LT")
      }, true);
    } else {
      return interpolate("Ο χρήστης %(username)s είναι απεκλεισμένος", {
        username: user.username
      }, true);
    }
  } else if (status.is_hidden) {
    return interpolate("Ο χρήστης %(username)s είναι κρυμμένος", {
      username: user.username
    }, true);
  } else if (status.is_online_hidden) {
    return interpolate("Ο χρήστης %(username)s είναι συνδεδεμένος (κρυμμένος)", {
      username: user.username
    }, true);
  } else if (status.is_offline_hidden) {
    return interpolate("Ο χρήστης %(username)s συνδέθηκε τελευταία φορά στις %(last_click)s (κρυμμένος)", {
      username: user.username,
      last_click: status.last_click.fromNow()
    }, true);
  } else if (status.is_online) {
    return interpolate("Ο χρήστης %(username)s είναι συνδεδεμένος", {
      username: user.username
    }, true);
  } else if (status.is_offline) {
    return interpolate("Ο χρήστης %(username)s συνδέθηκε τελευταία φορά στις %(last_click)s", {
      username: user.username,
      last_click: status.last_click.fromNow()
    }, true);
  }
}

},{"react":"react"}],275:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _avatar = require("../avatar");

var _avatar2 = _interopRequireDefault(_avatar);

var _random = require("../../utils/random");

var random = _interopRequireWildcard(_random);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (this.props.hiddenOnMobile) {
        return "list-group-item hidden-xs hidden-sm";
      } else {
        return "list-group-item";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "li",
        { className: this.getClassName() },
        _react2.default.createElement(
          "div",
          { className: "change-avatar" },
          _react2.default.createElement(
            "span",
            { className: "user-avatar" },
            _react2.default.createElement(_avatar2.default, { size: "100" })
          )
        ),
        _react2.default.createElement(
          "div",
          { className: "change-author" },
          _react2.default.createElement(
            "span",
            {
              className: "ui-preview-text",
              style: { width: random.int(30, 100) + "px" }
            },
            "\xA0"
          )
        ),
        _react2.default.createElement(
          "div",
          { className: "change" },
          _react2.default.createElement(
            "span",
            {
              className: "ui-preview-text",
              style: { width: random.int(30, 70) + "px" }
            },
            "\xA0"
          ),
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "arrow_forward"
          ),
          _react2.default.createElement(
            "span",
            {
              className: "ui-preview-text",
              style: { width: random.int(30, 70) + "px" }
            },
            "\xA0"
          )
        ),
        _react2.default.createElement(
          "div",
          { className: "change-date" },
          _react2.default.createElement(
            "span",
            {
              className: "ui-preview-text",
              style: { width: random.int(80, 140) + "px" }
            },
            "\xA0"
          )
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../utils/random":388,"../avatar":6,"react":"react"}],276:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _avatar = require("../avatar");

var _avatar2 = _interopRequireDefault(_avatar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "renderUserAvatar",
    value: function renderUserAvatar() {
      if (this.props.change.changed_by) {
        return _react2.default.createElement(
          "a",
          {
            href: this.props.change.changed_by.url,
            className: "user-avatar-wrapper"
          },
          _react2.default.createElement(_avatar2.default, { user: this.props.change.changed_by, size: "100" })
        );
      } else {
        return _react2.default.createElement(
          "span",
          { className: "user-avatar-wrapper" },
          _react2.default.createElement(_avatar2.default, { size: "100" })
        );
      }
    }
  }, {
    key: "renderUsername",
    value: function renderUsername() {
      if (this.props.change.changed_by) {
        return _react2.default.createElement(
          "a",
          { href: this.props.change.changed_by.url, className: "item-title" },
          this.props.change.changed_by.username
        );
      } else {
        return _react2.default.createElement(
          "span",
          { className: "item-title" },
          this.props.change.changed_by_username
        );
      }
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "li",
        { className: "list-group-item", key: this.props.change.id },
        _react2.default.createElement(
          "div",
          { className: "change-avatar" },
          this.renderUserAvatar()
        ),
        _react2.default.createElement(
          "div",
          { className: "change-author" },
          this.renderUsername()
        ),
        _react2.default.createElement(
          "div",
          { className: "change" },
          _react2.default.createElement(
            "span",
            { className: "old-username" },
            this.props.change.old_username
          ),
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "arrow_forward"
          ),
          _react2.default.createElement(
            "span",
            { className: "new-username" },
            this.props.change.new_username
          )
        ),
        _react2.default.createElement(
          "div",
          { className: "change-date" },
          _react2.default.createElement(
            "abbr",
            { title: this.props.change.changed_on.format("LLL") },
            this.props.change.changed_on.fromNow()
          )
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../avatar":6,"react":"react"}],277:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "getEmptyMessage",
    value: function getEmptyMessage() {
      if (this.props.emptyMessage) {
        return this.props.emptyMessage;
      } else {
        return "Δεν έχεις αλλάξει το όνομα χρήστη σου";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: "username-history ui-ready" },
        _react2.default.createElement(
          "ul",
          { className: "list-group" },
          _react2.default.createElement(
            "li",
            { className: "list-group-item empty-message" },
            this.getEmptyMessage()
          )
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],278:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _changePreview = require("./change-preview");

var _changePreview2 = _interopRequireDefault(_changePreview);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: "username-history ui-preview" },
        _react2.default.createElement(
          "ul",
          { className: "list-group" },
          [0, 1, 2].map(function (i) {
            return _react2.default.createElement(_changePreview2.default, { hiddenOnMobile: i > 0, key: i });
          })
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./change-preview":275,"react":"react"}],279:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _change = require("./change");

var _change2 = _interopRequireDefault(_change);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: "username-history ui-ready" },
        _react2.default.createElement(
          "ul",
          { className: "list-group" },
          this.props.changes.map(function (change) {
            return _react2.default.createElement(_change2.default, { change: change, key: change.id });
          })
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./change":276,"react":"react"}],280:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _listEmpty = require("./list-empty");

var _listEmpty2 = _interopRequireDefault(_listEmpty);

var _listReady = require("./list-ready");

var _listReady2 = _interopRequireDefault(_listReady);

var _listPreview = require("./list-preview");

var _listPreview2 = _interopRequireDefault(_listPreview);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "render",
    value: function render() {
      if (this.props.isLoaded) {
        if (this.props.changes.length) {
          return _react2.default.createElement(_listReady2.default, { changes: this.props.changes });
        } else {
          return _react2.default.createElement(_listEmpty2.default, { emptyMessage: this.props.emptyMessage });
        }
      } else {
        return _react2.default.createElement(_listPreview2.default, null);
      }
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./list-empty":277,"./list-preview":278,"./list-ready":279,"react":"react"}],281:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var showStatus = _ref.showStatus,
      user = _ref.user;
  var rank = user.rank;


  var className = "panel user-card";
  if (rank.css_class) {
    className += " user-card-" + rank.css_class;
  }

  return _react2.default.createElement(
    "div",
    { className: className },
    _react2.default.createElement(
      "div",
      { className: "panel-body" },
      _react2.default.createElement(
        "div",
        { className: "row" },
        _react2.default.createElement(
          "div",
          { className: "col-xs-3 user-card-left" },
          _react2.default.createElement(
            "div",
            { className: "user-card-small-avatar" },
            _react2.default.createElement(
              "a",
              { href: user.url },
              _react2.default.createElement(_avatar2.default, { size: "50", size2x: "80", user: user })
            )
          )
        ),
        _react2.default.createElement(
          "div",
          { className: "col-xs-9 col-sm-12 user-card-body" },
          _react2.default.createElement(
            "div",
            { className: "user-card-avatar" },
            _react2.default.createElement(
              "a",
              { href: user.url },
              _react2.default.createElement(_avatar2.default, { size: "150", size2x: "200", user: user })
            )
          ),
          _react2.default.createElement(
            "div",
            { className: "user-card-username" },
            _react2.default.createElement(
              "a",
              { href: user.url },
              user.username
            )
          ),
          _react2.default.createElement(
            "div",
            { className: "user-card-title" },
            _react2.default.createElement(_userTitle2.default, { rank: rank, title: user.title })
          ),
          _react2.default.createElement(
            "div",
            { className: "user-card-stats" },
            _react2.default.createElement(_stats2.default, { showStatus: showStatus, user: user })
          )
        )
      )
    )
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _avatar = require("../../avatar");

var _avatar2 = _interopRequireDefault(_avatar);

var _stats = require("./stats");

var _stats2 = _interopRequireDefault(_stats);

var _userTitle = require("./user-title");

var _userTitle2 = _interopRequireDefault(_userTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../avatar":6,"./stats":282,"./user-title":283,"react":"react"}],282:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var showStatus = _ref.showStatus,
      user = _ref.user;

  return _react2.default.createElement(
    "ul",
    { className: "list-unstyled" },
    _react2.default.createElement(Status, { showStatus: showStatus, user: user }),
    _react2.default.createElement(JoinDate, { user: user }),
    _react2.default.createElement("li", { className: "user-stat-divider" }),
    _react2.default.createElement(Posts, { user: user }),
    _react2.default.createElement(Threads, { user: user }),
    _react2.default.createElement(Followers, { user: user })
  );
};

exports.Status = Status;
exports.JoinDate = JoinDate;
exports.Posts = Posts;
exports.Threads = Threads;
exports.Followers = Followers;
exports.getStatClassName = getStatClassName;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _userStatus = require("../../user-status");

var _userStatus2 = _interopRequireDefault(_userStatus);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function Status(_ref2) {
  var showStatus = _ref2.showStatus,
      user = _ref2.user;

  if (!showStatus) return null;

  return _react2.default.createElement(
    "li",
    { className: "user-stat-status" },
    _react2.default.createElement(
      _userStatus2.default,
      { status: user.status },
      _react2.default.createElement(_userStatus.StatusLabel, { status: user.status, user: user })
    )
  );
}

function JoinDate(_ref3) {
  var user = _ref3.user;
  var joined_on = user.joined_on;


  var title = interpolate("Έκανε εγγραφή %(joined_on)s", {
    joined_on: joined_on.format("LL, LT")
  }, true);

  var message = interpolate("Έκανε εγγραφή %(joined_on)s", {
    joined_on: joined_on.fromNow()
  }, true);

  return _react2.default.createElement(
    "li",
    { className: "user-stat-join-date" },
    _react2.default.createElement(
      "abbr",
      { title: title },
      message
    )
  );
}

function Posts(_ref4) {
  var user = _ref4.user;

  var className = getStatClassName("user-stat-posts", user.posts);
  var message = "%(posts)s προσφορές";

  return _react2.default.createElement(
    "li",
    { className: className },
    interpolate(message, {
      posts: user.posts
    }, true)
  );
}

function Threads(_ref5) {
  var user = _ref5.user;

  var className = getStatClassName("user-stat-threads", user.threads);
  var message = "%(threads)s αγγελίες";

  return _react2.default.createElement(
    "li",
    { className: className },
    interpolate(message, {
      threads: user.threads
    }, true)
  );
}

function Followers(_ref6) {
  var user = _ref6.user;

  var className = getStatClassName("user-stat-followers", user.followers);
  var message = "%(followers)s ακολουθούν";

  return _react2.default.createElement(
    "li",
    { className: className },
    interpolate(message, {
      followers: user.followers
    }, true)
  );
}

function getStatClassName(className, stat) {
  if (stat === 0) {
    return className + " user-stat-empty";
  }
  return className;
}

},{"../../user-status":274,"react":"react"}],283:[function(require,module,exports){
arguments[4][130][0].apply(exports,arguments)
},{"dup":130,"react":"react"}],284:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var cols = _ref.cols,
      isReady = _ref.isReady,
      showStatus = _ref.showStatus,
      users = _ref.users;

  var colClassName = "col-xs-12 col-sm-4";
  if (cols === 4) {
    colClassName += " col-md-3";
  }

  if (!isReady) {
    return _react2.default.createElement(_preview2.default, { colClassName: colClassName, cols: cols });
  }

  return _react2.default.createElement(
    "div",
    { className: "users-cards-list ui-ready" },
    _react2.default.createElement(
      "div",
      { className: "row" },
      users.map(function (user) {
        return _react2.default.createElement(
          "div",
          { className: colClassName, key: user.id },
          _react2.default.createElement(_card2.default, { showStatus: showStatus, user: user })
        );
      })
    )
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _card = require("./card");

var _card2 = _interopRequireDefault(_card);

var _preview = require("./preview");

var _preview2 = _interopRequireDefault(_preview);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./card":281,"./preview":286,"react":"react"}],285:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _avatar = require("../../avatar");

var _avatar2 = _interopRequireDefault(_avatar);

var _random = require("../../../utils/random");

var random = _interopRequireWildcard(_random);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: "panel user-card user-card-preview" },
        _react2.default.createElement(
          "div",
          { className: "panel-body" },
          _react2.default.createElement(
            "div",
            { className: "row" },
            _react2.default.createElement(
              "div",
              { className: "col-xs-3 user-card-left" },
              _react2.default.createElement(
                "div",
                { className: "user-card-small-avatar" },
                _react2.default.createElement(
                  "span",
                  null,
                  _react2.default.createElement(_avatar2.default, { size: "50", size2x: "80" })
                )
              )
            ),
            _react2.default.createElement(
              "div",
              { className: "col-xs-9 col-sm-12 user-card-body" },
              _react2.default.createElement(
                "div",
                { className: "user-card-avatar" },
                _react2.default.createElement(
                  "span",
                  null,
                  _react2.default.createElement(_avatar2.default, { size: "150", size2x: "200" })
                )
              ),
              _react2.default.createElement(
                "div",
                { className: "user-card-username" },
                _react2.default.createElement(
                  "span",
                  {
                    className: "ui-preview-text",
                    style: { width: random.int(60, 150) + "px" }
                  },
                  "\xA0"
                )
              ),
              _react2.default.createElement(
                "div",
                { className: "user-card-title" },
                _react2.default.createElement(
                  "span",
                  {
                    className: "ui-preview-text",
                    style: { width: random.int(60, 150) + "px" }
                  },
                  "\xA0"
                )
              ),
              _react2.default.createElement(
                "div",
                { className: "user-card-stats" },
                _react2.default.createElement(
                  "ul",
                  { className: "list-unstyled" },
                  _react2.default.createElement(
                    "li",
                    null,
                    _react2.default.createElement(
                      "span",
                      {
                        className: "ui-preview-text",
                        style: { width: random.int(30, 70) + "px" }
                      },
                      "\xA0"
                    )
                  ),
                  _react2.default.createElement(
                    "li",
                    null,
                    _react2.default.createElement(
                      "span",
                      {
                        className: "ui-preview-text",
                        style: { width: random.int(30, 70) + "px" }
                      },
                      "\xA0"
                    )
                  ),
                  _react2.default.createElement("li", { className: "user-stat-divider" }),
                  _react2.default.createElement(
                    "li",
                    null,
                    _react2.default.createElement(
                      "span",
                      {
                        className: "ui-preview-text",
                        style: { width: random.int(30, 70) + "px" }
                      },
                      "\xA0"
                    )
                  ),
                  _react2.default.createElement(
                    "li",
                    null,
                    _react2.default.createElement(
                      "span",
                      {
                        className: "ui-preview-text",
                        style: { width: random.int(30, 70) + "px" }
                      },
                      "\xA0"
                    )
                  )
                )
              )
            )
          )
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../utils/random":388,"../../avatar":6,"react":"react"}],286:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var colClassName = _ref.colClassName,
      cols = _ref.cols;

  var list = Array.apply(null, { length: cols }).map(Number.call, Number);

  return _react2.default.createElement(
    "div",
    { className: "users-cards-list ui-preview" },
    _react2.default.createElement(
      "div",
      { className: "row" },
      list.map(function (i) {
        var className = colClassName;
        if (i !== 0) className += " hidden-xs";
        if (i === 3) className += " hidden-sm";

        return _react2.default.createElement(
          "div",
          { className: className, key: i },
          _react2.default.createElement(_card2.default, null)
        );
      })
    )
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _card = require("./card");

var _card2 = _interopRequireDefault(_card);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./card":285,"react":"react"}],287:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "getEmptyMessage",
    value: function getEmptyMessage() {
      return interpolate("Κανένας χρήστης δεν έχει δημοσιεύσει καινούρια αγγελία τις τελευταίες %(days)s μέρες.", { days: this.props.trackedPeriod }, true);
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: "active-posters-list" },
        _react2.default.createElement(
          "div",
          { className: "container" },
          _react2.default.createElement(
            "p",
            { className: "lead" },
            this.getEmptyMessage()
          )
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],288:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _avatar = require("../../avatar");

var _avatar2 = _interopRequireDefault(_avatar);

var _random = require("../../../utils/random");

var random = _interopRequireWildcard(_random);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (this.props.hiddenOnMobile) {
        return "list-group-item hidden-xs hidden-sm";
      } else {
        return "list-group-item";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "li",
        { className: this.getClassName() },
        _react2.default.createElement(
          "div",
          { className: "rank-user-avatar" },
          _react2.default.createElement(
            "span",
            null,
            _react2.default.createElement(_avatar2.default, { size: "50" })
          )
        ),
        _react2.default.createElement(
          "div",
          { className: "rank-user" },
          _react2.default.createElement(
            "div",
            { className: "user-name" },
            _react2.default.createElement(
              "span",
              { className: "item-title" },
              _react2.default.createElement(
                "span",
                {
                  className: "ui-preview-text",
                  style: { width: random.int(30, 80) + "px" }
                },
                "\xA0"
              )
            )
          ),
          _react2.default.createElement(
            "div",
            { className: "user-details" },
            _react2.default.createElement(
              "span",
              { className: "user-status" },
              _react2.default.createElement(
                "span",
                { className: "status-icon ui-preview-text" },
                "\xA0"
              ),
              _react2.default.createElement(
                "span",
                {
                  className: "status-label ui-preview-text hidden-xs hidden-sm",
                  style: { width: random.int(30, 50) + "px" }
                },
                "\xA0"
              )
            ),
            _react2.default.createElement(
              "span",
              { className: "rank-name" },
              _react2.default.createElement(
                "span",
                {
                  className: "ui-preview-text",
                  style: { width: random.int(30, 50) + "px" }
                },
                "\xA0"
              )
            ),
            _react2.default.createElement(
              "span",
              { className: "user-title hidden-xs hidden-sm" },
              _react2.default.createElement(
                "span",
                {
                  className: "ui-preview-text",
                  style: { width: random.int(30, 50) + "px" }
                },
                "\xA0"
              )
            )
          ),
          _react2.default.createElement(
            "div",
            { className: "user-compact-stats visible-xs-block" },
            _react2.default.createElement(
              "span",
              { className: "rank-position" },
              _react2.default.createElement(
                "strong",
                null,
                _react2.default.createElement(
                  "span",
                  {
                    className: "ui-preview-text",
                    style: { width: random.int(20, 30) + "px" }
                  },
                  "\xA0"
                )
              ),
              _react2.default.createElement(
                "small",
                null,
                "Κατάταξη"
              )
            ),
            _react2.default.createElement(
              "span",
              { className: "rank-posts-counted" },
              _react2.default.createElement(
                "strong",
                null,
                _react2.default.createElement(
                  "span",
                  {
                    className: "ui-preview-text",
                    style: { width: random.int(20, 30) + "px" }
                  },
                  "\xA0"
                )
              ),
              _react2.default.createElement(
                "small",
                null,
                "Αγγελίες στην κατάταξη"
              )
            )
          )
        ),
        _react2.default.createElement(
          "div",
          { className: "rank-position hidden-xs" },
          _react2.default.createElement(
            "strong",
            null,
            _react2.default.createElement(
              "span",
              {
                className: "ui-preview-text",
                style: { width: random.int(20, 30) + "px" }
              },
              "\xA0"
            )
          ),
          _react2.default.createElement(
            "small",
            null,
            "Κατάταξη"
          )
        ),
        _react2.default.createElement(
          "div",
          { className: "rank-posts-counted hidden-xs" },
          _react2.default.createElement(
            "strong",
            null,
            _react2.default.createElement(
              "span",
              {
                className: "ui-preview-text",
                style: { width: random.int(20, 30) + "px" }
              },
              "\xA0"
            )
          ),
          _react2.default.createElement(
            "small",
            null,
            "Αγγελίες στην κατάταξη"
          )
        ),
        _react2.default.createElement(
          "div",
          { className: "rank-posts-total hidden-xs" },
          _react2.default.createElement(
            "strong",
            null,
            _react2.default.createElement(
              "span",
              {
                className: "ui-preview-text",
                style: { width: random.int(20, 30) + "px" }
              },
              "\xA0"
            )
          ),
          _react2.default.createElement(
            "small",
            null,
            "Συνολικός αριθμός αγγελιών"
          )
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../utils/random":388,"../../avatar":6,"react":"react"}],289:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require("react-router");

var _avatar = require("../../avatar");

var _avatar2 = _interopRequireDefault(_avatar);

var _userStatus = require("../../user-status");

var _userStatus2 = _interopRequireDefault(_userStatus);

var _index = require("../../../index");

var _index2 = _interopRequireDefault(_index);

var _random = require("../../../utils/random");

var random = _interopRequireWildcard(_random);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "getClassName",
    value: function getClassName() {
      if (this.props.rank.css_class) {
        return "list-group-item list-group-rank-" + this.props.rank.css_class;
      } else {
        return "list-group-item";
      }
    }
  }, {
    key: "getUserStatus",
    value: function getUserStatus() {
      if (this.props.user.status) {
        return _react2.default.createElement(
          _userStatus2.default,
          { user: this.props.user, status: this.props.user.status },
          _react2.default.createElement(_userStatus.StatusIcon, { user: this.props.user, status: this.props.user.status }),
          _react2.default.createElement(_userStatus.StatusLabel, {
            user: this.props.user,
            status: this.props.user.status,
            className: "status-label hidden-xs hidden-sm"
          })
        );
      }

      return _react2.default.createElement(
        "span",
        { className: "user-status" },
        _react2.default.createElement(
          "span",
          { className: "status-icon ui-preview-text" },
          "\xA0"
        ),
        _react2.default.createElement(
          "span",
          {
            className: "status-label ui-preview-text hidden-xs hidden-sm",
            style: { width: random.int(30, 50) + "px" }
          },
          "\xA0"
        )
      );
    }
  }, {
    key: "getRankName",
    value: function getRankName() {
      if (!this.props.rank.is_tab) {
        return _react2.default.createElement(
          "span",
          { className: "rank-name item-title" },
          this.props.rank.name
        );
      }

      var rankUrl = _index2.default.get("USERS_LIST_URL") + this.props.rank.slug + "/";
      return _react2.default.createElement(
        _reactRouter.Link,
        { to: rankUrl, className: "rank-name item-title" },
        this.props.rank.name
      );
    }
  }, {
    key: "getUserTitle",
    value: function getUserTitle() {
      if (!this.props.user.title) return null;

      return _react2.default.createElement(
        "span",
        { className: "user-title hidden-xs hidden-sm" },
        this.props.user.title
      );
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "li",
        { className: this.getClassName() },
        _react2.default.createElement(
          "div",
          { className: "rank-user-avatar" },
          _react2.default.createElement(
            "a",
            { href: this.props.user.url },
            _react2.default.createElement(_avatar2.default, { user: this.props.user, size: 50, size2x: 64 })
          )
        ),
        _react2.default.createElement(
          "div",
          { className: "rank-user" },
          _react2.default.createElement(
            "div",
            { className: "user-name" },
            _react2.default.createElement(
              "a",
              { href: this.props.user.url, className: "item-title" },
              this.props.user.username
            )
          ),
          _react2.default.createElement(
            "div",
            { className: "user-details" },
            this.getUserStatus(),
            this.getRankName(),
            this.getUserTitle()
          ),
          _react2.default.createElement(
            "div",
            { className: "user-compact-stats visible-xs-block" },
            _react2.default.createElement(
              "span",
              { className: "rank-position" },
              _react2.default.createElement(
                "strong",
                null,
                "#",
                this.props.counter
              ),
              _react2.default.createElement(
                "small",
                null,
                "Κατάταξη"
              )
            ),
            _react2.default.createElement(
              "span",
              { className: "rank-posts-counted" },
              _react2.default.createElement(
                "strong",
                null,
                this.props.user.meta.score
              ),
              _react2.default.createElement(
                "small",
                null,
                "Αγγελίες στην κατάταξη"
              )
            )
          )
        ),
        _react2.default.createElement(
          "div",
          { className: "rank-position hidden-xs" },
          _react2.default.createElement(
            "strong",
            null,
            "#",
            this.props.counter
          ),
          _react2.default.createElement(
            "small",
            null,
            "Κατάταξη"
          )
        ),
        _react2.default.createElement(
          "div",
          { className: "rank-posts-counted hidden-xs" },
          _react2.default.createElement(
            "strong",
            null,
            this.props.user.meta.score
          ),
          _react2.default.createElement(
            "small",
            null,
            "Αγγελίες στην κατάταξη"
          )
        ),
        _react2.default.createElement(
          "div",
          { className: "rank-posts-total hidden-xs" },
          _react2.default.createElement(
            "strong",
            null,
            this.props.user.posts
          ),
          _react2.default.createElement(
            "small",
            null,
            "Συνολικός αριθμός αγγελιών"
          )
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../index":302,"../../../utils/random":388,"../../avatar":6,"../../user-status":274,"react":"react","react-router":"react-router"}],290:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _listItemPreview = require("./list-item-preview");

var _listItemPreview2 = _interopRequireDefault(_listItemPreview);

var _random = require("../../../utils/random");

var random = _interopRequireWildcard(_random);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: "active-posters-list" },
        _react2.default.createElement(
          "div",
          { className: "container" },
          _react2.default.createElement(
            "p",
            { className: "lead ui-preview" },
            _react2.default.createElement(
              "span",
              {
                className: "ui-preview-text",
                style: { width: random.int(50, 220) + "px" }
              },
              "\xA0"
            )
          ),
          _react2.default.createElement(
            "div",
            { className: "active-posters ui-preview" },
            _react2.default.createElement(
              "ul",
              { className: "list-group" },
              [0, 1, 2].map(function (i) {
                return _react2.default.createElement(_listItemPreview2.default, { hiddenOnMobile: i > 0, key: i });
              })
            )
          )
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../utils/random":388,"./list-item-preview":288,"react":"react"}],291:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _listItem = require("./list-item");

var _listItem2 = _interopRequireDefault(_listItem);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "getLeadMessage",
    value: function getLeadMessage() {
      var message = "%(posters)s τοπ χρήστες τις τελευταίες %(days)s μέρες.";

      return interpolate(message, {
        posters: this.props.count,
        days: this.props.trackedPeriod
      }, true);
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: "active-posters-list" },
        _react2.default.createElement(
          "div",
          { className: "container" },
          _react2.default.createElement(
            "p",
            { className: "lead" },
            this.getLeadMessage()
          ),
          _react2.default.createElement(
            "div",
            { className: "active-posters ui-ready" },
            _react2.default.createElement(
              "ul",
              { className: "list-group" },
              this.props.users.map(function (user, i) {
                return _react2.default.createElement(_listItem2.default, {
                  user: user,
                  rank: user.rank,
                  counter: i + 1,
                  key: user.id
                });
              })
            )
          )
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./list-item":289,"react":"react"}],292:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _listEmpty = require("./list-empty");

var _listEmpty2 = _interopRequireDefault(_listEmpty);

var _listPreview = require("./list-preview");

var _listPreview2 = _interopRequireDefault(_listPreview);

var _listReady = require("./list-ready");

var _listReady2 = _interopRequireDefault(_listReady);

var _index = require("../../../index");

var _index2 = _interopRequireDefault(_index);

var _users = require("../../../reducers/users");

var _polls = require("../../../services/polls");

var _polls2 = _interopRequireDefault(_polls);

var _store = require("../../../services/store");

var _store2 = _interopRequireDefault(_store);

var _pageTitle = require("../../../services/page-title");

var _pageTitle2 = _interopRequireDefault(_pageTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.update = function (data) {
      _store2.default.dispatch((0, _users.hydrate)(data.results));

      _this.setState({
        isLoaded: true,

        trackedPeriod: data.tracked_period,
        count: data.count
      });
    };

    if (_index2.default.has("USERS")) {
      _this.initWithPreloadedData(_index2.default.pop("USERS"));
    } else {
      _this.initWithoutPreloadedData();
    }

    _this.startPolling();
    return _this;
  }

  _createClass(_class, [{
    key: "initWithPreloadedData",
    value: function initWithPreloadedData(data) {
      this.state = {
        isLoaded: true,

        trackedPeriod: data.tracked_period,
        count: data.count
      };

      _store2.default.dispatch((0, _users.hydrate)(data.results));
    }
  }, {
    key: "initWithoutPreloadedData",
    value: function initWithoutPreloadedData() {
      this.state = {
        isLoaded: false
      };
    }
  }, {
    key: "startPolling",
    value: function startPolling() {
      _polls2.default.start({
        poll: "active-posters",
        url: _index2.default.get("USERS_API"),
        data: {
          list: "active"
        },
        frequency: 90 * 1000,
        update: this.update
      });
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      _pageTitle2.default.set({
        title: this.props.route.extra.name,
        parent: "Χρήστες"
      });
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      _polls2.default.stop("active-posters");
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.isLoaded) {
        if (this.state.count > 0) {
          return _react2.default.createElement(_listReady2.default, {
            users: this.props.users,
            trackedPeriod: this.state.trackedPeriod,
            count: this.state.count
          });
        } else {
          return _react2.default.createElement(_listEmpty2.default, { trackedPeriod: this.state.trackedPeriod });
        }
      } else {
        return _react2.default.createElement(_listPreview2.default, null);
      }
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../index":302,"../../../reducers/users":364,"../../../services/page-title":373,"../../../services/polls":374,"../../../services/store":377,"./list-empty":287,"./list-preview":290,"./list-ready":291,"react":"react"}],293:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var baseUrl = _ref.baseUrl,
      lists = _ref.lists;

  return _react2.default.createElement(
    "ul",
    { className: "nav nav-pills" },
    lists.map(function (list) {
      var url = listUrl(baseUrl, list);
      return _react2.default.createElement(
        _li2.default,
        { path: url, key: url },
        _react2.default.createElement(
          _reactRouter.Link,
          { to: url },
          list.name
        )
      );
    })
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require("react-router");

var _li = require("../li");

var _li2 = _interopRequireDefault(_li);

var _index = require("../../index");

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var listUrl = function listUrl(baseUrl, list) {
  var url = baseUrl;
  if (list.component === "rank") {
    url += list.slug;
  } else {
    url += list.component;
  }
  return url + "/";
};

},{"../../index":302,"../li":57,"react":"react","react-router":"react-router"}],294:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _usersList = require("../../users-list");

var _usersList2 = _interopRequireDefault(_usersList);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        null,
        _react2.default.createElement(_usersList2.default, { cols: 4, isReady: false })
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../users-list":284,"react":"react"}],295:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    "div",
    null,
    _react2.default.createElement(_usersList2.default, {
      cols: 4,
      isReady: true,
      showStatus: true,
      users: props.users
    }),
    _react2.default.createElement(_pager2.default, props)
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _pager = require("./pager");

var _pager2 = _interopRequireDefault(_pager);

var _usersList = require("../../users-list");

var _usersList2 = _interopRequireDefault(_usersList);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../users-list":284,"./pager":296,"react":"react"}],296:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (props.pages === 1) return null;

  return _react2.default.createElement(
    "div",
    { className: "row row-toolbar" },
    _react2.default.createElement(
      "div",
      { className: "col-xs-12 text-center visible-xs-block" },
      _react2.default.createElement(More, { more: props.more }),
      _react2.default.createElement("div", { className: "toolbar-vertical-spacer" })
    ),
    _react2.default.createElement(
      "div",
      { className: "col-md-7" },
      _react2.default.createElement(
        "div",
        { className: "row" },
        _react2.default.createElement(
          "div",
          { className: "col-sm-4 col-md-5" },
          _react2.default.createElement(Pager, props)
        ),
        _react2.default.createElement(
          "div",
          { className: "col-sm-8 col-md-7 hidden-xs" },
          _react2.default.createElement(More, { more: props.more })
        )
      )
    )
  );
};

exports.Pager = Pager;
exports.FirstPage = FirstPage;
exports.PreviousPage = PreviousPage;
exports.NextPage = NextPage;
exports.LastPage = LastPage;
exports.More = More;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require("react-router");

var _resetScroll = require("../../../utils/reset-scroll");

var _resetScroll2 = _interopRequireDefault(_resetScroll);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function Pager(props) {
  return _react2.default.createElement(
    "div",
    { className: "row row-paginator" },
    _react2.default.createElement(
      "div",
      { className: "col-xs-3" },
      _react2.default.createElement(FirstPage, props)
    ),
    _react2.default.createElement(
      "div",
      { className: "col-xs-3" },
      _react2.default.createElement(PreviousPage, props)
    ),
    _react2.default.createElement(
      "div",
      { className: "col-xs-3" },
      _react2.default.createElement(NextPage, props)
    ),
    _react2.default.createElement(
      "div",
      { className: "col-xs-3" },
      _react2.default.createElement(LastPage, props)
    )
  );
}

function FirstPage(props) {
  if (props.isLoaded && props.first) {
    return _react2.default.createElement(
      _reactRouter.Link,
      {
        className: "btn btn-default btn-block btn-icon btn-outline",
        onClick: _resetScroll2.default,
        to: props.baseUrl,
        title: "Πρώτη σελίδα"
      },
      _react2.default.createElement(
        "span",
        { className: "material-icon" },
        "first_page"
      )
    );
  } else {
    return _react2.default.createElement(
      "span",
      {
        className: "btn btn-default btn-block btn-icon btn-outline disabled",
        title: "Πρώτη σελίδα"
      },
      _react2.default.createElement(
        "span",
        { className: "material-icon" },
        "first_page"
      )
    );
  }
}

function PreviousPage(props) {
  if (props.isLoaded && props.page > 1) {
    var previousUrl = "";
    if (props.previous) {
      previousUrl = props.previous + "/";
    }

    return _react2.default.createElement(
      _reactRouter.Link,
      {
        className: "btn btn-default btn-block btn-icon btn-outline",
        onClick: _resetScroll2.default,
        to: props.baseUrl + previousUrl,
        title: "Προηγούμενη σελίδα"
      },
      _react2.default.createElement(
        "span",
        { className: "material-icon" },
        "chevron_left"
      )
    );
  } else {
    return _react2.default.createElement(
      "span",
      {
        className: "btn btn-default btn-block btn-icon btn-outline disabled",
        title: "Προηγούμενη σελίδα"
      },
      _react2.default.createElement(
        "span",
        { className: "material-icon" },
        "chevron_left"
      )
    );
  }
}

function NextPage(props) {
  if (props.isLoaded && props.more) {
    var nextUrl = "";
    if (props.next) {
      nextUrl = props.next + "/";
    }

    return _react2.default.createElement(
      _reactRouter.Link,
      {
        className: "btn btn-default btn-block btn-icon btn-outline",
        onClick: _resetScroll2.default,
        to: props.baseUrl + nextUrl,
        title: "Επόμενη σελίδα"
      },
      _react2.default.createElement(
        "span",
        { className: "material-icon" },
        "chevron_right"
      )
    );
  } else {
    return _react2.default.createElement(
      "span",
      {
        className: "btn btn-default btn-block btn-icon btn-outline disabled",
        title: "Επόμενη σελίδα"
      },
      _react2.default.createElement(
        "span",
        { className: "material-icon" },
        "chevron_right"
      )
    );
  }
}

function LastPage(props) {
  if (props.isLoaded && props.last) {
    return _react2.default.createElement(
      _reactRouter.Link,
      {
        className: "btn btn-default btn-block btn-icon btn-outline",
        onClick: _resetScroll2.default,
        to: props.baseUrl + props.last + "/",
        title: "Τελευταία σελίδα"
      },
      _react2.default.createElement(
        "span",
        { className: "material-icon" },
        "last_page"
      )
    );
  } else {
    return _react2.default.createElement(
      "span",
      {
        className: "btn btn-default btn-block btn-icon btn-outline disabled",
        title: "Τελευταία σελίδα"
      },
      _react2.default.createElement(
        "span",
        { className: "material-icon" },
        "last_page"
      )
    );
  }
}

function More(props) {
  var message = null;
  if (props.more) {
    message = "Υπάρχουν %(more)s χρήστες σε αυτή την κατηγορία.", message = interpolate(message, { more: props.more }, true);
  } else {
    message = "Δεν υπάρχουν άλλοι χρήστες σε αυτή την κατηγορία.";
  }

  return _react2.default.createElement(
    "p",
    null,
    message
  );
}

},{"../../../utils/reset-scroll":389,"react":"react","react-router":"react-router"}],297:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _pageLead = require("../../page-lead");

var _pageLead2 = _interopRequireDefault(_pageLead);

var _list = require("./list");

var _list2 = _interopRequireDefault(_list);

var _listLoading = require("./list-loading");

var _listLoading2 = _interopRequireDefault(_listLoading);

var _index = require("../../../index");

var _index2 = _interopRequireDefault(_index);

var _users = require("../../../reducers/users");

var _polls = require("../../../services/polls");

var _polls2 = _interopRequireDefault(_polls);

var _store = require("../../../services/store");

var _store2 = _interopRequireDefault(_store);

var _pageTitle = require("../../../services/page-title");

var _pageTitle2 = _interopRequireDefault(_pageTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.update = function (data) {
      _store2.default.dispatch((0, _users.hydrate)(data.results));

      data.isLoaded = true;
      _this.setState(data);
    };

    if (_index2.default.has("USERS")) {
      _this.initWithPreloadedData(_index2.default.pop("USERS"));
    } else {
      _this.initWithoutPreloadedData();
    }

    _this.startPolling(props.params.page || 1);
    return _this;
  }

  _createClass(_class, [{
    key: "initWithPreloadedData",
    value: function initWithPreloadedData(data) {
      this.state = Object.assign(data, {
        isLoaded: true
      });
      _store2.default.dispatch((0, _users.hydrate)(data.results));
    }
  }, {
    key: "initWithoutPreloadedData",
    value: function initWithoutPreloadedData() {
      this.state = {
        isLoaded: false
      };
    }
  }, {
    key: "startPolling",
    value: function startPolling(page) {
      _polls2.default.start({
        poll: "rank-users",
        url: _index2.default.get("USERS_API"),
        data: {
          rank: this.props.route.rank.id,
          page: page
        },
        frequency: 90 * 1000,
        update: this.update
      });
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      _pageTitle2.default.set({
        title: this.props.route.rank.name,
        page: this.props.params.page || null,
        parent: "Χρήστες"
      });
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      _polls2.default.stop("rank-users");
    }
  }, {
    key: "componentWillReceiveProps",
    value: function componentWillReceiveProps(nextProps) {
      if (this.props.params.page !== nextProps.params.page) {
        _pageTitle2.default.set({
          title: this.props.route.rank.name,
          page: nextProps.params.page || null,
          parent: "Χρήστες"
        });

        this.setState({
          isLoaded: false
        });

        _polls2.default.stop("rank-users");
        this.startPolling(nextProps.params.page);
      }
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (this.props.route.rank.css_class) {
        return "rank-users-list rank-users-" + this.props.route.rank.css_class;
      } else {
        return "rank-users-list";
      }
    }
  }, {
    key: "getRankDescription",
    value: function getRankDescription() {
      if (this.props.route.rank.description) {
        return _react2.default.createElement(
          "div",
          { className: "rank-description" },
          _react2.default.createElement(_pageLead2.default, { copy: this.props.route.rank.description.html })
        );
      } else {
        return null;
      }
    }
  }, {
    key: "getComponent",
    value: function getComponent() {
      if (this.state.isLoaded) {
        if (this.state.count > 0) {
          var baseUrl = _index2.default.get("USERS_LIST_URL") + this.props.route.rank.slug + "/";
          return _react2.default.createElement(_list2.default, _extends({ baseUrl: baseUrl, users: this.props.users }, this.state));
        } else {
          return _react2.default.createElement(
            "p",
            { className: "lead" },
            "Δεν υπάρχει κανένας χρήστης σε αυτή την κατηγορία ακόμα."
          );
        }
      } else {
        return _react2.default.createElement(_listLoading2.default, null);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: this.getClassName() },
        _react2.default.createElement(
          "div",
          { className: "container" },
          this.getRankDescription(),
          this.getComponent()
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../index":302,"../../../reducers/users":364,"../../../services/page-title":373,"../../../services/polls":374,"../../../services/store":377,"../../page-lead":92,"./list":295,"./list-loading":294,"react":"react"}],298:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.select = select;
exports.paths = paths;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _reactRedux = require("react-redux");

var _dropdownToggle = require("../dropdown-toggle");

var _dropdownToggle2 = _interopRequireDefault(_dropdownToggle);

var _nav = require("./nav");

var _nav2 = _interopRequireDefault(_nav);

var _root = require("./active-posters/root");

var _root2 = _interopRequireDefault(_root);

var _root3 = require("./rank/root");

var _root4 = _interopRequireDefault(_root3);

var _withDropdown = require("../with-dropdown");

var _withDropdown2 = _interopRequireDefault(_withDropdown);

var _index = require("../../index");

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_WithDropdown) {
  _inherits(_class, _WithDropdown);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "div",
        { className: "page page-users-lists" },
        _react2.default.createElement(
          "div",
          { className: "page-header-bg" },
          _react2.default.createElement(
            "div",
            { className: "page-header" },
            _react2.default.createElement(
              "div",
              { className: "container" },
              _react2.default.createElement(
                "h1",
                null,
                "Χρήστες"
              )
            ),
            _react2.default.createElement(
              "div",
              { className: "page-tabs" },
              _react2.default.createElement(
                "div",
                { className: "container" },
                _react2.default.createElement(_nav2.default, {
                  lists: _index2.default.get("USERS_LISTS"),
                  baseUrl: _index2.default.get("USERS_LIST_URL")
                })
              )
            )
          )
        ),
        this.props.children
      );
    }
  }]);

  return _class;
}(_withDropdown2.default);

exports.default = _class;
function select(store) {
  return {
    tick: store.tick.tick,
    user: store.auth.user,
    users: store.users
  };
}

function paths() {
  var paths = [];

  _index2.default.get("USERS_LISTS").forEach(function (item) {
    if (item.component === "rank") {
      paths.push({
        path: _index2.default.get("USERS_LIST_URL") + item.slug + "/:page/",
        component: (0, _reactRedux.connect)(select)(_root4.default),
        rank: item
      });
      paths.push({
        path: _index2.default.get("USERS_LIST_URL") + item.slug + "/",
        component: (0, _reactRedux.connect)(select)(_root4.default),
        rank: item
      });
    } else if (item.component === "active-posters") {
      paths.push({
        path: _index2.default.get("USERS_LIST_URL") + item.component + "/",
        component: (0, _reactRedux.connect)(select)(_root2.default),
        extra: {
          name: item.name
        }
      });
    }
  });

  return paths;
}

},{"../../index":302,"../dropdown-toggle":27,"../with-dropdown":299,"./active-posters/root":292,"./nav":293,"./rank/root":297,"react":"react","react-redux":"react-redux"}],299:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.toggleNav = function () {
      _this.setState({
        dropdown: !_this.state.dropdown
      });
    };

    _this.hideNav = function () {
      _this.setState({
        dropdown: false
      });
    };

    _this.state = {
      dropdown: false
    };
    return _this;
  }

  _createClass(_class, [{
    key: "getCompactNavClassName",
    value: function getCompactNavClassName() {
      if (this.state.dropdown) {
        return "compact-nav open";
      } else {
        return "compact-nav";
      }
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],300:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.toggle = function () {
      _this.props.onChange({
        target: {
          value: !_this.props.value
        }
      });
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: "getClassName",
    value: function getClassName() {
      if (this.props.value) {
        return "btn btn-yes-no btn-yes-no-on";
      } else {
        return "btn btn-yes-no btn-yes-no-off";
      }
    }
  }, {
    key: "getIcon",
    value: function getIcon() {
      if (!!this.props.value) {
        return this.props.iconOn || "check_box";
      } else {
        return this.props.iconOff || "check_box_outline_blank";
      }
    }
  }, {
    key: "getLabel",
    value: function getLabel() {
      if (!!this.props.value) {
        return this.props.labelOn || "Ναι";
      } else {
        return this.props.labelOff || "Όχι";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "button",
        {
          type: "button",
          onClick: this.toggle,
          className: this.getClassName(),
          id: this.props.id || null,
          "aria-describedby": this.props["aria-describedby"] || null,
          disabled: this.props.disabled || false
        },
        _react2.default.createElement(
          "span",
          { className: "material-icon" },
          this.getIcon()
        ),
        _react2.default.createElement(
          "span",
          { className: "btn-text" },
          this.getLabel()
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],301:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _profileDetails = require("../reducers/profile-details");

var _ajax = require("../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require("../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _props = this.props,
          data = _props.data,
          dispatch = _props.dispatch,
          user = _props.user;

      if (data && data.id === user.id) return;

      _ajax2.default.get(this.props.user.api.details).then(function (data) {
        dispatch((0, _profileDetails.load)(data));
      }, function (rejection) {
        _snackbar2.default.apiError(rejection);
      });
    }
  }, {
    key: "render",
    value: function render() {
      return this.props.children;
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../reducers/profile-details":355,"../services/ajax":365,"../services/snackbar":376,"react":"react"}],302:[function(require,module,exports){
(function (global){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Misago = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _orderedList = require("./utils/ordered-list");

var _orderedList2 = _interopRequireDefault(_orderedList);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Misago = exports.Misago = function () {
  function Misago() {
    _classCallCheck(this, Misago);

    this._initializers = [];
    this._context = {};
  }

  _createClass(Misago, [{
    key: "addInitializer",
    value: function addInitializer(initializer) {
      this._initializers.push({
        key: initializer.name,

        item: initializer.initializer,

        after: initializer.after,
        before: initializer.before
      });
    }
  }, {
    key: "init",
    value: function init(context) {
      var _this = this;

      this._context = context;

      var initOrder = new _orderedList2.default(this._initializers).orderedValues();
      initOrder.forEach(function (initializer) {
        initializer(_this);
      });
    }

    // context accessors

  }, {
    key: "has",
    value: function has(key) {
      return !!this._context[key];
    }
  }, {
    key: "get",
    value: function get(key, fallback) {
      if (this.has(key)) {
        return this._context[key];
      } else {
        return fallback || undefined;
      }
    }
  }, {
    key: "pop",
    value: function pop(key) {
      if (this.has(key)) {
        var value = this._context[key];
        this._context[key] = null;
        return value;
      } else {
        return undefined;
      }
    }
  }]);

  return Misago;
}();

// create  singleton


var misago = new Misago();

// expose it globally
global.misago = misago;

// and export it for tests and stuff
exports.default = misago;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./utils/ordered-list":387}],303:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require("../index");

var _index2 = _interopRequireDefault(_index);

var _ajax = require("../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _ajax2.default.init(_index2.default.get("CSRF_COOKIE_NAME"));
}

_index2.default.addInitializer({
  name: "ajax",
  initializer: initializer
});

},{"../index":302,"../services/ajax":365}],304:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require("../index");

var _index2 = _interopRequireDefault(_index);

var _auth = require("../reducers/auth");

var _ajax = require("../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require("../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require("../services/store");

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var AUTH_SYNC_RATE = 45; // sync user with backend every 45 seconds

function initializer(context) {
  if (context.get("isAuthenticated")) {
    window.setInterval(function () {
      _ajax2.default.get(context.get("AUTH_API")).then(function (data) {
        _store2.default.dispatch((0, _auth.patch)(data));
      }, function (rejection) {
        _snackbar2.default.apiError(rejection);
      });
    }, AUTH_SYNC_RATE * 1000);
  }
}

_index2.default.addInitializer({
  name: "auth-sync",
  initializer: initializer,
  after: "auth"
});

},{"../index":302,"../reducers/auth":350,"../services/ajax":365,"../services/snackbar":376,"../services/store":377}],305:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require("../index");

var _index2 = _interopRequireDefault(_index);

var _auth = require("../services/auth");

var _auth2 = _interopRequireDefault(_auth);

var _modal = require("../services/modal");

var _modal2 = _interopRequireDefault(_modal);

var _store = require("../services/store");

var _store2 = _interopRequireDefault(_store);

var _localStorage = require("../services/local-storage");

var _localStorage2 = _interopRequireDefault(_localStorage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _auth2.default.init(_store2.default, _localStorage2.default, _modal2.default);
}

_index2.default.addInitializer({
  name: "auth",
  initializer: initializer,
  after: "store"
});

},{"../index":302,"../services/auth":366,"../services/local-storage":369,"../services/modal":371,"../services/store":377}],306:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require("../index");

var _index2 = _interopRequireDefault(_index);

var _ajax = require("../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _captcha = require("../services/captcha");

var _captcha2 = _interopRequireDefault(_captcha);

var _include = require("../services/include");

var _include2 = _interopRequireDefault(_include);

var _snackbar = require("../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  _captcha2.default.init(context, _ajax2.default, _include2.default, _snackbar2.default);
}

_index2.default.addInitializer({
  name: "captcha",
  initializer: initializer
});

},{"../index":302,"../services/ajax":365,"../services/captcha":367,"../services/include":368,"../services/snackbar":376}],307:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _index = require("../../index");

var _index2 = _interopRequireDefault(_index);

var _acceptAgreement = require("../../components/accept-agreement");

var _acceptAgreement2 = _interopRequireDefault(_acceptAgreement);

var _mountComponent = require("../../utils/mount-component");

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  if (document.getElementById("required-agreement-mount")) {
    (0, _mountComponent2.default)(_react2.default.createElement(_acceptAgreement2.default, { api: context.get("REQUIRED_AGREEMENT_API") }), "required-agreement-mount", false);
  }
}

_index2.default.addInitializer({
  name: "component:accept-agreement",
  initializer: initializer,
  after: "store"
});

},{"../../components/accept-agreement":3,"../../index":302,"../../utils/mount-component":386,"react":"react"}],308:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _reactRedux = require("react-redux");

var _index = require("../../index");

var _index2 = _interopRequireDefault(_index);

var _authMessage = require("../../components/auth-message");

var _authMessage2 = _interopRequireDefault(_authMessage);

var _mountComponent = require("../../utils/mount-component");

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  (0, _mountComponent2.default)((0, _reactRedux.connect)(_authMessage.select)(_authMessage2.default), "auth-message-mount");
}

_index2.default.addInitializer({
  name: "component:auth-message",
  initializer: initializer,
  after: "store"
});

},{"../../components/auth-message":5,"../../index":302,"../../utils/mount-component":386,"react-redux":"react-redux"}],309:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require("../../index");

var _index2 = _interopRequireDefault(_index);

var _bannedPage = require("../../utils/banned-page");

var _bannedPage2 = _interopRequireDefault(_bannedPage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  if (context.has("BAN_MESSAGE")) {
    (0, _bannedPage2.default)(context.get("BAN_MESSAGE"), false);
  }
}

_index2.default.addInitializer({
  name: "component:banmed-page",
  initializer: initializer,
  after: "store"
});

},{"../../index":302,"../../utils/banned-page":379}],310:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _reactRedux = require("react-redux");

var _categories = require("../../components/categories");

var _categories2 = _interopRequireDefault(_categories);

var _index = require("../../index");

var _index2 = _interopRequireDefault(_index);

var _mountComponent = require("../../utils/mount-component");

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  if (document.getElementById("categories-mount")) {
    (0, _mountComponent2.default)((0, _reactRedux.connect)(_categories.select)(_categories2.default), "categories-mount");
  }
}

_index2.default.addInitializer({
  name: "component:categories",
  initializer: initializer,
  after: "store"
});

},{"../../components/categories":20,"../../index":302,"../../utils/mount-component":386,"react-redux":"react-redux"}],311:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _root = require("../../components/options/root");

var _root2 = _interopRequireDefault(_root);

var _index = require("../../index");

var _index2 = _interopRequireDefault(_index);

var _routedComponent = require("../../utils/routed-component");

var _routedComponent2 = _interopRequireDefault(_routedComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  if (context.has("USER_OPTIONS")) {
    (0, _routedComponent2.default)({
      root: _index2.default.get("USERCP_URL"),
      component: _root2.default,
      paths: (0, _root.paths)()
    });
  }
}

_index2.default.addInitializer({
  name: "component:options",
  initializer: initializer,
  after: "store"
});

},{"../../components/options/root":87,"../../index":302,"../../utils/routed-component":390}],312:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _reactRedux = require("react-redux");

var _root = require("../../components/profile/root");

var _root2 = _interopRequireDefault(_root);

var _index = require("../../index");

var _index2 = _interopRequireDefault(_index);

var _routedComponent = require("../../utils/routed-component");

var _routedComponent2 = _interopRequireDefault(_routedComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  if (context.has("PROFILE") && context.has("PROFILE_PAGES")) {
    (0, _routedComponent2.default)({
      root: _index2.default.get("PROFILE").url,
      component: (0, _reactRedux.connect)(_root.select)(_root2.default),
      paths: (0, _root.paths)()
    });
  }
}

_index2.default.addInitializer({
  name: "component:profile",
  initializer: initializer,
  after: "reducer:profile-hydrate"
});

},{"../../components/profile/root":195,"../../index":302,"../../utils/routed-component":390,"react-redux":"react-redux"}],313:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require("../../index");

var _index2 = _interopRequireDefault(_index);

var _requestActivationLink = require("../../components/request-activation-link");

var _requestActivationLink2 = _interopRequireDefault(_requestActivationLink);

var _mountComponent = require("../../utils/mount-component");

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  if (document.getElementById("request-activation-link-mount")) {
    (0, _mountComponent2.default)(_requestActivationLink2.default, "request-activation-link-mount", false);
  }
}

_index2.default.addInitializer({
  name: "component:request-activation-link",
  initializer: initializer,
  after: "store"
});

},{"../../components/request-activation-link":200,"../../index":302,"../../utils/mount-component":386}],314:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require("../../index");

var _index2 = _interopRequireDefault(_index);

var _requestPasswordReset = require("../../components/request-password-reset");

var _requestPasswordReset2 = _interopRequireDefault(_requestPasswordReset);

var _mountComponent = require("../../utils/mount-component");

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  if (document.getElementById("request-password-reset-mount")) {
    (0, _mountComponent2.default)(_requestPasswordReset2.default, "request-password-reset-mount", false);
  }
}

_index2.default.addInitializer({
  name: "component:request-password-reset",
  initializer: initializer,
  after: "store"
});

},{"../../components/request-password-reset":201,"../../index":302,"../../utils/mount-component":386}],315:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = require("../..");

var _2 = _interopRequireDefault(_);

var _resetPasswordForm = require("../../components/reset-password-form");

var _resetPasswordForm2 = _interopRequireDefault(_resetPasswordForm);

var _mountComponent = require("../../utils/mount-component");

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  if (document.getElementById("reset-password-form-mount")) {
    (0, _mountComponent2.default)(_resetPasswordForm2.default, "reset-password-form-mount", false);
  }
}

_2.default.addInitializer({
  name: "component:reset-password-form",
  initializer: initializer,
  after: "store"
});

},{"../..":302,"../../components/reset-password-form":202,"../../utils/mount-component":386}],316:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _search = require("../../components/search");

var _search2 = _interopRequireDefault(_search);

var _ = require("../..");

var _2 = _interopRequireDefault(_);

var _routedComponent = require("../../utils/routed-component");

var _routedComponent2 = _interopRequireDefault(_routedComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  if (context.get("CURRENT_LINK") === "misago:search") {
    (0, _routedComponent2.default)({
      paths: (0, _search2.default)(_2.default.get("SEARCH_PROVIDERS"))
    });
  }
}

_2.default.addInitializer({
  name: "component:search",
  initializer: initializer,
  after: "store"
});

},{"../..":302,"../../components/search":204,"../../utils/routed-component":390}],317:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _reactRedux = require("react-redux");

var _index = require("../../index");

var _index2 = _interopRequireDefault(_index);

var _snackbar = require("../../components/snackbar");

var _mountComponent = require("../../utils/mount-component");

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  (0, _mountComponent2.default)((0, _reactRedux.connect)(_snackbar.select)(_snackbar.Snackbar), "snackbar-mount");
}

_index2.default.addInitializer({
  name: "component:snackbar",
  initializer: initializer,
  after: "snackbar"
});

},{"../../components/snackbar":212,"../../index":302,"../../utils/mount-component":386,"react-redux":"react-redux"}],318:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _socialAuth = require("../../components/social-auth");

var _socialAuth2 = _interopRequireDefault(_socialAuth);

var _ = require("../..");

var _2 = _interopRequireDefault(_);

var _mountComponent = require("../../utils/mount-component");

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  if (context.get("CURRENT_LINK") === "misago:social-complete") {
    var props = context.get("SOCIAL_AUTH_FORM");
    (0, _mountComponent2.default)(_react2.default.createElement(_socialAuth2.default, props), "page-mount");
  }
}

_2.default.addInitializer({
  name: "component:social-auth",
  initializer: initializer,
  after: "store"
});

},{"../..":302,"../../components/social-auth":215,"../../utils/mount-component":386,"react":"react"}],319:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _root = require("../../components/thread/root");

var _index = require("../../index");

var _index2 = _interopRequireDefault(_index);

var _routedComponent = require("../../utils/routed-component");

var _routedComponent2 = _interopRequireDefault(_routedComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  if (context.has("THREAD") && context.has("POSTS")) {
    (0, _routedComponent2.default)({
      paths: (0, _root.paths)()
    });
  }
}

_index2.default.addInitializer({
  name: "component:thread",
  initializer: initializer,
  after: "store"
});

},{"../../components/thread/root":233,"../../index":302,"../../utils/routed-component":390}],320:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;
exports.getListOptions = getListOptions;

var _root = require("../../components/threads/root");

var _index = require("../../index");

var _index2 = _interopRequireDefault(_index);

var _routedComponent = require("../../utils/routed-component");

var _routedComponent2 = _interopRequireDefault(_routedComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var PRIVATE_THREADS_LIST = "misago:private-threads";

function initializer(context) {
  if (context.has("THREADS") && context.has("CATEGORIES")) {
    (0, _routedComponent2.default)({
      paths: (0, _root.paths)(context.get("user"), getListOptions(context))
    });
  }
}

function getListOptions(context) {
  var currentLink = context.get("CURRENT_LINK");
  if (currentLink.substr(0, PRIVATE_THREADS_LIST.length) === PRIVATE_THREADS_LIST) {
    return {
      api: context.get("PRIVATE_THREADS_API"),
      mode: "START",
      config: _index2.default.get("THREAD_EDITOR_API"),
      submit: _index2.default.get("THREADS_API"),
      title: "Συνομιλίες για ανάθεση εργασίας",
      pageLead: "Οι συνομιλίες μεταξύ πελατών και μηχανικών είναι ιδιωτικές.",
      emptyMessage: "Δεν έχεις ανοικτές συνομιλίες αυτή τη στιγμή..."
    };
  }

  return {
    api: context.get("THREADS_API")
  };
}

_index2.default.addInitializer({
  name: "component:threads",
  initializer: initializer,
  after: "store"
});

},{"../../components/threads/root":267,"../../index":302,"../../utils/routed-component":390}],321:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _reactRedux = require("react-redux");

var _index = require("../../index");

var _index2 = _interopRequireDefault(_index);

var _root = require("../../components/user-menu/root");

var _mountComponent = require("../../utils/mount-component");

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  (0, _mountComponent2.default)((0, _reactRedux.connect)(_root.select)(_root.UserMenu), "user-menu-mount");
  (0, _mountComponent2.default)((0, _reactRedux.connect)(_root.select)(_root.CompactUserMenu), "user-menu-compact-mount");
}

_index2.default.addInitializer({
  name: "component:user-menu",
  initializer: initializer,
  after: "store"
});

},{"../../components/user-menu/root":272,"../../index":302,"../../utils/mount-component":386,"react-redux":"react-redux"}],322:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _root = require("../../components/users/root");

var _root2 = _interopRequireDefault(_root);

var _index = require("../../index");

var _index2 = _interopRequireDefault(_index);

var _routedComponent = require("../../utils/routed-component");

var _routedComponent2 = _interopRequireDefault(_routedComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  if (context.has("USERS_LISTS")) {
    (0, _routedComponent2.default)({
      root: _index2.default.get("USERS_LIST_URL"),
      component: _root2.default,
      paths: (0, _root.paths)()
    });
  }
}

_index2.default.addInitializer({
  name: "component:users",
  initializer: initializer,
  after: "store"
});

},{"../../components/users/root":298,"../../index":302,"../../utils/routed-component":390}],323:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require("../index");

var _index2 = _interopRequireDefault(_index);

var _include = require("../services/include");

var _include2 = _interopRequireDefault(_include);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  _include2.default.init(context.get("STATIC_URL"));
}

_index2.default.addInitializer({
  name: "include",
  initializer: initializer
});

},{"../index":302,"../services/include":368}],324:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require("../index");

var _index2 = _interopRequireDefault(_index);

var _localStorage = require("../services/local-storage");

var _localStorage2 = _interopRequireDefault(_localStorage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _localStorage2.default.init("misago_");
}

_index2.default.addInitializer({
  name: "local-storage",
  initializer: initializer
});

},{"../index":302,"../services/local-storage":369}],325:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require("../index");

var _index2 = _interopRequireDefault(_index);

var _mobileNavbarDropdown = require("../services/mobile-navbar-dropdown");

var _mobileNavbarDropdown2 = _interopRequireDefault(_mobileNavbarDropdown);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  var element = document.getElementById("mobile-navbar-dropdown-mount");
  if (element) {
    _mobileNavbarDropdown2.default.init(element);
  }
}

_index2.default.addInitializer({
  name: "dropdown",
  initializer: initializer,
  before: "store"
});

},{"../index":302,"../services/mobile-navbar-dropdown":370}],326:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require("../index");

var _index2 = _interopRequireDefault(_index);

var _modal = require("../services/modal");

var _modal2 = _interopRequireDefault(_modal);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  var element = document.getElementById("modal-mount");
  if (element) {
    _modal2.default.init(element);
  }
}

_index2.default.addInitializer({
  name: "modal",
  initializer: initializer,
  before: "store"
});

},{"../index":302,"../services/modal":371}],327:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _moment = require("moment");

var _moment2 = _interopRequireDefault(_moment);

var _index = require("../index");

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _moment2.default.locale($("html").attr("lang"));
}

_index2.default.addInitializer({
  name: "moment",
  initializer: initializer
});

},{"../index":302,"moment":"moment"}],328:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require("../index");

var _index2 = _interopRequireDefault(_index);

var _pageTitle = require("../services/page-title");

var _pageTitle2 = _interopRequireDefault(_pageTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  _pageTitle2.default.init(context.get("SETTINGS").forum_index_title, context.get("SETTINGS").forum_name);
}

_index2.default.addInitializer({
  name: "page-title",
  initializer: initializer
});

},{"../index":302,"../services/page-title":373}],329:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require("../index");

var _index2 = _interopRequireDefault(_index);

var _ajax = require("../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require("../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

var _polls = require("../services/polls");

var _polls2 = _interopRequireDefault(_polls);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _polls2.default.init(_ajax2.default, _snackbar2.default);
}

_index2.default.addInitializer({
  name: "polls",
  initializer: initializer
});

},{"../index":302,"../services/ajax":365,"../services/polls":374,"../services/snackbar":376}],330:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require("../index");

var _index2 = _interopRequireDefault(_index);

var _ajax = require("../services/ajax");

var _ajax2 = _interopRequireDefault(_ajax);

var _posting = require("../services/posting");

var _posting2 = _interopRequireDefault(_posting);

var _snackbar = require("../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _posting2.default.init(_ajax2.default, _snackbar2.default, document.getElementById("posting-placeholder"));
}

_index2.default.addInitializer({
  name: "posting",
  initializer: initializer
});

},{"../index":302,"../services/ajax":365,"../services/posting":375,"../services/snackbar":376}],331:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require("../../index");

var _index2 = _interopRequireDefault(_index);

var _auth = require("../../reducers/auth");

var _auth2 = _interopRequireDefault(_auth);

var _store = require("../../services/store");

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  _store2.default.addReducer("auth", _auth2.default, Object.assign({
    isAuthenticated: context.get("isAuthenticated"),
    isAnonymous: !context.get("isAuthenticated"),

    user: context.get("user")
  }, _auth.initialState));
}

_index2.default.addInitializer({
  name: "reducer:auth",
  initializer: initializer,
  before: "store"
});

},{"../../index":302,"../../reducers/auth":350,"../../services/store":377}],332:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require("../../index");

var _index2 = _interopRequireDefault(_index);

var _participants = require("../../reducers/participants");

var _participants2 = _interopRequireDefault(_participants);

var _store = require("../../services/store");

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  var initialState = null;
  if (_index2.default.has("THREAD")) {
    initialState = _index2.default.get("THREAD").participants;
  }

  _store2.default.addReducer("participants", _participants2.default, initialState || []);
}

_index2.default.addInitializer({
  name: "reducer:participants",
  initializer: initializer,
  before: "store"
});

},{"../../index":302,"../../reducers/participants":351,"../../services/store":377}],333:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require("../../index");

var _index2 = _interopRequireDefault(_index);

var _poll = require("../../reducers/poll");

var _poll2 = _interopRequireDefault(_poll);

var _store = require("../../services/store");

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  var initialState = null;
  if (_index2.default.has("THREAD") && _index2.default.get("THREAD").poll) {
    initialState = (0, _poll.hydrate)(_index2.default.get("THREAD").poll);
  } else {
    initialState = {
      isBusy: false
    };
  }

  _store2.default.addReducer("poll", _poll2.default, initialState);
}

_index2.default.addInitializer({
  name: "reducer:poll",
  initializer: initializer,
  before: "store"
});

},{"../../index":302,"../../reducers/poll":352,"../../services/store":377}],334:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require("../../index");

var _index2 = _interopRequireDefault(_index);

var _posts = require("../../reducers/posts");

var _posts2 = _interopRequireDefault(_posts);

var _store = require("../../services/store");

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  var initialState = null;
  if (_index2.default.has("POSTS")) {
    initialState = (0, _posts.hydrate)(_index2.default.get("POSTS"));
  } else {
    initialState = {
      isLoaded: false,
      isBusy: false
    };
  }

  _store2.default.addReducer("posts", _posts2.default, initialState);
}

_index2.default.addInitializer({
  name: "reducer:posts",
  initializer: initializer,
  before: "store"
});

},{"../../index":302,"../../reducers/posts":354,"../../services/store":377}],335:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require("../../index");

var _index2 = _interopRequireDefault(_index);

var _profileDetails = require("../../reducers/profile-details");

var _profileDetails2 = _interopRequireDefault(_profileDetails);

var _store = require("../../services/store");

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  var initialState = null;
  if (_index2.default.has("PROFILE_DETAILS")) {
    initialState = _index2.default.get("PROFILE_DETAILS");
  }

  _store2.default.addReducer("profile-details", _profileDetails2.default, initialState || {});
}

_index2.default.addInitializer({
  name: "reducer:profile-details",
  initializer: initializer,
  before: "store"
});

},{"../../index":302,"../../reducers/profile-details":355,"../../services/store":377}],336:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require("../../index");

var _index2 = _interopRequireDefault(_index);

var _profile = require("../../reducers/profile");

var _store = require("../../services/store");

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  if (_index2.default.has("PROFILE")) {
    _store2.default.dispatch((0, _profile.hydrate)(_index2.default.get("PROFILE")));
  }
}

_index2.default.addInitializer({
  name: "reducer:profile-hydrate",
  initializer: initializer,
  after: "store"
});

},{"../../index":302,"../../reducers/profile":356,"../../services/store":377}],337:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require("../../index");

var _index2 = _interopRequireDefault(_index);

var _profile = require("../../reducers/profile");

var _profile2 = _interopRequireDefault(_profile);

var _store = require("../../services/store");

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store2.default.addReducer("profile", _profile2.default, {});
}

_index2.default.addInitializer({
  name: "reducer:profile",
  initializer: initializer,
  before: "store"
});

},{"../../index":302,"../../reducers/profile":356,"../../services/store":377}],338:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = require("../..");

var _2 = _interopRequireDefault(_);

var _search = require("../../reducers/search");

var _search2 = _interopRequireDefault(_search);

var _store = require("../../services/store");

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store2.default.addReducer("search", _search2.default, Object.assign({}, _search.initialState, {
    providers: _2.default.get("SEARCH_PROVIDERS") || [],
    query: _2.default.get("SEARCH_QUERY") || ""
  }));
}

_2.default.addInitializer({
  name: "reducer:search",
  initializer: initializer,
  before: "store"
});

},{"../..":302,"../../reducers/search":357,"../../services/store":377}],339:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require("../../index");

var _index2 = _interopRequireDefault(_index);

var _selection = require("../../reducers/selection");

var _selection2 = _interopRequireDefault(_selection);

var _store = require("../../services/store");

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store2.default.addReducer("selection", _selection2.default, []);
}

_index2.default.addInitializer({
  name: "reducer:selection",
  initializer: initializer,
  before: "store"
});

},{"../../index":302,"../../reducers/selection":358,"../../services/store":377}],340:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require("../../index");

var _index2 = _interopRequireDefault(_index);

var _snackbar = require("../../reducers/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require("../../services/store");

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store2.default.addReducer("snackbar", _snackbar2.default, _snackbar.initialState);
}

_index2.default.addInitializer({
  name: "reducer:snackbar",
  initializer: initializer,
  before: "store"
});

},{"../../index":302,"../../reducers/snackbar":359,"../../services/store":377}],341:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require("../../index");

var _index2 = _interopRequireDefault(_index);

var _thread = require("../../reducers/thread");

var _thread2 = _interopRequireDefault(_thread);

var _store = require("../../services/store");

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  var initialState = null;
  if (_index2.default.has("THREAD")) {
    initialState = (0, _thread.hydrate)(_index2.default.get("THREAD"));
  } else {
    initialState = {
      isBusy: false
    };
  }

  _store2.default.addReducer("thread", _thread2.default, initialState);
}

_index2.default.addInitializer({
  name: "reducer:thread",
  initializer: initializer,
  before: "store"
});

},{"../../index":302,"../../reducers/thread":360,"../../services/store":377}],342:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require("../../index");

var _index2 = _interopRequireDefault(_index);

var _threads = require("../../reducers/threads");

var _threads2 = _interopRequireDefault(_threads);

var _store = require("../../services/store");

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store2.default.addReducer("threads", _threads2.default, []);
}

_index2.default.addInitializer({
  name: "reducer:threads",
  initializer: initializer,
  before: "store"
});

},{"../../index":302,"../../reducers/threads":361,"../../services/store":377}],343:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require("../../index");

var _index2 = _interopRequireDefault(_index);

var _tick = require("../../reducers/tick");

var _tick2 = _interopRequireDefault(_tick);

var _store = require("../../services/store");

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store2.default.addReducer("tick", _tick2.default, _tick.initialState);
}

_index2.default.addInitializer({
  name: "reducer:tick",
  initializer: initializer,
  before: "store"
});

},{"../../index":302,"../../reducers/tick":362,"../../services/store":377}],344:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require("../../index");

var _index2 = _interopRequireDefault(_index);

var _usernameHistory = require("../../reducers/username-history");

var _usernameHistory2 = _interopRequireDefault(_usernameHistory);

var _store = require("../../services/store");

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store2.default.addReducer("username-history", _usernameHistory2.default, []);
}

_index2.default.addInitializer({
  name: "reducer:username-history",
  initializer: initializer,
  before: "store"
});

},{"../../index":302,"../../reducers/username-history":363,"../../services/store":377}],345:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require("../../index");

var _index2 = _interopRequireDefault(_index);

var _users = require("../../reducers/users");

var _users2 = _interopRequireDefault(_users);

var _store = require("../../services/store");

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store2.default.addReducer("users", _users2.default, []);
}

_index2.default.addInitializer({
  name: "reducer:users",
  initializer: initializer,
  before: "store"
});

},{"../../index":302,"../../reducers/users":364,"../../services/store":377}],346:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require("../index");

var _index2 = _interopRequireDefault(_index);

var _snackbar = require("../services/snackbar");

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require("../services/store");

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _snackbar2.default.init(_store2.default);
}

_index2.default.addInitializer({
  name: "snackbar",
  initializer: initializer,
  after: "store"
});

},{"../index":302,"../services/snackbar":376,"../services/store":377}],347:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require("../index");

var _index2 = _interopRequireDefault(_index);

var _store = require("../services/store");

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store2.default.init();
}

_index2.default.addInitializer({
  name: "store",
  initializer: initializer,
  before: "_end"
});

},{"../index":302,"../services/store":377}],348:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require("../index");

var _index2 = _interopRequireDefault(_index);

var _tick = require("../reducers/tick");

var _store = require("../services/store");

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var TICK_PERIOD = 50 * 1000; //do the tick every 50s

function initializer() {
  window.setInterval(function () {
    _store2.default.dispatch((0, _tick.doTick)());
  }, TICK_PERIOD);
}

_index2.default.addInitializer({
  name: "tick-start",
  initializer: initializer,
  after: "store"
});

},{"../index":302,"../reducers/tick":362,"../services/store":377}],349:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require("../index");

var _index2 = _interopRequireDefault(_index);

var _include = require("../services/include");

var _include2 = _interopRequireDefault(_include);

var _zxcvbn = require("../services/zxcvbn");

var _zxcvbn2 = _interopRequireDefault(_zxcvbn);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _zxcvbn2.default.init(_include2.default);
}

_index2.default.addInitializer({
  name: "zxcvbn",
  initializer: initializer
});

},{"../index":302,"../services/include":368,"../services/zxcvbn":378}],350:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.SIGN_OUT = exports.SIGN_IN = exports.PATCH_USER = exports.initialState = undefined;
exports.patch = patch;
exports.signIn = signIn;
exports.signOut = signOut;
exports.default = auth;

var _users = require("./users");

var initialState = exports.initialState = {
  signedIn: false,
  signedOut: false
};

var PATCH_USER = exports.PATCH_USER = "PATCH_USER";
var SIGN_IN = exports.SIGN_IN = "SIGN_IN";
var SIGN_OUT = exports.SIGN_OUT = "SIGN_OUT";

function patch(patch) {
  return {
    type: PATCH_USER,
    patch: patch
  };
}

function signIn(user) {
  return {
    type: SIGN_IN,
    user: user
  };
}

function signOut() {
  var soft = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;

  return {
    type: SIGN_OUT,
    soft: soft
  };
}

function auth() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case PATCH_USER:
      var newState = Object.assign({}, state);
      newState.user = Object.assign({}, state.user, action.patch);
      return newState;

    case SIGN_IN:
      return Object.assign({}, state, {
        signedIn: action.user
      });

    case SIGN_OUT:
      return Object.assign({}, state, {
        isAuthenticated: false,
        isAnonymous: true,
        signedOut: !action.soft
      });

    case _users.UPDATE_AVATAR:
      if (state.isAuthenticated && state.user.id === action.userId) {
        var _newState = Object.assign({}, state);
        _newState.user = Object.assign({}, state.user, {
          avatars: action.avatars
        });
        return _newState;
      }
      return state;

    case _users.UPDATE_USERNAME:
      if (state.isAuthenticated && state.user.id === action.userId) {
        var _newState2 = Object.assign({}, state);
        _newState2.user = Object.assign({}, state.user, {
          username: action.username,
          slug: action.slug
        });
        return _newState2;
      }
      return state;

    default:
      return state;
  }
}

},{"./users":364}],351:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.replace = replace;
exports.default = participants;
var REPLACE_PARTICIPANTS = exports.REPLACE_PARTICIPANTS = "REPLACE_PARTICIPANTS";

function replace(newState) {
  return {
    type: REPLACE_PARTICIPANTS,
    state: newState
  };
}

function participants() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case REPLACE_PARTICIPANTS:
      return action.state;

    default:
      return state;
  }
}

},{}],352:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.UPDATE_POLL = exports.REPLACE_POLL = exports.REMOVE_POLL = exports.RELEASE_POLL = exports.BUSY_POLL = undefined;
exports.hydrate = hydrate;
exports.busy = busy;
exports.release = release;
exports.replace = replace;
exports.update = update;
exports.remove = remove;
exports.default = poll;

var _moment = require("moment");

var _moment2 = _interopRequireDefault(_moment);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var BUSY_POLL = exports.BUSY_POLL = "BUSY_POLL";
var RELEASE_POLL = exports.RELEASE_POLL = "RELEASE_POLL";
var REMOVE_POLL = exports.REMOVE_POLL = "REMOVE_POLL";
var REPLACE_POLL = exports.REPLACE_POLL = "REPLACE_POLL";
var UPDATE_POLL = exports.UPDATE_POLL = "UPDATE_POLL";

function hydrate(json) {
  var hasSelectedChoices = false;
  for (var i in json.choices) {
    var choice = json.choices[i];
    if (choice.selected) {
      hasSelectedChoices = true;
      break;
    }
  }

  return Object.assign({}, json, {
    posted_on: (0, _moment2.default)(json.posted_on),

    hasSelectedChoices: hasSelectedChoices,
    endsOn: json.length ? (0, _moment2.default)(json.posted_on).add(json.length, "days") : null,

    isBusy: false
  });
}

function busy() {
  return {
    type: BUSY_POLL
  };
}

function release() {
  return {
    type: RELEASE_POLL
  };
}

function replace(newState) {
  var hydrated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

  return {
    type: REPLACE_POLL,
    state: hydrated ? newState : hydrate(newState)
  };
}

function update(data) {
  return {
    type: UPDATE_POLL,
    data: data
  };
}

function remove() {
  return {
    type: REMOVE_POLL
  };
}

function poll() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case BUSY_POLL:
      return Object.assign({}, state, { isBusy: true });

    case RELEASE_POLL:
      return Object.assign({}, state, { isBusy: false });

    case REMOVE_POLL:
      return {
        isBusy: false
      };

    case REPLACE_POLL:
      return action.state;

    case UPDATE_POLL:
      return Object.assign({}, state, action.data);

    default:
      return state;
  }
}

},{"moment":"moment"}],353:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.PATCH_POST = undefined;
exports.hydrate = hydrate;
exports.hydrateAttachment = hydrateAttachment;
exports.patch = patch;
exports.default = post;

var _moment = require("moment");

var _moment2 = _interopRequireDefault(_moment);

var _users = require("./users");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var PATCH_POST = exports.PATCH_POST = "PATCH_POST";

function hydrate(json) {
  return Object.assign({}, json, {
    posted_on: (0, _moment2.default)(json.posted_on),
    updated_on: (0, _moment2.default)(json.updated_on),
    hidden_on: (0, _moment2.default)(json.hidden_on),

    attachments: json.attachments ? json.attachments.map(hydrateAttachment) : null,
    poster: json.poster ? (0, _users.hydrateUser)(json.poster) : null,

    isSelected: false,
    isBusy: false,
    isDeleted: false
  });
}

function hydrateAttachment(json) {
  return Object.assign({}, json, {
    uploaded_on: (0, _moment2.default)(json.uploaded_on)
  });
}

function patch(post, patch) {
  return {
    type: PATCH_POST,
    post: post,
    patch: patch
  };
}

function post() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case PATCH_POST:
      if (state.id == action.post.id) {
        return Object.assign({}, state, action.patch);
      }
      return state;

    default:
      return state;
  }
}

},{"./users":364,"moment":"moment"}],354:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.UPDATE_POSTS = exports.UNLOAD_POSTS = exports.LOAD_POSTS = exports.DESELECT_POSTS = exports.DESELECT_POST = exports.SELECT_POST = exports.APPEND_POSTS = undefined;
exports.select = select;
exports.deselect = deselect;
exports.deselectAll = deselectAll;
exports.hydrate = hydrate;
exports.load = load;
exports.append = append;
exports.unload = unload;
exports.update = update;
exports.default = posts;

var _post = require("./post");

var _post2 = _interopRequireDefault(_post);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var APPEND_POSTS = exports.APPEND_POSTS = "APPEND_POSTS";
var SELECT_POST = exports.SELECT_POST = "SELECT_POST";
var DESELECT_POST = exports.DESELECT_POST = "DESELECT_POST";
var DESELECT_POSTS = exports.DESELECT_POSTS = "DESELECT_POSTS";
var LOAD_POSTS = exports.LOAD_POSTS = "LOAD_POSTS";
var UNLOAD_POSTS = exports.UNLOAD_POSTS = "UNLOAD_POSTS";
var UPDATE_POSTS = exports.UPDATE_POSTS = "UPDATE_POSTS";

function select(post) {
  return {
    type: SELECT_POST,
    post: post
  };
}

function deselect(post) {
  return {
    type: DESELECT_POST,
    post: post
  };
}

function deselectAll() {
  return {
    type: DESELECT_POSTS
  };
}

function hydrate(json) {
  return Object.assign({}, json, {
    results: json.results.map(_post.hydrate),
    isLoaded: true,
    isBusy: false,
    isSelected: false
  });
}

function load(newState) {
  var hydrated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

  return {
    type: LOAD_POSTS,
    state: hydrated ? newState : hydrate(newState)
  };
}

function append(newState) {
  var hydrated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

  return {
    type: APPEND_POSTS,
    state: hydrated ? newState : hydrate(newState)
  };
}

function unload() {
  return {
    type: UNLOAD_POSTS
  };
}

function update(newState) {
  return {
    type: UPDATE_POSTS,
    update: newState
  };
}

function posts() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case SELECT_POST:
      var selectedPosts = state.results.map(function (post) {
        if (post.id == action.post.id) {
          return Object.assign({}, post, {
            isSelected: true
          });
        } else {
          return post;
        }
      });

      return Object.assign({}, state, {
        results: selectedPosts
      });

    case DESELECT_POST:
      var deseletedPosts = state.results.map(function (post) {
        if (post.id == action.post.id) {
          return Object.assign({}, post, {
            isSelected: false
          });
        } else {
          return post;
        }
      });

      return Object.assign({}, state, {
        results: deseletedPosts
      });

    case DESELECT_POSTS:
      var deseletedAllPosts = state.results.map(function (post) {
        return Object.assign({}, post, {
          isSelected: false
        });
      });

      return Object.assign({}, state, {
        results: deseletedAllPosts
      });

    case APPEND_POSTS:
      var results = state.results.slice();
      var resultsIds = state.results.map(function (post) {
        return post.id;
      });

      action.state.results.map(function (post) {
        if (resultsIds.indexOf(post.id) === -1) {
          results.push(post);
        }
      });

      return Object.assign({}, action.state, {
        results: results
      });

    case LOAD_POSTS:
      return action.state;

    case UNLOAD_POSTS:
      return Object.assign({}, state, {
        isLoaded: false
      });

    case UPDATE_POSTS:
      return Object.assign({}, state, action.update);

    case _post.PATCH_POST:
      var reducedPosts = state.results.map(function (post) {
        return (0, _post2.default)(post, action);
      });

      return Object.assign({}, state, {
        results: reducedPosts
      });

    default:
      return state;
  }
}

},{"./post":353}],355:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.load = load;
exports.default = details;
var LOAD_DETAILS = exports.LOAD_DETAILS = "LOAD_DETAILS";

function load(newState) {
  return {
    type: LOAD_DETAILS,

    newState: newState
  };
}

function details() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case LOAD_DETAILS:
      return action.newState;

    default:
      return state;
  }
}

},{}],356:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.PATCH_PROFILE = exports.HYDRATE_PROFILE = undefined;
exports.hydrate = hydrate;
exports.patch = patch;
exports.default = auth;

var _moment = require("moment");

var _moment2 = _interopRequireDefault(_moment);

var _users = require("./users");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var HYDRATE_PROFILE = exports.HYDRATE_PROFILE = "HYDRATE_PROFILE";
var PATCH_PROFILE = exports.PATCH_PROFILE = "PATCH_PROFILE";

function hydrate(profile) {
  return {
    type: HYDRATE_PROFILE,
    profile: profile
  };
}

function patch(patch) {
  return {
    type: PATCH_PROFILE,
    patch: patch
  };
}

function auth() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case HYDRATE_PROFILE:
      return Object.assign({}, action.profile, {
        joined_on: (0, _moment2.default)(action.profile.joined_on),
        status: (0, _users.hydrateStatus)(action.profile.status)
      });

    case PATCH_PROFILE:
      return Object.assign({}, state, action.patch);

    case _users.UPDATE_AVATAR:
      if (state.id === action.userId) {
        return Object.assign({}, state, {
          avatars: action.avatars
        });
      }
      return state;

    case _users.UPDATE_USERNAME:
      if (state.id === action.userId) {
        return Object.assign({}, state, {
          username: action.username,
          slug: action.slug
        });
      }
      return state;

    default:
      return state;
  }
}

},{"./users":364,"moment":"moment"}],357:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.replace = replace;
exports.update = update;
exports.updateProvider = updateProvider;
exports.default = participants;
var REPLACE_SEARCH = exports.REPLACE_SEARCH = "REPLACE_SEARCH";
var UPDATE_SEARCH = exports.UPDATE_SEARCH = "UPDATE_SEARCH";
var UPDATE_SEARCH_PROVIDER = exports.UPDATE_SEARCH_PROVIDER = "UPDATE_SEARCH_PROVIDER";

var initialState = exports.initialState = {
  isLoading: false,
  query: "",
  providers: []
};

function replace(newState) {
  return {
    type: REPLACE_SEARCH,
    state: {
      isLoading: false,
      providers: newState
    }
  };
}

function update(newState) {
  return {
    type: UPDATE_SEARCH,
    update: newState
  };
}

function updateProvider(provider) {
  return {
    type: UPDATE_SEARCH_PROVIDER,
    provider: provider
  };
}

function participants() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case REPLACE_SEARCH:
      return action.state;

    case UPDATE_SEARCH:
      return Object.assign({}, state, action.update);

    case UPDATE_SEARCH_PROVIDER:
      return Object.assign({}, state, {
        providers: state.providers.map(function (provider) {
          if (provider.id === action.provider.id) {
            return action.provider;
          } else {
            return provider;
          }
        })
      });

    default:
      return state;
  }
}

},{}],358:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.SELECT_ITEM = exports.SELECT_NONE = exports.SELECT_ALL = undefined;
exports.all = all;
exports.none = none;
exports.item = item;
exports.default = selection;

var _sets = require("../utils/sets");

var SELECT_ALL = exports.SELECT_ALL = "SELECT_ALL";
var SELECT_NONE = exports.SELECT_NONE = "SELECT_NONE";
var SELECT_ITEM = exports.SELECT_ITEM = "SELECT_ITEM";

function all(itemsIds) {
  return {
    type: SELECT_ALL,
    items: itemsIds
  };
}

function none() {
  return {
    type: SELECT_NONE
  };
}

function item(itemId) {
  return {
    type: SELECT_ITEM,
    item: itemId
  };
}

function selection() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case SELECT_ALL:
      return action.items;

    case SELECT_NONE:
      return [];

    case SELECT_ITEM:
      return (0, _sets.toggle)(state, action.item);

    default:
      return state;
  }
}

},{"../utils/sets":391}],359:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.showSnackbar = showSnackbar;
exports.hideSnackbar = hideSnackbar;
exports.default = snackbar;
var initialState = exports.initialState = {
  type: "info",
  message: "",
  isVisible: false
};

var SHOW_SNACKBAR = exports.SHOW_SNACKBAR = "SHOW_SNACKBAR";
var HIDE_SNACKBAR = exports.HIDE_SNACKBAR = "HIDE_SNACKBAR";

function showSnackbar(message, type) {
  return {
    type: SHOW_SNACKBAR,
    message: message,
    messageType: type
  };
}

function hideSnackbar() {
  return {
    type: HIDE_SNACKBAR
  };
}

function snackbar() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  if (action.type === SHOW_SNACKBAR) {
    return {
      type: action.messageType,
      message: action.message,
      isVisible: true
    };
  } else if (action.type === HIDE_SNACKBAR) {
    return Object.assign({}, state, {
      isVisible: false
    });
  } else {
    return state;
  }
}

},{}],360:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.UPDATE_THREAD_ACL = exports.UPDATE_THREAD = exports.REPLACE_THREAD = exports.RELEASE_THREAD = exports.BUSY_THREAD = undefined;
exports.hydrate = hydrate;
exports.busy = busy;
exports.release = release;
exports.replace = replace;
exports.update = update;
exports.updateAcl = updateAcl;
exports.default = thread;

var _moment = require("moment");

var _moment2 = _interopRequireDefault(_moment);

var _poll = require("./poll");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var BUSY_THREAD = exports.BUSY_THREAD = "BUSY_THREAD";
var RELEASE_THREAD = exports.RELEASE_THREAD = "RELEASE_THREAD";
var REPLACE_THREAD = exports.REPLACE_THREAD = "REPLACE_THREAD";
var UPDATE_THREAD = exports.UPDATE_THREAD = "UPDATE_THREAD";
var UPDATE_THREAD_ACL = exports.UPDATE_THREAD_ACL = "UPDATE_THREAD_ACL";

function hydrate(json) {
  return Object.assign({}, json, {
    started_on: (0, _moment2.default)(json.started_on),
    last_post_on: (0, _moment2.default)(json.last_post_on),
    best_answer_marked_on: json.best_answer_marked_on ? (0, _moment2.default)(json.best_answer_marked_on) : null,

    isBusy: false
  });
}

function busy() {
  return {
    type: BUSY_THREAD
  };
}

function release() {
  return {
    type: RELEASE_THREAD
  };
}

function replace(newState) {
  var hydrated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

  return {
    type: REPLACE_THREAD,
    state: hydrated ? newState : hydrate(newState)
  };
}

function update(data) {
  return {
    type: UPDATE_THREAD,
    data: data
  };
}

function updateAcl(data) {
  return {
    type: UPDATE_THREAD_ACL,
    data: data
  };
}

function thread() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case BUSY_THREAD:
      return Object.assign({}, state, { isBusy: true });

    case RELEASE_THREAD:
      return Object.assign({}, state, { isBusy: false });

    case _poll.REMOVE_POLL:
      return Object.assign({}, state, { poll: null });

    case _poll.REPLACE_POLL:
      return Object.assign({}, state, { poll: action.state });

    case REPLACE_THREAD:
      return action.state;

    case UPDATE_THREAD:
      return Object.assign({}, state, action.data);

    case UPDATE_THREAD_ACL:
      var acl = Object.assign({}, state.acl, action.data);
      return Object.assign({}, state, { acl: acl });

    default:
      return state;
  }
}

},{"./poll":352,"moment":"moment"}],361:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.MODERATION_PERMISSIONS = exports.SORT_THREADS = exports.PATCH_THREAD = exports.HYDRATE_THREADS = exports.FILTER_THREADS = exports.DELETE_THREAD = exports.APPEND_THREADS = undefined;
exports.append = append;
exports.deleteThread = deleteThread;
exports.filterThreads = filterThreads;
exports.hydrate = hydrate;
exports.patch = patch;
exports.sort = sort;
exports.getThreadModerationOptions = getThreadModerationOptions;
exports.hydrateThread = hydrateThread;
exports.default = thread;

var _moment = require("moment");

var _moment2 = _interopRequireDefault(_moment);

var _concatUnique = require("../utils/concat-unique");

var _concatUnique2 = _interopRequireDefault(_concatUnique);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var APPEND_THREADS = exports.APPEND_THREADS = "APPEND_THREADS";
var DELETE_THREAD = exports.DELETE_THREAD = "DELETE_THREAD";
var FILTER_THREADS = exports.FILTER_THREADS = "FILTER_THREADS";
var HYDRATE_THREADS = exports.HYDRATE_THREADS = "HYDRATE_THREADS";
var PATCH_THREAD = exports.PATCH_THREAD = "PATCH_THREAD";
var SORT_THREADS = exports.SORT_THREADS = "SORT_THREADS";

var MODERATION_PERMISSIONS = exports.MODERATION_PERMISSIONS = ["can_announce", "can_approve", "can_close", "can_hide", "can_move", "can_merge", "can_pin", "can_review"];

function append(items, sorting) {
  return {
    type: APPEND_THREADS,
    items: items,
    sorting: sorting
  };
}

function deleteThread(thread) {
  return {
    type: DELETE_THREAD,
    thread: thread
  };
}

function filterThreads(category, categoriesMap) {
  return {
    type: FILTER_THREADS,
    category: category,
    categoriesMap: categoriesMap
  };
}

function hydrate(items) {
  return {
    type: HYDRATE_THREADS,
    items: items
  };
}

function patch(thread, patch) {
  var sorting = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;

  return {
    type: PATCH_THREAD,
    thread: thread,
    patch: patch,
    sorting: sorting
  };
}

function sort(sorting) {
  return {
    type: SORT_THREADS,
    sorting: sorting
  };
}

function getThreadModerationOptions(thread_acl) {
  var options = [];
  MODERATION_PERMISSIONS.forEach(function (perm) {
    if (thread_acl[perm]) {
      options.push(perm);
    }
  });
  return options;
}

function hydrateThread(thread) {
  return Object.assign({}, thread, {
    started_on: (0, _moment2.default)(thread.started_on),
    last_post_on: (0, _moment2.default)(thread.last_post_on),
    moderation: getThreadModerationOptions(thread.acl)
  });
}

function thread() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case APPEND_THREADS:
      var mergedState = (0, _concatUnique2.default)(action.items.map(hydrateThread), state);
      return mergedState.sort(action.sorting);

    case DELETE_THREAD:
      return state.filter(function (item) {
        return item.id !== action.thread.id;
      });

    case FILTER_THREADS:
      return state.filter(function (item) {
        var itemCategory = action.categoriesMap[item.category];
        if (itemCategory.lft >= action.category.lft && itemCategory.rght <= action.category.rght) {
          // same or sub category
          return true;
        } else if (item.weight == 2) {
          // globally pinned
          return true;
        } else {
          // thread moved outside displayed scope, hide it
          return false;
        }
      });

    case HYDRATE_THREADS:
      return action.items.map(hydrateThread);

    case PATCH_THREAD:
      var patchedState = state.map(function (item) {
        if (item.id === action.thread.id) {
          return Object.assign({}, item, action.patch);
        } else {
          return item;
        }
      });

      if (action.sorting) {
        return patchedState.sort(action.sorting);
      }
      return patchedState;

    case SORT_THREADS:
      return state.sort(action.sorting);

    default:
      return state;
  }
}

},{"../utils/concat-unique":381,"moment":"moment"}],362:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.doTick = doTick;
exports.default = tick;
var initialState = exports.initialState = {
  tick: 0
};

var TICK = exports.TICK = "TICK";

function doTick() {
  return {
    type: TICK
  };
}

function tick() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  if (action.type === TICK) {
    return Object.assign({}, state, {
      tick: state.tick + 1
    });
  } else {
    return state;
  }
}

},{}],363:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.HYDRATE_HISTORY = exports.APPEND_HISTORY = exports.ADD_NAME_CHANGE = undefined;
exports.addNameChange = addNameChange;
exports.append = append;
exports.hydrate = hydrate;
exports.hydrateNamechange = hydrateNamechange;
exports.default = username;

var _moment = require("moment");

var _moment2 = _interopRequireDefault(_moment);

var _users = require("./users");

var _concatUnique = require("../utils/concat-unique");

var _concatUnique2 = _interopRequireDefault(_concatUnique);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ADD_NAME_CHANGE = exports.ADD_NAME_CHANGE = "ADD_NAME_CHANGE";
var APPEND_HISTORY = exports.APPEND_HISTORY = "APPEND_HISTORY";
var HYDRATE_HISTORY = exports.HYDRATE_HISTORY = "HYDRATE_HISTORY";

function addNameChange(change, user, changedBy) {
  return {
    type: ADD_NAME_CHANGE,
    change: change,
    user: user,
    changedBy: changedBy
  };
}

function append(items) {
  return {
    type: APPEND_HISTORY,
    items: items
  };
}

function hydrate(items) {
  return {
    type: HYDRATE_HISTORY,
    items: items
  };
}

function hydrateNamechange(namechange) {
  return Object.assign({}, namechange, {
    changed_on: (0, _moment2.default)(namechange.changed_on)
  });
}

function username() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case ADD_NAME_CHANGE:
      var newState = state.slice();
      newState.unshift({
        id: Math.floor(Date.now() / 1000), // just small hax for getting id
        changed_by: action.changedBy,
        changed_by_username: action.changedBy.username,
        changed_on: (0, _moment2.default)(),
        new_username: action.change.username,
        old_username: action.user.username
      });
      return newState;

    case APPEND_HISTORY:
      return (0, _concatUnique2.default)(state, action.items.map(hydrateNamechange));

    case HYDRATE_HISTORY:
      return action.items.map(hydrateNamechange);

    case _users.UPDATE_AVATAR:
      return state.map(function (item) {
        item = Object.assign({}, item);
        if (item.changed_by && item.changed_by.id === action.userId) {
          item.changed_by = Object.assign({}, item.changed_by, {
            avatars: action.avatars
          });
        }

        return item;
      });

    case _users.UPDATE_USERNAME:
      return state.map(function (item) {
        item = Object.assign({}, item);
        if (item.changed_by && item.changed_by.id === action.userId) {
          item.changed_by = Object.assign({}, item.changed_by, {
            username: action.username,
            slug: action.slug
          });
        }

        return Object.assign({}, item);
      });

    default:
      return state;
  }
}

},{"../utils/concat-unique":381,"./users":364,"moment":"moment"}],364:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.UPDATE_USERNAME = exports.UPDATE_AVATAR = exports.HYDRATE_USERS = exports.APPEND_USERS = undefined;
exports.append = append;
exports.hydrate = hydrate;
exports.hydrateStatus = hydrateStatus;
exports.hydrateUser = hydrateUser;
exports.updateAvatar = updateAvatar;
exports.updateUsername = updateUsername;
exports.default = user;

var _moment = require("moment");

var _moment2 = _interopRequireDefault(_moment);

var _concatUnique = require("../utils/concat-unique");

var _concatUnique2 = _interopRequireDefault(_concatUnique);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var APPEND_USERS = exports.APPEND_USERS = "APPEND_USERS";
var HYDRATE_USERS = exports.HYDRATE_USERS = "HYDRATE_USERS";
var UPDATE_AVATAR = exports.UPDATE_AVATAR = "UPDATE_AVATAR";
var UPDATE_USERNAME = exports.UPDATE_USERNAME = "UPDATE_USERNAME";

function append(items) {
  return {
    type: APPEND_USERS,
    items: items
  };
}

function hydrate(items) {
  return {
    type: HYDRATE_USERS,
    items: items
  };
}

function hydrateStatus(status) {
  if (status) {
    return Object.assign({}, status, {
      last_click: status.last_click ? (0, _moment2.default)(status.last_click) : null,
      banned_until: status.banned_until ? (0, _moment2.default)(status.banned_until) : null
    });
  } else {
    return null;
  }
}

function hydrateUser(user) {
  return Object.assign({}, user, {
    joined_on: (0, _moment2.default)(user.joined_on),
    status: hydrateStatus(user.status)
  });
}

function updateAvatar(user, avatars) {
  return {
    type: UPDATE_AVATAR,
    userId: user.id,
    avatars: avatars
  };
}

function updateUsername(user, username, slug) {
  return {
    type: UPDATE_USERNAME,
    userId: user.id,
    username: username,
    slug: slug
  };
}

function user() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case APPEND_USERS:
      return (0, _concatUnique2.default)(state, action.items.map(hydrateUser));

    case HYDRATE_USERS:
      return action.items.map(hydrateUser);

    case UPDATE_AVATAR:
      return state.map(function (item) {
        item = Object.assign({}, item);
        if (item.id === action.userId) {
          item.avatars = action.avatars;
        }

        return item;
      });

    default:
      return state;
  }
}

},{"../utils/concat-unique":381,"moment":"moment"}],365:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Ajax = exports.Ajax = function () {
  function Ajax() {
    _classCallCheck(this, Ajax);

    this._cookieName = null;
    this._csrfToken = null;
    this._locks = {};
  }

  _createClass(Ajax, [{
    key: "init",
    value: function init(cookieName) {
      this._cookieName = cookieName;
    }
  }, {
    key: "getCsrfToken",
    value: function getCsrfToken() {
      if (document.cookie.indexOf(this._cookieName) !== -1) {
        var cookieRegex = new RegExp(this._cookieName + "=([^;]*)");
        var cookie = document.cookie.match(cookieRegex)[0];
        return cookie ? cookie.split("=")[1] : null;
      } else {
        return null;
      }
    }
  }, {
    key: "request",
    value: function request(method, url, data) {
      var self = this;
      return new Promise(function (resolve, reject) {
        var xhr = {
          url: url,
          method: method,
          headers: {
            "X-CSRFToken": self.getCsrfToken()
          },

          data: data ? JSON.stringify(data) : null,
          contentType: "application/json; charset=utf-8",
          dataType: "json",

          success: function success(data) {
            resolve(data);
          },

          error: function error(jqXHR) {
            var rejection = jqXHR.responseJSON || {};

            rejection.status = jqXHR.status;

            if (rejection.status === 0) {
              rejection.detail = "Χάθηκε η σύνδεση με την εφαρμογή!";
            }

            if (rejection.status === 404) {
              if (!rejection.detail || rejection.detail === "NOT FOUND") {
                rejection.detail = "Ο σύνδεσμος δεν είναι έγκυρος!";
              }
            }

            if (rejection.status === 500 && !rejection.detail) {
              rejection.detail = "Άγνωστο λάθος!";
            }

            rejection.statusText = jqXHR.statusText;

            reject(rejection);
          }
        };

        $.ajax(xhr);
      });
    }
  }, {
    key: "get",
    value: function get(url, params, lock) {
      if (params) {
        url += "?" + $.param(params);
      }

      if (lock) {
        var self = this;

        // update url in existing lock?
        if (this._locks[lock]) {
          this._locks[lock].url = url;
        }

        // immediately dereference promise handlers without doing anything
        // we are already waiting for existing response to resolve
        if (this._locks[lock] && this._locks[lock].waiter) {
          return {
            then: function then() {
              return;
            }

            // return promise that will begin when original one resolves
          };
        } else if (this._locks[lock] && this._locks[lock].wait) {
          this._locks[lock].waiter = true;

          return new Promise(function (resolve, reject) {
            var wait = function wait(url) {
              // keep waiting on promise
              if (self._locks[lock].wait) {
                window.setTimeout(function () {
                  wait(url);
                }, 300);

                // poll for new url
              } else if (self._locks[lock].url !== url) {
                wait(self._locks[lock].url);

                // ajax backend for response
              } else {
                self._locks[lock].waiter = false;
                self.request("GET", self._locks[lock].url).then(function (data) {
                  if (self._locks[lock].url === url) {
                    resolve(data);
                  } else {
                    self._locks[lock].waiter = true;
                    wait(self._locks[lock].url);
                  }
                }, function (rejection) {
                  if (self._locks[lock].url === url) {
                    reject(rejection);
                  } else {
                    self._locks[lock].waiter = true;
                    wait(self._locks[lock].url);
                  }
                });
              }
            };

            window.setTimeout(function () {
              wait(url);
            }, 300);
          });

          // setup new lock without waiter
        } else {
          this._locks[lock] = {
            url: url,
            wait: true,
            waiter: false
          };

          return new Promise(function (resolve, reject) {
            self.request("GET", url).then(function (data) {
              self._locks[lock].wait = false;
              if (self._locks[lock].url === url) {
                resolve(data);
              }
            }, function (rejection) {
              self._locks[lock].wait = false;
              if (self._locks[lock].url === url) {
                reject(rejection);
              }
            });
          });
        }
      } else {
        return this.request("GET", url);
      }
    }
  }, {
    key: "post",
    value: function post(url, data) {
      return this.request("POST", url, data);
    }
  }, {
    key: "patch",
    value: function patch(url, data) {
      return this.request("PATCH", url, data);
    }
  }, {
    key: "put",
    value: function put(url, data) {
      return this.request("PUT", url, data);
    }
  }, {
    key: "delete",
    value: function _delete(url, data) {
      return this.request("DELETE", url, data);
    }
  }, {
    key: "upload",
    value: function upload(url, data, progress) {
      var self = this;
      return new Promise(function (resolve, reject) {
        var xhr = {
          url: url,
          method: "POST",
          headers: {
            "X-CSRFToken": self.getCsrfToken()
          },

          data: data,
          contentType: false,
          processData: false,

          xhr: function xhr() {
            var xhr = new window.XMLHttpRequest();
            xhr.upload.addEventListener("progress", function (evt) {
              if (evt.lengthComputable) {
                progress(Math.round(evt.loaded / evt.total * 100));
              }
            }, false);
            return xhr;
          },

          success: function success(response) {
            resolve(response);
          },

          error: function error(jqXHR) {
            var rejection = jqXHR.responseJSON || {};

            rejection.status = jqXHR.status;

            if (rejection.status === 0) {
              rejection.detail = "Χάθηκε η σύνδεση με την εφαρμογή!";
            }

            if (rejection.status === 413 && !rejection.detail) {
              rejection.detail = "Το ανέβασμα του αρχείου απορρίφθηκε λόγω μεγέθους!";
            }

            if (rejection.status === 404) {
              if (!rejection.detail || rejection.detail === "NOT FOUND") {
                rejection.detail = "Ο σύνδεσμος δεν είναι έγκυρος!";
              }
            }

            if (rejection.status === 500 && !rejection.detail) {
              rejection.detail = "Άγνωστο λάθος!";
            }

            rejection.statusText = jqXHR.statusText;

            reject(rejection);
          }
        };

        $.ajax(xhr);
      });
    }
  }]);

  return Ajax;
}();

exports.default = new Ajax();

},{}],366:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Auth = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _auth = require("../reducers/auth");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Auth = exports.Auth = function () {
  function Auth() {
    _classCallCheck(this, Auth);
  }

  _createClass(Auth, [{
    key: "init",
    value: function init(store, local, modal) {
      this._store = store;
      this._local = local;
      this._modal = modal;

      // tell other tabs what auth state is because we are most current with it
      this.syncSession();

      // listen for other tabs to tell us that state changed
      this.watchState();
    }
  }, {
    key: "syncSession",
    value: function syncSession() {
      var state = this._store.getState().auth;
      if (state.isAuthenticated) {
        this._local.set("auth", {
          isAuthenticated: true,
          username: state.user.username
        });
      } else {
        this._local.set("auth", {
          isAuthenticated: false
        });
      }
    }
  }, {
    key: "watchState",
    value: function watchState() {
      var _this = this;

      var state = this._store.getState().auth;
      this._local.watch("auth", function (newState) {
        if (newState.isAuthenticated) {
          _this._store.dispatch((0, _auth.signIn)({
            username: newState.username
          }));
        } else if (state.isAuthenticated) {
          // check if we are authenticated in this tab
          // because some browser plugins prune local store
          // aggressively, forcing erroneous message to display here
          // tracking bug #955
          _this._store.dispatch((0, _auth.signOut)());
        }
      });
      this._modal.hide();
    }
  }, {
    key: "signIn",
    value: function signIn(user) {
      this._store.dispatch((0, _auth.signIn)(user));
      this._local.set("auth", {
        isAuthenticated: true,
        username: user.username
      });
      this._modal.hide();
    }
  }, {
    key: "signOut",
    value: function signOut() {
      this._store.dispatch((0, _auth.signOut)());
      this._local.set("auth", {
        isAuthenticated: false
      });
      this._modal.hide();
    }
  }, {
    key: "softSignOut",
    value: function softSignOut() {
      this._store.dispatch((0, _auth.signOut)(true));
      this._local.set("auth", {
        isAuthenticated: false
      });
      this._modal.hide();
    }
  }]);

  return Auth;
}();

exports.default = new Auth();

},{"../reducers/auth":350}],367:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Captcha = exports.ReCaptcha = exports.ReCaptchaComponent = exports.QACaptcha = exports.NoCaptcha = exports.BaseCaptcha = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /* global grecaptcha */


var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _formGroup = require("../components/form-group");

var _formGroup2 = _interopRequireDefault(_formGroup);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var BaseCaptcha = exports.BaseCaptcha = function () {
  function BaseCaptcha() {
    _classCallCheck(this, BaseCaptcha);
  }

  _createClass(BaseCaptcha, [{
    key: "init",
    value: function init(context, ajax, include, snackbar) {
      this._context = context;
      this._ajax = ajax;
      this._include = include;
      this._snackbar = snackbar;
    }
  }]);

  return BaseCaptcha;
}();

var NoCaptcha = exports.NoCaptcha = function (_BaseCaptcha) {
  _inherits(NoCaptcha, _BaseCaptcha);

  function NoCaptcha() {
    _classCallCheck(this, NoCaptcha);

    return _possibleConstructorReturn(this, (NoCaptcha.__proto__ || Object.getPrototypeOf(NoCaptcha)).apply(this, arguments));
  }

  _createClass(NoCaptcha, [{
    key: "load",
    value: function load() {
      return new Promise(function (resolve) {
        // immediately resolve as we don't have anything to validate
        resolve();
      });
    }
  }, {
    key: "validator",
    value: function validator() {
      return null;
    }
  }, {
    key: "component",
    value: function component() {
      return null;
    }
  }]);

  return NoCaptcha;
}(BaseCaptcha);

var QACaptcha = exports.QACaptcha = function (_BaseCaptcha2) {
  _inherits(QACaptcha, _BaseCaptcha2);

  function QACaptcha() {
    _classCallCheck(this, QACaptcha);

    return _possibleConstructorReturn(this, (QACaptcha.__proto__ || Object.getPrototypeOf(QACaptcha)).apply(this, arguments));
  }

  _createClass(QACaptcha, [{
    key: "load",
    value: function load() {
      var self = this;
      return new Promise(function (resolve, reject) {
        self._ajax.get(self._context.get("CAPTCHA_API")).then(function (data) {
          self.question = data.question;
          self.helpText = data.help_text;
          resolve();
        }, function () {
          self._snackbar.error("Δεν μπόρεσε η σελίδα να φορτώσει το CAPTCHA!");
          reject();
        });
      });
    }
  }, {
    key: "validator",
    value: function validator() {
      return [];
    }
  }, {
    key: "component",
    value: function component(kwargs) {
      return _react2.default.createElement(
        _formGroup2.default,
        {
          label: this.question,
          "for": "id_captcha",
          labelClass: kwargs.labelClass || "",
          controlClass: kwargs.controlClass || "",
          validation: kwargs.form.state.errors.captcha,
          helpText: this.helpText || null
        },
        _react2.default.createElement("input", {
          "aria-describedby": "id_captcha_status",
          className: "form-control",
          disabled: kwargs.form.state.isLoading,
          id: "id_captcha",
          onChange: kwargs.form.bindInput("captcha"),
          type: "text",
          value: kwargs.form.state.captcha
        })
      );
    }
  }]);

  return QACaptcha;
}(BaseCaptcha);

var ReCaptchaComponent = exports.ReCaptchaComponent = function (_React$Component) {
  _inherits(ReCaptchaComponent, _React$Component);

  function ReCaptchaComponent() {
    _classCallCheck(this, ReCaptchaComponent);

    return _possibleConstructorReturn(this, (ReCaptchaComponent.__proto__ || Object.getPrototypeOf(ReCaptchaComponent)).apply(this, arguments));
  }

  _createClass(ReCaptchaComponent, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this4 = this;

      grecaptcha.render("recaptcha", {
        sitekey: this.props.siteKey,
        callback: function callback(response) {
          // fire fakey event to binding
          _this4.props.binding({
            target: {
              value: response
            }
          });
        }
      });
    }
  }, {
    key: "render",
    value: function render() {
      return _react2.default.createElement("div", { id: "recaptcha" });
    }
  }]);

  return ReCaptchaComponent;
}(_react2.default.Component);

var ReCaptcha = exports.ReCaptcha = function (_BaseCaptcha3) {
  _inherits(ReCaptcha, _BaseCaptcha3);

  function ReCaptcha() {
    _classCallCheck(this, ReCaptcha);

    return _possibleConstructorReturn(this, (ReCaptcha.__proto__ || Object.getPrototypeOf(ReCaptcha)).apply(this, arguments));
  }

  _createClass(ReCaptcha, [{
    key: "load",
    value: function load() {
      this._include.include("https://www.google.com/recaptcha/api.js", true);

      return new Promise(function (resolve) {
        var wait = function wait() {
          if (typeof grecaptcha === "undefined") {
            window.setTimeout(function () {
              wait();
            }, 200);
          } else {
            resolve();
          }
        };
        wait();
      });
    }
  }, {
    key: "validator",
    value: function validator() {
      return [];
    }
  }, {
    key: "component",
    value: function component(kwargs) {
      return _react2.default.createElement(
        _formGroup2.default,
        {
          label: "Λύσε το απλό τεστ!",
          "for": "id_captcha",
          labelClass: kwargs.labelClass || "",
          controlClass: kwargs.controlClass || "",
          validation: kwargs.form.state.errors.captcha,
          helpText: "Αυτό το τεστ μας βοηθάει να αποτρέπουμε τη δημιουργία ψεύτικων λογαριασμών."
        },
        _react2.default.createElement(ReCaptchaComponent, {
          binding: kwargs.form.bindInput("captcha"),
          siteKey: this._context.get("SETTINGS").recaptcha_site_key
        })
      );
    }
  }]);

  return ReCaptcha;
}(BaseCaptcha);

var Captcha = exports.Captcha = function () {
  function Captcha() {
    _classCallCheck(this, Captcha);
  }

  _createClass(Captcha, [{
    key: "init",
    value: function init(context, ajax, include, snackbar) {
      switch (context.get("SETTINGS").captcha_type) {
        case "no":
          this._captcha = new NoCaptcha();
          break;

        case "qa":
          this._captcha = new QACaptcha();
          break;

        case "re":
          this._captcha = new ReCaptcha();
          break;
      }

      this._captcha.init(context, ajax, include, snackbar);
    }

    // accessors for underlying strategy

  }, {
    key: "load",
    value: function load() {
      return this._captcha.load();
    }
  }, {
    key: "validator",
    value: function validator() {
      return this._captcha.validator();
    }
  }, {
    key: "component",
    value: function component(kwargs) {
      return this._captcha.component(kwargs);
    }
  }]);

  return Captcha;
}();

exports.default = new Captcha();

},{"../components/form-group":55,"react":"react"}],368:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Include = exports.Include = function () {
  function Include() {
    _classCallCheck(this, Include);
  }

  _createClass(Include, [{
    key: "init",
    value: function init(staticUrl) {
      this._staticUrl = staticUrl;
      this._included = [];
    }
  }, {
    key: "include",
    value: function include(script) {
      var remote = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

      if (this._included.indexOf(script) === -1) {
        this._included.push(script);
        this._include(script, remote);
      }
    }
  }, {
    key: "_include",
    value: function _include(script, remote) {
      $.ajax({
        url: (!remote ? this._staticUrl : "") + script,
        cache: true,
        dataType: "script"
      });
    }
  }]);

  return Include;
}();

exports.default = new Include();

},{}],369:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var storage = window.localStorage;

var LocalStorage = exports.LocalStorage = function () {
  function LocalStorage() {
    _classCallCheck(this, LocalStorage);
  }

  _createClass(LocalStorage, [{
    key: "init",
    value: function init(prefix) {
      var _this = this;

      this._prefix = prefix;
      this._watchers = [];

      window.addEventListener("storage", function (e) {
        var newValueJson = JSON.parse(e.newValue);
        _this._watchers.forEach(function (watcher) {
          if (watcher.key === e.key && e.oldValue !== e.newValue) {
            watcher.callback(newValueJson);
          }
        });
      });
    }
  }, {
    key: "set",
    value: function set(key, value) {
      storage.setItem(this._prefix + key, JSON.stringify(value));
    }
  }, {
    key: "get",
    value: function get(key) {
      var itemString = storage.getItem(this._prefix + key);
      if (itemString) {
        return JSON.parse(itemString);
      } else {
        return null;
      }
    }
  }, {
    key: "watch",
    value: function watch(key, callback) {
      this._watchers.push({
        key: this._prefix + key,
        callback: callback
      });
    }
  }]);

  return LocalStorage;
}();

exports.default = new LocalStorage();

},{}],370:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.MobileNavbarDropdown = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _mountComponent = require("../utils/mount-component");

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var MobileNavbarDropdown = exports.MobileNavbarDropdown = function () {
  function MobileNavbarDropdown() {
    _classCallCheck(this, MobileNavbarDropdown);
  }

  _createClass(MobileNavbarDropdown, [{
    key: "init",
    value: function init(element) {
      this._element = element;
      this._component = null;
    }
  }, {
    key: "show",
    value: function show(component) {
      if (this._component === component) {
        this.hide();
      } else {
        this._component = component;
        (0, _mountComponent2.default)(component, this._element.id);
        $(this._element).addClass("open");
      }
    }
  }, {
    key: "showConnected",
    value: function showConnected(name, component) {
      if (this._component === name) {
        this.hide();
      } else {
        this._component = name;
        (0, _mountComponent2.default)(component, this._element.id, true);
        $(this._element).addClass("open");
      }
    }
  }, {
    key: "hide",
    value: function hide() {
      $(this._element).removeClass("open");
      this._component = null;
    }
  }]);

  return MobileNavbarDropdown;
}();

exports.default = new MobileNavbarDropdown();

},{"../utils/mount-component":386}],371:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Modal = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _reactDom = require("react-dom");

var _reactDom2 = _interopRequireDefault(_reactDom);

var _mountComponent = require("../utils/mount-component");

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Modal = exports.Modal = function () {
  function Modal() {
    _classCallCheck(this, Modal);
  }

  _createClass(Modal, [{
    key: "init",
    value: function init(element) {
      var _this = this;

      this._element = element;

      this._modal = $(element).modal({ show: false });

      this._modal.on("hidden.bs.modal", function () {
        _reactDom2.default.unmountComponentAtNode(_this._element);
      });
    }
  }, {
    key: "show",
    value: function show(component) {
      (0, _mountComponent2.default)(component, this._element.id);
      this._modal.modal("show");
    }
  }, {
    key: "hide",
    value: function hide() {
      this._modal.modal("hide");
    }
  }]);

  return Modal;
}();

exports.default = new Modal();

},{"../utils/mount-component":386,"react-dom":"react-dom"}],372:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.parseYoutubeUrl = parseYoutubeUrl;
exports.cleanUrl = cleanUrl;
exports.getVideoIdFromUrl = getVideoIdFromUrl;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var ytRegExp = new RegExp("^.*(?:(?:youtu.be/|v/|vi/|u/w/|embed/)|(?:(?:watch)??v(?:i)?=|&v(?:i)?=))([^#&?]*).*");

var OneBox = exports.OneBox = function () {
  function OneBox() {
    var _this = this;

    _classCallCheck(this, OneBox);

    this.render = function (domnode) {
      if (!domnode) return;
      _this.highlightCode(domnode);
      _this.embedYoutubePlayers(domnode);
    };

    this._youtube = {};
  }

  _createClass(OneBox, [{
    key: "highlightCode",
    value: function highlightCode(domnode) {
      var codeblocks = domnode.querySelectorAll("pre>code");
      for (var i = 0; i < codeblocks.length; i++) {
        var code = codeblocks[i];
        hljs.highlightBlock(code);
      }
    }
  }, {
    key: "embedYoutubePlayers",
    value: function embedYoutubePlayers(domnode) {
      var anchors = domnode.querySelectorAll("p>a");
      for (var i = 0; i < anchors.length; i++) {
        var a = anchors[i];
        var p = a.parentNode;
        var onlyChild = p.childNodes.length === 1;

        if (!this._youtube[a.href]) {
          this._youtube[a.href] = parseYoutubeUrl(a.href);
        }

        var youtubeMovie = this._youtube[a.href];
        if (onlyChild && !!youtubeMovie && youtubeMovie.data !== false) {
          this.swapYoutubePlayer(a, youtubeMovie);
        }
      }
    }
  }, {
    key: "swapYoutubePlayer",
    value: function swapYoutubePlayer(element, youtube) {
      var url = "https://www.youtube.com/embed/";
      url += youtube.video;
      url += "?rel=0";
      if (youtube.start) {
        url += "&start=" + youtube.start;
      }

      var player = $('<iframe class="embed-responsive-item" src="' + url + '" allowfullscreen></iframe>');
      $(element).replaceWith(player);
      player.wrap('<div class="embed-responsive embed-responsive-16by9"></div>');
    }
  }]);

  return OneBox;
}();

exports.default = new OneBox();
function parseYoutubeUrl(url) {
  var cleanedUrl = cleanUrl(url);
  var video = getVideoIdFromUrl(cleanedUrl);

  if (!video) return null;

  var start = 0;
  if (cleanedUrl.indexOf("?") > 0) {
    var query = cleanedUrl.substr(cleanedUrl.indexOf("?") + 1);
    var timebit = query.split("&").filter(function (i) {
      return i.substr(0, 2) === "t=";
    })[0];

    if (timebit) {
      var bits = timebit.substr(2).split("m");
      if (bits[0].substr(-1) === "s") {
        start += parseInt(bits[0].substr(0, bits[0].length - 1));
      } else {
        start += parseInt(bits[0]) * 60;
        if (!!bits[1] && bits[1].substr(-1) === "s") {
          start += parseInt(bits[1].substr(0, bits[1].length - 1));
        }
      }
    }
  }

  return {
    start: start,
    video: video
  };
}

function cleanUrl(url) {
  var clean = url;

  if (url.substr(0, 8) === "https://") {
    clean = clean.substr(8);
  } else if (url.substr(0, 7) === "http://") {
    clean = clean.substr(7);
  }

  if (clean.substr(0, 4) === "www.") {
    clean = clean.substr(4);
  }

  return clean;
}

function getVideoIdFromUrl(url) {
  if (url.indexOf("youtu") === -1) return null;

  var video = url.match(ytRegExp);
  if (video) {
    return video[1];
  }
  return null;
}

},{}],373:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var PageTitle = exports.PageTitle = function () {
  function PageTitle() {
    _classCallCheck(this, PageTitle);
  }

  _createClass(PageTitle, [{
    key: "init",
    value: function init(indexTitle, forumName) {
      this._indexTitle = indexTitle;
      this._forumName = forumName;
    }
  }, {
    key: "set",
    value: function set(title) {
      if (!title) {
        document.title = this._indexTitle || this._forumName;
        return;
      }

      if (typeof title === "string") {
        title = { title: title };
      }

      var finalTitle = title.title;

      if (title.page > 1) {
        var pageLabel = interpolate("σελίδα: %(page)s", {
          page: title.page
        }, true);

        finalTitle += " (" + pageLabel + ")";
      }

      if (title.parent) {
        finalTitle += " | " + title.parent;
      }

      document.title = finalTitle + " | " + this._forumName;
    }
  }]);

  return PageTitle;
}();

exports.default = new PageTitle();

},{}],374:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Polls = exports.Polls = function () {
  function Polls() {
    _classCallCheck(this, Polls);
  }

  _createClass(Polls, [{
    key: "init",
    value: function init(ajax, snackbar) {
      this._ajax = ajax;
      this._snackbar = snackbar;

      this._polls = {};
    }
  }, {
    key: "start",
    value: function start(kwargs) {
      var _this = this;

      this.stop(kwargs.poll);

      var poolServer = function poolServer() {
        _this._polls[kwargs.poll] = kwargs;

        _this._ajax.get(kwargs.url, kwargs.data || null).then(function (data) {
          if (!_this._polls[kwargs.poll]._stopped) {
            kwargs.update(data);

            _this._polls[kwargs.poll].timeout = window.setTimeout(poolServer, kwargs.frequency);
          }
        }, function (rejection) {
          if (!_this._polls[kwargs.poll]._stopped) {
            if (kwargs.error) {
              kwargs.error(rejection);
            } else {
              _this._snackbar.apiError(rejection);
            }
          }
        });
      };

      if (kwargs.delayed) {
        this._polls[kwargs.poll] = {
          timeout: window.setTimeout(poolServer, kwargs.frequency)
        };
      } else {
        poolServer();
      }
    }
  }, {
    key: "stop",
    value: function stop(pollId) {
      if (this._polls[pollId]) {
        window.clearTimeout(this._polls[pollId].timeout);
        this._polls[pollId]._stopped = true;
      }
    }
  }]);

  return Polls;
}();

exports.default = new Polls();

},{}],375:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Posting = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _reactDom = require("react-dom");

var _reactDom2 = _interopRequireDefault(_reactDom);

var _poll = require("../components/poll");

var _posting = require("../components/posting");

var _posting2 = _interopRequireDefault(_posting);

var _mountComponent = require("../utils/mount-component");

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Posting = exports.Posting = function () {
  function Posting() {
    var _this = this;

    _classCallCheck(this, Posting);

    this.close = function () {
      if (_this._isOpen && !_this._isClosing) {
        _this._isClosing = true;
        _this._placeholder.removeClass("slide-in");

        window.setTimeout(function () {
          _reactDom2.default.unmountComponentAtNode(document.getElementById("posting-mount"));
          _this._isClosing = false;
          _this._isOpen = false;
        }, 300);
      }
    };
  }

  _createClass(Posting, [{
    key: "init",
    value: function init(ajax, snackbar, placeholder) {
      this._ajax = ajax;
      this._snackbar = snackbar;
      this._placeholder = $(placeholder);

      this._mode = null;

      this._isOpen = false;
      this._isClosing = false;
    }
  }, {
    key: "open",
    value: function open(props) {
      if (this._isOpen === false) {
        this._mode = props.mode;
        this._isOpen = props.submit;
        this._realOpen(props);
      } else if (this._isOpen !== props.submit) {
        var message = "Δουλεύεις ήδη πάνω σε ένα μήνυμα! Θες να το ακυρώσεις;";
        if (this._mode == "POLL") {
          message = "Δουλεύεις ήδη πάνω σε ένα poll! Θες να το ακυρώσεις;";
        }

        var changeForm = confirm(message);
        if (changeForm) {
          this._mode = props.mode;
          this._isOpen = props.submit;
          this._realOpen(props);
        }
      } else if (this._mode == "REPLY" && props.mode == "REPLY") {
        this._realOpen(props);
      }
    }
  }, {
    key: "_realOpen",
    value: function _realOpen(props) {
      if (props.mode == "POLL") {
        (0, _mountComponent2.default)(_react2.default.createElement(_poll.PollForm, props), "posting-mount");
      } else {
        (0, _mountComponent2.default)(_react2.default.createElement(_posting2.default, props), "posting-mount");
      }

      this._placeholder.addClass("slide-in");

      $("html, body").animate({
        scrollTop: this._placeholder.offset().top
      }, 1000);
    }
  }]);

  return Posting;
}();

exports.default = new Posting();

},{"../components/poll":106,"../components/posting":134,"../utils/mount-component":386,"react":"react","react-dom":"react-dom"}],376:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Snackbar = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _snackbar = require("../reducers/snackbar");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var HIDE_ANIMATION_LENGTH = 300;
var MESSAGE_SHOW_LENGTH = 5000;

var Snackbar = exports.Snackbar = function () {
  function Snackbar() {
    _classCallCheck(this, Snackbar);
  }

  _createClass(Snackbar, [{
    key: "init",
    value: function init(store) {
      this._store = store;
      this._timeout = null;
    }
  }, {
    key: "alert",
    value: function alert(message, type) {
      var _this = this;

      if (this._timeout) {
        window.clearTimeout(this._timeout);
        this._store.dispatch((0, _snackbar.hideSnackbar)());

        this._timeout = window.setTimeout(function () {
          _this._timeout = null;
          _this.alert(message, type);
        }, HIDE_ANIMATION_LENGTH);
      } else {
        this._store.dispatch((0, _snackbar.showSnackbar)(message, type));
        this._timeout = window.setTimeout(function () {
          _this._store.dispatch((0, _snackbar.hideSnackbar)());
          _this._timeout = null;
        }, MESSAGE_SHOW_LENGTH);
      }
    }

    // shorthands for message types

  }, {
    key: "info",
    value: function info(message) {
      this.alert(message, "info");
    }
  }, {
    key: "success",
    value: function success(message) {
      this.alert(message, "success");
    }
  }, {
    key: "warning",
    value: function warning(message) {
      this.alert(message, "warning");
    }
  }, {
    key: "error",
    value: function error(message) {
      this.alert(message, "error");
    }

    // shorthand for api errors

  }, {
    key: "apiError",
    value: function apiError(rejection) {
      var message = rejection.detail;

      if (!message) {
        if (rejection.status === 404) {
          message = "Ο σύνδεσμος δεν είναι έγκυρος!";
        } else {
          message = "Άγνωστο λάθος!";
        }
      }

      if (rejection.status === 403 && message === "Permission denied") {
        message = "Δέν έχεις άδεια για να το κάνεις αυτό!";
      }

      this.error(message);
    }
  }]);

  return Snackbar;
}();

exports.default = new Snackbar();

},{"../reducers/snackbar":359}],377:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.StoreWrapper = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _redux = require("redux");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var StoreWrapper = exports.StoreWrapper = function () {
  function StoreWrapper() {
    _classCallCheck(this, StoreWrapper);

    this._store = null;
    this._reducers = {};
    this._initialState = {};
  }

  _createClass(StoreWrapper, [{
    key: "addReducer",
    value: function addReducer(name, reducer, initialState) {
      this._reducers[name] = reducer;
      this._initialState[name] = initialState;
    }
  }, {
    key: "init",
    value: function init() {
      this._store = (0, _redux.createStore)((0, _redux.combineReducers)(this._reducers), this._initialState);
    }
  }, {
    key: "getStore",
    value: function getStore() {
      return this._store;
    }

    // Store API

  }, {
    key: "getState",
    value: function getState() {
      return this._store.getState();
    }
  }, {
    key: "dispatch",
    value: function dispatch(action) {
      return this._store.dispatch(action);
    }
  }]);

  return StoreWrapper;
}();

exports.default = new StoreWrapper();

},{"redux":"redux"}],378:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/* global zxcvbn */
var Zxcvbn = exports.Zxcvbn = function () {
  function Zxcvbn() {
    _classCallCheck(this, Zxcvbn);
  }

  _createClass(Zxcvbn, [{
    key: "init",
    value: function init(include) {
      this._include = include;
      this._isLoaded = false;
    }
  }, {
    key: "scorePassword",
    value: function scorePassword(password, inputs) {
      // 0-4 score, the more the stronger password
      if (this._isLoaded) {
        return zxcvbn(password, inputs).score;
      }

      return 0;
    }
  }, {
    key: "load",
    value: function load() {
      if (!this._isLoaded) {
        this._include.include("misago/js/zxcvbn.js");
        return this._loadingPromise();
      } else {
        return this._loadedPromise();
      }
    }
  }, {
    key: "_loadingPromise",
    value: function _loadingPromise() {
      var self = this;

      return new Promise(function (resolve, reject) {
        var wait = function wait() {
          var tries = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;

          tries += 1;
          if (tries > 200) {
            reject();
          } else if (typeof zxcvbn === "undefined") {
            window.setTimeout(function () {
              wait(tries);
            }, 200);
          } else {
            self._isLoaded = true;
            resolve();
          }
        };
        wait();
      });
    }
  }, {
    key: "_loadedPromise",
    value: function _loadedPromise() {
      // we have already loaded zxcvbn.js, resolve away!
      return new Promise(function (resolve) {
        resolve();
      });
    }
  }]);

  return Zxcvbn;
}();

exports.default = new Zxcvbn();

},{}],379:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (ban, changeState) {
  _reactDom2.default.render(_react2.default.createElement(
    _reactRedux.Provider,
    { store: _store2.default.getStore() },
    _react2.default.createElement(RedrawedBannedPage, {
      message: ban.message,
      expires: ban.expires_on ? (0, _moment2.default)(ban.expires_on) : null
    })
  ), document.getElementById("page-mount"));

  if (typeof changeState === "undefined" || changeState) {
    var forumName = _index2.default.get("SETTINGS").forum_name;
    document.title = "Ο λογαριασμός σου έχει αποκλειστεί!" + " | " + forumName;
    window.history.pushState({}, "", _index2.default.get("BANNED_URL"));
  }
};

var _moment = require("moment");

var _moment2 = _interopRequireDefault(_moment);

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _reactDom = require("react-dom");

var _reactDom2 = _interopRequireDefault(_reactDom);

var _reactRedux = require("react-redux");

var _bannedPage = require("../components/banned-page");

var _bannedPage2 = _interopRequireDefault(_bannedPage);

var _index = require("../index");

var _index2 = _interopRequireDefault(_index);

var _store = require("../services/store");

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var select = function select(state) {
  return state.tick;
};

var RedrawedBannedPage = (0, _reactRedux.connect)(select)(_bannedPage2.default);

},{"../components/banned-page":7,"../index":302,"../services/store":377,"moment":"moment","react":"react","react-dom":"react-dom","react-redux":"react-redux"}],380:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (list, rowWidth) {
  var padding = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;

  var rows = [];
  var row = [];

  list.forEach(function (element) {
    row.push(element);
    if (row.length === rowWidth) {
      rows.push(row);
      row = [];
    }
  });

  // pad row to required length?
  if (padding !== false && row.length > 0 && row.length < rowWidth) {
    for (var i = row.length; i < rowWidth; i++) {
      row.push(padding);
    }
  }

  if (row.length) {
    rows.push(row);
  }

  return rows;
};

},{}],381:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (a, b) {
  var ids = [];
  return a.concat(b).filter(function (item) {
    if (ids.indexOf(item.id) === -1) {
      ids.push(item.id);
      return true;
    } else {
      return false;
    }
  });
};

},{}],382:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var _class = function () {
  function _class(callback, count) {
    _classCallCheck(this, _class);

    this._callback = callback;
    this._count = count;
  }

  _createClass(_class, [{
    key: "count",
    value: function count() {
      this._count -= 1;
      if (this._count === 0) {
        this._callback();
      }
    }
  }]);

  return _class;
}();

exports.default = _class;

},{}],383:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (text) {
  return text.replace(/[&<>"']/g, function (m) {
    return map[m];
  });
};

var map = {
  "&": "&amp;",
  "<": "&lt;",
  ">": "&gt;",
  '"': "&quot;",
  "'": "&#039;"
};

},{}],384:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (bytes) {
  if (bytes > 1024 * 1024 * 1024) {
    return roundSize(bytes / (1024 * 1024 * 1024)) + " GB";
  } else if (bytes > 1024 * 1024) {
    return roundSize(bytes / (1024 * 1024)) + " MB";
  } else if (bytes > 1024) {
    return roundSize(bytes / 1024) + " KB";
  } else {
    return roundSize(bytes) + " B";
  }
};

exports.roundSize = roundSize;
function roundSize(value) {
  return value.toFixed(1);
}

},{}],385:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (str) {
  return URL_PATTERN.test($.trim(str));
};

var URL_PATTERN = new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$", "i");

},{}],386:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (Component, rootElementId) {
  var connected = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;

  var rootElement = document.getElementById(rootElementId);

  var finalComponent = Component.props ? Component : _react2.default.createElement(Component, null);

  if (rootElement) {
    if (connected) {
      _reactDom2.default.render(_react2.default.createElement(
        _reactRedux.Provider,
        { store: _store2.default.getStore() },
        finalComponent
      ), rootElement);
    } else {
      _reactDom2.default.render(finalComponent, rootElement);
    }
  }
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _reactDom = require("react-dom");

var _reactDom2 = _interopRequireDefault(_reactDom);

var _reactRedux = require("react-redux");

var _store = require("../services/store");

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../services/store":377,"react":"react","react-dom":"react-dom","react-redux":"react-redux"}],387:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var OrderedList = function () {
  function OrderedList(items) {
    _classCallCheck(this, OrderedList);

    this.isOrdered = false;
    this._items = items || [];
  }

  _createClass(OrderedList, [{
    key: "add",
    value: function add(key, item, order) {
      this._items.push({
        key: key,
        item: item,

        after: order ? order.after || null : null,
        before: order ? order.before || null : null
      });
    }
  }, {
    key: "get",
    value: function get(key, value) {
      for (var i = 0; i < this._items.length; i++) {
        if (this._items[i].key === key) {
          return this._items[i].item;
        }
      }

      return value;
    }
  }, {
    key: "has",
    value: function has(key) {
      return this.get(key) !== undefined;
    }
  }, {
    key: "values",
    value: function values() {
      var values = [];
      for (var i = 0; i < this._items.length; i++) {
        values.push(this._items[i].item);
      }
      return values;
    }
  }, {
    key: "order",
    value: function order(values_only) {
      if (!this.isOrdered) {
        this._items = this._order(this._items);
        this.isOrdered = true;
      }

      if (values_only || typeof values_only === "undefined") {
        return this.values();
      } else {
        return this._items;
      }
    }
  }, {
    key: "orderedValues",
    value: function orderedValues() {
      return this.order(true);
    }
  }, {
    key: "_order",
    value: function _order(unordered) {
      // Index of unordered items
      var index = [];
      unordered.forEach(function (item) {
        index.push(item.key);
      });

      // Ordered items
      var ordered = [];
      var ordering = [];

      // First pass: register items that
      // don't specify their order
      unordered.forEach(function (item) {
        if (!item.after && !item.before) {
          ordered.push(item);
          ordering.push(item.key);
        }
      });

      // Second pass: register items that
      // specify their before to "_end"
      unordered.forEach(function (item) {
        if (item.before === "_end") {
          ordered.push(item);
          ordering.push(item.key);
        }
      });

      // Third pass: keep iterating items
      // until we hit iterations limit or finish
      // ordering list
      function insertItem(item) {
        var insertAt = -1;
        if (ordering.indexOf(item.key) === -1) {
          if (item.after) {
            insertAt = ordering.indexOf(item.after);
            if (insertAt !== -1) {
              insertAt += 1;
            }
          } else if (item.before) {
            insertAt = ordering.indexOf(item.before);
          }

          if (insertAt !== -1) {
            ordered.splice(insertAt, 0, item);
            ordering.splice(insertAt, 0, item.key);
          }
        }
      }

      var iterations = 200;
      while (iterations > 0 && index.length !== ordering.length) {
        iterations -= 1;
        unordered.forEach(insertItem);
      }

      return ordered;
    }
  }]);

  return OrderedList;
}();

exports.default = OrderedList;

},{}],388:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.int = int;
exports.range = range;
function int(min, max) {
  return Math.floor(Math.random() * (max - min + 1)) + min;
}

function range(min, max) {
  var array = new Array(int(min, max));
  for (var i = 0; i < array.length; i++) {
    array[i] = i;
  }

  return array;
}

},{}],389:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function () {
  window.scrollTo(0, 0);
};

},{}],390:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (options) {
  var routes = {
    component: options.component || null,
    childRoutes: []
  };

  if (options.root) {
    routes.childRoutes = [{
      path: options.root,
      onEnter: function onEnter(nextState, replaceState) {
        replaceState(null, options.paths[0].path);
      }
    }].concat(options.paths);
  } else {
    routes.childRoutes = options.paths;
  }

  _reactDom2.default.render(_react2.default.createElement(
    _reactRedux.Provider,
    { store: _store2.default.getStore() },
    _react2.default.createElement(_reactRouter.Router, { routes: routes, history: _reactRouter.browserHistory })
  ), rootElement);
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _reactDom = require("react-dom");

var _reactDom2 = _interopRequireDefault(_reactDom);

var _reactRedux = require("react-redux");

var _reactRouter = require("react-router");

var _store = require("../services/store");

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var rootElement = document.getElementById("page-mount");

},{"../services/store":377,"react":"react","react-dom":"react-dom","react-redux":"react-redux","react-router":"react-router"}],391:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.push = push;
exports.remove = remove;
exports.toggle = toggle;
function push(array, value) {
  if (array.indexOf(value) === -1) {
    var copy = array.slice();
    copy.push(value);
    return copy;
  } else {
    return array;
  }
}

function remove(array, value) {
  if (array.indexOf(value) >= 0) {
    return array.filter(function (i) {
      return i !== value;
    });
  } else {
    return array;
  }
}

function toggle(array, value) {
  if (array.indexOf(value) === -1) {
    var copy = array.slice();
    copy.push(value);
    return copy;
  } else {
    return array.filter(function (i) {
      return i !== value;
    });
  }
}

},{}],392:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (string, subString) {
  string = (string + "").toLowerCase();
  subString = (subString + "").toLowerCase();

  if (subString.length <= 0) return 0;

  var n = 0;
  var pos = 0;
  var step = subString.length;

  while (true) {
    pos = string.indexOf(subString, pos);
    if (pos >= 0) {
      n += 1;
      pos += step;
    } else {
      break;
    }
  }

  return n;
};

},{}],393:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.required = required;
exports.requiredTermsOfService = requiredTermsOfService;
exports.requiredPrivacyPolicy = requiredPrivacyPolicy;
exports.email = email;
exports.minLength = minLength;
exports.maxLength = maxLength;
exports.usernameMinLength = usernameMinLength;
exports.usernameMaxLength = usernameMaxLength;
exports.usernameContent = usernameContent;
exports.passwordMinLength = passwordMinLength;
var EMAIL = /^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;
var USERNAME = new RegExp("^[0-9a-z]+$", "i");

function required(message) {
  return function (value) {
    if (value === false || value === null || $.trim(value).length === 0) {
      return message || "Αυτό το πεδίο είναι απαραίτητο!";
    }
  };
}

function requiredTermsOfService(message) {
  var error = "Πρέπει να αποδεχτείς τους όρους χρήσης!";
  return required(message || error);
}

function requiredPrivacyPolicy(message) {
  var error = "Πρέπει να αποδεχτείς την πολιτική προστασίας δεδομένων!";
  return required(message || error);
}

function email(message) {
  return function (value) {
    if (!EMAIL.test(value)) {
      return message || "Βάλε μια σωστή διεύθυνη email!";
    }
  };
}

function minLength(limitValue, message) {
  return function (value) {
    var returnMessage = "";
    var length = $.trim(value).length;

    if (length < limitValue) {
      if (message) {
        returnMessage = message(limitValue, length);
      } else {
        returnMessage = "Σιγουρέψου ότι έχει τουλάχιστον %(limit_value)s χαρακτήρες (έχει %(show_value)s)!";
      }
      return interpolate(returnMessage, {
        limit_value: limitValue,
        show_value: length
      }, true);
    }
  };
}

function maxLength(limitValue, message) {
  return function (value) {
    var returnMessage = "";
    var length = $.trim(value).length;

    if (length > limitValue) {
      if (message) {
        returnMessage = message(limitValue, length);
      } else {
        returnMessage = "Σιγουρέψου ότι έχει το πολύ %(limit_value)s χαρακτήρες (έχει %(show_value)s)!";
      }
      return interpolate(returnMessage, {
        limit_value: limitValue,
        show_value: length
      }, true);
    }
  };
}

function usernameMinLength(lengthMin) {
  var message = function message(lengthMin) {
    return "Το όνομα χρήστη πρέπει να έχει τουλάχιστον %(limit_value)s χαρακτήρες!";
  };
  return minLength(lengthMin, message);
}

function usernameMaxLength(lengthMax) {
  var message = function message(lengthMax) {
    return "Το όνομα χρήστη δεν μπορεί να είναι μεγαλύτερο από %(limit_value)s χαρακτήρες!";
  };
  return maxLength(lengthMax, message);
}

function usernameContent() {
  return function (value) {
    if (!USERNAME.test($.trim(value))) {
      return "Το όνομα χρήστη πρέπει να περιέχει μόνο λατινικούς χαρακτήρες και νούμερα!";
    }
  };
}

function passwordMinLength(limitValue) {
  return function (value) {
    var length = value.length;

    if (length < limitValue) {
      var returnMessage = "Ο κωδικός πρόσβασης πρέπει να έχει τουλάχιστον %(limit_value)s χαρακτήρες!";

      return interpolate(returnMessage, {
        limit_value: limitValue,
        show_value: length
      }, true);
    }
  };
}

},{}]},{},[302,303,304,305,306,323,324,325,326,327,328,329,330,346,347,348,349,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvY29tcG9uZW50cy9SZWdpc3RlckxlZ2FsRm9vdG5vdGUuanMiLCJzcmMvY29tcG9uZW50cy9TdGFydFNvY2lhbEF1dGguanMiLCJzcmMvY29tcG9uZW50cy9hY2NlcHQtYWdyZWVtZW50LmpzIiwic3JjL2NvbXBvbmVudHMvYWRkLXBhcnRpY2lwYW50LmpzIiwic3JjL2NvbXBvbmVudHMvYXV0aC1tZXNzYWdlLmpzIiwic3JjL2NvbXBvbmVudHMvYXZhdGFyLmpzIiwic3JjL2NvbXBvbmVudHMvYmFubmVkLXBhZ2UuanMiLCJzcmMvY29tcG9uZW50cy9idXR0b24uanMiLCJzcmMvY29tcG9uZW50cy9jYXRlZ29yaWVzL2JsYW5rc2xhdGUuanMiLCJzcmMvY29tcG9uZW50cy9jYXRlZ29yaWVzL2NhdGVnb3JpZXMtbGlzdC5qcyIsInNyYy9jb21wb25lbnRzL2NhdGVnb3JpZXMvY2F0ZWdvcnkvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9jYXRlZ29yaWVzL2NhdGVnb3J5L2xpc3QtaXRlbS9kZXNjcmlwdGlvbi5qcyIsInNyYy9jb21wb25lbnRzL2NhdGVnb3JpZXMvY2F0ZWdvcnkvbGlzdC1pdGVtL2ljb24uanMiLCJzcmMvY29tcG9uZW50cy9jYXRlZ29yaWVzL2NhdGVnb3J5L2xpc3QtaXRlbS9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL2NhdGVnb3JpZXMvY2F0ZWdvcnkvbGlzdC1pdGVtL2xhc3QtdGhyZWFkLmpzIiwic3JjL2NvbXBvbmVudHMvY2F0ZWdvcmllcy9jYXRlZ29yeS9saXN0LWl0ZW0vbWFpbi5qcyIsInNyYy9jb21wb25lbnRzL2NhdGVnb3JpZXMvY2F0ZWdvcnkvbGlzdC1pdGVtL3N0YXRzLmpzIiwic3JjL2NvbXBvbmVudHMvY2F0ZWdvcmllcy9jYXRlZ29yeS9saXN0LWl0ZW0vc3ViY2F0ZWdvcmllcy9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL2NhdGVnb3JpZXMvY2F0ZWdvcnkvbGlzdC1pdGVtL3N1YmNhdGVnb3JpZXMvbGlzdC1pdGVtLmpzIiwic3JjL2NvbXBvbmVudHMvY2F0ZWdvcmllcy9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL2NhdGVnb3J5LXNlbGVjdC5qcyIsInNyYy9jb21wb25lbnRzL2NoYW5nZS1hdmF0YXIvY3JvcC5qcyIsInNyYy9jb21wb25lbnRzL2NoYW5nZS1hdmF0YXIvZ2FsbGVyeS5qcyIsInNyYy9jb21wb25lbnRzL2NoYW5nZS1hdmF0YXIvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9jaGFuZ2UtYXZhdGFyL3Jvb3QuanMiLCJzcmMvY29tcG9uZW50cy9jaGFuZ2UtYXZhdGFyL3VwbG9hZC5qcyIsInNyYy9jb21wb25lbnRzL2Ryb3Bkb3duLXRvZ2dsZS5qcyIsInNyYy9jb21wb25lbnRzL2VkaXQtZGV0YWlscy9ibGFua3NsYXRlLmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdC1kZXRhaWxzL2ZpZWxkLWlucHV0LmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdC1kZXRhaWxzL2ZpZWxkc2V0LmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdC1kZXRhaWxzL2Zvcm0uanMiLCJzcmMvY29tcG9uZW50cy9lZGl0LWRldGFpbHMvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9lZGl0LWRldGFpbHMvbG9hZGVyLmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdG9yL2FjdGlvbnMvU3BvaWxlci5qcyIsInNyYy9jb21wb25lbnRzL2VkaXRvci9hY3Rpb25zL2FjdGlvbi5qcyIsInNyYy9jb21wb25lbnRzL2VkaXRvci9hY3Rpb25zL2NvZGUuanMiLCJzcmMvY29tcG9uZW50cy9lZGl0b3IvYWN0aW9ucy9lbXBoYXNpcy5qcyIsInNyYy9jb21wb25lbnRzL2VkaXRvci9hY3Rpb25zL2hyLmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdG9yL2FjdGlvbnMvaW1hZ2UuanMiLCJzcmMvY29tcG9uZW50cy9lZGl0b3IvYWN0aW9ucy9saW5rLmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdG9yL2FjdGlvbnMvcXVvdGUuanMiLCJzcmMvY29tcG9uZW50cy9lZGl0b3IvYWN0aW9ucy9zdHJpa2V0aHJvdWdoLmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdG9yL2FjdGlvbnMvc3Ryb25nLmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdG9yL2F0dGFjaG1lbnRzL2F0dGFjaG1lbnQvY29tcGxldGUuanMiLCJzcmMvY29tcG9uZW50cy9lZGl0b3IvYXR0YWNobWVudHMvYXR0YWNobWVudC9lcnJvci5qcyIsInNyYy9jb21wb25lbnRzL2VkaXRvci9hdHRhY2htZW50cy9hdHRhY2htZW50L2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdG9yL2F0dGFjaG1lbnRzL2F0dGFjaG1lbnQvdXBsb2FkLmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdG9yL2F0dGFjaG1lbnRzL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdG9yL2F0dGFjaG1lbnRzL2xpc3QuanMiLCJzcmMvY29tcG9uZW50cy9lZGl0b3IvYXR0YWNobWVudHMvdXBsb2FkLWJ1dHRvbi5qcyIsInNyYy9jb21wb25lbnRzL2VkaXRvci9hdHRhY2htZW50cy91cGxvYWRlci5qcyIsInNyYy9jb21wb25lbnRzL2VkaXRvci9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL2VkaXRvci9tYXJrdXAtcHJldmlldy5qcyIsInNyYy9jb21wb25lbnRzL2VkaXRvci90ZXh0dXRpbHMuanMiLCJzcmMvY29tcG9uZW50cy9mb3JtLWdyb3VwLmpzIiwic3JjL2NvbXBvbmVudHMvZm9ybS5qcyIsInNyYy9jb21wb25lbnRzL2xpLmpzIiwic3JjL2NvbXBvbmVudHMvbG9hZGVyLmpzIiwic3JjL2NvbXBvbmVudHMvbWVyZ2UtY29uZmxpY3QuanMiLCJzcmMvY29tcG9uZW50cy9taXNhZ28tbWFya3VwLmpzIiwic3JjL2NvbXBvbmVudHMvbW9kYWwtbG9hZGVyLmpzIiwic3JjL2NvbXBvbmVudHMvbW9kYWwtbWVzc2FnZS5qcyIsInNyYy9jb21wb25lbnRzL25hdmJhci1zZWFyY2gvY2xlYW4tcmVzdWx0cy5qcyIsInNyYy9jb21wb25lbnRzL25hdmJhci1zZWFyY2gvZHJvcGRvd24vY29uc3RhbnRzLmpzIiwic3JjL2NvbXBvbmVudHMvbmF2YmFyLXNlYXJjaC9kcm9wZG93bi9kcm9wZG93bi1tZW51LmpzIiwic3JjL2NvbXBvbmVudHMvbmF2YmFyLXNlYXJjaC9kcm9wZG93bi9lbXB0eS5qcyIsInNyYy9jb21wb25lbnRzL25hdmJhci1zZWFyY2gvZHJvcGRvd24vZmxhdHRlbi1yZXN1bHRzLmpzIiwic3JjL2NvbXBvbmVudHMvbmF2YmFyLXNlYXJjaC9kcm9wZG93bi9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL25hdmJhci1zZWFyY2gvZHJvcGRvd24vaW5wdXQuanMiLCJzcmMvY29tcG9uZW50cy9uYXZiYXItc2VhcmNoL2Ryb3Bkb3duL2xvYWRlci5qcyIsInNyYy9jb21wb25lbnRzL25hdmJhci1zZWFyY2gvZHJvcGRvd24vcmVzdWx0L2Zvb3Rlci5qcyIsInNyYy9jb21wb25lbnRzL25hdmJhci1zZWFyY2gvZHJvcGRvd24vcmVzdWx0L2hlYWRlci5qcyIsInNyYy9jb21wb25lbnRzL25hdmJhci1zZWFyY2gvZHJvcGRvd24vcmVzdWx0L2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvbmF2YmFyLXNlYXJjaC9kcm9wZG93bi9yZXN1bHQvcmVzdWx0LmpzIiwic3JjL2NvbXBvbmVudHMvbmF2YmFyLXNlYXJjaC9kcm9wZG93bi9yZXN1bHQvdGhyZWFkLmpzIiwic3JjL2NvbXBvbmVudHMvbmF2YmFyLXNlYXJjaC9kcm9wZG93bi9yZXN1bHQvdXNlci5qcyIsInNyYy9jb21wb25lbnRzL25hdmJhci1zZWFyY2gvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9vcHRpb25zL2NoYW5nZS11c2VybmFtZS9mb3JtLWxvYWRpbmcuanMiLCJzcmMvY29tcG9uZW50cy9vcHRpb25zL2NoYW5nZS11c2VybmFtZS9mb3JtLWxvY2tlZC5qcyIsInNyYy9jb21wb25lbnRzL29wdGlvbnMvY2hhbmdlLXVzZXJuYW1lL2Zvcm0uanMiLCJzcmMvY29tcG9uZW50cy9vcHRpb25zL2NoYW5nZS11c2VybmFtZS9yb290LmpzIiwic3JjL2NvbXBvbmVudHMvb3B0aW9ucy9kZWxldGUtYWNjb3VudC5qcyIsInNyYy9jb21wb25lbnRzL29wdGlvbnMvZG93bmxvYWQtZGF0YS5qcyIsInNyYy9jb21wb25lbnRzL29wdGlvbnMvZWRpdC1kZXRhaWxzLmpzIiwic3JjL2NvbXBvbmVudHMvb3B0aW9ucy9mb3J1bS1vcHRpb25zLmpzIiwic3JjL2NvbXBvbmVudHMvb3B0aW9ucy9uYXZzLmpzIiwic3JjL2NvbXBvbmVudHMvb3B0aW9ucy9yb290LmpzIiwic3JjL2NvbXBvbmVudHMvb3B0aW9ucy9zaWduLWluLWNyZWRlbnRpYWxzL1VudXNhYmxlUGFzc3dvcmRNZXNzYWdlLmpzIiwic3JjL2NvbXBvbmVudHMvb3B0aW9ucy9zaWduLWluLWNyZWRlbnRpYWxzL2NoYW5nZS1lbWFpbC5qcyIsInNyYy9jb21wb25lbnRzL29wdGlvbnMvc2lnbi1pbi1jcmVkZW50aWFscy9jaGFuZ2UtcGFzc3dvcmQuanMiLCJzcmMvY29tcG9uZW50cy9vcHRpb25zL3NpZ24taW4tY3JlZGVudGlhbHMvcm9vdC5qcyIsInNyYy9jb21wb25lbnRzL3BhZ2UtbGVhZC5qcyIsInNyYy9jb21wb25lbnRzL3BhbmVsLWxvYWRlci5qcyIsInNyYy9jb21wb25lbnRzL3BhbmVsLW1lc3NhZ2UuanMiLCJzcmMvY29tcG9uZW50cy9wYXJ0aWNpcGFudHMvYWRkLXBhcnRpY2lwYW50LmpzIiwic3JjL2NvbXBvbmVudHMvcGFydGljaXBhbnRzL2NhcmRzLWxpc3QvYWN0aW9ucy5qcyIsInNyYy9jb21wb25lbnRzL3BhcnRpY2lwYW50cy9jYXJkcy1saXN0L2NhcmQuanMiLCJzcmMvY29tcG9uZW50cy9wYXJ0aWNpcGFudHMvY2FyZHMtbGlzdC9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3BhcnRpY2lwYW50cy9jYXJkcy1saXN0L21ha2Utb3duZXIuanMiLCJzcmMvY29tcG9uZW50cy9wYXJ0aWNpcGFudHMvY2FyZHMtbGlzdC9yZW1vdmUuanMiLCJzcmMvY29tcG9uZW50cy9wYXJ0aWNpcGFudHMvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9wYXJ0aWNpcGFudHMvdXRpbHMuanMiLCJzcmMvY29tcG9uZW50cy9wYXNzd29yZC1zdHJlbmd0aC5qcyIsInNyYy9jb21wb25lbnRzL3BvbGwvZm9ybS9jaG9pY2VzLWNvbnRyb2wuanMiLCJzcmMvY29tcG9uZW50cy9wb2xsL2Zvcm0vaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9wb2xsL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvcG9sbC9pbmZvLmpzIiwic3JjL2NvbXBvbmVudHMvcG9sbC9wb2xsLmpzIiwic3JjL2NvbXBvbmVudHMvcG9sbC9yZXN1bHRzL2NoYXJ0LmpzIiwic3JjL2NvbXBvbmVudHMvcG9sbC9yZXN1bHRzL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvcG9sbC9yZXN1bHRzL21vZGFsLmpzIiwic3JjL2NvbXBvbmVudHMvcG9sbC9yZXN1bHRzL29wdGlvbnMuanMiLCJzcmMvY29tcG9uZW50cy9wb2xsL3ZvdGluZy9oZWxwLmpzIiwic3JjL2NvbXBvbmVudHMvcG9sbC92b3RpbmcvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9wb2xsL3ZvdGluZy9zZWxlY3QuanMiLCJzcmMvY29tcG9uZW50cy9wb2xsL3ZvdGluZy91dGlscy5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3QtY2hhbmdlbG9nL2RpZmYuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0LWNoYW5nZWxvZy9mb290ZXIuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0LWNoYW5nZWxvZy9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3QtY2hhbmdlbG9nL3Rvb2xiYXIuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0LWNoYW5nZWxvZy91dGlscy5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3QtZmVlZC9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3QtZmVlZC9wb3N0L2JvZHkuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0LWZlZWQvcG9zdC9oZWFkZXIuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0LWZlZWQvcG9zdC9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3QtZmVlZC9wb3N0L3Bvc3Qtc2lkZS9hbm9ueW1vdXMuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0LWZlZWQvcG9zdC9wb3N0LXNpZGUvYnV0dG9uLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdC1mZWVkL3Bvc3QvcG9zdC1zaWRlL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdC1mZWVkL3Bvc3QvcG9zdC1zaWRlL3JlZ2lzdGVyZWQuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0LWZlZWQvcG9zdC9wb3N0LXNpZGUvdXNlci10aXRsZS5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3QtZmVlZC9wcmV2aWV3LmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdC1saWtlcy5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RpbmcvZWRpdC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RpbmcvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9wb3N0aW5nL3JlcGx5LmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdGluZy9zdGFydC1wcml2YXRlLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdGluZy9zdGFydC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RpbmcvdXRpbHMvYXR0YWNobWVudHMuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0aW5nL3V0aWxzL2NvbnRhaW5lci5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RpbmcvdXRpbHMvbG9hZGVyLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdGluZy91dGlscy9tZXNzYWdlLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdGluZy91dGlscy9vcHRpb25zLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdGluZy91dGlscy91c2VybmFtZXMuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0aW5nL3V0aWxzL3ZhbGlkYXRvcnMuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L2V2ZW50L2NvbnRyb2xzLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9ldmVudC9pY29uLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9ldmVudC9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvZXZlbnQvaW5mby5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvZXZlbnQvbWVzc2FnZS5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvZXZlbnQvdW5yZWFkLWxhYmVsLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9hdHRhY2htZW50cy9hdHRhY2htZW50LmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L2F0dGFjaG1lbnRzL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L2JvZHkuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvY29udHJvbHMvYWN0aW9ucy5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9jb250cm9scy9kcm9wZG93bi5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9jb250cm9scy9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9jb250cm9scy9tb3ZlLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L2NvbnRyb2xzL3NwbGl0LmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L2ZsYWdzLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L2Zvb3Rlci5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9oZWFkZXIuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvcG9zdC1zaWRlL2Fub255bW91cy5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9wb3N0LXNpZGUvaGFzLXZpc2libGUtdGl0bGUuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvcG9zdC1zaWRlL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L3Bvc3Qtc2lkZS9yZWdpc3RlcmVkLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L3Bvc3Qtc2lkZS91c2VyLXBvc3Rjb3VudC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9wb3N0LXNpZGUvdXNlci1zdGF0dXMuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvcG9zdC1zaWRlL3VzZXItdGl0bGUuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvcHJldmlldy5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9zZWxlY3QuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3dheXBvaW50LmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9iYW4tZGV0YWlscy5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvZGV0YWlscy9lbXB0eS1tZXNzYWdlLmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9kZXRhaWxzL2ZpZWxkLXZhbHVlLmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9kZXRhaWxzL2ZpZWxkLmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9kZXRhaWxzL2Zvcm0uanMiLCJzcmMvY29tcG9uZW50cy9wcm9maWxlL2RldGFpbHMvZ3JvdXAuanMiLCJzcmMvY29tcG9uZW50cy9wcm9maWxlL2RldGFpbHMvZ3JvdXBzLWxpc3QuanMiLCJzcmMvY29tcG9uZW50cy9wcm9maWxlL2RldGFpbHMvaGVhZGVyLmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9kZXRhaWxzL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9mZWVkL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9mZWVkL3JvdXRlLmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9mb2xsb3ctYnV0dG9uLmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9mb2xsb3dlcnMuanMiLCJzcmMvY29tcG9uZW50cy9wcm9maWxlL2ZvbGxvd3MuanMiLCJzcmMvY29tcG9uZW50cy9wcm9maWxlL2hlYWRlci5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvbWVzc2FnZS1idXR0b24uanMiLCJzcmMvY29tcG9uZW50cy9wcm9maWxlL21vZGVyYXRpb24vYXZhdGFyLWNvbnRyb2xzLmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9tb2RlcmF0aW9uL2NoYW5nZS11c2VybmFtZS5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvbW9kZXJhdGlvbi9kZWxldGUtYWNjb3VudC5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvbW9kZXJhdGlvbi9uYXYuanMiLCJzcmMvY29tcG9uZW50cy9wcm9maWxlL25hdnMuanMiLCJzcmMvY29tcG9uZW50cy9wcm9maWxlL3Jvb3QuanMiLCJzcmMvY29tcG9uZW50cy9wcm9maWxlL3VzZXJuYW1lLWhpc3RvcnkuanMiLCJzcmMvY29tcG9uZW50cy9xdWljay1zZWFyY2guanMiLCJzcmMvY29tcG9uZW50cy9yZWdpc3Rlci1idXR0b24uanMiLCJzcmMvY29tcG9uZW50cy9yZWdpc3Rlci5qcyIsInNyYy9jb21wb25lbnRzL3JlcXVlc3QtYWN0aXZhdGlvbi1saW5rLmpzIiwic3JjL2NvbXBvbmVudHMvcmVxdWVzdC1wYXNzd29yZC1yZXNldC5qcyIsInNyYy9jb21wb25lbnRzL3Jlc2V0LXBhc3N3b3JkLWZvcm0uanMiLCJzcmMvY29tcG9uZW50cy9zZWFyY2gvZm9ybS5qcyIsInNyYy9jb21wb25lbnRzL3NlYXJjaC9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3NlYXJjaC9wYWdlLmpzIiwic3JjL2NvbXBvbmVudHMvc2VhcmNoL3NpZGVuYXYuanMiLCJzcmMvY29tcG9uZW50cy9zZWFyY2gvdGhyZWFkcy9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3NlYXJjaC90aHJlYWRzL3Jlc3VsdHMuanMiLCJzcmMvY29tcG9uZW50cy9zZWFyY2gvdXNlcnMvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9zZWxlY3QuanMiLCJzcmMvY29tcG9uZW50cy9zaWduLWluLmpzIiwic3JjL2NvbXBvbmVudHMvc25hY2tiYXIuanMiLCJzcmMvY29tcG9uZW50cy9zb2NpYWwtYXV0aC9jb21wbGV0ZS5qcyIsInNyYy9jb21wb25lbnRzL3NvY2lhbC1hdXRoL2hlYWRlci5qcyIsInNyYy9jb21wb25lbnRzL3NvY2lhbC1hdXRoL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvc29jaWFsLWF1dGgvcmVnaXN0ZXIuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWQvaGVhZGVyL2JyZWFkY3J1bWJzLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL2hlYWRlci9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZC9oZWFkZXIvc3RhdHMuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWQvbW9kZXJhdGlvbi9wb3N0cy9hY3Rpb25zLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL21vZGVyYXRpb24vcG9zdHMvZHJvcGRvd24uanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWQvbW9kZXJhdGlvbi9wb3N0cy9lcnJvcnMtbGlzdC5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZC9tb2RlcmF0aW9uL3Bvc3RzL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL21vZGVyYXRpb24vcG9zdHMvbW92ZS5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZC9tb2RlcmF0aW9uL3Bvc3RzL3NwbGl0LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL21vZGVyYXRpb24vdGhyZWFkL2NvbnRyb2xzLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL21vZGVyYXRpb24vdGhyZWFkL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL21vZGVyYXRpb24vdGhyZWFkL2lzLXZpc2libGUuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWQvbW9kZXJhdGlvbi90aHJlYWQvbWVyZ2UuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWQvbW9kZXJhdGlvbi90aHJlYWQvbW92ZS5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZC9wYWdpbmF0b3IuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWQvcmVwbHktYnV0dG9uLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL3Jvb3QuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWQvcm91dGUuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWQvc3Vic2NyaXB0aW9uLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL3Rvb2xiYXItYm90dG9tLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL3Rvb2xiYXItdG9wLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L2xpc3QvZGlmZi1tZXNzYWdlLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L2xpc3QvZW1wdHkuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzLWxpc3QvbGlzdC9wcmV2aWV3LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L2xpc3QvcmVhZHkuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL2RldGFpbHMvYm90dG9tLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9kZXRhaWxzL2NhdGVnb3J5LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9kZXRhaWxzL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9kZXRhaWxzL3RvcC5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvbGFzdC1hY3Rpb24uanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL29wdGlvbnMuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL3ByZXZpZXcuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL3JlYWR5LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9zdWJzY3JpcHRpb24vY29tcGFjdC5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvc3Vic2NyaXB0aW9uL2Z1bGwuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL3N1YnNjcmlwdGlvbi9tb2RhbC5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvc3Vic2NyaXB0aW9uL29wdGlvbnMuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL3VzZXItdXJsLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy9jYXRlZ29yeS1waWNrZXIuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzL2NvbXBhcmUuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzL2NvbnRhaW5lci5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMvaGVhZGVyLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy9saXN0LWVtcHR5LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy9tb2RlcmF0aW9uL2NvbnRyb2xzLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy9tb2RlcmF0aW9uL2Vycm9ycy1saXN0LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy9tb2RlcmF0aW9uL21lcmdlLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy9tb2RlcmF0aW9uL21vdmUuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzL21vZGVyYXRpb24vc2VsZWN0aW9uLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy9uYXYuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzL3Jvb3QuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzL3JvdXRlLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy90b29sYmFyLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy91dGlscy5qcyIsInNyYy9jb21wb25lbnRzL3VzZXItbWVudS9ndWVzdC1uYXYuanMiLCJzcmMvY29tcG9uZW50cy91c2VyLW1lbnUvcm9vdC5qcyIsInNyYy9jb21wb25lbnRzL3VzZXItbWVudS91c2VyLW5hdi5qcyIsInNyYy9jb21wb25lbnRzL3VzZXItc3RhdHVzLmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcm5hbWUtaGlzdG9yeS9jaGFuZ2UtcHJldmlldy5qcyIsInNyYy9jb21wb25lbnRzL3VzZXJuYW1lLWhpc3RvcnkvY2hhbmdlLmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcm5hbWUtaGlzdG9yeS9saXN0LWVtcHR5LmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcm5hbWUtaGlzdG9yeS9saXN0LXByZXZpZXcuanMiLCJzcmMvY29tcG9uZW50cy91c2VybmFtZS1oaXN0b3J5L2xpc3QtcmVhZHkuanMiLCJzcmMvY29tcG9uZW50cy91c2VybmFtZS1oaXN0b3J5L3Jvb3QuanMiLCJzcmMvY29tcG9uZW50cy91c2Vycy1saXN0L2NhcmQvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy91c2Vycy1saXN0L2NhcmQvc3RhdHMuanMiLCJzcmMvY29tcG9uZW50cy91c2Vycy1saXN0L2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcnMtbGlzdC9wcmV2aWV3L2NhcmQuanMiLCJzcmMvY29tcG9uZW50cy91c2Vycy1saXN0L3ByZXZpZXcvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy91c2Vycy9hY3RpdmUtcG9zdGVycy9saXN0LWVtcHR5LmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcnMvYWN0aXZlLXBvc3RlcnMvbGlzdC1pdGVtLXByZXZpZXcuanMiLCJzcmMvY29tcG9uZW50cy91c2Vycy9hY3RpdmUtcG9zdGVycy9saXN0LWl0ZW0uanMiLCJzcmMvY29tcG9uZW50cy91c2Vycy9hY3RpdmUtcG9zdGVycy9saXN0LXByZXZpZXcuanMiLCJzcmMvY29tcG9uZW50cy91c2Vycy9hY3RpdmUtcG9zdGVycy9saXN0LXJlYWR5LmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcnMvYWN0aXZlLXBvc3RlcnMvcm9vdC5qcyIsInNyYy9jb21wb25lbnRzL3VzZXJzL25hdi5qcyIsInNyYy9jb21wb25lbnRzL3VzZXJzL3JhbmsvbGlzdC1sb2FkaW5nLmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcnMvcmFuay9saXN0LmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcnMvcmFuay9wYWdlci5qcyIsInNyYy9jb21wb25lbnRzL3VzZXJzL3Jhbmsvcm9vdC5qcyIsInNyYy9jb21wb25lbnRzL3VzZXJzL3Jvb3QuanMiLCJzcmMvY29tcG9uZW50cy93aXRoLWRyb3Bkb3duLmpzIiwic3JjL2NvbXBvbmVudHMveWVzLW5vLXN3aXRjaC5qcyIsInNyYy9kYXRhL3Byb2ZpbGUtZGV0YWlscy5qcyIsInNyYy9pbmRleC5qcyIsInNyYy9pbml0aWFsaXplcnMvYWpheC5qcyIsInNyYy9pbml0aWFsaXplcnMvYXV0aC1zeW5jLmpzIiwic3JjL2luaXRpYWxpemVycy9hdXRoLmpzIiwic3JjL2luaXRpYWxpemVycy9jYXB0Y2hhLmpzIiwic3JjL2luaXRpYWxpemVycy9jb21wb25lbnRzL2FjY2VwdC1hZ3JlZW1lbnQuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2NvbXBvbmVudHMvYXV0aC1tZXNzYWdlLmpzIiwic3JjL2luaXRpYWxpemVycy9jb21wb25lbnRzL2Jhbm5lZC1wYWdlLmpzIiwic3JjL2luaXRpYWxpemVycy9jb21wb25lbnRzL2NhdGVnb3JpZXMuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2NvbXBvbmVudHMvb3B0aW9ucy5qcyIsInNyYy9pbml0aWFsaXplcnMvY29tcG9uZW50cy9wcm9maWxlLmpzIiwic3JjL2luaXRpYWxpemVycy9jb21wb25lbnRzL3JlcXVlc3QtYWN0aXZhdGlvbi1saW5rLmpzIiwic3JjL2luaXRpYWxpemVycy9jb21wb25lbnRzL3JlcXVlc3QtcGFzc3dvcmQtcmVzZXQuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2NvbXBvbmVudHMvcmVzZXQtcGFzc3dvcmQtZm9ybS5qcyIsInNyYy9pbml0aWFsaXplcnMvY29tcG9uZW50cy9zZWFyY2guanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2NvbXBvbmVudHMvc25hY2tiYXIuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2NvbXBvbmVudHMvc29jaWFsLWF1dGguanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2NvbXBvbmVudHMvdGhyZWFkLmpzIiwic3JjL2luaXRpYWxpemVycy9jb21wb25lbnRzL3RocmVhZHMuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2NvbXBvbmVudHMvdXNlci1tZW51LmpzIiwic3JjL2luaXRpYWxpemVycy9jb21wb25lbnRzL3VzZXJzLmpzIiwic3JjL2luaXRpYWxpemVycy9pbmNsdWRlLmpzIiwic3JjL2luaXRpYWxpemVycy9sb2NhbC1zdG9yYWdlLmpzIiwic3JjL2luaXRpYWxpemVycy9tb2JpbGUtbmF2YmFyLWRyb3Bkb3duLmpzIiwic3JjL2luaXRpYWxpemVycy9tb2RhbC5qcyIsInNyYy9pbml0aWFsaXplcnMvbW9tZW50LWxvY2FsZS5qcyIsInNyYy9pbml0aWFsaXplcnMvcGFnZS10aXRsZS5qcyIsInNyYy9pbml0aWFsaXplcnMvcG9sbHMuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3Bvc3RpbmcuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3JlZHVjZXJzL2F1dGguanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3JlZHVjZXJzL3BhcnRpY2lwYW50cy5qcyIsInNyYy9pbml0aWFsaXplcnMvcmVkdWNlcnMvcG9sbC5qcyIsInNyYy9pbml0aWFsaXplcnMvcmVkdWNlcnMvcG9zdHMuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3JlZHVjZXJzL3Byb2ZpbGUtZGV0YWlscy5qcyIsInNyYy9pbml0aWFsaXplcnMvcmVkdWNlcnMvcHJvZmlsZS1oeWRyYXRlLmpzIiwic3JjL2luaXRpYWxpemVycy9yZWR1Y2Vycy9wcm9maWxlLmpzIiwic3JjL2luaXRpYWxpemVycy9yZWR1Y2Vycy9zZWFyY2guanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3JlZHVjZXJzL3NlbGVjdGlvbi5qcyIsInNyYy9pbml0aWFsaXplcnMvcmVkdWNlcnMvc25hY2tiYXIuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3JlZHVjZXJzL3RocmVhZC5qcyIsInNyYy9pbml0aWFsaXplcnMvcmVkdWNlcnMvdGhyZWFkcy5qcyIsInNyYy9pbml0aWFsaXplcnMvcmVkdWNlcnMvdGljay5qcyIsInNyYy9pbml0aWFsaXplcnMvcmVkdWNlcnMvdXNlcm5hbWUtaGlzdG9yeS5qcyIsInNyYy9pbml0aWFsaXplcnMvcmVkdWNlcnMvdXNlcnMuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3NuYWNrYmFyLmpzIiwic3JjL2luaXRpYWxpemVycy9zdG9yZS5qcyIsInNyYy9pbml0aWFsaXplcnMvdGljay1zdGFydC5qcyIsInNyYy9pbml0aWFsaXplcnMvenhjdmJuLmpzIiwic3JjL3JlZHVjZXJzL2F1dGguanMiLCJzcmMvcmVkdWNlcnMvcGFydGljaXBhbnRzLmpzIiwic3JjL3JlZHVjZXJzL3BvbGwuanMiLCJzcmMvcmVkdWNlcnMvcG9zdC5qcyIsInNyYy9yZWR1Y2Vycy9wb3N0cy5qcyIsInNyYy9yZWR1Y2Vycy9wcm9maWxlLWRldGFpbHMuanMiLCJzcmMvcmVkdWNlcnMvcHJvZmlsZS5qcyIsInNyYy9yZWR1Y2Vycy9zZWFyY2guanMiLCJzcmMvcmVkdWNlcnMvc2VsZWN0aW9uLmpzIiwic3JjL3JlZHVjZXJzL3NuYWNrYmFyLmpzIiwic3JjL3JlZHVjZXJzL3RocmVhZC5qcyIsInNyYy9yZWR1Y2Vycy90aHJlYWRzLmpzIiwic3JjL3JlZHVjZXJzL3RpY2suanMiLCJzcmMvcmVkdWNlcnMvdXNlcm5hbWUtaGlzdG9yeS5qcyIsInNyYy9yZWR1Y2Vycy91c2Vycy5qcyIsInNyYy9zZXJ2aWNlcy9hamF4LmpzIiwic3JjL3NlcnZpY2VzL2F1dGguanMiLCJzcmMvc2VydmljZXMvY2FwdGNoYS5qcyIsInNyYy9zZXJ2aWNlcy9pbmNsdWRlLmpzIiwic3JjL3NlcnZpY2VzL2xvY2FsLXN0b3JhZ2UuanMiLCJzcmMvc2VydmljZXMvbW9iaWxlLW5hdmJhci1kcm9wZG93bi5qcyIsInNyYy9zZXJ2aWNlcy9tb2RhbC5qcyIsInNyYy9zZXJ2aWNlcy9vbmUtYm94LmpzIiwic3JjL3NlcnZpY2VzL3BhZ2UtdGl0bGUuanMiLCJzcmMvc2VydmljZXMvcG9sbHMuanMiLCJzcmMvc2VydmljZXMvcG9zdGluZy5qcyIsInNyYy9zZXJ2aWNlcy9zbmFja2Jhci5qcyIsInNyYy9zZXJ2aWNlcy9zdG9yZS5qcyIsInNyYy9zZXJ2aWNlcy96eGN2Ym4uanMiLCJzcmMvdXRpbHMvYmFubmVkLXBhZ2UuanMiLCJzcmMvdXRpbHMvYmF0Y2guanMiLCJzcmMvdXRpbHMvY29uY2F0LXVuaXF1ZS5qcyIsInNyYy91dGlscy9jb3VudGRvd24uanMiLCJzcmMvdXRpbHMvZXNjYXBlLWh0bWwuanMiLCJzcmMvdXRpbHMvZmlsZS1zaXplLmpzIiwic3JjL3V0aWxzL2lzLXVybC5qcyIsInNyYy91dGlscy9tb3VudC1jb21wb25lbnQuanMiLCJzcmMvdXRpbHMvb3JkZXJlZC1saXN0LmpzIiwic3JjL3V0aWxzL3JhbmRvbS5qcyIsInNyYy91dGlscy9yZXNldC1zY3JvbGwuanMiLCJzcmMvdXRpbHMvcm91dGVkLWNvbXBvbmVudC5qcyIsInNyYy91dGlscy9zZXRzLmpzIiwic3JjL3V0aWxzL3N0cmluZy1jb3VudC5qcyIsInNyYy91dGlscy92YWxpZGF0b3JzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7Ozs7O0FBSUEsSUFBTSxnQkFBZ0IscURBQXRCOztBQUVBLElBQU0sd0JBQXdCLFNBQXhCLHFCQUF3QixRQUFTO0FBQUEsTUFFbkMsTUFGbUMsR0FPakMsS0FQaUMsQ0FFbkMsTUFGbUM7QUFBQSxNQUduQyxhQUhtQyxHQU9qQyxLQVBpQyxDQUduQyxhQUhtQztBQUFBLE1BSW5DLGNBSm1DLEdBT2pDLEtBUGlDLENBSW5DLGNBSm1DO0FBQUEsTUFLbkMscUJBTG1DLEdBT2pDLEtBUGlDLENBS25DLHFCQUxtQztBQUFBLE1BTW5DLHNCQU5tQyxHQU9qQyxLQVBpQyxDQU1uQyxzQkFObUM7OztBQVNyQyxNQUFNLG1CQUFtQixXQUFPLEdBQVAsQ0FBVyxxQkFBWCxDQUF6QjtBQUNBLE1BQU0sb0JBQW9CLFdBQU8sR0FBUCxDQUFXLHNCQUFYLENBQTFCOztBQUVBLE1BQU0sa0JBQWtCLFdBQU8sR0FBUCxDQUFXLG1CQUFYLENBQXhCO0FBQ0EsTUFBTSxtQkFBbUIsV0FBTyxHQUFQLENBQVcsb0JBQVgsQ0FBekI7O0FBRUEsTUFBSSxDQUFDLGdCQUFELElBQXFCLENBQUMsZUFBMUIsRUFBMkMsT0FBTyxJQUFQOztBQUUzQyxTQUNFO0FBQUE7QUFBQTtBQUNFLGtDQUFDLGNBQUQ7QUFDRSxpQkFBVyxnQkFEYjtBQUVFLGVBQVMsbUJBQW1CLElBRjlCO0FBR0UsY0FBUSxPQUFPLGNBSGpCO0FBSUUsV0FBSyxpQkFKUDtBQUtFLGFBQU8sZ0JBTFQ7QUFNRSxnQkFBVTtBQU5aLE1BREY7QUFTRSxrQ0FBQyxjQUFEO0FBQ0UsaUJBQVcsaUNBRGI7QUFFRSxlQUFTLGtCQUFrQixJQUY3QjtBQUdFLGNBQVEsT0FBTyxhQUhqQjtBQUlFLFdBQUssZ0JBSlA7QUFL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QVMsSUFBVCxDQUFjLEVBQUUsSUFBRixDQUFPLEtBQVAsQ0FBZCxDQUFMLEVBQW1DO0FBQ2pDLGFBQU8sNEVBQVA7QUFDRDtBQUNGLEdBSkQ7QUFLRDs7QUFFTSxTQUFTLGlCQUFULENBQTJCLFVBQTNCLEVBQXVDO0FBQzVDLFNBQU8sVUFBUyxLQUFULEVBQWdCO0FBQ3JCLFFBQU0sU0FBUyxNQUFNLE1BQXJCOztBQUVBLFFBQUksU0FBUyxVQUFiLEVBQXlCO0FBQ3ZCLFVBQU0sZ0JBQWdCLDRFQUF0Qjs7QUFFQSxhQUFPLFlBQ0wsYUFESyxFQUVMO0FBQ0UscUJBQWEsVUFEZjtBQUVFLG9CQUFZO0FBRmQsT0FGSyxFQU1MLElBTkssQ0FBUDtBQVFEO0FBQ0YsR0FmRDtBQWdCRCIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnb1wiXG5pbXBvcnQgZXNjYXBlSHRtbCBmcm9tIFwibWlzYWdvL3V0aWxzL2VzY2FwZS1odG1sXCJcblxuY29uc3QgQUdSRUVNRU5UX1VSTCA9ICc8YSBocmVmPVwiJSh1cmwpc1wiIHRhcmdldD1cIl9ibGFua1wiPiUoYWdyZWVtZW50KXM8L2E+J1xuXG5jb25zdCBSZWdpc3RlckxlZ2FsRm9vdG5vdGUgPSBwcm9wcyA9PiB7XG4gIGNvbnN0IHtcbiAgICBlcnJvcnMsXG4gICAgcHJpdmFjeVBvbGljeSxcbiAgICB0ZXJtc09mU2VydmljZSxcbiAgICBvblByaXZhY3lQb2xpY3lDaGFuZ2UsXG4gICAgb25UZXJtc09mU2VydmljZUNoYW5nZVxuICB9ID0gcHJvcHNcblxuICBjb25zdCB0ZXJtc09mU2VydmljZUlkID0gbWlzYWdvLmdldChcIlRFUk1TX09GX1NFUlZJQ0VfSURcIilcbiAgY29uc3QgdGVybXNPZlNlcnZpY2VVcmwgPSBtaXNhZ28uZ2V0KFwiVEVSTVNfT0ZfU0VSVklDRV9VUkxcIilcblxuICBjb25zdCBwcml2YWN5UG9saWN5SWQgPSBtaXNhZ28uZ2V0KFwiUFJJVkFDWV9QT0xJQ1lfSURcIilcbiAgY29uc3QgcHJpdmFjeVBvbGljeVVybCA9IG1pc2Fnby5nZXQoXCJQUklWQUNZX1BPTElDWV9VUkxcIilcblxuICBpZiAoIXRlcm1zT2ZTZXJ2aWNlSWQgJiYgIXByaXZhY3lQb2xpY3lJZCkgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxkaXY+XG4gICAgICA8TGVnYWxBZ3JlZW1lbnRcbiAgICAgICAgYWdyZWVtZW50PXtcIs6fzrkgz4zPgc6/zrkgz4fPgc6uz4POt8+CXCJ9XG4gICAgICAgIGNoZWNrZWQ9e3Rlcm1zT2ZTZXJ2aWNlICE9PSBudWxsfVxuICAgICAgICBlcnJvcnM9e2Vycm9ycy50ZXJtc09mU2VydmljZX1cbiAgICAgICAgdXJsPXt0ZXJtc09mU2VydmljZVVybH1cbiAgICAgICAgdmFsdWU9e3Rlcm1zT2ZTZXJ2aWNlSWR9XG4gICAgICAgIG9uQ2hhbmdlPXtvblRlcm1zT2ZTZXJ2aWNlQ2hhbmdlfVxuICAgICAgLz5cbiAgICAgIDxMZWdhbEFncmVlbWVudFxuICAgICAgICBhZ3JlZW1lbnQ9e1wizpcgz4DOv867zrnPhM65zrrOriDPgM+Bzr/Pg8+EzrHPg86vzrHPgiDOtM61zrTOv868zq3Ovc+Jzr1cIn1cbiAgICAgICAgY2hlY2tlZD17cHJpdmFjeVBvbGljeSAhPT0gbnVsbH1cbiAgICAgICAgZXJyb3JzPXtlcnJvcnMucHJpdmFjeVBvbGljeX1cbiAgICAgICAgdXJsPXtwcml2YWN5UG9saWN5VXJsfVxuICAgICAgICB2YWx1ZT17cHJpdmFjeVBvbGljeUlkfVxuICAgICAgICBvbkNoYW5nZT17b25Qcml2YWN5UG9saWN5Q2hhbmdlfVxuICAgICAgLz5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5jb25zdCBMZWdhbEFncmVlbWVudCA9IHByb3BzID0+IHtcbiAgY29uc3QgeyBhZ3JlZW1lbnQsIGNoZWNrZWQsIGVycm9ycywgdXJsLCB2YWx1ZSwgb25DaGFuZ2UgfSA9IHByb3BzXG5cbiAgaWYgKCF1cmwpIHJldHVybiBudWxsXG5cbiAgY29uc3QgYWdyZWVtZW50SHRtbCA9IGludGVycG9sYXRlKFxuICAgIEFHUkVFTUVOVF9VUkwsXG4gICAgeyBhZ3JlZW1lbnQ6IGVzY2FwZUh0bWwoYWdyZWVtZW50KSwgdXJsOiBlc2NhcGVIdG1sKHVybCkgfSxcbiAgICB0cnVlXG4gIClcbiAgY29uc3QgbGFiZWwgPSBpbnRlcnBvbGF0ZShcbiAgICBcIs6Iz4fPiSDOtM65zrHOss6sz4POtc65IM66zrHOuSDOsc+Azr/OtM6tz4fOv868zrHOuSDPhM63ICUoYWdyZWVtZW50KXMuXCIsXG4gICAgeyBhZ3JlZW1lbnQ6IGFncmVlbWVudEh0bWwgfSxcbiAgICB0cnVlXG4gIClcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hlY2tib3ggbGVnYWwtZm9vdG5vdGVcIj5cbiAgICAgIDxsYWJlbD5cbiAgICAgICAgPGlucHV0XG4gICAgICAgICAgY2hlY2tlZD17Y2hlY2tlZH1cbiAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgIHZhbHVlPXt2YWx1ZX1cbiAgICAgICAgICBvbkNoYW5nZT17b25DaGFuZ2V9XG4gICAgICAgIC8+XG4gICAgICAgIDxzcGFuIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogbGFiZWwgfX0gLz5cbiAgICAgIDwvbGFiZWw+XG4gICAgICB7ZXJyb3JzICYmXG4gICAgICAgIGVycm9ycy5tYXAoKGVycm9yLCBpKSA9PiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoZWxwLWJsb2NrIGVycm9yc1wiIGtleT17aX0+XG4gICAgICAgICAgICB7ZXJyb3J9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICkpfVxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IFJlZ2lzdGVyTGVnYWxGb290bm90ZVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ29cIlxuXG5jb25zdCBTdGFydFNvY2lhbEF1dGggPSBwcm9wcyA9PiB7XG4gIGNvbnN0IHtcbiAgICBidXR0b25DbGFzc05hbWUsXG4gICAgYnV0dG9uTGFiZWwsXG4gICAgZm9ybUxhYmVsLFxuICAgIGhlYWRlcixcbiAgICBsYWJlbENsYXNzTmFtZVxuICB9ID0gcHJvcHNcbiAgY29uc3Qgc29jaWFsQXV0aCA9IG1pc2Fnby5nZXQoXCJTT0NJQUxfQVVUSFwiKVxuXG4gIGlmIChzb2NpYWxBdXRoLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS1ncm91cCBmb3JtLXNvY2lhbC1hdXRoXCI+XG4gICAgICA8Rm9ybUhlYWRlciBjbGFzc05hbWU9e2xhYmVsQ2xhc3NOYW1lfSB0ZXh0PXtoZWFkZXJ9IC8+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICB7c29jaWFsQXV0aC5tYXAoKHsgaWQsIG5hbWUsIGJ1dHRvbl90ZXh0LCBidXR0b25fY29sb3IsIHVybCB9KSA9PiB7XG4gICAgICAgICAgY29uc3QgY2xhc3NOYW1lID0gXCJidG4gYnRuLWJsb2NrIGJ0bi1kZWZhdWx0IGJ0bi1zb2NpYWwtXCIgKyBpZFxuICAgICAgICAgIGNvbnN0IHN0eWxlID0gYnV0dG9uX2NvbG9yID8ge2NvbG9yOiBidXR0b25fY29sb3J9IDogbnVsbFxuICAgICAgICAgIGNvbnN0IGZpbmFsQnV0dG9uTGFiZWwgPSBidXR0b25fdGV4dCB8fCBpbnRlcnBvbGF0ZShcbiAgICAgICAgICAgIGJ1dHRvbkxhYmVsLFxuICAgICAgICAgICAgeyBzaXRlOiBuYW1lIH0sXG4gICAgICAgICAgICB0cnVlXG4gICAgICAgICAgKVxuXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtidXR0b25DbGFzc05hbWUgfHwgXCJjb2wteHMtMTJcIn0ga2V5PXtpZH0+XG4gICAgICAgICAgICAgIDxhIGNsYXNzTmFtZT17Y2xhc3NOYW1lfSBzdHlsZT17c3R5bGV9IGhyZWY9e3VybH0+XG4gICAgICAgICAgICAgICAge2ZpbmFsQnV0dG9uTGFiZWx9XG4gICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIClcbiAgICAgICAgfSl9XG4gICAgICA8L2Rpdj5cbiAgICAgIDxociAvPlxuICAgICAgPEZvcm1IZWFkZXIgY2xhc3NOYW1lPXtsYWJlbENsYXNzTmFtZX0gdGV4dD17Zm9ybUxhYmVsfSAvPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmNvbnN0IEZvcm1IZWFkZXIgPSAoeyBjbGFzc05hbWUsIHRleHQgfSkgPT4ge1xuICBpZiAoIXRleHQpIHJldHVybiBudWxsXG4gIHJldHVybiA8aDUgY2xhc3NOYW1lPXtjbGFzc05hbWUgfHwgXCJcIn0+e3RleHR9PC9oNT5cbn1cblxuZXhwb3J0IGRlZmF1bHQgU3RhcnRTb2NpYWxBdXRoXG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFjY2VwdEFncmVlbWVudCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0geyBzdWJtaXRpbmc6IGZhbHNlIH1cbiAgfVxuXG4gIGhhbmRsZURlY2xpbmUgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuc3RhdGUuc3VibWl0aW5nKSByZXR1cm5cblxuICAgIGNvbnN0IGNvbmZpcm1hdGlvbiA9IGNvbmZpcm0oXG4gICAgICAgIFwizpHOvSDOsc+Bzr3Ot864zrXOr8+CIM64zrEgzrTOuc6xzrPPgc6xz4bOtc6vIM6zzrnOsSDPgM6szr3PhM6xIM6/IM67zr/Os86xz4HOuc6xz4POvM+Mz4Igz4POv8+FIVwiXG4gICAgKVxuICAgIGlmICghY29uZmlybWF0aW9uKSByZXR1cm5cblxuICAgIHRoaXMuc2V0U3RhdGUoeyBzdWJtaXRpbmc6IHRydWUgfSlcblxuICAgIGFqYXgucG9zdCh0aGlzLnByb3BzLmFwaSwgeyBhY2NlcHQ6IGZhbHNlIH0pLnRoZW4oKCkgPT4ge1xuICAgICAgbG9jYXRpb24ucmVsb2FkKHRydWUpXG4gICAgfSlcbiAgfVxuXG4gIGhhbmRsZUFjY2VwdCA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5zdGF0ZS5zdWJtaXRpbmcpIHJldHVyblxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7IHN1Ym1pdGluZzogdHJ1ZSB9KVxuXG4gICAgYWpheC5wb3N0KHRoaXMucHJvcHMuYXBpLCB7IGFjY2VwdDogdHJ1ZSB9KS50aGVuKCgpID0+IHtcbiAgICAgIGxvY2F0aW9uLnJlbG9hZCh0cnVlKVxuICAgIH0pXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIlxuICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLnN1Ym1pdGluZ31cbiAgICAgICAgICB0eXBlPVwiYnV0b25cIlxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuaGFuZGxlRGVjbGluZX1cbiAgICAgICAgPlxuICAgICAgICAgIHtcIs6Rz4HOvc6/z43OvM6xzrlcIn1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnlcIlxuICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLnN1Ym1pdGluZ31cbiAgICAgICAgICB0eXBlPVwiYnV0b25cIlxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuaGFuZGxlQWNjZXB0fVxuICAgICAgICA+XG4gICAgICAgICAge1wizpTOrc+Hzr/OvM6xzrlcIn1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEZvcm0gZnJvbSBcIi4vZm9ybVwiXG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwXCJcbmltcG9ydCAqIGFzIHBhcnRpY2lwYW50cyBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3BhcnRpY2lwYW50c1wiXG5pbXBvcnQgeyB1cGRhdGVBY2wgfSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3RocmVhZFwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IG1vZGFsIGZyb20gXCJtaXNhZ28vc2VydmljZXMvbW9kYWxcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG5cbiAgICAgIHVzZXJuYW1lOiBcIlwiXG4gICAgfVxuICB9XG5cbiAgb25Vc2VybmFtZUNoYW5nZSA9IGV2ZW50ID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKFwidXNlcm5hbWVcIiwgZXZlbnQudGFyZ2V0LnZhbHVlKVxuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLnVzZXJuYW1lLnRyaW0oKS5sZW5ndGgpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKFwizqDPgc6tz4DOtc65IM69zrEgzrLOrM67zrXOuc+CIM+Ezr8gz4zOvc6/zrzOsSDPh8+Bzq7Pg8+Ezrcgz4TOv8+FIM68zrfPh86xzr3Ouc66zr/PjSFcIilcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBhdGNoKHRoaXMucHJvcHMudGhyZWFkLmFwaS5pbmRleCwgW1xuICAgICAgeyBvcDogXCJhZGRcIiwgcGF0aDogXCJwYXJ0aWNpcGFudHNcIiwgdmFsdWU6IHRoaXMuc3RhdGUudXNlcm5hbWUgfSxcbiAgICAgIHsgb3A6IFwiYWRkXCIsIHBhdGg6IFwiYWNsXCIsIHZhbHVlOiAxIH1cbiAgICBdKVxuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhkYXRhKSB7XG4gICAgc3RvcmUuZGlzcGF0Y2godXBkYXRlQWNsKGRhdGEpKVxuICAgIHN0b3JlLmRpc3BhdGNoKHBhcnRpY2lwYW50cy5yZXBsYWNlKGRhdGEucGFydGljaXBhbnRzKSlcblxuICAgIHNuYWNrYmFyLnN1Y2Nlc3MoXCLOlyDOtc+BzrPOsc+Dzq/OsSDOrc+HzrXOuSDOsc69zrHPhM61zrjOtc6vIM+Dz4TOvyDOvM63z4fOsc69zrnOus+MXCIpXG5cbiAgICBtb2RhbC5oaWRlKClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2cgbW9kYWwtc21cIiByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgICAgIDxNb2RhbEhlYWRlciAvPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG4gICAgICAgICAgICAgIDxGb3JtR3JvdXAgZm9yPVwiaWRfdXNlcm5hbWVcIiBsYWJlbD17XCLOnM63z4fOsc69zrnOus+Mz4Igzr3OsSDOsc69zrHPhM61zrjOtc6vXCJ9PlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgaWQ9XCJpZF91c2VybmFtZVwiXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25Vc2VybmFtZUNoYW5nZX1cbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnVzZXJuYW1lfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1ibG9jayBidG4tcHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge1wizpHOvc6szrjOtc+DzrcgzrXPgc6zzrHPg86vzrHPglwifVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tYmxvY2sgYnRuLWRlZmF1bHRcIlxuICAgICAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7XCLOkc66z43Pgc+Jz4POt1wifVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Zvcm0+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE1vZGFsSGVhZGVyKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgIDxidXR0b25cbiAgICAgICAgYXJpYS1sYWJlbD17XCLOms67zrXOr8+DzrnOvM6/XCJ9XG4gICAgICAgIGNsYXNzTmFtZT1cImNsb3NlXCJcbiAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgIDwvYnV0dG9uPlxuICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e1wizpHOvc6szrjOtc+DzrcgzrXPgc6zzrHPg86vzrHPglwifTwvaDQ+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlZnJlc2goKSB7XG4gICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpXG4gIH1cblxuICBnZXRNZXNzYWdlKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnNpZ25lZEluKSB7XG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoXCLOiM+HzrXOuc+CIM+Dz4XOvc60zrXOuM61zq8gz4nPgiAlKHVzZXJuYW1lKXMuIM6ezrHOvc6xz4bPjM+Bz4TPic+DzrUgz4TOtyDPg861zrvOr860zrEgz4DPgc65zr0gz4PPhc69zrXPh86vz4POtc65z4IuXCIsXG4gICAgICAgIHsgdXNlcm5hbWU6IHRoaXMucHJvcHMuc2lnbmVkSW4udXNlcm5hbWUgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zaWduZWRPdXQpIHtcbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShcIiUodXNlcm5hbWUpcywgzq3Ph861zrnPgiDOsc+Azr/Pg8+Fzr3OtM61zrjOtc6vLiDOns6xzr3Osc+Gz4zPgc+Ez4nPg861IM+Ezrcgz4POtc67zq/OtM6xIM+Az4HOuc69IM+Dz4XOvc61z4fOr8+DzrXOuc+CLlwiLFxuICAgICAgICB7IHVzZXJuYW1lOiB0aGlzLnByb3BzLnVzZXIudXNlcm5hbWUgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBsZXQgY2xhc3NOYW1lID0gXCJhdXRoLW1lc3NhZ2VcIlxuICAgIGlmICh0aGlzLnByb3BzLnNpZ25lZEluIHx8IHRoaXMucHJvcHMuc2lnbmVkT3V0KSB7XG4gICAgICBjbGFzc05hbWUgKz0gXCIgc2hvd1wiXG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj57dGhpcy5nZXRNZXNzYWdlKCl9PC9wPlxuICAgICAgICAgIDxwPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIlxuICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5yZWZyZXNofVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7XCLOns6xzr3Osc+Gz4zPgc+Ez4nPg861IM+Ezrcgz4POtc67zq/OtM6xXCJ9XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImhpZGRlbi14cyBoaWRkZW4tc21cIj5cbiAgICAgICAgICAgICAge1wiIFwiICsgXCLOriDPgM6sz4TOt8+DzrUgz4TOvyBGNS5cIn1cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3Qoc3RhdGUpIHtcbiAgcmV0dXJuIHtcbiAgICB1c2VyOiBzdGF0ZS5hdXRoLnVzZXIsXG4gICAgc2lnbmVkSW46IHN0YXRlLmF1dGguc2lnbmVkSW4sXG4gICAgc2lnbmVkT3V0OiBzdGF0ZS5hdXRoLnNpZ25lZE91dFxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnb1wiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGNvbnN0IHNpemUgPSBwcm9wcy5zaXplIHx8IDEwMFxuICBjb25zdCBzaXplMnggPSBwcm9wcy5zaXplMnggfHwgc2l6ZVxuXG4gIHJldHVybiAoXG4gICAgPGltZ1xuICAgICAgYWx0PVwiXCJcbiAgICAgIGNsYXNzTmFtZT17cHJvcHMuY2xhc3NOYW1lIHx8IFwidXNlci1hdmF0YXJcIn1cbiAgICAgIHNyYz17Z2V0U3JjKHByb3BzLnVzZXIsIHNpemUpfVxuICAgICAgc3JjU2V0PXtnZXRTcmMocHJvcHMudXNlciwgc2l6ZTJ4KX1cbiAgICAgIHdpZHRoPXtzaXplfVxuICAgICAgaGVpZ2h0PXtzaXplfVxuICAgIC8+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNyYyh1c2VyLCBzaXplKSB7XG4gIGlmICh1c2VyICYmIHVzZXIuaWQpIHtcbiAgICAvLyBqdXN0IGF2YXRhciBoYXNoLCBzaXplIGFuZCB1c2VyIGlkXG4gICAgcmV0dXJuIHJlc29sdmVBdmF0YXJGb3JTaXplKHVzZXIuYXZhdGFycywgc2l6ZSkudXJsXG4gIH0gZWxzZSB7XG4gICAgLy8ganVzdCBhcHBlbmQgYXZhdGFyIHNpemUgdG8gZmlsZSB0byBwcm9kdWNlIG5vLWF2YXRhciBwbGFjZWhvbGRlclxuICAgIHJldHVybiBtaXNhZ28uZ2V0KFwiQkxBTktfQVZBVEFSX1VSTFwiKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlQXZhdGFyRm9yU2l6ZShhdmF0YXJzLCBzaXplKSB7XG4gIGxldCBhdmF0YXIgPSBhdmF0YXJzWzBdXG4gIGF2YXRhcnMuZm9yRWFjaChhdiA9PiB7XG4gICAgaWYgKGF2LnNpemUgPj0gc2l6ZSkge1xuICAgICAgYXZhdGFyID0gYXZcbiAgICB9XG4gIH0pXG4gIHJldHVybiBhdmF0YXJcbn1cbiIsImltcG9ydCBtb21lbnQgZnJvbSBcIm1vbWVudFwiXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRSZWFzb25NZXNzYWdlKCkge1xuICAgIGlmICh0aGlzLnByb3BzLm1lc3NhZ2UuaHRtbCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdlxuICAgICAgICAgIGNsYXNzTmFtZT1cImxlYWRcIlxuICAgICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7XG4gICAgICAgICAgICBfX2h0bWw6IHRoaXMucHJvcHMubWVzc2FnZS5odG1sXG4gICAgICAgICAgfX1cbiAgICAgICAgLz5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIDxwIGNsYXNzTmFtZT1cImxlYWRcIj57dGhpcy5wcm9wcy5tZXNzYWdlLnBsYWlufTwvcD5cbiAgICB9XG4gIH1cblxuICBnZXRFeHBpcmF0aW9uTWVzc2FnZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5leHBpcmVzKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5leHBpcmVzLmlzQWZ0ZXIobW9tZW50KCkpKSB7XG4gICAgICAgIGxldCB0aXRsZSA9IGludGVycG9sYXRlKFwizp8gzrHPgM6/zrrOu861zrnPg868z4zPgiDOu86uzrPOtc65IM+Dz4TOuc+CICUoZXhwaXJlc19vbilzLlwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGV4cGlyZXNfb246IHRoaXMucHJvcHMuZXhwaXJlcy5mb3JtYXQoXCJMTCwgTFRcIilcbiAgICAgICAgICB9LFxuICAgICAgICAgIHRydWVcbiAgICAgICAgKVxuXG4gICAgICAgIGxldCBtZXNzYWdlID0gaW50ZXJwb2xhdGUoXG4gICAgICAgICAgXCLOnyDOsc+Azr/Ous67zrXOuc+DzrzPjM+CIM67zq7Os861zrkgz4PPhM65z4IgJShleHBpcmVzX29uKXMuXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXhwaXJlc19vbjogdGhpcy5wcm9wcy5leHBpcmVzLmZyb21Ob3coKVxuICAgICAgICAgIH0sXG4gICAgICAgICAgdHJ1ZVxuICAgICAgICApXG5cbiAgICAgICAgcmV0dXJuIDxhYmJyIHRpdGxlPXt0aXRsZX0+e21lc3NhZ2V9PC9hYmJyPlxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFwizp8gzrHPgM6/zrrOu861zrnPg868z4zPgiDOrc+HzrXOuSDOu86uzr7Otc65LlwiXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcIs6fIM6xz4DOv866zrvOtc65z4POvM+Mz4IgzrXOr869zrHOuSDOvM+Mzr3Ouc68zr/Pgi5cIlxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlIHBhZ2UtZXJyb3IgcGFnZS1lcnJvci1iYW5uZWRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtcGFuZWxcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5oaWdobGlnaHRfb2ZmPC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtYm9keVwiPlxuICAgICAgICAgICAgICB7dGhpcy5nZXRSZWFzb25NZXNzYWdlKCl9XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1lc3NhZ2UtZm9vdG5vdGVcIj57dGhpcy5nZXRFeHBpcmF0aW9uTWVzc2FnZSgpfTwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgTG9hZGVyIGZyb20gXCIuL2xvYWRlclwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJ1dHRvbiBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICBsZXQgY2xhc3NOYW1lID0gXCJidG4gXCIgKyB0aGlzLnByb3BzLmNsYXNzTmFtZVxuICAgIGxldCBkaXNhYmxlZCA9IHRoaXMucHJvcHMuZGlzYWJsZWRcblxuICAgIGlmICh0aGlzLnByb3BzLmxvYWRpbmcpIHtcbiAgICAgIGNsYXNzTmFtZSArPSBcIiBidG4tbG9hZGluZ1wiXG4gICAgICBkaXNhYmxlZCA9IHRydWVcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZX1cbiAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkfVxuICAgICAgICBvbkNsaWNrPXt0aGlzLnByb3BzLm9uQ2xpY2t9XG4gICAgICAgIHR5cGU9e3RoaXMucHJvcHMub25DbGljayA/IFwiYnV0dG9uXCIgOiBcInN1Ym1pdFwifVxuICAgICAgPlxuICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgICAge3RoaXMucHJvcHMubG9hZGluZyA/IDxMb2FkZXIgLz4gOiBudWxsfVxuICAgICAgPC9idXR0b24+XG4gICAgKVxuICB9XG59XG5cbkJ1dHRvbi5kZWZhdWx0UHJvcHMgPSB7XG4gIGNsYXNzTmFtZTogXCJidG4tZGVmYXVsdFwiLFxuXG4gIHR5cGU6IFwic3VibWl0XCIsXG5cbiAgbG9hZGluZzogZmFsc2UsXG4gIGRpc2FibGVkOiBmYWxzZSxcblxuICBvbkNsaWNrOiBudWxsXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNhdGVnb3JpZXMtbGlzdFwiPlxuICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXBcIj5cbiAgICAgICAgPGxpIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXAtaXRlbSBlbXB0eS1tZXNzYWdlXCI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICAgICAge2dldHRleHQoXG4gICAgICAgICAgICAgIFwizpTOtc69IM+Fz4DOrM+Bz4fOv8+Fzr0gzrTOuc6xzrjOrc+DzrnOvM61z4IgzrrOsc+EzrfOs86/z4HOr861z4IgzrXPgc6zzrHPg865z47OvS5cIlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvbGk+XG4gICAgICA8L3VsPlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBDYXRlZ29yeSBmcm9tIFwiLi9jYXRlZ29yeVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgY2F0ZWdvcmllcyB9KSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjYXRlZ29yaWVzLWxpc3RcIj5cbiAgICAgIHtjYXRlZ29yaWVzLm1hcChjYXRlZ29yeSA9PiB7XG4gICAgICAgIHJldHVybiA8Q2F0ZWdvcnkgY2F0ZWdvcnk9e2NhdGVnb3J5fSBrZXk9e2NhdGVnb3J5LmlkfSAvPlxuICAgICAgfSl9XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IExpc3RJdGVtIGZyb20gXCIuL2xpc3QtaXRlbVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgY2F0ZWdvcnkgfSkge1xuICBsZXQgY2xhc3NOYW1lID0gXCJsaXN0LWdyb3VwIGxpc3QtZ3JvdXAtY2F0ZWdvcnlcIlxuICBpZiAoY2F0ZWdvcnkuY3NzX2NsYXNzKSB7XG4gICAgY2xhc3NOYW1lICs9IFwiIGxpc3QtZ3JvdXAtY2F0ZWdvcnktaGFzLWZsYXZvclwiXG4gICAgY2xhc3NOYW1lICs9IFwiIGxpc3QtZ3JvdXAtY2F0ZWdvcnktXCIgKyBjYXRlZ29yeS5jc3NfY2xhc3NcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPHVsIGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgIDxMaXN0SXRlbSBjYXRlZ29yeT17Y2F0ZWdvcnl9IGlzRmlyc3Q9e3RydWV9IC8+XG4gICAgICB7Y2F0ZWdvcnkuc3ViY2F0ZWdvcmllcy5tYXAoY2F0ZWdvcnkgPT4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxMaXN0SXRlbSBjYXRlZ29yeT17Y2F0ZWdvcnl9IGlzRmlyc3Q9e2ZhbHNlfSBrZXk9e2NhdGVnb3J5LmlkfSAvPlxuICAgICAgICApXG4gICAgICB9KX1cbiAgICA8L3VsPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBjYXRlZ29yeSB9KSB7XG4gIGlmICghY2F0ZWdvcnkuZGVzY3JpcHRpb24pIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICBjbGFzc05hbWU9XCJjYXRlZ29yeS1kZXNjcmlwdGlvblwiXG4gICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17e1xuICAgICAgICBfX2h0bWw6IGNhdGVnb3J5LmRlc2NyaXB0aW9uLmh0bWxcbiAgICAgIH19XG4gICAgLz5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgY2F0ZWdvcnkgfSkge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtnZXRDbGFzc05hbWUoY2F0ZWdvcnkpfSB0aXRsZT17Z2V0VGl0bGUoY2F0ZWdvcnkpfT5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj57Z2V0SWNvbihjYXRlZ29yeSl9PC9zcGFuPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDbGFzc05hbWUoY2F0ZWdvcnkpIHtcbiAgaWYgKGNhdGVnb3J5LmlzX3JlYWQpIHtcbiAgICByZXR1cm4gXCJyZWFkLXN0YXR1cyBpdGVtLXJlYWRcIlxuICB9XG5cbiAgcmV0dXJuIFwicmVhZC1zdGF0dXMgaXRlbS1uZXdcIlxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VGl0bGUoY2F0ZWdvcnkpIHtcbiAgaWYgKGNhdGVnb3J5LmlzX2Nsb3NlZCkge1xuICAgIGlmIChjYXRlZ29yeS5pc19yZWFkKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIlRoaXMgY2F0ZWdvcnkgaGFzIG5vIG5ldyBwb3N0cy4gKGNsb3NlZClcIilcbiAgICB9XG5cbiAgICByZXR1cm4gZ2V0dGV4dChcIlRoaXMgY2F0ZWdvcnkgaGFzIG5ldyBwb3N0cy4gKGNsb3NlZClcIilcbiAgfVxuXG4gIGlmIChjYXRlZ29yeS5pc19yZWFkKSB7XG4gICAgcmV0dXJuIGdldHRleHQoXCJUaGlzIGNhdGVnb3J5IGhhcyBubyBuZXcgcG9zdHMuXCIpXG4gIH1cblxuICByZXR1cm4gZ2V0dGV4dChcIlRoaXMgY2F0ZWdvcnkgaGFzIG5ldyBwb3N0cy5cIilcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEljb24oY2F0ZWdvcnkpIHtcbiAgaWYgKGNhdGVnb3J5LmlzX2Nsb3NlZCkge1xuICAgIGlmIChjYXRlZ29yeS5pc19yZWFkKSB7XG4gICAgICByZXR1cm4gXCJsb2NrX291dGxpbmVcIlxuICAgIH1cblxuICAgIHJldHVybiBcImxvY2tcIlxuICB9XG5cbiAgaWYgKGNhdGVnb3J5LmlzX3JlYWQpIHtcbiAgICByZXR1cm4gXCJjaGF0X2J1YmJsZV9vdXRsaW5lXCJcbiAgfVxuXG4gIHJldHVybiBcImNoYXRfYnViYmxlXCJcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IE1haW4gZnJvbSBcIi4vbWFpblwiXG5pbXBvcnQgTGFzdFRocmVhZCBmcm9tIFwiLi9sYXN0LXRocmVhZFwiXG5pbXBvcnQgU3RhdHMgZnJvbSBcIi4vc3RhdHNcIlxuaW1wb3J0IFN1YmNhdGVnb3JpZXMgZnJvbSBcIi4vc3ViY2F0ZWdvcmllc1wiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgY2F0ZWdvcnksIGlzRmlyc3QgfSkge1xuICBsZXQgY2xhc3NOYW1lID0gXCJsaXN0LWdyb3VwLWl0ZW1cIlxuXG4gIGlmIChjYXRlZ29yeS5kZXNjcmlwdGlvbikge1xuICAgIGNsYXNzTmFtZSArPSBcIiBsaXN0LWdyb3VwLWNhdGVnb3J5LWhhcy1kZXNjcmlwdGlvblwiXG4gIH0gZWxzZSB7XG4gICAgY2xhc3NOYW1lICs9IFwiIGxpc3QtZ3JvdXAtY2F0ZWdvcnktbm8tZGVzY3JpcHRpb25cIlxuICB9XG5cbiAgaWYgKGlzRmlyc3QpIHtcbiAgICBjbGFzc05hbWUgKz0gXCIgbGlzdC1ncm91cC1pdGVtLWZpcnN0XCJcbiAgfVxuICBpZiAoY2F0ZWdvcnkuY3NzX2NsYXNzKSB7XG4gICAgY2xhc3NOYW1lICs9IFwiIGxpc3QtZ3JvdXAtY2F0ZWdvcnktaGFzLWZsYXZvclwiXG4gICAgY2xhc3NOYW1lICs9IFwiIGxpc3QtZ3JvdXAtaXRlbS1jYXRlZ29yeS1cIiArIGNhdGVnb3J5LmNzc19jbGFzc1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8bGkgY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgPE1haW4gY2F0ZWdvcnk9e2NhdGVnb3J5fSAvPlxuICAgICAgICA8U3RhdHMgY2F0ZWdvcnk9e2NhdGVnb3J5fSAvPlxuICAgICAgICA8TGFzdFRocmVhZCBjYXRlZ29yeT17Y2F0ZWdvcnl9IC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxTdWJjYXRlZ29yaWVzIGNhdGVnb3J5PXtjYXRlZ29yeX0gaXNGaXJzdD17aXNGaXJzdH0gLz5cbiAgICA8L2xpPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBBdmF0YXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2F2YXRhclwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgY2F0ZWdvcnkgfSkge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyIGNvbC1zbS02IGNvbC1tZC00IGNhdGVnb3J5LWxhc3QtdGhyZWFkXCI+XG4gICAgICA8TGFzdFRocmVhZCBjYXRlZ29yeT17Y2F0ZWdvcnl9IC8+XG4gICAgICA8RW1wdHkgY2F0ZWdvcnk9e2NhdGVnb3J5fSAvPlxuICAgICAgPFByaXZhdGUgY2F0ZWdvcnk9e2NhdGVnb3J5fSAvPlxuICAgICAgPFByb3RlY3RlZCBjYXRlZ29yeT17Y2F0ZWdvcnl9IC8+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIExhc3RUaHJlYWQoeyBjYXRlZ29yeSB9KSB7XG4gIGlmICghY2F0ZWdvcnkuYWNsLmNhbl9icm93c2UpIHJldHVybiBudWxsXG4gIGlmICghY2F0ZWdvcnkuYWNsLmNhbl9zZWVfYWxsX3RocmVhZHMpIHJldHVybiBudWxsXG4gIGlmICghY2F0ZWdvcnkubGFzdF90aHJlYWRfdGl0bGUpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWxlZnQgaGlkZGVuLXhzXCI+XG4gICAgICAgIDxMYXN0UG9zdGVyQXZhdGFyIGNhdGVnb3J5PXtjYXRlZ29yeX0gLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1ib2R5XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEtaGVhZGluZ1wiPlxuICAgICAgICAgIDxhXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJpdGVtLXRpdGxlIHRocmVhZC10aXRsZVwiXG4gICAgICAgICAgICBocmVmPXtjYXRlZ29yeS51cmwubGFzdF90aHJlYWRfbmV3fVxuICAgICAgICAgICAgdGl0bGU9e2NhdGVnb3J5Lmxhc3RfdGhyZWFkX3RpdGxlfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtjYXRlZ29yeS5sYXN0X3RocmVhZF90aXRsZX1cbiAgICAgICAgICA8L2E+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC1pbmxpbmVcIj5cbiAgICAgICAgICA8bGkgY2xhc3NOYW1lPVwiY2F0ZWdvcnktbGFzdC10aHJlYWQtcG9zdGVyXCI+XG4gICAgICAgICAgICA8TGFzdFBvc3Rlck5hbWUgY2F0ZWdvcnk9e2NhdGVnb3J5fSAvPlxuICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgPGxpIGNsYXNzTmFtZT1cImRpdmlkZXJcIj4mIzgyMTI7PC9saT5cbiAgICAgICAgICA8bGkgY2xhc3NOYW1lPVwiY2F0ZWdvcnktbGFzdC10aHJlYWQtZGF0ZVwiPlxuICAgICAgICAgICAgPGEgaHJlZj17Y2F0ZWdvcnkudXJsLmxhc3RfcG9zdH0+XG4gICAgICAgICAgICAgIHtjYXRlZ29yeS5sYXN0X3Bvc3Rfb24uZnJvbU5vdygpfVxuICAgICAgICAgICAgPC9hPlxuICAgICAgICAgIDwvbGk+XG4gICAgICAgIDwvdWw+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTGFzdFBvc3RlckF2YXRhcih7IGNhdGVnb3J5IH0pIHtcbiAgaWYgKGNhdGVnb3J5Lmxhc3RfcG9zdGVyKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxhXG4gICAgICAgIGNsYXNzTmFtZT1cImxhc3QtcG9zdGVyLWF2YXRhclwiXG4gICAgICAgIGhyZWY9e2NhdGVnb3J5Lmxhc3RfcG9zdGVyLnVybH1cbiAgICAgICAgdGl0bGU9e2NhdGVnb3J5Lmxhc3RfcG9zdGVyX25hbWV9XG4gICAgICA+XG4gICAgICAgIDxBdmF0YXJcbiAgICAgICAgICBjbGFzc05hbWU9XCJtZWRpYS1vYmplY3RcIlxuICAgICAgICAgIHNpemU9ezQwfVxuICAgICAgICAgIHVzZXI9e2NhdGVnb3J5Lmxhc3RfcG9zdGVyfVxuICAgICAgICAvPlxuICAgICAgPC9hPlxuICAgIClcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPHNwYW4gY2xhc3NOYW1lPVwibGFzdC1wb3N0ZXItYXZhdGFyXCIgdGl0bGU9e2NhdGVnb3J5Lmxhc3RfcG9zdGVyX25hbWV9PlxuICAgICAgPEF2YXRhciBjbGFzc05hbWU9XCJtZWRpYS1vYmplY3RcIiBzaXplPXs0MH0gLz5cbiAgICA8L3NwYW4+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIExhc3RQb3N0ZXJOYW1lKHsgY2F0ZWdvcnkgfSkge1xuICBpZiAoY2F0ZWdvcnkubGFzdF9wb3N0ZXIpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGEgY2xhc3NOYW1lPVwiaXRlbS10aXRsZVwiIGhyZWY9e2NhdGVnb3J5Lmxhc3RfcG9zdGVyLnVybH0+XG4gICAgICAgIHtjYXRlZ29yeS5sYXN0X3Bvc3Rlcl9uYW1lfVxuICAgICAgPC9hPlxuICAgIClcbiAgfVxuXG4gIHJldHVybiA8c3BhbiBjbGFzc05hbWU9XCJpdGVtLXRpdGxlXCI+e2NhdGVnb3J5Lmxhc3RfcG9zdGVyX25hbWV9PC9zcGFuPlxufVxuXG5leHBvcnQgZnVuY3Rpb24gRW1wdHkoeyBjYXRlZ29yeSB9KSB7XG4gIGlmICghY2F0ZWdvcnkuYWNsLmNhbl9icm93c2UpIHJldHVybiBudWxsXG4gIGlmICghY2F0ZWdvcnkuYWNsLmNhbl9zZWVfYWxsX3RocmVhZHMpIHJldHVybiBudWxsXG4gIGlmIChjYXRlZ29yeS5sYXN0X3RocmVhZF90aXRsZSkgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxNZXNzYWdlXG4gICAgICBtZXNzYWdlPXtcIs6Rz4XPhM6uIM63IM66zrHPhM63zrPOv8+Bzq/OsSDOtc6vzr3Osc65IM6szrTOtc65zrEuIM6azrHOvM6vzrEgzrHOs86zzrXOu86vzrEgzrTOtc69IM6tz4fOtc65IM60zrfOvM6/z4POuc61z4XOuM61zq8gzrXOtM+OIM68zq3Ph8+Bzrkgz4TPjs+BzrEuLi5cIn1cbiAgICAvPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQcml2YXRlKHsgY2F0ZWdvcnkgfSkge1xuICBpZiAoIWNhdGVnb3J5LmFjbC5jYW5fYnJvd3NlKSByZXR1cm4gbnVsbFxuICBpZiAoY2F0ZWdvcnkuYWNsLmNhbl9zZWVfYWxsX3RocmVhZHMpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8TWVzc2FnZVxuICAgICAgbWVzc2FnZT17Z2V0dGV4dChcbiAgICAgICAgXCJUaGlzIGNhdGVnb3J5IGlzIHByaXZhdGUuIFlvdSBjYW4gc2VlIG9ubHkgeW91ciBvd24gdGhyZWFkcyB3aXRoaW4gaXQuXCJcbiAgICAgICl9XG4gICAgLz5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUHJvdGVjdGVkKHsgY2F0ZWdvcnkgfSkge1xuICBpZiAoY2F0ZWdvcnkuYWNsLmNhbl9icm93c2UpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8TWVzc2FnZVxuICAgICAgbWVzc2FnZT17Z2V0dGV4dChcbiAgICAgICAgXCJUaGlzIGNhdGVnb3J5IGlzIHByb3RlY3RlZC4gWW91IGNhbid0IGJyb3dzZSBpdCdzIGNvbnRlbnRzLlwiXG4gICAgICApfVxuICAgIC8+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE1lc3NhZ2UoeyBtZXNzYWdlIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhIGNhdGVnb3J5LXRocmVhZC1tZXNzYWdlXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWxlZnRcIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmluZm9fb3V0bGluZTwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1ib2R5XCI+XG4gICAgICAgIDxwPnttZXNzYWdlfTwvcD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBEZXNjcmlwdGlvbiBmcm9tIFwiLi9kZXNjcmlwdGlvblwiXG5pbXBvcnQgSWNvbiBmcm9tIFwiLi9pY29uXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBjYXRlZ29yeSB9KSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgY29sLXNtLTYgY29sLW1kLTYgY2F0ZWdvcnktbWFpblwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWxlZnRcIj5cbiAgICAgICAgICA8SWNvbiBjYXRlZ29yeT17Y2F0ZWdvcnl9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWJvZHlcIj5cbiAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibWVkaWEtaGVhZGluZ1wiPlxuICAgICAgICAgICAgPGEgaHJlZj17Y2F0ZWdvcnkudXJsLmluZGV4fT57Y2F0ZWdvcnkubmFtZX08L2E+XG4gICAgICAgICAgPC9oND5cbiAgICAgICAgICA8RGVzY3JpcHRpb24gY2F0ZWdvcnk9e2NhdGVnb3J5fSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBBdmF0YXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2F2YXRhclwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgY2F0ZWdvcnkgfSkge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTIgaGlkZGVuLXhzIGhpZGRlbi1zbVwiPlxuICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtdW5zdHlsZWQgY2F0ZWdvcnktc3RhdHNcIj5cbiAgICAgICAgPFRocmVhZHMgdGhyZWFkcz17Y2F0ZWdvcnkudGhyZWFkc30gLz5cbiAgICAgICAgPFBvc3RzIHBvc3RzPXtjYXRlZ29yeS5wb3N0c30gLz5cbiAgICAgIDwvdWw+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFRocmVhZHMoeyB0aHJlYWRzIH0pIHtcbiAgY29uc3QgbWVzc2FnZSA9IG5nZXR0ZXh0KFwiJSh0aHJlYWRzKXMgdGhyZWFkXCIsIFwiJSh0aHJlYWRzKXMgdGhyZWFkc1wiLCB0aHJlYWRzKVxuXG4gIHJldHVybiAoXG4gICAgPGxpIGNsYXNzTmFtZT1cImNhdGVnb3J5LXN0YXQtdGhyZWFkc1wiPlxuICAgICAge2ludGVycG9sYXRlKFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICB7XG4gICAgICAgICAgdGhyZWFkczogdGhyZWFkc1xuICAgICAgICB9LFxuICAgICAgICB0cnVlXG4gICAgICApfVxuICAgIDwvbGk+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBvc3RzKHsgcG9zdHMgfSkge1xuICBjb25zdCBtZXNzYWdlID0gbmdldHRleHQoXCIlKHBvc3RzKXMgcG9zdFwiLCBcIiUocG9zdHMpcyBwb3N0c1wiLCBwb3N0cylcblxuICByZXR1cm4gKFxuICAgIDxsaSBjbGFzc05hbWU9XCJjYXRlZ29yeS1zdGF0LXBvc3RzXCI+XG4gICAgICB7aW50ZXJwb2xhdGUoXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHtcbiAgICAgICAgICBwb3N0czogcG9zdHNcbiAgICAgICAgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKX1cbiAgICA8L2xpPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBMaXN0SXRlbSBmcm9tIFwiLi9saXN0LWl0ZW1cIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGNhdGVnb3J5LCBpc0ZpcnN0IH0pIHtcbiAgaWYgKGlzRmlyc3QpIHJldHVybiBudWxsXG4gIGlmIChjYXRlZ29yeS5zdWJjYXRlZ29yaWVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IHN1YmNhdGVnb3JpZXMtbGlzdFwiPlxuICAgICAge2NhdGVnb3J5LnN1YmNhdGVnb3JpZXMubWFwKGNhdGVnb3J5ID0+IHtcbiAgICAgICAgcmV0dXJuIDxMaXN0SXRlbSBjYXRlZ29yeT17Y2F0ZWdvcnl9IGtleT17Y2F0ZWdvcnkuaWR9IC8+XG4gICAgICB9KX1cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgY2F0ZWdvcnkgfSkge1xuICBsZXQgY2xhc3NOYW1lID0gXCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1zbSBidG4tc3ViY2F0ZWdvcnlcIlxuICBpZiAoIWNhdGVnb3J5LmlzX3JlYWQpIHtcbiAgICBjbGFzc05hbWUgKz0gXCIgYnRuLXN1YmNhdGVnb3J5LW5ld1wiXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyIGNvbC1zbS00IGNvbC1tZC0zXCI+XG4gICAgICA8YSBjbGFzc05hbWU9e2NsYXNzTmFtZX0gaHJlZj17Y2F0ZWdvcnkudXJsLmluZGV4fT5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPntnZXRJY29uKGNhdGVnb3J5KX08L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImljb24tdGV4dFwiPntjYXRlZ29yeS5uYW1lfTwvc3Bhbj5cbiAgICAgIDwvYT5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0SWNvbihjYXRlZ29yeSkge1xuICBpZiAoY2F0ZWdvcnkuaXNfY2xvc2VkKSB7XG4gICAgaWYgKGNhdGVnb3J5LmlzX3JlYWQpIHtcbiAgICAgIHJldHVybiBcImxvY2tfb3V0bGluZVwiXG4gICAgfVxuXG4gICAgcmV0dXJuIFwibG9ja1wiXG4gIH1cblxuICBpZiAoY2F0ZWdvcnkuaXNfcmVhZCkge1xuICAgIHJldHVybiBcImNoYXRfYnViYmxlX291dGxpbmVcIlxuICB9XG5cbiAgcmV0dXJuIFwiY2hhdF9idWJibGVcIlxufVxuIiwiaW1wb3J0IG1vbWVudCBmcm9tIFwibW9tZW50XCJcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEJsYW5rc2xhdGUgZnJvbSBcIi4vYmxhbmtzbGF0ZVwiXG5pbXBvcnQgQ2F0ZWdvcmllc0xpc3QgZnJvbSBcIi4vY2F0ZWdvcmllcy1saXN0XCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgcG9sbHMgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wb2xsc1wiXG5cbmNvbnN0IGh5ZHJhdGUgPSBmdW5jdGlvbihjYXRlZ29yeSkge1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgY2F0ZWdvcnksIHtcbiAgICBsYXN0X3Bvc3Rfb246IGNhdGVnb3J5Lmxhc3RfcG9zdF9vbiA/IG1vbWVudChjYXRlZ29yeS5sYXN0X3Bvc3Rfb24pIDogbnVsbCxcbiAgICBzdWJjYXRlZ29yaWVzOiBjYXRlZ29yeS5zdWJjYXRlZ29yaWVzLm1hcChoeWRyYXRlKVxuICB9KVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgY2F0ZWdvcmllczogbWlzYWdvLmdldChcIkNBVEVHT1JJRVNcIikubWFwKGh5ZHJhdGUpXG4gICAgfVxuXG4gICAgdGhpcy5zdGFydFBvbGxpbmcobWlzYWdvLmdldChcIkNBVEVHT1JJRVNfQVBJXCIpKVxuICB9XG5cbiAgc3RhcnRQb2xsaW5nKGFwaSkge1xuICAgIHBvbGxzLnN0YXJ0KHtcbiAgICAgIHBvbGw6IFwiY2F0ZWdvcmllc1wiLFxuICAgICAgdXJsOiBhcGksXG4gICAgICBmcmVxdWVuY3k6IDE4MCAqIDEwMDAsXG4gICAgICB1cGRhdGU6IHRoaXMudXBkYXRlXG4gICAgfSlcbiAgfVxuXG4gIHVwZGF0ZSA9IGRhdGEgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgY2F0ZWdvcmllczogZGF0YS5tYXAoaHlkcmF0ZSlcbiAgICB9KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgY2F0ZWdvcmllcyB9ID0gdGhpcy5zdGF0ZVxuXG4gICAgaWYgKGNhdGVnb3JpZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gPEJsYW5rc2xhdGUgLz5cbiAgICB9XG5cbiAgICByZXR1cm4gPENhdGVnb3JpZXNMaXN0IGNhdGVnb3JpZXM9e2NhdGVnb3JpZXN9IC8+XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdChzdG9yZSkge1xuICByZXR1cm4ge1xuICAgIHRpY2s6IHN0b3JlLnRpY2sudGlja1xuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8c2VsZWN0XG4gICAgICBjbGFzc05hbWU9e3Byb3BzLmNsYXNzTmFtZSB8fCBcImZvcm0tY29udHJvbFwifVxuICAgICAgZGlzYWJsZWQ9e3Byb3BzLmRpc2FibGVkIHx8IGZhbHNlfVxuICAgICAgaWQ9e3Byb3BzLmlkIHx8IG51bGx9XG4gICAgICBvbkNoYW5nZT17cHJvcHMub25DaGFuZ2V9XG4gICAgICB2YWx1ZT17cHJvcHMudmFsdWV9XG4gICAgPlxuICAgICAge3Byb3BzLmNob2ljZXMubWFwKGl0ZW0gPT4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxvcHRpb25cbiAgICAgICAgICAgIGRpc2FibGVkPXtpdGVtLmRpc2FibGVkIHx8IGZhbHNlfVxuICAgICAgICAgICAga2V5PXtpdGVtLnZhbHVlfVxuICAgICAgICAgICAgdmFsdWU9e2l0ZW0udmFsdWV9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge1wiLSAtIFwiLnJlcGVhdChpdGVtLmxldmVsKSArIGl0ZW0ubGFiZWx9XG4gICAgICAgICAgPC9vcHRpb24+XG4gICAgICAgIClcbiAgICAgIH0pfVxuICAgIDwvc2VsZWN0PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBBdmF0YXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2F2YXRhclwiXG5pbXBvcnQgQnV0dG9uIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9idXR0b25cIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICBkZXZpY2VSYXRpbzogMVxuICAgIH1cbiAgfVxuXG4gIGdldEF2YXRhclNpemUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudXBsb2FkKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5vcHRpb25zLmNyb3BfdG1wLnNpemVcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMub3B0aW9ucy5jcm9wX3NyYy5zaXplXG4gICAgfVxuICB9XG5cbiAgZ2V0SW1hZ2VQYXRoKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnVwbG9hZCkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuZGF0YVVybFxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5vcHRpb25zLmNyb3Bfc3JjLnVybFxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGxldCBjcm9waXQgPSAkKFwiLmNyb3AtZm9ybVwiKVxuICAgIGxldCBjcm9wcGVyV2lkdGggPSB0aGlzLmdldEF2YXRhclNpemUoKVxuXG4gICAgY29uc3QgaW5pdGlhbFdpZHRoID0gY3JvcGl0LndpZHRoKClcbiAgICB3aGlsZSAoaW5pdGlhbFdpZHRoIDwgY3JvcHBlcldpZHRoKSB7XG4gICAgICBjcm9wcGVyV2lkdGggPSBjcm9wcGVyV2lkdGggLyAyXG4gICAgfVxuXG4gICAgY29uc3QgZGV2aWNlUmF0aW8gPSB0aGlzLmdldEF2YXRhclNpemUoKSAvIGNyb3BwZXJXaWR0aFxuXG4gICAgY3JvcGl0LndpZHRoKGNyb3BwZXJXaWR0aClcblxuICAgIGNyb3BpdC5jcm9waXQoe1xuICAgICAgd2lkdGg6IGNyb3BwZXJXaWR0aCxcbiAgICAgIGhlaWdodDogY3JvcHBlcldpZHRoLFxuICAgICAgZXhwb3J0Wm9vbTogZGV2aWNlUmF0aW8sXG4gICAgICBpbWFnZVN0YXRlOiB7XG4gICAgICAgIHNyYzogdGhpcy5nZXRJbWFnZVBhdGgoKVxuICAgICAgfSxcbiAgICAgIG9uSW1hZ2VMb2FkZWQ6ICgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMudXBsb2FkKSB7XG4gICAgICAgICAgLy8gY2VudGVyIHVwbG9hZGVkIGltYWdlXG4gICAgICAgICAgbGV0IHpvb21MZXZlbCA9IGNyb3BpdC5jcm9waXQoXCJ6b29tXCIpXG4gICAgICAgICAgbGV0IGltYWdlU2l6ZSA9IGNyb3BpdC5jcm9waXQoXCJpbWFnZVNpemVcIilcblxuICAgICAgICAgIC8vIGlzIGl0IHdpZGVyIHRoYW4gdGFsbGVyP1xuICAgICAgICAgIGlmIChpbWFnZVNpemUud2lkdGggPiBpbWFnZVNpemUuaGVpZ2h0KSB7XG4gICAgICAgICAgICBsZXQgZGlzcGxheWVkV2lkdGggPSBpbWFnZVNpemUud2lkdGggKiB6b29tTGV2ZWxcbiAgICAgICAgICAgIGxldCBvZmZzZXRYID0gKGRpc3BsYXllZFdpZHRoIC0gdGhpcy5nZXRBdmF0YXJTaXplKCkpIC8gLTJcblxuICAgICAgICAgICAgY3JvcGl0LmNyb3BpdChcIm9mZnNldFwiLCB7XG4gICAgICAgICAgICAgIHg6IG9mZnNldFgsXG4gICAgICAgICAgICAgIHk6IDBcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSBlbHNlIGlmIChpbWFnZVNpemUud2lkdGggPCBpbWFnZVNpemUuaGVpZ2h0KSB7XG4gICAgICAgICAgICBsZXQgZGlzcGxheWVkSGVpZ2h0ID0gaW1hZ2VTaXplLmhlaWdodCAqIHpvb21MZXZlbFxuICAgICAgICAgICAgbGV0IG9mZnNldFkgPSAoZGlzcGxheWVkSGVpZ2h0IC0gdGhpcy5nZXRBdmF0YXJTaXplKCkpIC8gLTJcblxuICAgICAgICAgICAgY3JvcGl0LmNyb3BpdChcIm9mZnNldFwiLCB7XG4gICAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICAgIHk6IG9mZnNldFlcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNyb3BpdC5jcm9waXQoXCJvZmZzZXRcIiwge1xuICAgICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgICB5OiAwXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyB1c2UgcHJlc2VydmVkIGNyb3BcbiAgICAgICAgICBsZXQgY3JvcCA9IHRoaXMucHJvcHMub3B0aW9ucy5jcm9wX3NyYy5jcm9wXG5cbiAgICAgICAgICBpZiAoY3JvcCkge1xuICAgICAgICAgICAgY3JvcGl0LmNyb3BpdChcInpvb21cIiwgY3JvcC56b29tKVxuICAgICAgICAgICAgY3JvcGl0LmNyb3BpdChcIm9mZnNldFwiLCB7XG4gICAgICAgICAgICAgIHg6IGNyb3AueCxcbiAgICAgICAgICAgICAgeTogY3JvcC55XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAkKFwiLmNyb3AtZm9ybVwiKS5jcm9waXQoXCJkaXNhYmxlXCIpXG4gIH1cblxuICBjcm9wQXZhdGFyID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLnN0YXRlLmlzTG9hZGluZykge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0xvYWRpbmc6IHRydWVcbiAgICB9KVxuXG4gICAgbGV0IGF2YXRhclR5cGUgPSB0aGlzLnByb3BzLnVwbG9hZCA/IFwiY3JvcF90bXBcIiA6IFwiY3JvcF9zcmNcIlxuICAgIGxldCBjcm9waXQgPSAkKFwiLmNyb3AtZm9ybVwiKVxuXG4gICAgY29uc3QgZGV2aWNlUmF0aW8gPSBjcm9waXQuY3JvcGl0KFwiZXhwb3J0Wm9vbVwiKVxuICAgIGNvbnN0IGNyb3BpdE9mZnNldCA9IGNyb3BpdC5jcm9waXQoXCJvZmZzZXRcIilcblxuICAgIGFqYXhcbiAgICAgIC5wb3N0KHRoaXMucHJvcHMudXNlci5hcGkuYXZhdGFyLCB7XG4gICAgICAgIGF2YXRhcjogYXZhdGFyVHlwZSxcbiAgICAgICAgY3JvcDoge1xuICAgICAgICAgIG9mZnNldDoge1xuICAgICAgICAgICAgeDogY3JvcGl0T2Zmc2V0LnggKiBkZXZpY2VSYXRpbyxcbiAgICAgICAgICAgIHk6IGNyb3BpdE9mZnNldC55ICogZGV2aWNlUmF0aW9cbiAgICAgICAgICB9LFxuICAgICAgICAgIHpvb206IGNyb3BpdC5jcm9waXQoXCJ6b29tXCIpICogZGV2aWNlUmF0aW9cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC50aGVuKFxuICAgICAgICBkYXRhID0+IHtcbiAgICAgICAgICB0aGlzLnByb3BzLm9uQ29tcGxldGUoZGF0YSlcbiAgICAgICAgICBzbmFja2Jhci5zdWNjZXNzKGRhdGEuZGV0YWlsKVxuICAgICAgICB9LFxuICAgICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWwpXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgaXNMb2FkaW5nOiBmYWxzZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5zaG93RXJyb3IocmVqZWN0aW9uKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHkgbW9kYWwtYXZhdGFyLWNyb3BcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNyb3AtZm9ybVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjcm9waXQtcHJldmlld1wiIC8+XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhbmdlXCIgY2xhc3NOYW1lPVwiY3JvcGl0LWltYWdlLXpvb20taW5wdXRcIiAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC02IGNvbC1tZC1vZmZzZXQtM1wiPlxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmNyb3BBdmF0YXJ9XG4gICAgICAgICAgICAgIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tcHJpbWFyeSBidG4tYmxvY2tcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7dGhpcy5wcm9wcy51cGxvYWRcbiAgICAgICAgICAgICAgICA/IGdldHRleHQoXCJTZXQgYXZhdGFyXCIpXG4gICAgICAgICAgICAgICAgOiBnZXR0ZXh0KFwiQ3JvcCBpbWFnZVwiKX1cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuXG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucHJvcHMuc2hvd0luZGV4fVxuICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1kZWZhdWx0IGJ0bi1ibG9ja1wiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtnZXR0ZXh0KFwiQ2FuY2VsXCIpfVxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBBdmF0YXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2F2YXRhclwiXG5pbXBvcnQgQnV0dG9uIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9idXR0b25cIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgYmF0Y2ggZnJvbSBcIm1pc2Fnby91dGlscy9iYXRjaFwiXG5cbmV4cG9ydCBjbGFzcyBHYWxsZXJ5SXRlbSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHNlbGVjdCA9ICgpID0+IHtcbiAgICB0aGlzLnByb3BzLnNlbGVjdCh0aGlzLnByb3BzLmlkKVxuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnNlbGVjdGlvbiA9PT0gdGhpcy5wcm9wcy5pZCkge1xuICAgICAgaWYgKHRoaXMucHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuIFwiYnRuIGJ0bi1hdmF0YXIgYnRuLWRpc2FibGVkIGF2YXRhci1zZWxlY3RlZFwiXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gXCJidG4gYnRuLWF2YXRhciBhdmF0YXItc2VsZWN0ZWRcIlxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5kaXNhYmxlZCkge1xuICAgICAgcmV0dXJuIFwiYnRuIGJ0bi1hdmF0YXIgYnRuLWRpc2FibGVkXCJcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwiYnRuIGJ0bi1hdmF0YXJcIlxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGJ1dHRvblxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfVxuICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgb25DbGljaz17dGhpcy5zZWxlY3R9XG4gICAgICA+XG4gICAgICAgIDxpbWcgc3JjPXt0aGlzLnByb3BzLnVybH0gLz5cbiAgICAgIDwvYnV0dG9uPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgR2FsbGVyeSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJhdmF0YXJzLWdhbGxlcnlcIj5cbiAgICAgICAgPGgzPnt0aGlzLnByb3BzLm5hbWV9PC9oMz5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImF2YXRhcnMtZ2FsbGVyeS1pbWFnZXNcIj5cbiAgICAgICAgICB7YmF0Y2godGhpcy5wcm9wcy5pbWFnZXMsIDQsIG51bGwpLm1hcCgocm93LCBpKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiIGtleT17aX0+XG4gICAgICAgICAgICAgICAge3Jvdy5tYXAoKGl0ZW0sIGkpID0+IHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTNcIiBrZXk9e2l9PlxuICAgICAgICAgICAgICAgICAgICAgIHtpdGVtID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPEdhbGxlcnlJdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Q9e3RoaXMucHJvcHMuc2VsZWN0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb249e3RoaXMucHJvcHMuc2VsZWN0aW9ufVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7Li4uaXRlbX1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmxhbmstYXZhdGFyXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApXG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBzZWxlY3Rpb246IG51bGwsXG4gICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgfVxuICB9XG5cbiAgc2VsZWN0ID0gaW1hZ2UgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgc2VsZWN0aW9uOiBpbWFnZVxuICAgIH0pXG4gIH1cblxuICBzYXZlID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLnN0YXRlLmlzTG9hZGluZykge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0xvYWRpbmc6IHRydWVcbiAgICB9KVxuXG4gICAgYWpheFxuICAgICAgLnBvc3QodGhpcy5wcm9wcy51c2VyLmFwaS5hdmF0YXIsIHtcbiAgICAgICAgYXZhdGFyOiBcImdhbGxlcmllc1wiLFxuICAgICAgICBpbWFnZTogdGhpcy5zdGF0ZS5zZWxlY3Rpb25cbiAgICAgIH0pXG4gICAgICAudGhlbihcbiAgICAgICAgcmVzcG9uc2UgPT4ge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgaXNMb2FkaW5nOiBmYWxzZVxuICAgICAgICAgIH0pXG5cbiAgICAgICAgICBzbmFja2Jhci5zdWNjZXNzKHJlc3BvbnNlLmRldGFpbClcbiAgICAgICAgICB0aGlzLnByb3BzLm9uQ29tcGxldGUocmVzcG9uc2UpXG4gICAgICAgICAgdGhpcy5wcm9wcy5zaG93SW5kZXgoKVxuICAgICAgICB9LFxuICAgICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWwpXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgaXNMb2FkaW5nOiBmYWxzZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5zaG93RXJyb3IocmVqZWN0aW9uKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHkgbW9kYWwtYXZhdGFyLWdhbGxlcnlcIj5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5vcHRpb25zLmdhbGxlcmllcy5tYXAoKGl0ZW0sIGkpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxHYWxsZXJ5XG4gICAgICAgICAgICAgICAgbmFtZT17aXRlbS5uYW1lfVxuICAgICAgICAgICAgICAgIGltYWdlcz17aXRlbS5pbWFnZXN9XG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uPXt0aGlzLnN0YXRlLnNlbGVjdGlvbn1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgc2VsZWN0PXt0aGlzLnNlbGVjdH1cbiAgICAgICAgICAgICAgICBrZXk9e2l9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApXG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC02IGNvbC1tZC1vZmZzZXQtM1wiPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5zYXZlfVxuICAgICAgICAgICAgICAgIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXshdGhpcy5zdGF0ZS5zZWxlY3Rpb259XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLXByaW1hcnkgYnRuLWJsb2NrXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLnNlbGVjdGlvblxuICAgICAgICAgICAgICAgICAgPyBnZXR0ZXh0KFwiU2F2ZSBjaG9pY2VcIilcbiAgICAgICAgICAgICAgICAgIDogZ2V0dGV4dChcIlNlbGVjdCBhdmF0YXJcIil9XG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuXG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnByb3BzLnNob3dJbmRleH1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLWJsb2NrXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiQ2FuY2VsXCIpfVxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQXZhdGFyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9hdmF0YXJcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uXCJcbmltcG9ydCBMb2FkZXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2xvYWRlclwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIGNhbGxBcGkoYXZhdGFyVHlwZSkge1xuICAgIGlmICh0aGlzLnN0YXRlLmlzTG9hZGluZykge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0xvYWRpbmc6IHRydWVcbiAgICB9KVxuXG4gICAgYWpheFxuICAgICAgLnBvc3QodGhpcy5wcm9wcy51c2VyLmFwaS5hdmF0YXIsIHtcbiAgICAgICAgYXZhdGFyOiBhdmF0YXJUeXBlXG4gICAgICB9KVxuICAgICAgLnRoZW4oXG4gICAgICAgIHJlc3BvbnNlID0+IHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGlzTG9hZGluZzogZmFsc2VcbiAgICAgICAgICB9KVxuXG4gICAgICAgICAgc25hY2tiYXIuc3VjY2VzcyhyZXNwb25zZS5kZXRhaWwpXG4gICAgICAgICAgdGhpcy5wcm9wcy5vbkNvbXBsZXRlKHJlc3BvbnNlKVxuICAgICAgICB9LFxuICAgICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWwpXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgaXNMb2FkaW5nOiBmYWxzZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5zaG93RXJyb3IocmVqZWN0aW9uKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKVxuICB9XG5cbiAgc2V0R3JhdmF0YXIgPSAoKSA9PiB7XG4gICAgdGhpcy5jYWxsQXBpKFwiZ3JhdmF0YXJcIilcbiAgfVxuXG4gIHNldEdlbmVyYXRlZCA9ICgpID0+IHtcbiAgICB0aGlzLmNhbGxBcGkoXCJnZW5lcmF0ZWRcIilcbiAgfVxuXG4gIGdldEdyYXZhdGFyQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLm9wdGlvbnMuZ3JhdmF0YXIpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxCdXR0b25cbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLnNldEdyYXZhdGFyfVxuICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLWF2YXRhci1ncmF2YXRhclwiXG4gICAgICAgID5cbiAgICAgICAgICB7Z2V0dGV4dChcIkRvd25sb2FkIG15IEdyYXZhdGFyXCIpfVxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICBnZXRDcm9wQnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5vcHRpb25zLmNyb3Bfc3JjKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxCdXR0b25cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1hdmF0YXItY3JvcFwiXG4gICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgb25DbGljaz17dGhpcy5wcm9wcy5zaG93Q3JvcH1cbiAgICAgID5cbiAgICAgICAge2dldHRleHQoXCJSZS1jcm9wIHVwbG9hZGVkIGltYWdlXCIpfVxuICAgICAgPC9CdXR0b24+XG4gICAgKVxuICB9XG5cbiAgZ2V0VXBsb2FkQnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5vcHRpb25zLnVwbG9hZCkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8QnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4tYXZhdGFyLXVwbG9hZFwiXG4gICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgb25DbGljaz17dGhpcy5wcm9wcy5zaG93VXBsb2FkfVxuICAgICAgPlxuICAgICAgICB7Z2V0dGV4dChcIlVwbG9hZCBuZXcgaW1hZ2VcIil9XG4gICAgICA8L0J1dHRvbj5cbiAgICApXG4gIH1cblxuICBnZXRHYWxsZXJ5QnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5vcHRpb25zLmdhbGxlcmllcykgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8QnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4tYXZhdGFyLWdhbGxlcnlcIlxuICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgIG9uQ2xpY2s9e3RoaXMucHJvcHMuc2hvd0dhbGxlcnl9XG4gICAgICA+XG4gICAgICAgIHtnZXR0ZXh0KFwiUGljayBhdmF0YXIgZnJvbSBnYWxsZXJ5XCIpfVxuICAgICAgPC9CdXR0b24+XG4gICAgKVxuICB9XG5cbiAgZ2V0QXZhdGFyUHJldmlldygpIHtcbiAgICBsZXQgdXNlclBldmlldyA9IHtcbiAgICAgIGlkOiB0aGlzLnByb3BzLnVzZXIuaWQsXG4gICAgICBhdmF0YXJzOiB0aGlzLnByb3BzLm9wdGlvbnMuYXZhdGFyc1xuICAgIH1cblxuICAgIGlmICh0aGlzLnN0YXRlLmlzTG9hZGluZykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhdmF0YXItcHJldmlldyBwcmV2aWV3LWxvYWRpbmdcIj5cbiAgICAgICAgICA8QXZhdGFyIHNpemU9XCIyMDBcIiB1c2VyPXt1c2VyUGV2aWV3fSAvPlxuICAgICAgICAgIDxMb2FkZXIgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApXG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYXZhdGFyLXByZXZpZXdcIj5cbiAgICAgICAgPEF2YXRhciBzaXplPVwiMjAwXCIgdXNlcj17dXNlclBldmlld30gLz5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5IG1vZGFsLWF2YXRhci1pbmRleFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTVcIj57dGhpcy5nZXRBdmF0YXJQcmV2aWV3KCl9PC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtN1wiPlxuICAgICAgICAgICAge3RoaXMuZ2V0R3JhdmF0YXJCdXR0b24oKX1cblxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnNldEdlbmVyYXRlZH1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLWF2YXRhci1nZW5lcmF0ZVwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtnZXR0ZXh0KFwiR2VuZXJhdGUgbXkgaW5kaXZpZHVhbCBhdmF0YXJcIil9XG4gICAgICAgICAgICA8L0J1dHRvbj5cblxuICAgICAgICAgICAge3RoaXMuZ2V0Q3JvcEJ1dHRvbigpfVxuICAgICAgICAgICAge3RoaXMuZ2V0VXBsb2FkQnV0dG9uKCl9XG4gICAgICAgICAgICB7dGhpcy5nZXRHYWxsZXJ5QnV0dG9uKCl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBBdmF0YXJJbmRleCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvY2hhbmdlLWF2YXRhci9pbmRleFwiXG5pbXBvcnQgQXZhdGFyQ3JvcCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvY2hhbmdlLWF2YXRhci9jcm9wXCJcbmltcG9ydCBBdmF0YXJVcGxvYWQgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2NoYW5nZS1hdmF0YXIvdXBsb2FkXCJcbmltcG9ydCBBdmF0YXJHYWxsZXJ5IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9jaGFuZ2UtYXZhdGFyL2dhbGxlcnlcIlxuaW1wb3J0IExvYWRlciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvbW9kYWwtbG9hZGVyXCJcbmltcG9ydCB7IHVwZGF0ZUF2YXRhciB9IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvdXNlcnNcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGNsYXNzIENoYW5nZUF2YXRhckVycm9yIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0RXJyb3JSZWFzb24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucmVhc29uKSB7XG4gICAgICByZXR1cm4gPHAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiB0aGlzLnByb3BzLnJlYXNvbiB9fSAvPlxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnJlbW92ZV9jaXJjbGVfb3V0bGluZTwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1ib2R5XCI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPnt0aGlzLnByb3BzLm1lc3NhZ2V9PC9wPlxuICAgICAgICAgIHt0aGlzLmdldEVycm9yUmVhc29uKCl9XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiT2tcIil9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgYWpheC5nZXQodGhpcy5wcm9wcy51c2VyLmFwaS5hdmF0YXIpLnRoZW4oXG4gICAgICBvcHRpb25zID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgY29tcG9uZW50OiBBdmF0YXJJbmRleCxcbiAgICAgICAgICBvcHRpb25zOiBvcHRpb25zLFxuICAgICAgICAgIGVycm9yOiBudWxsXG4gICAgICAgIH0pXG4gICAgICB9LFxuICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgdGhpcy5zaG93RXJyb3IocmVqZWN0aW9uKVxuICAgICAgfVxuICAgIClcbiAgfVxuXG4gIHNob3dFcnJvciA9IGVycm9yID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGVycm9yXG4gICAgfSlcbiAgfVxuXG4gIHNob3dJbmRleCA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGNvbXBvbmVudDogQXZhdGFySW5kZXhcbiAgICB9KVxuICB9XG5cbiAgc2hvd1VwbG9hZCA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGNvbXBvbmVudDogQXZhdGFyVXBsb2FkXG4gICAgfSlcbiAgfVxuXG4gIHNob3dDcm9wID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgY29tcG9uZW50OiBBdmF0YXJDcm9wXG4gICAgfSlcbiAgfVxuXG4gIHNob3dHYWxsZXJ5ID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgY29tcG9uZW50OiBBdmF0YXJHYWxsZXJ5XG4gICAgfSlcbiAgfVxuXG4gIGNvbXBsZXRlRmxvdyA9IG9wdGlvbnMgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHVwZGF0ZUF2YXRhcih0aGlzLnByb3BzLnVzZXIsIG9wdGlvbnMuYXZhdGFycykpXG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGNvbXBvbmVudDogQXZhdGFySW5kZXgsXG4gICAgICBvcHRpb25zXG4gICAgfSlcbiAgfVxuXG4gIGdldEJvZHkoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUpIHtcbiAgICAgIGlmICh0aGlzLnN0YXRlLmVycm9yKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPENoYW5nZUF2YXRhckVycm9yXG4gICAgICAgICAgICBtZXNzYWdlPXt0aGlzLnN0YXRlLmVycm9yLmRldGFpbH1cbiAgICAgICAgICAgIHJlYXNvbj17dGhpcy5zdGF0ZS5lcnJvci5yZWFzb259XG4gICAgICAgICAgLz5cbiAgICAgICAgKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8dGhpcy5zdGF0ZS5jb21wb25lbnRcbiAgICAgICAgICAgIG9wdGlvbnM9e3RoaXMuc3RhdGUub3B0aW9uc31cbiAgICAgICAgICAgIHVzZXI9e3RoaXMucHJvcHMudXNlcn1cbiAgICAgICAgICAgIG9uQ29tcGxldGU9e3RoaXMuY29tcGxldGVGbG93fVxuICAgICAgICAgICAgc2hvd0Vycm9yPXt0aGlzLnNob3dFcnJvcn1cbiAgICAgICAgICAgIHNob3dJbmRleD17dGhpcy5zaG93SW5kZXh9XG4gICAgICAgICAgICBzaG93Q3JvcD17dGhpcy5zaG93Q3JvcH1cbiAgICAgICAgICAgIHNob3dVcGxvYWQ9e3RoaXMuc2hvd1VwbG9hZH1cbiAgICAgICAgICAgIHNob3dHYWxsZXJ5PXt0aGlzLnNob3dHYWxsZXJ5fVxuICAgICAgICAgIC8+XG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIDxMb2FkZXIgLz5cbiAgICB9XG4gIH1cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUgJiYgdGhpcy5zdGF0ZS5lcnJvcikge1xuICAgICAgcmV0dXJuIFwibW9kYWwtZGlhbG9nIG1vZGFsLW1lc3NhZ2UgbW9kYWwtY2hhbmdlLWF2YXRhclwiXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcIm1vZGFsLWRpYWxvZyBtb2RhbC1jaGFuZ2UtYXZhdGFyXCJcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfSByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNsb3NlXCJcbiAgICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2VcIil9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntnZXR0ZXh0KFwiQ2hhbmdlIHlvdXIgYXZhdGFyXCIpfTwvaDQ+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7dGhpcy5nZXRCb2R5KCl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3Qoc3RhdGUpIHtcbiAgcmV0dXJuIHtcbiAgICB1c2VyOiBzdGF0ZS5hdXRoLnVzZXJcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQXZhdGFyQ3JvcCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvY2hhbmdlLWF2YXRhci9jcm9wXCJcbmltcG9ydCBCdXR0b24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2J1dHRvblwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IGZpbGVTaXplIGZyb20gXCJtaXNhZ28vdXRpbHMvZmlsZS1zaXplXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGltYWdlOiBudWxsLFxuICAgICAgcHJldmlldzogbnVsbCxcbiAgICAgIHByb2dyZXNzOiAwLFxuICAgICAgdXBsb2FkZWQ6IG51bGwsXG4gICAgICBkYXRhVXJsOiBudWxsXG4gICAgfVxuICB9XG5cbiAgdmFsaWRhdGVGaWxlKGltYWdlKSB7XG4gICAgaWYgKGltYWdlLnNpemUgPiB0aGlzLnByb3BzLm9wdGlvbnMudXBsb2FkLmxpbWl0KSB7XG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICAgIGdldHRleHQoXCJTZWxlY3RlZCBmaWxlIGlzIHRvbyBiaWcuICglKGZpbGVzaXplKXMpXCIpLFxuICAgICAgICB7XG4gICAgICAgICAgZmlsZXNpemU6IGZpbGVTaXplKGltYWdlLnNpemUpXG4gICAgICAgIH0sXG4gICAgICAgIHRydWVcbiAgICAgIClcbiAgICB9XG5cbiAgICBsZXQgaW52YWxpZFR5cGVNc2cgPSBnZXR0ZXh0KFwiU2VsZWN0ZWQgZmlsZSB0eXBlIGlzIG5vdCBzdXBwb3J0ZWQuXCIpXG4gICAgaWYgKFxuICAgICAgdGhpcy5wcm9wcy5vcHRpb25zLnVwbG9hZC5hbGxvd2VkX21pbWVfdHlwZXMuaW5kZXhPZihpbWFnZS50eXBlKSA9PT0gLTFcbiAgICApIHtcbiAgICAgIHJldHVybiBpbnZhbGlkVHlwZU1zZ1xuICAgIH1cblxuICAgIGxldCBleHRlbnNpb25Gb3VuZCA9IGZhbHNlXG4gICAgbGV0IGxvd2VyZWRGaWxlbmFtZSA9IGltYWdlLm5hbWUudG9Mb3dlckNhc2UoKVxuICAgIHRoaXMucHJvcHMub3B0aW9ucy51cGxvYWQuYWxsb3dlZF9leHRlbnNpb25zLm1hcChmdW5jdGlvbihleHRlbnNpb24pIHtcbiAgICAgIGlmIChsb3dlcmVkRmlsZW5hbWUuc3Vic3RyKGV4dGVuc2lvbi5sZW5ndGggKiAtMSkgPT09IGV4dGVuc2lvbikge1xuICAgICAgICBleHRlbnNpb25Gb3VuZCA9IHRydWVcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgaWYgKCFleHRlbnNpb25Gb3VuZCkge1xuICAgICAgcmV0dXJuIGludmFsaWRUeXBlTXNnXG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBwaWNrRmlsZSA9ICgpID0+IHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImF2YXRhci1oaWRkZW4tdXBsb2FkXCIpLmNsaWNrKClcbiAgfVxuXG4gIHVwbG9hZEZpbGUgPSAoKSA9PiB7XG4gICAgbGV0IGltYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhdmF0YXItaGlkZGVuLXVwbG9hZFwiKS5maWxlc1swXVxuICAgIGlmICghaW1hZ2UpIHJldHVyblxuXG4gICAgbGV0IHZhbGlkYXRpb25FcnJvciA9IHRoaXMudmFsaWRhdGVGaWxlKGltYWdlKVxuICAgIGlmICh2YWxpZGF0aW9uRXJyb3IpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKHZhbGlkYXRpb25FcnJvcilcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaW1hZ2UsXG4gICAgICBwcmV2aWV3OiBVUkwuY3JlYXRlT2JqZWN0VVJMKGltYWdlKSxcbiAgICAgIHByb2dyZXNzOiAwXG4gICAgfSlcblxuICAgIGxldCBkYXRhID0gbmV3IEZvcm1EYXRhKClcbiAgICBkYXRhLmFwcGVuZChcImF2YXRhclwiLCBcInVwbG9hZFwiKVxuICAgIGRhdGEuYXBwZW5kKFwiaW1hZ2VcIiwgaW1hZ2UpXG5cbiAgICBhamF4XG4gICAgICAudXBsb2FkKHRoaXMucHJvcHMudXNlci5hcGkuYXZhdGFyLCBkYXRhLCBwcm9ncmVzcyA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIHByb2dyZXNzXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgICAgLnRoZW4oXG4gICAgICAgIGRhdGEgPT4ge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgb3B0aW9uczogZGF0YSxcbiAgICAgICAgICAgIHVwbG9hZGVkOiBkYXRhLmRldGFpbFxuICAgICAgICAgIH0pXG5cbiAgICAgICAgICBzbmFja2Jhci5pbmZvKFxuICAgICAgICAgICAgZ2V0dGV4dChcIllvdXIgaW1hZ2UgaGFzIGJlZW4gdXBsb2FkZWQgYW5kIHlvdSBtYXkgbm93IGNyb3AgaXQuXCIpXG4gICAgICAgICAgKVxuICAgICAgICB9LFxuICAgICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDAgfHwgcmVqZWN0aW9uLnN0YXR1cyA9PT0gNDEzKSB7XG4gICAgICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsKVxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICAgICAgICAgIGltYWdlOiBudWxsLFxuICAgICAgICAgICAgICBwcm9ncmVzczogMFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5zaG93RXJyb3IocmVqZWN0aW9uKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKVxuICB9XG5cbiAgZ2V0VXBsb2FkUmVxdWlyZW1lbnRzKG9wdGlvbnMpIHtcbiAgICBsZXQgZXh0ZW5zaW9ucyA9IG9wdGlvbnMuYWxsb3dlZF9leHRlbnNpb25zLm1hcChmdW5jdGlvbihleHRlbnNpb24pIHtcbiAgICAgIHJldHVybiBleHRlbnNpb24uc3Vic3RyKDEpXG4gICAgfSlcblxuICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgIGdldHRleHQoXCIlKGZpbGVzKXMgZmlsZXMgc21hbGxlciB0aGFuICUobGltaXQpc1wiKSxcbiAgICAgIHtcbiAgICAgICAgZmlsZXM6IGV4dGVuc2lvbnMuam9pbihcIiwgXCIpLFxuICAgICAgICBsaW1pdDogZmlsZVNpemUob3B0aW9ucy5saW1pdClcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuICB9XG5cbiAgZ2V0VXBsb2FkQnV0dG9uKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHkgbW9kYWwtYXZhdGFyLXVwbG9hZFwiPlxuICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1waWNrLWZpbGVcIiBvbkNsaWNrPXt0aGlzLnBpY2tGaWxlfT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5pbnB1dDwvZGl2PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiU2VsZWN0IGZpbGVcIil9XG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LW11dGVkXCI+XG4gICAgICAgICAge3RoaXMuZ2V0VXBsb2FkUmVxdWlyZW1lbnRzKHRoaXMucHJvcHMub3B0aW9ucy51cGxvYWQpfVxuICAgICAgICA8L3A+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cblxuICBnZXRVcGxvYWRQcm9ncmVzc0xhYmVsKCkge1xuICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgIGdldHRleHQoXCIlKHByb2dyZXNzKXMgJSBjb21wbGV0ZVwiKSxcbiAgICAgIHtcbiAgICAgICAgcHJvZ3Jlc3M6IHRoaXMuc3RhdGUucHJvZ3Jlc3NcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuICB9XG5cbiAgZ2V0VXBsb2FkUHJvZ3Jlc3MoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keSBtb2RhbC1hdmF0YXItdXBsb2FkXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXBsb2FkLXByb2dyZXNzXCI+XG4gICAgICAgICAgPGltZyBzcmM9e3RoaXMuc3RhdGUucHJldmlld30gLz5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJvZ3Jlc3NcIj5cbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHJvZ3Jlc3MtYmFyXCJcbiAgICAgICAgICAgICAgcm9sZT1cInByb2dyZXNzYmFyXCJcbiAgICAgICAgICAgICAgYXJpYS12YWx1ZW5vdz1cInt0aGlzLnN0YXRlLnByb2dyZXNzfVwiXG4gICAgICAgICAgICAgIGFyaWEtdmFsdWVtaW49XCIwXCJcbiAgICAgICAgICAgICAgYXJpYS12YWx1ZW1heD1cIjEwMFwiXG4gICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiB0aGlzLnN0YXRlLnByb2dyZXNzICsgXCIlXCIgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic3Itb25seVwiPnt0aGlzLmdldFVwbG9hZFByb2dyZXNzTGFiZWwoKX08L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cblxuICByZW5kZXJVcGxvYWQoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIDxpbnB1dFxuICAgICAgICAgIHR5cGU9XCJmaWxlXCJcbiAgICAgICAgICBpZD1cImF2YXRhci1oaWRkZW4tdXBsb2FkXCJcbiAgICAgICAgICBjbGFzc05hbWU9XCJoaWRkZW4tZmlsZS11cGxvYWRcIlxuICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLnVwbG9hZEZpbGV9XG4gICAgICAgIC8+XG4gICAgICAgIHt0aGlzLnN0YXRlLmltYWdlID8gdGhpcy5nZXRVcGxvYWRQcm9ncmVzcygpIDogdGhpcy5nZXRVcGxvYWRCdXR0b24oKX1cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC02IGNvbC1tZC1vZmZzZXQtM1wiPlxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnByb3BzLnNob3dJbmRleH1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9eyEhdGhpcy5zdGF0ZS5pbWFnZX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLWJsb2NrXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2dldHRleHQoXCJDYW5jZWxcIil9XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cblxuICByZW5kZXJDcm9wKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8QXZhdGFyQ3JvcFxuICAgICAgICBvcHRpb25zPXt0aGlzLnN0YXRlLm9wdGlvbnN9XG4gICAgICAgIHVzZXI9e3RoaXMucHJvcHMudXNlcn1cbiAgICAgICAgdXBsb2FkPXt0aGlzLnN0YXRlLnVwbG9hZGVkfVxuICAgICAgICBkYXRhVXJsPXt0aGlzLnN0YXRlLnByZXZpZXd9XG4gICAgICAgIG9uQ29tcGxldGU9e3RoaXMucHJvcHMub25Db21wbGV0ZX1cbiAgICAgICAgc2hvd0Vycm9yPXt0aGlzLnByb3BzLnNob3dFcnJvcn1cbiAgICAgICAgc2hvd0luZGV4PXt0aGlzLnByb3BzLnNob3dJbmRleH1cbiAgICAgIC8+XG4gICAgKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLnVwbG9hZGVkKSByZXR1cm4gdGhpcy5yZW5kZXJDcm9wKClcblxuICAgIHJldHVybiB0aGlzLnJlbmRlclVwbG9hZCgpXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5kcm9wZG93bikge1xuICAgICAgcmV0dXJuIFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1hbGlnbmVkIGJ0bi1pY29uIGJ0bi1kcm9wZG93bi10b2dnbGUgb3BlbiBoaWRkZW4tbWQgaGlkZGVuLWxnXCJcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1hbGlnbmVkIGJ0bi1pY29uIGJ0bi1kcm9wZG93bi10b2dnbGUgaGlkZGVuLW1kIGhpZGRlbi1sZ1wiXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX1cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgIG9uQ2xpY2s9e3RoaXMucHJvcHMudG9nZ2xlTmF2fVxuICAgICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXG4gICAgICAgIGFyaWEtZXhwYW5kZWQ9e3RoaXMucHJvcHMuZHJvcGRvd24gPyBcInRydWVcIiA6IFwiZmFsc2VcIn1cbiAgICAgID5cbiAgICAgICAgPGkgY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPm1lbnU8L2k+XG4gICAgICA8L2J1dHRvbj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IFBhbmVsTWVzc2FnZSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvcGFuZWwtbWVzc2FnZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgZGlzcGxheSB9KSB7XG4gIGlmICghZGlzcGxheSkgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxQYW5lbE1lc3NhZ2VcbiAgICAgIGhlbHBUZXh0PXtnZXR0ZXh0KFwiTm8gcHJvZmlsZSBkZXRhaWxzIGFyZSBlZGl0YWJsZSBhdCB0aGlzIHRpbWUuXCIpfVxuICAgICAgbWVzc2FnZT17Z2V0dGV4dChcIlRoaXMgb3B0aW9uIGlzIGN1cnJlbnRseSB1bmF2YWlsYWJsZS5cIil9XG4gICAgLz5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgU2VsZWN0IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9zZWxlY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2hhbmdlID0gZXYgPT4ge1xuICAgIGNvbnN0IHsgZmllbGQsIG9uQ2hhbmdlIH0gPSB0aGlzLnByb3BzXG4gICAgb25DaGFuZ2UoZmllbGQuZmllbGRuYW1lLCBldi50YXJnZXQudmFsdWUpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBkaXNhYmxlZCwgZmllbGQsIHZhbHVlIH0gPSB0aGlzLnByb3BzXG4gICAgY29uc3QgeyBpbnB1dCB9ID0gZmllbGRcblxuICAgIGlmIChpbnB1dC50eXBlID09PSBcInNlbGVjdFwiKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgY2hvaWNlcz17aW5wdXQuY2hvaWNlc31cbiAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR9XG4gICAgICAgICAgaWQ9e1wiaWRfXCIgKyBmaWVsZC5maWVsZG5hbWV9XG4gICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2V9XG4gICAgICAgICAgdmFsdWU9e3ZhbHVlfVxuICAgICAgICAvPlxuICAgICAgKVxuICAgIH1cblxuICAgIGlmIChpbnB1dC50eXBlID09PSBcInRleHRhcmVhXCIpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkfVxuICAgICAgICAgIGlkPXtcImlkX1wiICsgZmllbGQuZmllbGRuYW1lfVxuICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ2hhbmdlfVxuICAgICAgICAgIHJvd3M9XCI0XCJcbiAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgdmFsdWU9e3ZhbHVlfVxuICAgICAgICAvPlxuICAgICAgKVxuICAgIH1cblxuICAgIGlmIChpbnB1dC50eXBlID09PSBcInRleHRcIikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGlucHV0XG4gICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR9XG4gICAgICAgICAgaWQ9e1wiaWRfXCIgKyBmaWVsZC5maWVsZG5hbWV9XG4gICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2V9XG4gICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgIHZhbHVlPXt2YWx1ZX1cbiAgICAgICAgLz5cbiAgICAgIClcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbFxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBGaWVsZElucHV0IGZyb20gXCIuL2ZpZWxkLWlucHV0XCJcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXBcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGRpc2FibGVkLCBlcnJvcnMsIGZpZWxkcywgbmFtZSwgb25DaGFuZ2UsIHZhbHVlIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8ZmllbGRzZXQ+XG4gICAgICA8bGVnZW5kPntuYW1lfTwvbGVnZW5kPlxuICAgICAge2ZpZWxkcy5tYXAoZmllbGQgPT4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgIGZvcj17XCJpZF9cIiArIGZpZWxkLmZpZWxkbmFtZX1cbiAgICAgICAgICAgIGhlbHBUZXh0PXtmaWVsZC5oZWxwX3RleHR9XG4gICAgICAgICAgICBrZXk9e2ZpZWxkLmZpZWxkbmFtZX1cbiAgICAgICAgICAgIGxhYmVsPXtmaWVsZC5sYWJlbH1cbiAgICAgICAgICAgIHZhbGlkYXRpb249e2Vycm9yc1tmaWVsZC5maWVsZG5hbWVdfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxGaWVsZElucHV0XG4gICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZH1cbiAgICAgICAgICAgICAgZmllbGQ9e2ZpZWxkfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17b25DaGFuZ2V9XG4gICAgICAgICAgICAgIHZhbHVlPXt2YWx1ZVtmaWVsZC5maWVsZG5hbWVdfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgKVxuICAgICAgfSl9XG4gICAgPC9maWVsZHNldD5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgRmllbGRzZXQgZnJvbSBcIi4vZmllbGRzZXRcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uXCJcbmltcG9ydCBGb3JtIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcblxuICAgICAgZXJyb3JzOiB7fVxuICAgIH1cblxuICAgIGNvbnN0IGdyb3VwcyA9IHByb3BzLmdyb3Vwcy5sZW5ndGhcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdyb3VwczsgaSsrKSB7XG4gICAgICBjb25zdCBncm91cCA9IHByb3BzLmdyb3Vwc1tpXVxuICAgICAgY29uc3QgZmllbGRzID0gZ3JvdXAuZmllbGRzLmxlbmd0aFxuICAgICAgZm9yIChsZXQgZiA9IDA7IGYgPCBmaWVsZHM7IGYrKykge1xuICAgICAgICBjb25zdCBmaWVsZG5hbWUgPSBncm91cC5maWVsZHNbZl0uZmllbGRuYW1lXG4gICAgICAgIGNvbnN0IGluaXRpYWwgPSBncm91cC5maWVsZHNbZl0uaW5pdGlhbFxuICAgICAgICB0aGlzLnN0YXRlW2ZpZWxkbmFtZV0gPSBpbml0aWFsXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICBjb25zdCBkYXRhID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5zdGF0ZSwge1xuICAgICAgZXJyb3JzOiBudWxsLFxuICAgICAgaXNMb2FkaW5nOiBudWxsXG4gICAgfSlcblxuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy5hcGksIGRhdGEpXG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKGRhdGEpIHtcbiAgICB0aGlzLnByb3BzLm9uU3VjY2VzcyhkYXRhKVxuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIkZvcm0gY29udGFpbnMgZXJyb3JzLlwiKSlcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBlcnJvcnM6IHJlamVjdGlvbiB9KVxuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgfVxuICB9XG5cbiAgb25DaGFuZ2UgPSAobmFtZSwgdmFsdWUpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIFtuYW1lXTogdmFsdWVcbiAgICB9KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHlcIj5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5ncm91cHMubWFwKChncm91cCwgaSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPEZpZWxkc2V0XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgIGVycm9ycz17dGhpcy5zdGF0ZS5lcnJvcnN9XG4gICAgICAgICAgICAgICAgZmllbGRzPXtncm91cC5maWVsZHN9XG4gICAgICAgICAgICAgICAgbmFtZT17Z3JvdXAubmFtZX1cbiAgICAgICAgICAgICAgICBrZXk9e2l9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2V9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGV9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApXG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWZvb3RlciB0ZXh0LXJpZ2h0XCI+XG4gICAgICAgICAgPENhbmNlbEJ1dHRvblxuICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgb25DYW5jZWw9e3RoaXMucHJvcHMub25DYW5jZWx9XG4gICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4tcHJpbWFyeVwiIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfT5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiU2F2ZSBjaGFuZ2VzXCIpfVxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZm9ybT5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIENhbmNlbEJ1dHRvbih7IG9uQ2FuY2VsLCBkaXNhYmxlZCB9KSB7XG4gIGlmICghb25DYW5jZWwpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8YnV0dG9uXG4gICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIlxuICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkfVxuICAgICAgb25DbGljaz17b25DYW5jZWx9XG4gICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICA+XG4gICAgICB7Z2V0dGV4dChcIkNhbmNlbFwiKX1cbiAgICA8L2J1dHRvbj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQmxhbmtzbGF0ZSBmcm9tIFwiLi9ibGFua3NsYXRlXCJcbmltcG9ydCBMb2FkZXIgZnJvbSBcIi4vbG9hZGVyXCJcbmltcG9ydCBGb3JtIGZyb20gXCIuL2Zvcm1cIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGxvYWRpbmc6IHRydWUsXG4gICAgICBncm91cHM6IG51bGxcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBhamF4LmdldCh0aGlzLnByb3BzLmFwaSkudGhlbihcbiAgICAgIGdyb3VwcyA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGxvYWRpbmc6IGZhbHNlLFxuXG4gICAgICAgICAgZ3JvdXBzXG4gICAgICAgIH0pXG4gICAgICB9LFxuICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgICAgICBpZiAodGhpcy5wcm9wcy5jYW5jZWwpIHtcbiAgICAgICAgICB0aGlzLnByb3BzLmNhbmNlbCgpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBncm91cHMsIGxvYWRpbmcgfSA9IHRoaXMuc3RhdGVcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRlZmF1bHQgcGFuZWwtZm9ybVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWhlYWRpbmdcIj5cbiAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwicGFuZWwtdGl0bGVcIj57Z2V0dGV4dChcIkVkaXQgZGV0YWlsc1wiKX08L2gzPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPExvYWRlciBkaXNwbGF5PXtsb2FkaW5nfSAvPlxuICAgICAgICA8QmxhbmtzbGF0ZSBkaXNwbGF5PXshbG9hZGluZyAmJiAhZ3JvdXBzLmxlbmd0aH0gLz5cbiAgICAgICAgPEZvcm1EaXNwbGF5XG4gICAgICAgICAgYXBpPXt0aGlzLnByb3BzLmFwaX1cbiAgICAgICAgICBkaXNwbGF5PXshbG9hZGluZyAmJiBncm91cHMubGVuZ3RofVxuICAgICAgICAgIGdyb3Vwcz17Z3JvdXBzfVxuICAgICAgICAgIG9uQ2FuY2VsPXt0aGlzLnByb3BzLm9uQ2FuY2VsfVxuICAgICAgICAgIG9uU3VjY2Vzcz17dGhpcy5wcm9wcy5vblN1Y2Nlc3N9XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEZvcm1EaXNwbGF5KHsgYXBpLCBkaXNwbGF5LCBncm91cHMsIG9uQ2FuY2VsLCBvblN1Y2Nlc3MgfSkge1xuICBpZiAoIWRpc3BsYXkpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8Rm9ybSBhcGk9e2FwaX0gZ3JvdXBzPXtncm91cHN9IG9uQ2FuY2VsPXtvbkNhbmNlbH0gb25TdWNjZXNzPXtvblN1Y2Nlc3N9IC8+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IExvYWRlciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvbG9hZGVyXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBkaXNwbGF5IH0pIHtcbiAgaWYgKCFkaXNwbGF5KSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5XCI+XG4gICAgICA8TG9hZGVyIC8+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEFjdGlvbiBmcm9tIFwiLi9hY3Rpb25cIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxBY3Rpb24gZXhlY0FjdGlvbj17aW5zZXJ0U3BvaWxlcn0gdGl0bGU9e1wizpXOuc+DzrHOs8+JzrPOriBzcG9pbGVyXCJ9IHsuLi5wcm9wc30+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+bm90X2ludGVyZXN0ZWQ8L3NwYW4+XG4gICAgPC9BY3Rpb24+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluc2VydFNwb2lsZXIoc2VsZWN0aW9uLCByZXBsYWNlKSB7XG4gIHJlcGxhY2UoXCJcXG5cXG5bc3BvaWxlcl1cXG5cIiArIHNlbGVjdGlvbiArIFwiXFxuWy9zcG9pbGVyXVxcblxcblwiKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICB0aGlzLnByb3BzLnJlcGxhY2VTZWxlY3Rpb24odGhpcy5wcm9wcy5leGVjQWN0aW9uKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT17XCJidG4gYnRuLWljb24gXCIgKyB0aGlzLnByb3BzLmNsYXNzTmFtZX1cbiAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWR9XG4gICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cbiAgICAgICAgdGl0bGU9e3RoaXMucHJvcHMudGl0bGV9XG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgIDwvYnV0dG9uPlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQWN0aW9uIGZyb20gXCIuL2FjdGlvblwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPEFjdGlvbiBleGVjQWN0aW9uPXtpbnNlcnRDb2RlfSB0aXRsZT17XCLOlc65z4POsc6zz4nOs86uIM66z47OtM65zrrOsVwifSB7Li4ucHJvcHN9PlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmZ1bmN0aW9uczwvc3Bhbj5cbiAgICA8L0FjdGlvbj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5zZXJ0Q29kZShzZWxlY3Rpb24sIHJlcGxhY2UpIHtcbiAgY29uc3Qgc3ludGF4ID0gJC50cmltKFxuICAgIHByb21wdChcIs6VzrnPg86xzrPPic6zzq4gzr/Ovc+MzrzOsc+Ezr/PgiDPg8+Fzr3PhM6xzrrPhM65zrrOrs+CIM+Ezr/PhSDOus+OzrTOuc66zrEgKM+Az4HOv86xzrnPgc61z4TOuc66zqwpOlwiKVxuICApXG4gIHJlcGxhY2UoXCJcXG5cXG5gYGBcIiArIHN5bnRheCArIFwiXFxuXCIgKyBzZWxlY3Rpb24gKyBcIlxcbmBgYFxcblxcblwiKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQWN0aW9uIGZyb20gXCIuL2FjdGlvblwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPEFjdGlvblxuICAgICAgZXhlY0FjdGlvbj17bWFrZUVtcGhhc2lzfVxuICAgICAgdGl0bGU9e1wizqDPgc6/z4POuM6uzrrOtyDOrc68z4bOsc+DzrfPglwifVxuICAgICAgey4uLnByb3BzfVxuICAgID5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5mb3JtYXRfaXRhbGljPC9zcGFuPlxuICAgIDwvQWN0aW9uPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlRW1waGFzaXMoc2VsZWN0aW9uLCByZXBsYWNlKSB7XG4gIGlmIChzZWxlY3Rpb24ubGVuZ3RoKSB7XG4gICAgcmVwbGFjZShcIipcIiArIHNlbGVjdGlvbiArIFwiKlwiKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBBY3Rpb24gZnJvbSBcIi4vYWN0aW9uXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8QWN0aW9uXG4gICAgICBleGVjQWN0aW9uPXtpbnNlcnRIcn1cbiAgICAgIHRpdGxlPXtcIs6VzrnPg86xzrPPic6zzq4gzr/Pgc65zrbPjM69z4TOuc6/z4Ugz4fOrM+BzrHOus6xXCJ9XG4gICAgICB7Li4ucHJvcHN9XG4gICAgPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnJlbW92ZTwvc3Bhbj5cbiAgICA8L0FjdGlvbj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5zZXJ0SHIoc2VsZWN0aW9uLCByZXBsYWNlKSB7XG4gIHJlcGxhY2UoXCJcXG5cXG4tIC0gLSAtIC1cXG5cXG5cIilcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEFjdGlvbiBmcm9tIFwiLi9hY3Rpb25cIlxuaW1wb3J0IGlzVXJsIGZyb20gXCJtaXNhZ28vdXRpbHMvaXMtdXJsXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8QWN0aW9uIGV4ZWNBY3Rpb249e2luc2VydEltYWdlfSB0aXRsZT17XCLOlc65z4POsc6zz4nOs86uIM61zrnOus+Mzr3Osc+CXCJ9IHsuLi5wcm9wc30+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+aW5zZXJ0X3Bob3RvPC9zcGFuPlxuICAgIDwvQWN0aW9uPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbnNlcnRJbWFnZShzZWxlY3Rpb24sIHJlcGxhY2UpIHtcbiAgbGV0IHVybCA9IFwiXCJcbiAgbGV0IGxhYmVsID0gXCJcIlxuXG4gIGlmIChzZWxlY3Rpb24ubGVuZ3RoKSB7XG4gICAgaWYgKGlzVXJsKHNlbGVjdGlvbikpIHtcbiAgICAgIHVybCA9IHNlbGVjdGlvblxuICAgIH0gZWxzZSB7XG4gICAgICBsYWJlbCA9IHNlbGVjdGlvblxuICAgIH1cbiAgfVxuXG4gIHVybCA9ICQudHJpbShwcm9tcHQoYM6VzrnPg86xzrPPic6zzq4gz4PPhc69zrTOrc+DzrzOv8+FIM61zrnOus+Mzr3Osc+COnt1cmx9YCkpXG4gIGxhYmVsID0gJC50cmltKHByb21wdChgzpXOuc+DzrHOs8+JzrPOriDOv869z4zOvM6xz4TOv8+CIM61zrnOus+Mzr3Osc+CICjPgM+Bzr/Osc65z4HOtc+EzrnOus6sKTp7bGFiZWx9YCkpXG5cbiAgaWYgKHVybC5sZW5ndGgpIHtcbiAgICBpZiAobGFiZWwubGVuZ3RoID4gMCkge1xuICAgICAgcmVwbGFjZShcIiFbXCIgKyBsYWJlbCArIFwiXShcIiArIHVybCArIFwiKVwiKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXBsYWNlKFwiIShcIiArIHVybCArIFwiKVwiKVxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQWN0aW9uIGZyb20gXCIuL2FjdGlvblwiXG5pbXBvcnQgaXNVcmwgZnJvbSBcIm1pc2Fnby91dGlscy9pcy11cmxcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxBY3Rpb24gZXhlY0FjdGlvbj17aW5zZXJ0TGlua30gdGl0bGU9e1wizpXOuc+DzrHOs8+JzrPOriDPg8+Fzr3OtM6tz4POvM6/z4VcIn0gey4uLnByb3BzfT5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5pbnNlcnRfbGluazwvc3Bhbj5cbiAgICA8L0FjdGlvbj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5zZXJ0TGluayhzZWxlY3Rpb24sIHJlcGxhY2UpIHtcbiAgbGV0IHVybCA9IFwiXCJcbiAgbGV0IGxhYmVsID0gXCJcIlxuXG4gIGlmIChzZWxlY3Rpb24ubGVuZ3RoKSB7XG4gICAgaWYgKGlzVXJsKHNlbGVjdGlvbikpIHtcbiAgICAgIHVybCA9IHNlbGVjdGlvblxuICAgIH0gZWxzZSB7XG4gICAgICBsYWJlbCA9IHNlbGVjdGlvblxuICAgIH1cbiAgfVxuXG4gIHVybCA9ICQudHJpbShwcm9tcHQoYM6VzrnPg86xzrPPic6zzq4gzrTOuc61z43OuM+Fzr3Pg863z4Igz4PPhc69zrTOrc+DzrzOv8+FOnt1cmx9YCkgfHwgXCJcIilcbiAgaWYgKHVybC5sZW5ndGggPT09IDApIHJldHVybiBmYWxzZVxuICBsYWJlbCA9ICQudHJpbShwcm9tcHQoYM6VzrnPg86xzrPPic6zzq4gzr/Ovc+MzrzOsc+Ezr/PgiDPg8+Fzr3OtM6tz4POvM6/z4UgKM+Az4HOv86xzrnPgc61z4TOuc66zqwpOntsYWJlbH1gKSlcblxuICBpZiAodXJsLmxlbmd0aCkge1xuICAgIGlmIChsYWJlbC5sZW5ndGggPiAwKSB7XG4gICAgICByZXBsYWNlKFwiW1wiICsgbGFiZWwgKyBcIl0oXCIgKyB1cmwgKyBcIilcIilcbiAgICB9IGVsc2Uge1xuICAgICAgcmVwbGFjZSh1cmwpXG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBBY3Rpb24gZnJvbSBcIi4vYWN0aW9uXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8QWN0aW9uIGV4ZWNBY3Rpb249e2luc2VydFF1b3RlfSB0aXRsZT17XCLOlc65z4POsc6zz4nOs86uIHF1b3RlXCJ9IHsuLi5wcm9wc30+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Zm9ybWF0X3F1b3RlPC9zcGFuPlxuICAgIDwvQWN0aW9uPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbnNlcnRRdW90ZShzZWxlY3Rpb24sIHJlcGxhY2UpIHtcbiAgbGV0IHRpdGxlID0gJC50cmltKFxuICAgIHByb21wdChgzpLOrM67zrUgz4TOvyDPg8+FzrPOs8+BzrHPhs6tzrEgz4TOv8+FIHF1b3RlIM68zrUgQCDPgM+BzrnOvSDPhM6/IM+Mzr3Ov868zrEgz4fPgc6uz4PPhM63Ont0aXRsZX1gKVxuICApXG5cbiAgaWYgKHRpdGxlKSB7XG4gICAgcmVwbGFjZSgnXFxuXFxuW3F1b3RlPVwiJyArIHRpdGxlICsgJ1wiXVxcbicgKyBzZWxlY3Rpb24gKyBcIlxcblsvcXVvdGVdXFxuXFxuXCIpXG4gIH0gZWxzZSB7XG4gICAgcmVwbGFjZShcIlxcblxcbltxdW90ZV1cXG5cIiArIHNlbGVjdGlvbiArIFwiXFxuWy9xdW90ZV1cXG5cXG5cIilcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQWN0aW9uIGZyb20gXCIuL2FjdGlvblwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPEFjdGlvblxuICAgICAgZXhlY0FjdGlvbj17bWFrZVN0cmlrZXRocm91Z2h9XG4gICAgICB0aXRsZT17XCLOpM+BzqzOss63zrPOvM6xIM6zz4HOsc68zrzOrs+CXCJ9XG4gICAgICB7Li4ucHJvcHN9XG4gICAgPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmZvcm1hdF9zdHJpa2V0aHJvdWdoPC9zcGFuPlxuICAgIDwvQWN0aW9uPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlU3RyaWtldGhyb3VnaChzZWxlY3Rpb24sIHJlcGxhY2UpIHtcbiAgaWYgKHNlbGVjdGlvbi5sZW5ndGgpIHtcbiAgICByZXBsYWNlKFwifn5cIiArIHNlbGVjdGlvbiArIFwifn5cIilcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQWN0aW9uIGZyb20gXCIuL2FjdGlvblwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPEFjdGlvblxuICAgICAgZXhlY0FjdGlvbj17bWFrZVN0cm9uZ31cbiAgICAgIHRpdGxlPXtcIs6Izr3PhM6/zr3OtyDOs8+BzrHOvM68zrHPhM6/z4POtc65z4HOrFwifVxuICAgICAgey4uLnByb3BzfVxuICAgID5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5mb3JtYXRfYm9sZDwvc3Bhbj5cbiAgICA8L0FjdGlvbj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFrZVN0cm9uZyhzZWxlY3Rpb24sIHJlcGxhY2UpIHtcbiAgaWYgKHNlbGVjdGlvbi5sZW5ndGgpIHtcbiAgICByZXBsYWNlKFwiKipcIiArIHNlbGVjdGlvbiArIFwiKipcIilcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ29cIlxuaW1wb3J0IGVzY2FwZUh0bWwgZnJvbSBcIm1pc2Fnby91dGlscy9lc2NhcGUtaHRtbFwiXG5pbXBvcnQgZm9ybWF0RmlsZXNpemUgZnJvbSBcIm1pc2Fnby91dGlscy9maWxlLXNpemVcIlxuXG5jb25zdCBEQVRFX0FCQlIgPSAnPGFiYnIgdGl0bGU9XCIlKGFic29sdXRlKXNcIj4lKHJlbGF0aXZlKXM8L2FiYnI+J1xuY29uc3QgVVNFUl9TUEFOID0gJzxzcGFuIGNsYXNzPVwiaXRlbS10aXRsZVwiPiUodXNlcilzPC9zcGFuPidcbmNvbnN0IFVTRVJfVVJMID0gJzxhIGhyZWY9XCIlKHVybClzXCIgY2xhc3M9XCJpdGVtLXRpdGxlXCI+JSh1c2VyKXM8L2E+J1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uSW5zZXJ0ID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMucmVwbGFjZVNlbGVjdGlvbih0aGlzLmluc2VydEF0dGFjaG1lbnQpXG4gIH1cblxuICBpbnNlcnRBdHRhY2htZW50ID0gKHNlbGVjdGlvbiwgcmVwbGFjZSkgPT4ge1xuICAgIGNvbnN0IGl0ZW0gPSB0aGlzLnByb3BzLml0ZW1cblxuICAgIGlmIChpdGVtLmlzX2ltYWdlKSB7XG4gICAgICBpZiAoaXRlbS51cmwudGh1bWIpIHtcbiAgICAgICAgcmVwbGFjZShcbiAgICAgICAgICBcIlshW1wiICtcbiAgICAgICAgICAgIGl0ZW0uZmlsZW5hbWUgK1xuICAgICAgICAgICAgXCJdKFwiICtcbiAgICAgICAgICAgIGl0ZW0udXJsLnRodW1iICtcbiAgICAgICAgICAgIFwiKV0oXCIgK1xuICAgICAgICAgICAgaXRlbS51cmwuaW5kZXggK1xuICAgICAgICAgICAgXCIpXCJcbiAgICAgICAgKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVwbGFjZShcbiAgICAgICAgICBcIlshW1wiICtcbiAgICAgICAgICAgIGl0ZW0uZmlsZW5hbWUgK1xuICAgICAgICAgICAgXCJdKFwiICtcbiAgICAgICAgICAgIGl0ZW0udXJsLmluZGV4ICtcbiAgICAgICAgICAgIFwiKV0oXCIgK1xuICAgICAgICAgICAgaXRlbS51cmwuaW5kZXggK1xuICAgICAgICAgICAgXCIpXCJcbiAgICAgICAgKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXBsYWNlKFwiW1wiICsgaXRlbS5maWxlbmFtZSArIFwiXShcIiArIGl0ZW0udXJsLmluZGV4ICsgXCIpXCIpXG4gICAgfVxuICB9XG5cbiAgb25SZW1vdmUgPSAoKSA9PiB7XG4gICAgdGhpcy51cGRhdGVJdGVtKHtcbiAgICAgIGlzUmVtb3ZlZDogdHJ1ZVxuICAgIH0pXG4gIH1cblxuICBvblVuZG8gPSAoKSA9PiB7XG4gICAgdGhpcy51cGRhdGVJdGVtKHtcbiAgICAgIGlzUmVtb3ZlZDogZmFsc2VcbiAgICB9KVxuICB9XG5cbiAgdXBkYXRlSXRlbSA9IG5ld1N0YXRlID0+IHtcbiAgICBjb25zdCB1cGRhdGVkQXR0YWNobWVudHMgPSB0aGlzLnByb3BzLmF0dGFjaG1lbnRzLm1hcChpdGVtID0+IHtcbiAgICAgIGlmIChpdGVtLmlkID09PSB0aGlzLnByb3BzLml0ZW0uaWQpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGl0ZW0sIG5ld1N0YXRlKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGl0ZW1cbiAgICAgIH1cbiAgICB9KVxuICAgIHRoaXMucHJvcHMub25BdHRhY2htZW50c0NoYW5nZSh1cGRhdGVkQXR0YWNobWVudHMpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9XCJlZGl0b3ItYXR0YWNobWVudC1jb21wbGV0ZVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyIGNvbC1zbS04IGNvbC1tZC05XCI+XG4gICAgICAgICAgICA8UHJldmlldyB7Li4udGhpcy5wcm9wc30gLz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZWRpdG9yLWF0dGFjaG1lbnQtZGV0YWlsc1wiPlxuICAgICAgICAgICAgICA8RmlsZW5hbWUgey4uLnRoaXMucHJvcHN9IC8+XG4gICAgICAgICAgICAgIDxEZXRhaWxzIHsuLi50aGlzLnByb3BzfSAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgY29sLXNtLTQgY29sLW1kLTMgeHMtbWFyZ2luLXRvcC1oYWxmXCI+XG4gICAgICAgICAgICA8QWN0aW9uc1xuICAgICAgICAgICAgICBvbkluc2VydD17dGhpcy5vbkluc2VydH1cbiAgICAgICAgICAgICAgb25SZW1vdmU9e3RoaXMub25SZW1vdmV9XG4gICAgICAgICAgICAgIG9uVW5kbz17dGhpcy5vblVuZG99XG4gICAgICAgICAgICAgIHsuLi50aGlzLnByb3BzfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUHJldmlldyhwcm9wcykge1xuICBpZiAocHJvcHMuaXRlbS5pc19pbWFnZSkge1xuICAgIHJldHVybiA8SW1hZ2Ugey4uLnByb3BzfSAvPlxuICB9IGVsc2Uge1xuICAgIHJldHVybiA8SWNvbiB7Li4ucHJvcHN9IC8+XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEltYWdlKHByb3BzKSB7XG4gIGNvbnN0IHRodW1ibmFpbFVybCA9IHByb3BzLml0ZW0udXJsLnRodW1iIHx8IHByb3BzLml0ZW0udXJsLmluZGV4XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImVkaXRvci1hdHRhY2htZW50LWltYWdlXCI+XG4gICAgICA8YVxuICAgICAgICBocmVmPXtwcm9wcy5pdGVtLnVybC5pbmRleCArIFwiP3NodmE9MVwifVxuICAgICAgICBzdHlsZT17eyBiYWNrZ3JvdW5kSW1hZ2U6IFwidXJsKCdcIiArIHRodW1ibmFpbFVybCArIFwiP3NodmE9MScpXCIgfX1cbiAgICAgICAgdGFyZ2V0PVwiX2JsYW5rXCJcbiAgICAgIC8+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEljb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImVkaXRvci1hdHRhY2htZW50LWljb25cIj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5pbnNlcnRfZHJpdmVfZmlsZTwvc3Bhbj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gRmlsZW5hbWUocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8aDQ+XG4gICAgICA8YVxuICAgICAgICBjbGFzc05hbWU9XCJpdGVtLXRpdGxlXCJcbiAgICAgICAgaHJlZj17cHJvcHMuaXRlbS51cmwuaW5kZXggKyBcIj9zaHZhPTFcIn1cbiAgICAgICAgdGFyZ2V0PVwiX2JsYW5rXCJcbiAgICAgID5cbiAgICAgICAge3Byb3BzLml0ZW0uZmlsZW5hbWV9XG4gICAgICA8L2E+XG4gICAgPC9oND5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gRGV0YWlscyhwcm9wcykge1xuICBsZXQgdXNlciA9IG51bGxcbiAgaWYgKHByb3BzLml0ZW0udXJsLnVwbG9hZGVyKSB7XG4gICAgdXNlciA9IGludGVycG9sYXRlKFxuICAgICAgVVNFUl9VUkwsXG4gICAgICB7XG4gICAgICAgIHVybDogZXNjYXBlSHRtbChwcm9wcy5pdGVtLnVybC51cGxvYWRlciksXG4gICAgICAgIHVzZXI6IGVzY2FwZUh0bWwocHJvcHMuaXRlbS51cGxvYWRlcl9uYW1lKVxuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG4gIH0gZWxzZSB7XG4gICAgdXNlciA9IGludGVycG9sYXRlKFxuICAgICAgVVNFUl9TUEFOLFxuICAgICAge1xuICAgICAgICB1c2VyOiBlc2NhcGVIdG1sKHByb3BzLml0ZW0udXBsb2FkZXJfbmFtZSlcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuICB9XG5cbiAgY29uc3QgZGF0ZSA9IGludGVycG9sYXRlKFxuICAgIERBVEVfQUJCUixcbiAgICB7XG4gICAgICBhYnNvbHV0ZTogZXNjYXBlSHRtbChwcm9wcy5pdGVtLnVwbG9hZGVkX29uLmZvcm1hdChcIkxMTFwiKSksXG4gICAgICByZWxhdGl2ZTogZXNjYXBlSHRtbChwcm9wcy5pdGVtLnVwbG9hZGVkX29uLmZyb21Ob3coKSlcbiAgICB9LFxuICAgIHRydWVcbiAgKVxuXG4gIGNvbnN0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShcbiAgICBlc2NhcGVIdG1sKFxuICAgICAgXCIlKGZpbGV0eXBlKXMsICUoc2l6ZSlzLCDOsc69zrXOss6sz4PPhM63zrrOtSDOsc+Az4wgJSh1cGxvYWRlcilzICUodXBsb2FkZWRfb24pc1wiXG4gICAgKSxcbiAgICB7XG4gICAgICBmaWxldHlwZTogcHJvcHMuaXRlbS5maWxldHlwZSxcbiAgICAgIHNpemU6IGZvcm1hdEZpbGVzaXplKHByb3BzLml0ZW0uc2l6ZSksXG4gICAgICB1cGxvYWRlcjogdXNlcixcbiAgICAgIHVwbG9hZGVkX29uOiBkYXRlXG4gICAgfSxcbiAgICB0cnVlXG4gIClcblxuICByZXR1cm4gPHAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiBtZXNzYWdlIH19IC8+XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBBY3Rpb25zKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJlZGl0b3ItYXR0YWNobWVudC1hY3Rpb25zXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICA8SW5zZXJ0IHsuLi5wcm9wc30gLz5cbiAgICAgICAgPFJlbW92ZSB7Li4ucHJvcHN9IC8+XG4gICAgICAgIDxVbmRvIHsuLi5wcm9wc30gLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBJbnNlcnQocHJvcHMpIHtcbiAgaWYgKCEhcHJvcHMuaXRlbS5pc1JlbW92ZWQpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy02XCI+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tc20gYnRuLWJsb2NrXCJcbiAgICAgICAgb25DbGljaz17cHJvcHMub25JbnNlcnR9XG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICB7XCLOlc65z4POsc6zz4nOs86uXCJ9XG4gICAgICA8L2J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUmVtb3ZlKHByb3BzKSB7XG4gIGlmICghIXByb3BzLml0ZW0uaXNSZW1vdmVkICYmIHByb3BzLml0ZW0uYWNsLmNhbl9kZWxldGUpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy02XCI+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tc20gYnRuLWJsb2NrXCJcbiAgICAgICAgb25DbGljaz17cHJvcHMub25SZW1vdmV9XG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICB7XCLOkc+GzrHOr8+BzrXPg863XCJ9XG4gICAgICA8L2J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gVW5kbyhwcm9wcykge1xuICBpZiAoIXByb3BzLml0ZW0uaXNSZW1vdmVkKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTJcIj5cbiAgICAgIDxidXR0b25cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBidG4tYmxvY2tcIlxuICAgICAgICBvbkNsaWNrPXtwcm9wcy5vblVuZG99XG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICB7XCLOkc66z43Pgc+Jz4POtyDOsc+GzrHOr8+BzrXPg863z4JcIn1cbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBlc2NhcGVIdG1sIGZyb20gXCJtaXNhZ28vdXRpbHMvZXNjYXBlLWh0bWxcIlxuXG5jb25zdCBTVFJPTkcgPSBcIjxzdHJvbmc+JShuYW1lKXM8L3N0cm9uZz5cIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgY29uc3QgZmlsdGVyZWRBdHRhY2htZW50cyA9IHRoaXMucHJvcHMuYXR0YWNobWVudHMuZmlsdGVyKGl0ZW0gPT4ge1xuICAgICAgcmV0dXJuIGl0ZW0ua2V5ICE9PSB0aGlzLnByb3BzLml0ZW0ua2V5XG4gICAgfSlcbiAgICB0aGlzLnByb3BzLm9uQXR0YWNobWVudHNDaGFuZ2UoZmlsdGVyZWRBdHRhY2htZW50cylcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBmaWxlbmFtZSA9IGludGVycG9sYXRlKFxuICAgICAgU1RST05HLFxuICAgICAge1xuICAgICAgICBuYW1lOiBlc2NhcGVIdG1sKHRoaXMucHJvcHMuaXRlbS5maWxlbmFtZSlcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuXG4gICAgY29uc3QgdGl0bGUgPSBpbnRlcnBvbGF0ZShcbiAgICAgIFwizpvOrM64zr/PgiDPg8+Ezr8gzrHOvc6tzrLOsc+DzrzOsSAlKGZpbGVuYW1lKXNcIixcbiAgICAgIHtcbiAgICAgICAgZmlsZW5hbWUsXG4gICAgICAgIHByb2dyZXNzOiB0aGlzLnByb3BzLml0ZW0ucHJvZ3Jlc3MgKyBcIiVcIlxuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpIGNsYXNzTmFtZT1cImVkaXRvci1hdHRhY2htZW50LWVycm9yXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZWRpdG9yLWF0dGFjaG1lbnQtZXJyb3ItaWNvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj53YXJuaW5nPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJlZGl0b3ItYXR0YWNobWVudC1lcnJvci1tZXNzYWdlXCI+XG4gICAgICAgICAgPGg0IGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogdGl0bGUgKyBcIjpcIiB9fSAvPlxuICAgICAgICAgIDxwPnt0aGlzLnByb3BzLml0ZW0uZXJyb3J9PC9wPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tc21cIlxuICAgICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAge1wizp/OmlwifVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBBdHRhY2htZW50Q29tcGxldGUgZnJvbSBcIi4vY29tcGxldGVcIlxuaW1wb3J0IEF0dGFjaG1lbnRFcnJvciBmcm9tIFwiLi9lcnJvclwiXG5pbXBvcnQgQXR0YWNobWVudFVwbG9hZCBmcm9tIFwiLi91cGxvYWRcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvXCJcbmltcG9ydCBlc2NhcGVIdG1sIGZyb20gXCJtaXNhZ28vdXRpbHMvZXNjYXBlLWh0bWxcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBpZiAocHJvcHMuaXRlbS5pZCkge1xuICAgIHJldHVybiA8QXR0YWNobWVudENvbXBsZXRlIHsuLi5wcm9wc30gLz5cbiAgfVxuXG4gIGlmIChwcm9wcy5pdGVtLmVycm9yKSB7XG4gICAgcmV0dXJuIDxBdHRhY2htZW50RXJyb3Igey4uLnByb3BzfSAvPlxuICB9XG5cbiAgcmV0dXJuIDxBdHRhY2htZW50VXBsb2FkIHsuLi5wcm9wc30gLz5cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IGVzY2FwZUh0bWwgZnJvbSBcIm1pc2Fnby91dGlscy9lc2NhcGUtaHRtbFwiXG5cbmNvbnN0IFNUUk9ORyA9IFwiPHN0cm9uZz4lKG5hbWUpczwvc3Ryb25nPlwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGNvbnN0IGZpbGVuYW1lID0gaW50ZXJwb2xhdGUoXG4gICAgU1RST05HLFxuICAgIHtcbiAgICAgIG5hbWU6IGVzY2FwZUh0bWwocHJvcHMuaXRlbS5maWxlbmFtZSlcbiAgICB9LFxuICAgIHRydWVcbiAgKVxuXG4gIGNvbnN0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShcbiAgICBcIs6Rzr3Orc6yzrHPg868zrEgJShmaWxlbmFtZSlzLi4uICUocHJvZ3Jlc3Mpc1wiLFxuICAgIHtcbiAgICAgIGZpbGVuYW1lLFxuICAgICAgcHJvZ3Jlc3M6IHByb3BzLml0ZW0ucHJvZ3Jlc3MgKyBcIiVcIlxuICAgIH0sXG4gICAgdHJ1ZVxuICApXG5cbiAgcmV0dXJuIChcbiAgICA8bGkgY2xhc3NOYW1lPVwiZWRpdG9yLWF0dGFjaG1lbnQtdXBsb2FkXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImVkaXRvci1hdHRhY2htZW50LXByb2dyZXNzLWJhclwiPlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgY2xhc3NOYW1lPVwiZWRpdG9yLWF0dGFjaG1lbnQtcHJvZ3Jlc3NcIlxuICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBwcm9wcy5pdGVtLnByb2dyZXNzICsgXCIlXCIgfX1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPHBcbiAgICAgICAgY2xhc3NOYW1lPVwiZWRpdG9yLWF0dGFjaG1lbnQtdXBsb2FkLW1lc3NhZ2VcIlxuICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IG1lc3NhZ2UgfX1cbiAgICAgIC8+XG4gICAgPC9saT5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgTGlzdCBmcm9tIFwiLi9saXN0XCJcbmltcG9ydCBVcGxvYWRlciBmcm9tIFwiLi91cGxvYWRlclwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ29cIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBpZiAoIW1pc2Fnby5nZXQoXCJ1c2VyXCIpLmFjbC5tYXhfYXR0YWNobWVudF9zaXplKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJlZGl0b3ItYXR0YWNobWVudHNcIj5cbiAgICAgIDxMaXN0IHsuLi5wcm9wc30gLz5cbiAgICAgIDxVcGxvYWRlciB7Li4ucHJvcHN9IC8+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEF0dGFjaG1lbnQgZnJvbSBcIi4vYXR0YWNobWVudFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtdW5zdHlsZWQgZWRpdG9yLWF0dGFjaG1lbnRzLWxpc3RcIj5cbiAgICAgIHtwcm9wcy5hdHRhY2htZW50cy5tYXAoaXRlbSA9PiB7XG4gICAgICAgIHJldHVybiA8QXR0YWNobWVudCBpdGVtPXtpdGVtfSBrZXk9e2l0ZW0uaWQgfHwgaXRlbS5rZXl9IHsuLi5wcm9wc30gLz5cbiAgICAgIH0pfVxuICAgIDwvdWw+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZWRpdG9yLXVwbG9hZC1maWVsZFwiKS5jbGljaygpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKCFtaXNhZ28uZ2V0KFwidXNlclwiKS5hY2wubWF4X2F0dGFjaG1lbnRfc2l6ZSkge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9e1wiYnRuIGJ0bi1pY29uIFwiICsgdGhpcy5wcm9wcy5jbGFzc05hbWV9XG4gICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkfVxuICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgIHRpdGxlPXtcIs6Rzr3Orc6yzrHPg868zrEgzrHPgc+HzrXOr86/z4VcIn1cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5maWxlX3VwbG9hZDwvc3Bhbj5cbiAgICAgIDwvYnV0dG9uPlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgbW9tZW50IGZyb20gXCJtb21lbnRcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DaGFuZ2UgPSBldmVudCA9PiB7XG4gICAgY29uc3QgZmlsZSA9IGV2ZW50LnRhcmdldC5maWxlc1swXVxuICAgIGlmICghZmlsZSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgbGV0IHVwbG9hZCA9IHtcbiAgICAgIGlkOiBudWxsLFxuICAgICAga2V5OiBnZXRSYW5kb21LZXkoKSxcbiAgICAgIHByb2dyZXNzOiAwLFxuICAgICAgZXJyb3I6IG51bGwsXG4gICAgICBmaWxlbmFtZTogZmlsZS5uYW1lXG4gICAgfVxuXG4gICAgdGhpcy5wcm9wcy5vbkF0dGFjaG1lbnRzQ2hhbmdlKFt1cGxvYWRdLmNvbmNhdCh0aGlzLnByb3BzLmF0dGFjaG1lbnRzKSlcblxuICAgIGNvbnN0IGRhdGEgPSBuZXcgRm9ybURhdGEoKVxuICAgIGRhdGEuYXBwZW5kKFwidXBsb2FkXCIsIGZpbGUpXG5cbiAgICBhamF4XG4gICAgICAudXBsb2FkKG1pc2Fnby5nZXQoXCJBVFRBQ0hNRU5UU19BUElcIiksIGRhdGEsIHByb2dyZXNzID0+IHtcbiAgICAgICAgdXBsb2FkLnByb2dyZXNzID0gcHJvZ3Jlc3NcbiAgICAgICAgdGhpcy5wcm9wcy5vbkF0dGFjaG1lbnRzQ2hhbmdlKHRoaXMucHJvcHMuYXR0YWNobWVudHMuY29uY2F0KCkpXG4gICAgICB9KVxuICAgICAgLnRoZW4oXG4gICAgICAgIGRhdGEgPT4ge1xuICAgICAgICAgIGRhdGEudXBsb2FkZWRfb24gPSBtb21lbnQoZGF0YS51cGxvYWRlZF9vbilcbiAgICAgICAgICBPYmplY3QuYXNzaWduKHVwbG9hZCwgZGF0YSlcbiAgICAgICAgICB0aGlzLnByb3BzLm9uQXR0YWNobWVudHNDaGFuZ2UodGhpcy5wcm9wcy5hdHRhY2htZW50cy5jb25jYXQoKSlcbiAgICAgICAgfSxcbiAgICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwIHx8IHJlamVjdGlvbi5zdGF0dXMgPT09IDQxMykge1xuICAgICAgICAgICAgdXBsb2FkLmVycm9yID0gcmVqZWN0aW9uLmRldGFpbFxuICAgICAgICAgICAgdGhpcy5wcm9wcy5vbkF0dGFjaG1lbnRzQ2hhbmdlKHRoaXMucHJvcHMuYXR0YWNobWVudHMuY29uY2F0KCkpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGlucHV0IGlkPVwiZWRpdG9yLXVwbG9hZC1maWVsZFwiIG9uQ2hhbmdlPXt0aGlzLm9uQ2hhbmdlfSB0eXBlPVwiZmlsZVwiIC8+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRSYW5kb21LZXkoKSB7XG4gIHJldHVybiBcInVwbGQtXCIgKyBNYXRoLnJvdW5kKG5ldyBEYXRlKCkuZ2V0VGltZSgpKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQ29kZSBmcm9tIFwiLi9hY3Rpb25zL2NvZGVcIlxuaW1wb3J0IEVtcGhhc2lzIGZyb20gXCIuL2FjdGlvbnMvZW1waGFzaXNcIlxuaW1wb3J0IEhyIGZyb20gXCIuL2FjdGlvbnMvaHJcIlxuaW1wb3J0IEltYWdlIGZyb20gXCIuL2FjdGlvbnMvaW1hZ2VcIlxuaW1wb3J0IExpbmsgZnJvbSBcIi4vYWN0aW9ucy9saW5rXCJcbmltcG9ydCBTcG9pbGVyIGZyb20gXCIuL2FjdGlvbnMvU3BvaWxlclwiXG5pbXBvcnQgU3RyaWtldGhyb3VnaCBmcm9tIFwiLi9hY3Rpb25zL3N0cmlrZXRocm91Z2hcIlxuaW1wb3J0IFN0cm9uZyBmcm9tIFwiLi9hY3Rpb25zL3N0cm9uZ1wiXG5pbXBvcnQgUXVvdGUgZnJvbSBcIi4vYWN0aW9ucy9xdW90ZVwiXG5pbXBvcnQgQXR0YWNobWVudHNFZGl0b3IgZnJvbSBcIi4vYXR0YWNobWVudHNcIlxuaW1wb3J0IFVwbG9hZCBmcm9tIFwiLi9hdHRhY2htZW50cy91cGxvYWQtYnV0dG9uXCJcbmltcG9ydCBNYXJrdXBQcmV2aWV3IGZyb20gXCIuL21hcmt1cC1wcmV2aWV3XCJcbmltcG9ydCAqIGFzIHRleHRVdGlscyBmcm9tIFwiLi90ZXh0dXRpbHNcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uXCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnb1wiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IG1vZGFsIGZyb20gXCJtaXNhZ28vc2VydmljZXMvbW9kYWxcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNQcmV2aWV3TG9hZGluZzogZmFsc2VcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAkKFwiI2VkaXRvci10ZXh0YXJlYVwiKS5hdHdobyh7XG4gICAgICBhdDogXCJAXCIsXG4gICAgICBkaXNwbGF5VHBsOiAnPGxpPjxpbWcgc3JjPVwiJHthdmF0YXJ9XCIgYWx0PVwiXCI+JHt1c2VybmFtZX08L2xpPicsXG4gICAgICBpbnNlcnRUcGw6IFwiQCR7dXNlcm5hbWV9XCIsXG4gICAgICBzZWFyY2hLZXk6IFwidXNlcm5hbWVcIixcbiAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICByZW1vdGVGaWx0ZXI6IGZ1bmN0aW9uKHF1ZXJ5LCBjYWxsYmFjaykge1xuICAgICAgICAgICQuZ2V0SlNPTihtaXNhZ28uZ2V0KFwiTUVOVElPTl9BUElcIiksIHsgcTogcXVlcnkgfSwgY2FsbGJhY2spXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuXG4gICAgJChcIiNlZGl0b3ItdGV4dGFyZWFcIikub24oXCJpbnNlcnRlZC5hdHdob1wiLCAoZXZlbnQsIGZsYWcsIHF1ZXJ5KSA9PiB7XG4gICAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKGV2ZW50KVxuICAgIH0pXG4gIH1cblxuICBvblByZXZpZXdDbGljayA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5zdGF0ZS5pc1ByZXZpZXdMb2FkaW5nKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzUHJldmlld0xvYWRpbmc6IHRydWVcbiAgICB9KVxuXG4gICAgYWpheC5wb3N0KG1pc2Fnby5nZXQoXCJQQVJTRV9NQVJLVVBfQVBJXCIpLCB7IHBvc3Q6IHRoaXMucHJvcHMudmFsdWUgfSkudGhlbihcbiAgICAgIGRhdGEgPT4ge1xuICAgICAgICBtb2RhbC5zaG93KDxNYXJrdXBQcmV2aWV3IG1hcmt1cD17ZGF0YS5wYXJzZWR9IC8+KVxuXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGlzUHJldmlld0xvYWRpbmc6IGZhbHNlXG4gICAgICAgIH0pXG4gICAgICB9LFxuICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWwpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXNQcmV2aWV3TG9hZGluZzogZmFsc2VcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICApXG4gIH1cblxuICByZXBsYWNlU2VsZWN0aW9uID0gb3BlcmF0aW9uID0+IHtcbiAgICBvcGVyYXRpb24odGV4dFV0aWxzLmdldFNlbGVjdGlvblRleHQoKSwgdGhpcy5fcmVwbGFjZVNlbGVjdGlvbilcbiAgfVxuXG4gIF9yZXBsYWNlU2VsZWN0aW9uID0gbmV3VmFsdWUgPT4ge1xuICAgIHRoaXMucHJvcHMub25DaGFuZ2Uoe1xuICAgICAgdGFyZ2V0OiB7XG4gICAgICAgIHZhbHVlOiB0ZXh0VXRpbHMucmVwbGFjZShuZXdWYWx1ZSlcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImVkaXRvci1ib3JkZXJcIj5cbiAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICB2YWx1ZT17dGhpcy5wcm9wcy52YWx1ZX1cbiAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5sb2FkaW5nfVxuICAgICAgICAgIGlkPVwiZWRpdG9yLXRleHRhcmVhXCJcbiAgICAgICAgICBvbkNoYW5nZT17dGhpcy5wcm9wcy5vbkNoYW5nZX1cbiAgICAgICAgICByb3dzPVwiOVwiXG4gICAgICAgIC8+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZWRpdG9yLWZvb3RlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0dG9ucy1saXN0IHB1bGwtbGVmdFwiPlxuICAgICAgICAgICAgPFN0cm9uZ1xuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tZGVmYXVsdCBidG4tc20gcHVsbC1sZWZ0XCJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMubG9hZGluZyB8fCB0aGlzLnN0YXRlLmlzUHJldmlld0xvYWRpbmd9XG4gICAgICAgICAgICAgIHJlcGxhY2VTZWxlY3Rpb249e3RoaXMucmVwbGFjZVNlbGVjdGlvbn1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8RW1waGFzaXNcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtbGVmdFwiXG4gICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmxvYWRpbmcgfHwgdGhpcy5zdGF0ZS5pc1ByZXZpZXdMb2FkaW5nfVxuICAgICAgICAgICAgICByZXBsYWNlU2VsZWN0aW9uPXt0aGlzLnJlcGxhY2VTZWxlY3Rpb259XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPFN0cmlrZXRocm91Z2hcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtbGVmdFwiXG4gICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmxvYWRpbmcgfHwgdGhpcy5zdGF0ZS5pc1ByZXZpZXdMb2FkaW5nfVxuICAgICAgICAgICAgICByZXBsYWNlU2VsZWN0aW9uPXt0aGlzLnJlcGxhY2VTZWxlY3Rpb259XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPEhyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLWxlZnRcIlxuICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5sb2FkaW5nIHx8IHRoaXMuc3RhdGUuaXNQcmV2aWV3TG9hZGluZ31cbiAgICAgICAgICAgICAgcmVwbGFjZVNlbGVjdGlvbj17dGhpcy5yZXBsYWNlU2VsZWN0aW9ufVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxMaW5rXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLWxlZnRcIlxuICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5sb2FkaW5nIHx8IHRoaXMuc3RhdGUuaXNQcmV2aWV3TG9hZGluZ31cbiAgICAgICAgICAgICAgcmVwbGFjZVNlbGVjdGlvbj17dGhpcy5yZXBsYWNlU2VsZWN0aW9ufVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxJbWFnZVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tZGVmYXVsdCBidG4tc20gcHVsbC1sZWZ0XCJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMubG9hZGluZyB8fCB0aGlzLnN0YXRlLmlzUHJldmlld0xvYWRpbmd9XG4gICAgICAgICAgICAgIHJlcGxhY2VTZWxlY3Rpb249e3RoaXMucmVwbGFjZVNlbGVjdGlvbn1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8UXVvdGVcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtbGVmdFwiXG4gICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmxvYWRpbmcgfHwgdGhpcy5zdGF0ZS5pc1ByZXZpZXdMb2FkaW5nfVxuICAgICAgICAgICAgICByZXBsYWNlU2VsZWN0aW9uPXt0aGlzLnJlcGxhY2VTZWxlY3Rpb259XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPFNwb2lsZXJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtbGVmdFwiXG4gICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmxvYWRpbmcgfHwgdGhpcy5zdGF0ZS5pc1ByZXZpZXdMb2FkaW5nfVxuICAgICAgICAgICAgICByZXBsYWNlU2VsZWN0aW9uPXt0aGlzLnJlcGxhY2VTZWxlY3Rpb259XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPENvZGVcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtbGVmdFwiXG4gICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmxvYWRpbmcgfHwgdGhpcy5zdGF0ZS5pc1ByZXZpZXdMb2FkaW5nfVxuICAgICAgICAgICAgICByZXBsYWNlU2VsZWN0aW9uPXt0aGlzLnJlcGxhY2VTZWxlY3Rpb259XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPFVwbG9hZFxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tZGVmYXVsdCBidG4tc20gcHVsbC1sZWZ0XCJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMubG9hZGluZyB8fCB0aGlzLnN0YXRlLmlzUHJldmlld0xvYWRpbmd9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLWxlZnRcIlxuICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMubG9hZGluZyB8fCB0aGlzLnN0YXRlLmlzUHJldmlld0xvYWRpbmd9XG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uUHJldmlld0NsaWNrfVxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAge1wizqDPgc6/zrXPgM65z4POus+Mz4DOt8+DzrdcIn1cbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tcHJpbWFyeSBidG4tc20gcHVsbC1yaWdodFwiXG4gICAgICAgICAgICBsb2FkaW5nPXt0aGlzLnByb3BzLmxvYWRpbmd9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge3RoaXMucHJvcHMuc3VibWl0TGFiZWwgfHwgXCLOlM63zrzOv8+Dzq/Otc+Fz4POt1wifVxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tc20gcHVsbC1yaWdodFwiXG4gICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5sb2FkaW5nfVxuICAgICAgICAgICAgb25DbGljaz17dGhpcy5wcm9wcy5vbkNhbmNlbH1cbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtcIs6RzrrPjc+Bz4nPg863XCJ9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjbGVhcmZpeCB2aXNpYmxlLXhzLWJsb2NrXCIgLz5cbiAgICAgICAgICA8UHJvdGVjdFxuICAgICAgICAgICAgY2FuUHJvdGVjdD17dGhpcy5wcm9wcy5jYW5Qcm90ZWN0fVxuICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMubG9hZGluZ31cbiAgICAgICAgICAgIG9uUHJvdGVjdD17dGhpcy5wcm9wcy5vblByb3RlY3R9XG4gICAgICAgICAgICBvblVucHJvdGVjdD17dGhpcy5wcm9wcy5vblVucHJvdGVjdH1cbiAgICAgICAgICAgIHByb3RlY3Q9e3RoaXMucHJvcHMucHJvdGVjdH1cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPEF0dGFjaG1lbnRzRWRpdG9yXG4gICAgICAgICAgYXR0YWNobWVudHM9e3RoaXMucHJvcHMuYXR0YWNobWVudHN9XG4gICAgICAgICAgb25BdHRhY2htZW50c0NoYW5nZT17dGhpcy5wcm9wcy5vbkF0dGFjaG1lbnRzQ2hhbmdlfVxuICAgICAgICAgIHBsYWNlaG9sZGVyPXt0aGlzLnByb3BzLnBsYWNlaG9sZGVyfVxuICAgICAgICAgIHJlcGxhY2VTZWxlY3Rpb249e3RoaXMucmVwbGFjZVNlbGVjdGlvbn1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUHJvdGVjdChwcm9wcykge1xuICBpZiAoIXByb3BzLmNhblByb3RlY3QpIHJldHVybiBudWxsXG5cbiAgY29uc3QgbGFiZWwgPSBwcm9wcy5wcm90ZWN0ID8gXCLOms67zrXOuc60z4nOvM6tzr3Ot1wiIDogXCLOms67zrXOr860z4nOvM6xXCJcblxuICByZXR1cm4gKFxuICAgIDxidXR0b25cbiAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4taWNvbiBidG4tZGVmYXVsdCBidG4tcHJvdGVjdCBidG4tc20gcHVsbC1yaWdodFwiXG4gICAgICBkaXNhYmxlZD17cHJvcHMuZGlzYWJsZWR9XG4gICAgICBvbkNsaWNrPXtwcm9wcy5wcm90ZWN0ID8gcHJvcHMub25VbnByb3RlY3QgOiBwcm9wcy5vblByb3RlY3R9XG4gICAgICB0aXRsZT17bGFiZWx9XG4gICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICA+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIHtwcm9wcy5wcm90ZWN0ID8gXCJsb2NrXCIgOiBcImxvY2tfb3V0bGluZVwifVxuICAgICAgPC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYnRuLXRleHQgaGlkZGVuLW1kIGhpZGRlbi1sZ1wiPntsYWJlbH08L3NwYW4+XG4gICAgPC9idXR0b24+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IE1pc2Fnb01hcmt1cCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvbWlzYWdvLW1hcmt1cFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2dcIiByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGFyaWEtbGFiZWw9e1wizprOu861zq/Pg865zrzOv1wifVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2xvc2VcIlxuICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57XCLOoM+Bzr/Otc+AzrnPg866z4zPgM63z4POtyDOvM63zr3Pjc68zrHPhM6/z4JcIn08L2g0PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5IG1hcmt1cC1wcmV2aWV3XCI+XG4gICAgICAgICAgPE1pc2Fnb01hcmt1cCBtYXJrdXA9e3Byb3BzLm1hcmt1cH0gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiZXhwb3J0IGNvbnN0IHRleHRhcmVhSWQgPSBcImVkaXRvci10ZXh0YXJlYVwiXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUZXh0YXJlYSgpIHtcbiAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRleHRhcmVhSWQpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRWYWx1ZSgpIHtcbiAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRleHRhcmVhSWQpLnZhbHVlXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTZWxlY3Rpb25SYW5nZShzdGFydCwgZW5kKSB7XG4gIHJldHVybiB7XG4gICAgc3RhcnQsXG4gICAgZW5kXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNlbGVjdGlvbigpIHtcbiAgY29uc3QgY3RybCA9IGdldFRleHRhcmVhKClcbiAgaWYgKGRvY3VtZW50LnNlbGVjdGlvbikge1xuICAgIGN0cmwuZm9jdXMoKVxuICAgIGNvbnN0IHJhbmdlID0gZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKClcbiAgICBjb25zdCBsZW5ndGggPSByYW5nZS50ZXh0Lmxlbmd0aFxuICAgIHJhbmdlLm1vdmVTdGFydChcImNoYXJhY3RlclwiLCAtY3RybC52YWx1ZS5sZW5ndGgpXG4gICAgcmV0dXJuIGdldFNlbGVjdGlvblJhbmdlKHJhbmdlLnRleHQubGVuZ3RoIC0gbGVuZ3RoLCByYW5nZS50ZXh0Lmxlbmd0aClcbiAgfSBlbHNlIGlmIChjdHJsLnNlbGVjdGlvblN0YXJ0IHx8IGN0cmwuc2VsZWN0aW9uU3RhcnQgPT0gXCIwXCIpIHtcbiAgICByZXR1cm4gZ2V0U2VsZWN0aW9uUmFuZ2UoY3RybC5zZWxlY3Rpb25TdGFydCwgY3RybC5zZWxlY3Rpb25FbmQpXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNlbGVjdGlvblRleHQoKSB7XG4gIGNvbnN0IHJhbmdlID0gZ2V0U2VsZWN0aW9uKClcbiAgcmV0dXJuICQudHJpbShnZXRWYWx1ZSgpLnN1YnN0cmluZyhyYW5nZS5zdGFydCwgcmFuZ2UuZW5kKSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldFNlbGVjdGlvbihzZWxlY3Rpb25SYW5nZSkge1xuICBjb25zdCBjdHJsID0gZ2V0VGV4dGFyZWEoKVxuICBpZiAoY3RybC5zZXRTZWxlY3Rpb25SYW5nZSkge1xuICAgIGN0cmwuZm9jdXMoKVxuICAgIGN0cmwuc2V0U2VsZWN0aW9uUmFuZ2Uoc2VsZWN0aW9uUmFuZ2Uuc3RhcnQsIHNlbGVjdGlvblJhbmdlLmVuZClcbiAgfSBlbHNlIGlmIChjdHJsLmNyZWF0ZVRleHRSYW5nZSkge1xuICAgIGNvbnN0IHJhbmdlID0gY3RybC5jcmVhdGVUZXh0UmFuZ2UoKVxuICAgIHJhbmdlLmNvbGxhcHNlKHRydWUpXG4gICAgcmFuZ2UubW92ZVN0YXJ0KFwiY2hhcmFjdGVyXCIsIHNlbGVjdGlvblJhbmdlLnN0YXJ0KVxuICAgIHJhbmdlLm1vdmVFbmQoXCJjaGFyYWN0ZXJcIiwgc2VsZWN0aW9uUmFuZ2UuZW5kKVxuICAgIHJhbmdlLnNlbGVjdCgpXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9yZXBsYWNlKG15UmFuZ2UsIHJlcGxhY2VtZW50KSB7XG4gIGNvbnN0IGN0cmwgPSBnZXRUZXh0YXJlYSgpXG4gIGNvbnN0IHRleHQgPSBjdHJsLnZhbHVlXG4gIGNvbnN0IHN0YXJ0VGV4dCA9IHRleHQuc3Vic3RyaW5nKDAsIG15UmFuZ2Uuc3RhcnQpXG4gIGN0cmwudmFsdWUgPVxuICAgIHRleHQuc3Vic3RyaW5nKDAsIG15UmFuZ2Uuc3RhcnQpICsgcmVwbGFjZW1lbnQgKyB0ZXh0LnN1YnN0cmluZyhteVJhbmdlLmVuZClcbiAgc2V0U2VsZWN0aW9uKFxuICAgIGdldFNlbGVjdGlvblJhbmdlKFxuICAgICAgc3RhcnRUZXh0Lmxlbmd0aCArIHJlcGxhY2VtZW50Lmxlbmd0aCxcbiAgICAgIHN0YXJ0VGV4dC5sZW5ndGggKyByZXBsYWNlbWVudC5sZW5ndGhcbiAgICApXG4gIClcbiAgcmV0dXJuIGN0cmwudmFsdWVcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlcGxhY2UocmVwbGFjZW1lbnQpIHtcbiAgcmV0dXJuIF9yZXBsYWNlKGdldFNlbGVjdGlvbigpLCByZXBsYWNlbWVudClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGlzVmFsaWRhdGVkKCkge1xuICAgIHJldHVybiB0eXBlb2YgdGhpcy5wcm9wcy52YWxpZGF0aW9uICE9PSBcInVuZGVmaW5lZFwiXG4gIH1cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgbGV0IGNsYXNzTmFtZSA9IFwiZm9ybS1ncm91cFwiXG4gICAgaWYgKHRoaXMuaXNWYWxpZGF0ZWQoKSkge1xuICAgICAgY2xhc3NOYW1lICs9IFwiIGhhcy1mZWVkYmFja1wiXG4gICAgICBpZiAodGhpcy5wcm9wcy52YWxpZGF0aW9uID09PSBudWxsKSB7XG4gICAgICAgIGNsYXNzTmFtZSArPSBcIiBoYXMtc3VjY2Vzc1wiXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjbGFzc05hbWUgKz0gXCIgaGFzLWVycm9yXCJcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNsYXNzTmFtZVxuICB9XG5cbiAgZ2V0RmVlZGJhY2soKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudmFsaWRhdGlvbikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoZWxwLWJsb2NrIGVycm9yc1wiPlxuICAgICAgICAgIHt0aGlzLnByb3BzLnZhbGlkYXRpb24ubWFwKChlcnJvciwgaSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIDxwIGtleT17dGhpcy5wcm9wcy5mb3IgKyBcIkZlZWRiYWNrSXRlbVwiICsgaX0+e2Vycm9yfTwvcD5cbiAgICAgICAgICB9KX1cbiAgICAgICAgPC9kaXY+XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG5cbiAgZ2V0RmVlZGJhY2tEZXNjcmlwdGlvbigpIHtcbiAgICBpZiAodGhpcy5pc1ZhbGlkYXRlZCgpKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8c3BhbiBpZD17dGhpcy5wcm9wcy5mb3IgKyBcIl9zdGF0dXNcIn0gY2xhc3NOYW1lPVwic3Itb25seVwiPlxuICAgICAgICAgIHt0aGlzLnByb3BzLnZhbGlkYXRpb24gPyBcIijOu86szrjOv8+CKVwiIDogXCIozrXPgM65z4TPhc+Hzq/OsSlcIn1cbiAgICAgICAgPC9zcGFuPlxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIGdldEhlbHBUZXh0KCkge1xuICAgIGlmICh0aGlzLnByb3BzLmhlbHBUZXh0KSB7XG4gICAgICByZXR1cm4gPHAgY2xhc3NOYW1lPVwiaGVscC1ibG9ja1wiPnt0aGlzLnByb3BzLmhlbHBUZXh0fTwvcD5cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfT5cbiAgICAgICAgPGxhYmVsXG4gICAgICAgICAgY2xhc3NOYW1lPXtcImNvbnRyb2wtbGFiZWwgXCIgKyAodGhpcy5wcm9wcy5sYWJlbENsYXNzIHx8IFwiXCIpfVxuICAgICAgICAgIGh0bWxGb3I9e3RoaXMucHJvcHMuZm9yIHx8IFwiXCJ9XG4gICAgICAgID5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5sYWJlbCArIFwiOlwifVxuICAgICAgICA8L2xhYmVsPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17dGhpcy5wcm9wcy5jb250cm9sQ2xhc3MgfHwgXCJcIn0+XG4gICAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XG4gICAgICAgICAge3RoaXMuZ2V0RmVlZGJhY2tEZXNjcmlwdGlvbigpfVxuICAgICAgICAgIHt0aGlzLmdldEZlZWRiYWNrKCl9XG4gICAgICAgICAge3RoaXMuZ2V0SGVscFRleHQoKX1cbiAgICAgICAgICB7dGhpcy5wcm9wcy5leHRyYSB8fCBudWxsfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyByZXF1aXJlZCB9IGZyb20gXCJtaXNhZ28vdXRpbHMvdmFsaWRhdG9yc1wiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5cbmxldCB2YWxpZGF0ZVJlcXVpcmVkID0gcmVxdWlyZWQoKVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHZhbGlkYXRlKCkge1xuICAgIGxldCBlcnJvcnMgPSB7fVxuICAgIGlmICghdGhpcy5zdGF0ZS52YWxpZGF0b3JzKSB7XG4gICAgICByZXR1cm4gZXJyb3JzXG4gICAgfVxuXG4gICAgbGV0IHZhbGlkYXRvcnMgPSB7XG4gICAgICByZXF1aXJlZDogdGhpcy5zdGF0ZS52YWxpZGF0b3JzLnJlcXVpcmVkIHx8IHRoaXMuc3RhdGUudmFsaWRhdG9ycyxcbiAgICAgIG9wdGlvbmFsOiB0aGlzLnN0YXRlLnZhbGlkYXRvcnMub3B0aW9uYWwgfHwge31cbiAgICB9XG5cbiAgICBsZXQgdmFsaWRhdGVkRmllbGRzID0gW11cblxuICAgIC8vIGFkZCByZXF1aXJlZCBmaWVsZHMgdG8gdmFsaWRhdGlvblxuICAgIGZvciAobGV0IG5hbWUgaW4gdmFsaWRhdG9ycy5yZXF1aXJlZCkge1xuICAgICAgaWYgKFxuICAgICAgICB2YWxpZGF0b3JzLnJlcXVpcmVkLmhhc093blByb3BlcnR5KG5hbWUpICYmXG4gICAgICAgIHZhbGlkYXRvcnMucmVxdWlyZWRbbmFtZV1cbiAgICAgICkge1xuICAgICAgICB2YWxpZGF0ZWRGaWVsZHMucHVzaChuYW1lKVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGFkZCBvcHRpb25hbCBmaWVsZHMgdG8gdmFsaWRhdGlvblxuICAgIGZvciAobGV0IG5hbWUgaW4gdmFsaWRhdG9ycy5vcHRpb25hbCkge1xuICAgICAgaWYgKFxuICAgICAgICB2YWxpZGF0b3JzLm9wdGlvbmFsLmhhc093blByb3BlcnR5KG5hbWUpICYmXG4gICAgICAgIHZhbGlkYXRvcnMub3B0aW9uYWxbbmFtZV1cbiAgICAgICkge1xuICAgICAgICB2YWxpZGF0ZWRGaWVsZHMucHVzaChuYW1lKVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIHZhbGlkYXRlIGZpZWxkcyB2YWx1ZXNcbiAgICBmb3IgKGxldCBpIGluIHZhbGlkYXRlZEZpZWxkcykge1xuICAgICAgbGV0IG5hbWUgPSB2YWxpZGF0ZWRGaWVsZHNbaV1cbiAgICAgIGxldCBmaWVsZEVycm9ycyA9IHRoaXMudmFsaWRhdGVGaWVsZChuYW1lLCB0aGlzLnN0YXRlW25hbWVdKVxuXG4gICAgICBpZiAoZmllbGRFcnJvcnMgPT09IG51bGwpIHtcbiAgICAgICAgZXJyb3JzW25hbWVdID0gbnVsbFxuICAgICAgfSBlbHNlIGlmIChmaWVsZEVycm9ycykge1xuICAgICAgICBlcnJvcnNbbmFtZV0gPSBmaWVsZEVycm9yc1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBlcnJvcnNcbiAgfVxuXG4gIGlzVmFsaWQoKSB7XG4gICAgbGV0IGVycm9ycyA9IHRoaXMudmFsaWRhdGUoKVxuICAgIGZvciAobGV0IGZpZWxkIGluIGVycm9ycykge1xuICAgICAgaWYgKGVycm9ycy5oYXNPd25Qcm9wZXJ0eShmaWVsZCkpIHtcbiAgICAgICAgaWYgKGVycm9yc1tmaWVsZF0gIT09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICB2YWxpZGF0ZUZpZWxkKG5hbWUsIHZhbHVlKSB7XG4gICAgbGV0IGVycm9ycyA9IFtdXG4gICAgaWYgKCF0aGlzLnN0YXRlLnZhbGlkYXRvcnMpIHtcbiAgICAgIHJldHVybiBlcnJvcnNcbiAgICB9XG5cbiAgICBsZXQgdmFsaWRhdG9ycyA9IHtcbiAgICAgIHJlcXVpcmVkOiAodGhpcy5zdGF0ZS52YWxpZGF0b3JzLnJlcXVpcmVkIHx8IHRoaXMuc3RhdGUudmFsaWRhdG9ycylbbmFtZV0sXG4gICAgICBvcHRpb25hbDogKHRoaXMuc3RhdGUudmFsaWRhdG9ycy5vcHRpb25hbCB8fCB7fSlbbmFtZV1cbiAgICB9XG5cbiAgICBsZXQgcmVxdWlyZWRFcnJvciA9IHZhbGlkYXRlUmVxdWlyZWQodmFsdWUpIHx8IGZhbHNlXG5cbiAgICBpZiAodmFsaWRhdG9ycy5yZXF1aXJlZCkge1xuICAgICAgaWYgKHJlcXVpcmVkRXJyb3IpIHtcbiAgICAgICAgZXJyb3JzID0gW3JlcXVpcmVkRXJyb3JdXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKGxldCBpIGluIHZhbGlkYXRvcnMucmVxdWlyZWQpIHtcbiAgICAgICAgICBsZXQgdmFsaWRhdGlvbkVycm9yID0gdmFsaWRhdG9ycy5yZXF1aXJlZFtpXSh2YWx1ZSlcbiAgICAgICAgICBpZiAodmFsaWRhdGlvbkVycm9yKSB7XG4gICAgICAgICAgICBlcnJvcnMucHVzaCh2YWxpZGF0aW9uRXJyb3IpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBlcnJvcnMubGVuZ3RoID8gZXJyb3JzIDogbnVsbFxuICAgIH0gZWxzZSBpZiAocmVxdWlyZWRFcnJvciA9PT0gZmFsc2UgJiYgdmFsaWRhdG9ycy5vcHRpb25hbCkge1xuICAgICAgZm9yIChsZXQgaSBpbiB2YWxpZGF0b3JzLm9wdGlvbmFsKSB7XG4gICAgICAgIGxldCB2YWxpZGF0aW9uRXJyb3IgPSB2YWxpZGF0b3JzLm9wdGlvbmFsW2ldKHZhbHVlKVxuICAgICAgICBpZiAodmFsaWRhdGlvbkVycm9yKSB7XG4gICAgICAgICAgZXJyb3JzLnB1c2godmFsaWRhdGlvbkVycm9yKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBlcnJvcnMubGVuZ3RoID8gZXJyb3JzIDogbnVsbFxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZSAvLyBmYWxzZSA9PT0gZmllbGQgd2Fzbid0IHZhbGlkYXRlZFxuICB9XG5cbiAgYmluZElucHV0ID0gbmFtZSA9PiB7XG4gICAgcmV0dXJuIGV2ZW50ID0+IHtcbiAgICAgIHRoaXMuY2hhbmdlVmFsdWUobmFtZSwgZXZlbnQudGFyZ2V0LnZhbHVlKVxuICAgIH1cbiAgfVxuXG4gIGNoYW5nZVZhbHVlID0gKG5hbWUsIHZhbHVlKSA9PiB7XG4gICAgbGV0IG5ld1N0YXRlID0ge1xuICAgICAgW25hbWVdOiB2YWx1ZVxuICAgIH1cblxuICAgIGNvbnN0IGZvcm1FcnJvcnMgPSB0aGlzLnN0YXRlLmVycm9ycyB8fCB7fVxuICAgIGZvcm1FcnJvcnNbbmFtZV0gPSB0aGlzLnZhbGlkYXRlRmllbGQobmFtZSwgbmV3U3RhdGVbbmFtZV0pXG4gICAgbmV3U3RhdGUuZXJyb3JzID0gZm9ybUVycm9yc1xuXG4gICAgdGhpcy5zZXRTdGF0ZShuZXdTdGF0ZSlcbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKHN1Y2Nlc3MpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgfVxuXG4gIGhhbmRsZVN1Ym1pdCA9IGV2ZW50ID0+IHtcbiAgICAvLyB3ZSBkb24ndCByZWxvYWQgcGFnZSBvbiBzdWJtaXNzaW9uc1xuICAgIGlmIChldmVudCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIH1cblxuICAgIGlmICh0aGlzLnN0YXRlLmlzTG9hZGluZykge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY2xlYW4oKSkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzTG9hZGluZzogdHJ1ZSB9KVxuICAgICAgbGV0IHByb21pc2UgPSB0aGlzLnNlbmQoKVxuXG4gICAgICBpZiAocHJvbWlzZSkge1xuICAgICAgICBwcm9taXNlLnRoZW4oXG4gICAgICAgICAgc3VjY2VzcyA9PiB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNMb2FkaW5nOiBmYWxzZSB9KVxuICAgICAgICAgICAgdGhpcy5oYW5kbGVTdWNjZXNzKHN1Y2Nlc3MpXG4gICAgICAgICAgfSxcbiAgICAgICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzTG9hZGluZzogZmFsc2UgfSlcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlRXJyb3IocmVqZWN0aW9uKVxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzTG9hZGluZzogZmFsc2UgfSlcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGlzQWN0aXZlKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmlzQ29udHJvbGxlZCkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuaXNBY3RpdmVcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHRoaXMucHJvcHMucGF0aCkge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQubG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZih0aGlzLnByb3BzLnBhdGgpID09PSAwXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMuaXNBY3RpdmUoKSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgKHRoaXMucHJvcHMuY2xhc3NOYW1lIHx8IFwiXCIpICtcbiAgICAgICAgXCIgXCIgK1xuICAgICAgICAodGhpcy5wcm9wcy5hY3RpdmVDbGFzc05hbWUgfHwgXCJhY3RpdmVcIilcbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuY2xhc3NOYW1lIHx8IFwiXCJcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIDxsaSBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9Pnt0aGlzLnByb3BzLmNoaWxkcmVufTwvbGk+XG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtwcm9wcy5jbGFzc05hbWUgfHwgXCJsb2FkZXJcIn0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImxvYWRlci1zcGlubmluZy13aGVlbFwiIC8+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwiLi9idXR0b25cIlxuaW1wb3J0IEZvcm0gZnJvbSBcIi4vZm9ybVwiXG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gXCIuL2Zvcm0tZ3JvdXBcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBtb2RhbCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL21vZGFsXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuXG4gICAgICBiZXN0QW5zd2VyOiBcIjBcIixcbiAgICAgIHBvbGw6IFwiMFwiXG4gICAgfVxuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucG9sbHMgJiYgdGhpcy5zdGF0ZS5wb2xsID09PSBcIjBcIikge1xuICAgICAgY29uc3QgY29uZmlybWF0aW9uID0gY29uZmlybShcbiAgICAgICAgXCLOlc6vz4POsc65IM+Dzq/Os86/z4XPgc6/z4Igz4zPhM65IM64zrXPgiDOvc6xIM60zrnOsc6zz4HOrM+IzrXOuc+CIM+MzrvOtc+CIM+EzrnPgiDPgM+Bzr/Pg8+Gzr/Pgc6tz4I7XCJcbiAgICAgIClcbiAgICAgIHJldHVybiBjb25maXJtYXRpb25cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICBjb25zdCBkYXRhID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5wcm9wcy5kYXRhLCB7XG4gICAgICBiZXN0X2Fuc3dlcjogdGhpcy5zdGF0ZS5iZXN0QW5zd2VyLFxuICAgICAgcG9sbDogdGhpcy5zdGF0ZS5wb2xsXG4gICAgfSlcblxuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy5hcGksIGRhdGEpXG4gIH1cblxuICBoYW5kbGVTdWNjZXNzID0gc3VjY2VzcyA9PiB7XG4gICAgdGhpcy5wcm9wcy5vblN1Y2Nlc3Moc3VjY2VzcylcbiAgICBtb2RhbC5oaWRlKClcbiAgfVxuXG4gIGhhbmRsZUVycm9yID0gcmVqZWN0aW9uID0+IHtcbiAgICB0aGlzLnByb3BzLm9uRXJyb3IocmVqZWN0aW9uKVxuICB9XG5cbiAgb25CZXN0QW5zd2VyQ2hhbmdlID0gZXZlbnQgPT4ge1xuICAgIHRoaXMuY2hhbmdlVmFsdWUoXCJiZXN0QW5zd2VyXCIsIGV2ZW50LnRhcmdldC52YWx1ZSlcbiAgfVxuXG4gIG9uUG9sbENoYW5nZSA9IGV2ZW50ID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKFwicG9sbFwiLCBldmVudC50YXJnZXQudmFsdWUpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nXCIgcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIGFyaWEtbGFiZWw9e1wizprOu861zq/Pg865zrzOv1wifVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjbG9zZVwiXG4gICAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntcIs6jz4XOs8+Hz47Ovc61z4XPg863IM61z4HOs86xz4POuc+Ozr1cIn08L2g0PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgICAgICAgICAgPEJlc3RBbnN3ZXJTZWxlY3RcbiAgICAgICAgICAgICAgICBjaG9pY2VzPXt0aGlzLnByb3BzLmJlc3RBbnN3ZXJzfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQmVzdEFuc3dlckNoYW5nZX1cbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5iZXN0QW5zd2VyfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8UG9sbFNlbGVjdFxuICAgICAgICAgICAgICAgIGNob2ljZXM9e3RoaXMucHJvcHMucG9sbHN9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25Qb2xsQ2hhbmdlfVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnBvbGx9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZm9vdGVyXCI+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIlxuICAgICAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7XCLOkc66z43Pgc+Jz4POt1wifVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4tcHJpbWFyeVwiIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfT5cbiAgICAgICAgICAgICAgICB7XCLOo8+FzrPPh8+Ozr3Otc+Fz4POtyDOtc+BzrPOsc+DzrnPjs69XCJ9XG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9mb3JtPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gQmVzdEFuc3dlclNlbGVjdCh7IGNob2ljZXMsIG9uQ2hhbmdlLCB2YWx1ZSB9KSB7XG4gIGlmICghY2hvaWNlcykgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxGb3JtR3JvdXBcbiAgICAgIGxhYmVsPXtcIs6azrHOu8+Nz4TOtc+Bzrcgz4DPgc6/z4PPhs6/z4HOrFwifVxuICAgICAgaGVscFRleHQ9e1wizpXPgM6tzrvOtc6+zrUgz4TOt869IM66zrHOu8+Nz4TOtc+Bzrcgz4DPgc6/z4PPhs6/z4HOrCDOs865zrEgz4TOt869IM66zrHOuc69zr/Pjc+BzrnOsSDPg8+FzrPPh8+Jzr3Otc+FzrzOrc69zrcgzrXPgc6zzrHPg86vzrEuIM6UzrUgzrjOsSDPh86sz4POtc65z4IgzrrOsc68zq/OsSDPgM+Bzr/Pg8+Gzr/Pgc6sLlwifVxuICAgICAgZm9yPVwiaWRfYmVzdF9hbnN3ZXJcIlxuICAgID5cbiAgICAgIDxzZWxlY3RcbiAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgaWQ9XCJpZF9iZXN0X2Fuc3dlclwiXG4gICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZX1cbiAgICAgICAgdmFsdWU9e3ZhbHVlfVxuICAgICAgPlxuICAgICAgICB7Y2hvaWNlcy5tYXAoY2hvaWNlID0+IHtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT17Y2hvaWNlWzBdfSBrZXk9e2Nob2ljZVswXX0+XG4gICAgICAgICAgICAgIHtjaG9pY2VbMV19XG4gICAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgICApXG4gICAgICAgIH0pfVxuICAgICAgPC9zZWxlY3Q+XG4gICAgPC9Gb3JtR3JvdXA+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBvbGxTZWxlY3QoeyBjaG9pY2VzLCBvbkNoYW5nZSwgdmFsdWUgfSkge1xuICBpZiAoIWNob2ljZXMpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8Rm9ybUdyb3VwXG4gICAgICBsYWJlbD17XCLOoM+Bzr/Pg8+Gzr/Pgc6sXCJ9XG4gICAgICBoZWxwVGV4dCA9IHtcIs6Vz4DOrc67zrXOvs61IM+EzrfOvSDOus6xzrvPjc+EzrXPgc63IM+Az4HOv8+Dz4bOv8+BzqwgzrPOuc6xIM+EzrfOvSDOus6xzrnOvc6/z43Pgc65zrEgz4PPhc6zz4fPic69zrXPhc68zq3Ovc63IM61z4HOs86xz4POr86xLiDOn865IM+Fz4DPjM67zr/Ouc+AzrXPgiDPgM+Bzr/Pg8+Gzr/Pgc6tz4IgzrjOsSDOtM65zrHOs8+BzrHPhs6/z43OvS5cIn1cbiAgICAgIGZvcj1cImlkX3BvbGxcIlxuICAgID5cbiAgICAgIDxzZWxlY3RcbiAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgaWQ9XCJpZF9wb2xsXCJcbiAgICAgICAgb25DaGFuZ2U9e29uQ2hhbmdlfVxuICAgICAgICB2YWx1ZT17dmFsdWV9XG4gICAgICA+XG4gICAgICAgIHtjaG9pY2VzLm1hcChjaG9pY2UgPT4ge1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPXtjaG9pY2VbMF19IGtleT17Y2hvaWNlWzBdfT5cbiAgICAgICAgICAgICAge2Nob2ljZVsxXX1cbiAgICAgICAgICAgIDwvb3B0aW9uPlxuICAgICAgICAgIClcbiAgICAgICAgfSl9XG4gICAgICA8L3NlbGVjdD5cbiAgICA8L0Zvcm1Hcm91cD5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgb25lYm94IGZyb20gXCJtaXNhZ28vc2VydmljZXMvb25lLWJveFwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgb25lYm94LnJlbmRlcih0aGlzLmRvY3VtZW50Tm9kZSlcbiAgICAkKHRoaXMuZG9jdW1lbnROb2RlKS5maW5kKFwiLnNwb2lsZXItcmV2ZWFsXCIpLmNsaWNrKHJldmVhbFNwb2lsZXIpXG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICBvbmVib3gucmVuZGVyKHRoaXMuZG9jdW1lbnROb2RlKVxuICAgICQodGhpcy5kb2N1bWVudE5vZGUpLmZpbmQoXCIuc3BvaWxlci1yZXZlYWxcIikuY2xpY2socmV2ZWFsU3BvaWxlcilcbiAgfVxuXG4gIHNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHMsIG5leHRTdGF0ZSkge1xuICAgIHJldHVybiBuZXh0UHJvcHMubWFya3VwICE9PSB0aGlzLnByb3BzLm1hcmt1cFxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8YXJ0aWNsZVxuICAgICAgICBjbGFzc05hbWU9XCJtaXNhZ28tbWFya3VwXCJcbiAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiB0aGlzLnByb3BzLm1hcmt1cCB9fVxuICAgICAgICByZWY9e25vZGUgPT4ge1xuICAgICAgICAgIHRoaXMuZG9jdW1lbnROb2RlID0gbm9kZVxuICAgICAgICB9fVxuICAgICAgLz5cbiAgICApXG4gIH1cbn1cblxuZnVuY3Rpb24gcmV2ZWFsU3BvaWxlcihldmVudCkge1xuICB2YXIgYnRuID0gZXZlbnQudGFyZ2V0XG4gICQoYnRuKS5wYXJlbnQoKS5wYXJlbnQoKS5hZGRDbGFzcyhcInJldmVhbGVkXCIpXG59IiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgTG9hZGVyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9sb2FkZXJcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5IG1vZGFsLWxvYWRlclwiPlxuICAgICAgICA8TG9hZGVyIC8+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IFBhbmVsTWVzc2FnZSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvcGFuZWwtbWVzc2FnZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUGFuZWxNZXNzYWdlIHtcbiAgZ2V0SGVscFRleHQoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuaGVscFRleHQpIHtcbiAgICAgIHJldHVybiA8cCBjbGFzc05hbWU9XCJoZWxwLWJsb2NrXCI+e3RoaXMucHJvcHMuaGVscFRleHR9PC9wPlxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAge3RoaXMucHJvcHMuaWNvbiB8fCBcImluZm9fb3V0bGluZVwifVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1ib2R5XCI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPnt0aGlzLnByb3BzLm1lc3NhZ2V9PC9wPlxuICAgICAgICAgIHt0aGlzLmdldEhlbHBUZXh0KCl9XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtcIs6fzppcIn1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImNvbnN0IE1BWF9SRVNVTFRTID0gNVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihkYXRhKSB7XG4gIGNvbnN0IGZpbHRlcmVkID0gZGF0YS5maWx0ZXIoc2VjdGlvbiA9PiB7XG4gICAgcmV0dXJuIHNlY3Rpb24ucmVzdWx0cy5jb3VudCA+IDBcbiAgfSlcblxuICByZXR1cm4gZmlsdGVyZWQubWFwKHNlY3Rpb24gPT4ge1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzZWN0aW9uLCB7XG4gICAgICBjb3VudDogc2VjdGlvbi5yZXN1bHRzLmNvdW50LFxuICAgICAgcmVzdWx0czogc2VjdGlvbi5yZXN1bHRzLnJlc3VsdHMuc2xpY2UoMCwgTUFYX1JFU1VMVFMpXG4gICAgfSlcbiAgfSlcbn1cbiIsImV4cG9ydCBjb25zdCBIRUFERVIgPSBcIkhFQURFUlwiXG5leHBvcnQgY29uc3QgUkVTVUxUID0gXCJSRVNVTFRcIlxuZXhwb3J0IGNvbnN0IEZPT1RFUiA9IFwiRk9PVEVSXCJcbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IElucHV0IGZyb20gXCIuL2lucHV0XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBjaGlsZHJlbiwgb25DaGFuZ2UsIHF1ZXJ5IH0pIHtcbiAgcmV0dXJuIChcbiAgICA8dWwgY2xhc3NOYW1lPVwiZHJvcGRvd24tbWVudSBkcm9wZG93bi1zZWFyY2gtcmVzdWx0c1wiIHJvbGU9XCJtZW51XCI+XG4gICAgICA8bGkgY2xhc3NOYW1lPVwiZm9ybS1ncm91cFwiPlxuICAgICAgICA8SW5wdXQgdmFsdWU9e3F1ZXJ5fSBvbkNoYW5nZT17b25DaGFuZ2V9IC8+XG4gICAgICA8L2xpPlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvdWw+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChcbiAgICA8bGkgY2xhc3NOYW1lPVwiZHJvcGRvd24tc2VhcmNoLW1lc3NhZ2VcIj5cbiAgICAgIHtcIs6XIM6xzr3Osc62zq7PhM63z4POtyDOtM61zr0gzrXPgM6tz4PPhM+BzrXPiM61IM66zrHOvc6tzr3OsSDOsc+Azr/PhM6tzrvOtc+DzrzOsS4uLlwifVxuICAgIDwvbGk+XG4gIClcbn1cbiIsImltcG9ydCB7IEhFQURFUiwgUkVTVUxULCBGT09URVIgfSBmcm9tIFwiLi9jb25zdGFudHNcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihyZXN1bHRzKSB7XG4gIGNvbnN0IGZsYXRsaXN0ID0gW11cbiAgZmxhdHRlblByb3ZpZGVycyhyZXN1bHRzLCBmbGF0bGlzdClcbiAgcmV0dXJuIGZsYXRsaXN0XG59XG5cbmZ1bmN0aW9uIGZsYXR0ZW5Qcm92aWRlcnMocmVzdWx0cywgZmxhdGxpc3QpIHtcbiAgY29uc3QgYXJyYXlMZW5ndGggPSByZXN1bHRzLmxlbmd0aFxuICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5TGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBwcm92aWRlciA9IHJlc3VsdHNbaV1cblxuICAgIGZsYXRsaXN0LnB1c2goe1xuICAgICAgcHJvdmlkZXIsXG4gICAgICB0eXBlOiBIRUFERVJcbiAgICB9KVxuXG4gICAgZmxhdHRlblByb3ZpZGVyKHByb3ZpZGVyLCBmbGF0bGlzdClcbiAgfVxufVxuXG5mdW5jdGlvbiBmbGF0dGVuUHJvdmlkZXIocHJvdmlkZXIsIGZsYXRsaXN0KSB7XG4gIGNvbnN0IGFycmF5TGVuZ3RoID0gcHJvdmlkZXIucmVzdWx0cy5sZW5ndGhcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheUxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gcHJvdmlkZXIucmVzdWx0c1tpXVxuICAgIGZsYXRsaXN0LnB1c2goe1xuICAgICAgcHJvdmlkZXIsXG4gICAgICByZXN1bHQsXG4gICAgICB0eXBlOiBSRVNVTFRcbiAgICB9KVxuICB9XG5cbiAgZmxhdGxpc3QucHVzaCh7XG4gICAgcHJvdmlkZXIsXG4gICAgdHlwZTogRk9PVEVSXG4gIH0pXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IFJFU1VMVCB9IGZyb20gXCIuL2NvbnN0YW50c1wiXG5pbXBvcnQgRHJvcGRvd25NZW51IGZyb20gXCIuL2Ryb3Bkb3duLW1lbnVcIlxuaW1wb3J0IEVtcHR5IGZyb20gXCIuL2VtcHR5XCJcbmltcG9ydCBMb2FkZXIgZnJvbSBcIi4vbG9hZGVyXCJcbmltcG9ydCBSZXN1bHQgZnJvbSBcIi4vcmVzdWx0XCJcbmltcG9ydCBmbGF0dGVuUmVzdWx0cyBmcm9tIFwiLi9mbGF0dGVuLXJlc3VsdHNcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGlzTG9hZGluZywgb25DaGFuZ2UsIHJlc3VsdHMsIHF1ZXJ5IH0pIHtcbiAgaWYgKCFxdWVyeS50cmltKCkubGVuZ3RoKSB7XG4gICAgcmV0dXJuIDxEcm9wZG93bk1lbnUgb25DaGFuZ2U9e29uQ2hhbmdlfSBxdWVyeT17cXVlcnl9IC8+XG4gIH1cblxuICBpZiAocmVzdWx0cy5sZW5ndGgpIHtcbiAgICBjb25zdCBmbGF0UmVzdWx0cyA9IGZsYXR0ZW5SZXN1bHRzKHJlc3VsdHMpXG5cbiAgICByZXR1cm4gKFxuICAgICAgPERyb3Bkb3duTWVudSBvbkNoYW5nZT17b25DaGFuZ2V9IHF1ZXJ5PXtxdWVyeX0+XG4gICAgICAgIHtmbGF0UmVzdWx0cy5tYXAocHJvcHMgPT4ge1xuICAgICAgICAgIGNvbnN0IHsgdHlwZSwgcHJvdmlkZXIsIHJlc3VsdCB9ID0gcHJvcHNcblxuICAgICAgICAgIGlmICh0eXBlID09PSBSRVNVTFQpIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxSZXN1bHRcbiAgICAgICAgICAgICAgICBrZXk9e1twcm92aWRlci5pZCwgdHlwZSwgcmVzdWx0LmlkXS5qb2luKFwiX1wiKX1cbiAgICAgICAgICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxSZXN1bHRcbiAgICAgICAgICAgICAga2V5PXtbcHJvdmlkZXIuaWQsIHR5cGVdLmpvaW4oXCJfXCIpfVxuICAgICAgICAgICAgICBxdWVyeT17cXVlcnl9XG4gICAgICAgICAgICAgIHsuLi5wcm9wc31cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKVxuICAgICAgICB9KX1cbiAgICAgIDwvRHJvcGRvd25NZW51PlxuICAgIClcbiAgfSBlbHNlIGlmIChpc0xvYWRpbmcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPERyb3Bkb3duTWVudSBvbkNoYW5nZT17b25DaGFuZ2V9IHF1ZXJ5PXtxdWVyeX0+XG4gICAgICAgIDxMb2FkZXIgLz5cbiAgICAgIDwvRHJvcGRvd25NZW51PlxuICAgIClcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPERyb3Bkb3duTWVudSBvbkNoYW5nZT17b25DaGFuZ2V9IHF1ZXJ5PXtxdWVyeX0+XG4gICAgICA8RW1wdHkgLz5cbiAgICA8L0Ryb3Bkb3duTWVudT5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgdmFsdWUsIG9uQ2hhbmdlIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8aW5wdXRcbiAgICAgIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCJcbiAgICAgIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiXG4gICAgICBhcmlhLWNvbnRyb2xzPVwiZHJvcGRvd24tbWVudSBkcm9wZG93bi1zZWFyY2gtcmVzdWx0c1wiXG4gICAgICBhdXRvQ29tcGxldGU9XCJvZmZcIlxuICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgIHZhbHVlPXt2YWx1ZX1cbiAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZX1cbiAgICAgIHBsYWNlaG9sZGVyPXtcIs6Rzr3Osc62zq7PhM63z4POt1wifVxuICAgICAgcm9sZT1cImNvbWJvYm94XCJcbiAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAvPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBMb2FkZXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2xvYWRlclwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgbWVzc2FnZSB9KSB7XG4gIHJldHVybiAoXG4gICAgPGxpIGNsYXNzTmFtZT1cImRyb3Bkb3duLXNlYXJjaC1sb2FkZXJcIj5cbiAgICAgIDxMb2FkZXIgLz5cbiAgICA8L2xpPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBwcm92aWRlciwgcXVlcnkgfSkge1xuICBjb25zdCB1cmwgPSBwcm92aWRlci51cmwgKyBcIj9xPVwiICsgZW5jb2RlVVJJKHF1ZXJ5KVxuICBsZXQgbGFiZWwgPSAnzpTOtc+CIM6/zrvPjM66zrvOt8+Bzrcgz4TOtyDPg861zrvOr860zrEgzrHPgM6/z4TOtc67zrXPg868zqzPhM+Jzr0gz4TOv8+FIM+Hz4HOrs+Dz4TOtyBcIiUocHJvdmlkZXIpc1wiIM68zrUgJShjb3VudClzIM6xz4DOv8+EzrXOu86tz4POvM6xz4TOsSdcbiAgaWYgKHByb3ZpZGVyLmNvdW50ID09PSAxKSB7XG4gICAgbGFiZWwgPSAnzpTOtc+CIM6/zrvPjM66zrvOt8+Bzrcgz4TOtyDPg861zrvOr860zrEgzrHPgM6/z4TOtc67zrXPg868zqzPhM+Jzr0gz4TOv8+FIM+Hz4HOrs+Dz4TOtyBcIiUocHJvdmlkZXIpc1wiIM68zrUgJShjb3VudClzIM6xz4DOv8+Ezq3Ou861z4POvM6xJ1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8bGkgY2xhc3NOYW1lPVwiZHJvcGRvd24tc2VhcmNoLWZvb3RlclwiPlxuICAgICAgPGEgaHJlZj17dXJsfT5cbiAgICAgICAge2ludGVycG9sYXRlKFxuICAgICAgICAgIGxhYmVsLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNvdW50OiBwcm92aWRlci5jb3VudCxcbiAgICAgICAgICAgIHByb3ZpZGVyOiBwcm92aWRlci5uYW1lXG4gICAgICAgICAgfSxcbiAgICAgICAgICB0cnVlXG4gICAgICAgICl9XG4gICAgICA8L2E+XG4gICAgPC9saT5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgcHJvdmlkZXIgfSkge1xuICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cImRyb3Bkb3duLXNlYXJjaC1oZWFkZXJcIj57cHJvdmlkZXIubmFtZX08L2xpPlxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyBIRUFERVIsIEZPT1RFUiB9IGZyb20gXCIuLi9jb25zdGFudHNcIlxuaW1wb3J0IEZvb3RlciBmcm9tIFwiLi9mb290ZXJcIlxuaW1wb3J0IEhlYWRlciBmcm9tIFwiLi9oZWFkZXJcIlxuaW1wb3J0IFJlc3VsdCBmcm9tIFwiLi9yZXN1bHRcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IHByb3ZpZGVyLCByZXN1bHQsIHR5cGUsIHF1ZXJ5IH0pIHtcbiAgaWYgKHR5cGUgPT09IEhFQURFUikge1xuICAgIHJldHVybiA8SGVhZGVyIHByb3ZpZGVyPXtwcm92aWRlcn0gLz5cbiAgfSBlbHNlIGlmICh0eXBlID09PSBGT09URVIpIHtcbiAgICByZXR1cm4gPEZvb3RlciBwcm92aWRlcj17cHJvdmlkZXJ9IHF1ZXJ5PXtxdWVyeX0gLz5cbiAgfVxuXG4gIHJldHVybiA8UmVzdWx0IHByb3ZpZGVyPXtwcm92aWRlcn0gcmVzdWx0PXtyZXN1bHR9IC8+XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBUaHJlYWQgZnJvbSBcIi4vdGhyZWFkXCJcbmltcG9ydCBVc2VyIGZyb20gXCIuL3VzZXJcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IHByb3ZpZGVyLCByZXN1bHQgfSkge1xuICBpZiAocHJvdmlkZXIuaWQgPT09IFwidGhyZWFkc1wiKSB7XG4gICAgcmV0dXJuIDxUaHJlYWQgcmVzdWx0PXtyZXN1bHR9IC8+XG4gIH1cblxuICByZXR1cm4gPFVzZXIgcmVzdWx0PXtyZXN1bHR9IC8+XG59XG4iLCJpbXBvcnQgbW9tZW50IGZyb20gXCJtb21lbnRcIlxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgcmVzdWx0IH0pIHtcbiAgY29uc3QgeyBwb3N0ZXIsIHRocmVhZCB9ID0gcmVzdWx0XG4gIGNvbnN0IGZvb3RlciA9IFxuICAgIFwizpTOt868zr/Pg865zrXPjc64zrfOus61IM6xz4DPjCAlKHBvc3RlcilzIM+Dz4TOuc+CICUocG9zdGVkX29uKXMgz4POtSAlKGNhdGVnb3J5KXNcIlxuXG4gIHJldHVybiAoXG4gICAgPGxpPlxuICAgICAgPGEgaHJlZj17cmVzdWx0LnVybC5pbmRleH0gY2xhc3NOYW1lPVwiZHJvcGRvd24tc2VhcmNoLXRocmVhZFwiPlxuICAgICAgICA8aDU+e3RocmVhZC50aXRsZX08L2g1PlxuICAgICAgICA8c21hbGwgY2xhc3NOYW1lPVwiZHJvcGRvd24tc2VhcmNoLXBvc3QtY29udGVudFwiPlxuICAgICAgICAgIHskKHJlc3VsdC5jb250ZW50KS50ZXh0KCl9XG4gICAgICAgIDwvc21hbGw+XG4gICAgICAgIDxzbWFsbCBjbGFzc05hbWU9XCJkcm9wZG93bi1zZWFyY2gtcG9zdC1mb290ZXJcIj5cbiAgICAgICAgICB7aW50ZXJwb2xhdGUoXG4gICAgICAgICAgICBmb290ZXIsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGNhdGVnb3J5OiByZXN1bHQuY2F0ZWdvcnkubmFtZSxcbiAgICAgICAgICAgICAgcG9zdGVkX29uOiBtb21lbnQocmVzdWx0LnBvc3RlZF9vbikuZm9ybWF0KFwiTExcIiksXG4gICAgICAgICAgICAgIHBvc3RlcjogcmVzdWx0LnBvc3Rlcl9uYW1lXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICl9XG4gICAgICAgIDwvc21hbGw+XG4gICAgICA8L2E+XG4gICAgPC9saT5cbiAgKVxufVxuIiwiaW1wb3J0IG1vbWVudCBmcm9tIFwibW9tZW50XCJcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEF2YXRhciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyByZXN1bHQgfSkge1xuICBjb25zdCB7IHJhbmsgfSA9IHJlc3VsdFxuXG4gIGNvbnN0IGRldGFpbCA9IFwiJSh0aXRsZSlzLCDOrc6zzrnOvc61IM68zq3Ou86/z4IgJShqb2luZWRfb24pc1wiXG4gIGNvbnN0IHRpdGxlID0gcmVzdWx0LnRpdGxlIHx8IHJhbmsudGl0bGUgfHwgcmFuay5uYW1lXG5cbiAgcmV0dXJuIChcbiAgICA8bGk+XG4gICAgICA8YSBocmVmPXtyZXN1bHQudXJsfSBjbGFzc05hbWU9XCJkcm9wZG93bi1zZWFyY2gtdXNlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1sZWZ0XCI+XG4gICAgICAgICAgICA8QXZhdGFyIHNpemU9ezM4fSB1c2VyPXtyZXN1bHR9IC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1ib2R5XCI+XG4gICAgICAgICAgICA8aDUgY2xhc3NOYW1lPVwibWVkaWEtaGVhZGluZ1wiPntyZXN1bHQudXNlcm5hbWV9PC9oNT5cbiAgICAgICAgICAgIDxzbWFsbD5cbiAgICAgICAgICAgICAge2ludGVycG9sYXRlKFxuICAgICAgICAgICAgICAgIGRldGFpbCxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICB0aXRsZSxcbiAgICAgICAgICAgICAgICAgIGpvaW5lZF9vbjogbW9tZW50KHJlc3VsdC5qb2luZWRfb24pLmZvcm1hdChcIkxMXCIpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L3NtYWxsPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvYT5cbiAgICA8L2xpPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ29cIlxuaW1wb3J0IGNsZWFuUmVzdWx0cyBmcm9tIFwiLi9jbGVhbi1yZXN1bHRzXCJcbmltcG9ydCBEcm9wZG93biBmcm9tIFwiLi9kcm9wZG93blwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICBpc09wZW46IGZhbHNlLFxuICAgICAgcXVlcnk6IFwiXCIsXG4gICAgICByZXN1bHRzOiBbXVxuICAgIH1cblxuICAgIHRoaXMuaW50ZXJ2YWxJZCA9IG51bGxcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5vbkRvY3VtZW50TW91c2VEb3duKVxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMub25Fc2NhcGUpXG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMub25Eb2N1bWVudE1vdXNlRG93bilcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLm9uRXNjYXBlKVxuICB9XG5cbiAgb25Ub2dnbGUgPSBldiA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSgocHJldlN0YXRlLCBwcm9wcykgPT4ge1xuICAgICAgaWYgKCFwcmV2U3RhdGUuaXNPcGVuKSB7XG4gICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiaW5wdXRcIikuZm9jdXMoKVxuICAgICAgICB9LCAxMDApXG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7IGlzT3BlbjogIXByZXZTdGF0ZS5pc09wZW4gfVxuICAgIH0pXG4gIH1cblxuICBvbkRvY3VtZW50TW91c2VEb3duID0gZXYgPT4ge1xuICAgIGxldCBjbG9zZVJlc3VsdHMgPSB0cnVlXG4gICAgbGV0IG5vZGUgPSBldi50YXJnZXRcblxuICAgIHdoaWxlIChub2RlICE9PSBudWxsICYmIG5vZGUgIT09IGRvY3VtZW50KSB7XG4gICAgICBpZiAobm9kZSA9PT0gdGhpcy5jb250YWluZXIpIHtcbiAgICAgICAgY2xvc2VSZXN1bHRzID0gZmFsc2VcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGVcbiAgICB9XG5cbiAgICBpZiAoY2xvc2VSZXN1bHRzKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgaXNPcGVuOiBmYWxzZSB9KVxuICAgIH1cbiAgfVxuXG4gIG9uRXNjYXBlID0gZXYgPT4ge1xuICAgIGlmIChldi5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc09wZW46IGZhbHNlIH0pXG4gICAgfVxuICB9XG5cbiAgb25DaGFuZ2UgPSBldiA9PiB7XG4gICAgY29uc3QgcXVlcnkgPSBldi50YXJnZXQudmFsdWVcblxuICAgIHRoaXMuc2V0U3RhdGUoeyBxdWVyeSB9KVxuICAgIHRoaXMubG9hZFJlc3VsdHMocXVlcnkudHJpbSgpKVxuICB9XG5cbiAgbG9hZFJlc3VsdHMocXVlcnkpIHtcbiAgICBpZiAoIXF1ZXJ5Lmxlbmd0aCkgcmV0dXJuXG5cbiAgICBjb25zdCBkZWxheSA9IDMwMCArIE1hdGgucmFuZG9tKCkgKiAzMDBcblxuICAgIGlmICh0aGlzLmludGVydmFsSWQpIHtcbiAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5pbnRlcnZhbElkKVxuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUoeyBpc0xvYWRpbmc6IHRydWUgfSlcblxuICAgIHRoaXMuaW50ZXJ2YWxJZCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGFqYXguZ2V0KG1pc2Fnby5nZXQoXCJTRUFSQ0hfQVBJXCIpLCB7IHE6IHF1ZXJ5IH0pLnRoZW4oXG4gICAgICAgIGRhdGEgPT4ge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgaW50ZXJ2YWxJZDogbnVsbCxcbiAgICAgICAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICAgICAgICByZXN1bHRzOiBjbGVhblJlc3VsdHMoZGF0YSlcbiAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcblxuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgaW50ZXJ2YWxJZDogbnVsbCxcbiAgICAgICAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICAgICAgICByZXN1bHRzOiBbXVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9LCBkZWxheSlcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBsZXQgY2xhc3NOYW1lID0gXCJuYXZiYXItc2VhcmNoIGRyb3Bkb3duXCJcbiAgICBpZiAodGhpcy5zdGF0ZS5pc09wZW4pIGNsYXNzTmFtZSArPSBcIiBvcGVuXCJcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lfVxuICAgICAgICByZWY9e2NvbnRhaW5lciA9PiAodGhpcy5jb250YWluZXIgPSBjb250YWluZXIpfVxuICAgICAgPlxuICAgICAgICA8YVxuICAgICAgICAgIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCJcbiAgICAgICAgICBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIlxuICAgICAgICAgIGNsYXNzTmFtZT1cIm5hdmJhci1pY29uXCJcbiAgICAgICAgICBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCJcbiAgICAgICAgICBocmVmPXttaXNhZ28uZ2V0KFwiU0VBUkNIX1VSTFwiKX1cbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uVG9nZ2xlfVxuICAgICAgICA+XG4gICAgICAgICAgPGkgY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnNlYXJjaDwvaT5cbiAgICAgICAgPC9hPlxuICAgICAgICA8RHJvcGRvd25cbiAgICAgICAgICBpc0xvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ2hhbmdlfVxuICAgICAgICAgIHJlc3VsdHM9e3RoaXMuc3RhdGUucmVzdWx0c31cbiAgICAgICAgICBxdWVyeT17dGhpcy5zdGF0ZS5xdWVyeX1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgUGFuZWxMb2FkZXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3BhbmVsLWxvYWRlclwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBwYW5lbC1mb3JtXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWhlYWRpbmdcIj5cbiAgICAgICAgPGgzIGNsYXNzTmFtZT1cInBhbmVsLXRpdGxlXCI+e1wizpHOu867zrHOs86uIM6/zr3PjM68zrHPhM6/z4Igz4fPgc6uz4PPhM63XCJ9PC9oMz5cbiAgICAgIDwvZGl2PlxuICAgICAgPFBhbmVsTG9hZGVyIC8+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IFBhbmVsTWVzc2FnZSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvcGFuZWwtbWVzc2FnZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0SGVscFRleHQoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMub3B0aW9ucy5uZXh0X29uKSB7XG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICAgIFwizpjOsSDOvM+Azr/Pgc61zq/PgiDOvc6xIM6xzrvOu86szr7Otc65z4Igzr7Osc69zqwgz4TOvyDPjM69zr/OvM6xIM+Hz4HOrs+Dz4TOtyDPg86/z4UgJShuZXh0X2NoYW5nZSlzXCIsXG4gICAgICAgIHsgbmV4dF9jaGFuZ2U6IHRoaXMucHJvcHMub3B0aW9ucy5uZXh0X29uLmZyb21Ob3coKSB9LFxuICAgICAgICB0cnVlXG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcIs6Iz4fOtc65z4Igz4fPgc63z4POuc68zr/PgM6/zrnOrs+DzrXOuSDPjM67zrXPgiDPhM65z4IgzrTPhc69zrHPhM+Mz4TOt8+EzrXPgiDOsc67zrvOsc6zzq7PgiDOv869z4zOvM6xz4TOv8+CIM+Hz4HOrs+Dz4TOt1wiXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRlZmF1bHQgcGFuZWwtZm9ybVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWhlYWRpbmdcIj5cbiAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwicGFuZWwtdGl0bGVcIj57XCLOkc67zrvOsc6zzq4gzr/Ovc+MzrzOsc+Ezr/PgiDPh8+Bzq7Pg8+EzrdcIn08L2gzPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPFBhbmVsTWVzc2FnZVxuICAgICAgICAgIGhlbHBUZXh0PXt0aGlzLmdldEhlbHBUZXh0KCl9XG4gICAgICAgICAgbWVzc2FnZT17XCLOlM61zr0gzrzPgM6/z4HOtc6vz4Igzr3OsSDOsc67zrvOrM6+zrXOuc+CIM+Ezr8gz4zOvc6/zrzOsSDPh8+Bzq7Pg8+Ezrcgz4POv8+FIM6xz4XPhM6uIM+Ezrcgz4PPhM65zrPOvM6uLi4uXCJ9XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uXCJcbmltcG9ydCBGb3JtIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtXCJcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXBcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCAqIGFzIHZhbGlkYXRvcnMgZnJvbSBcIm1pc2Fnby91dGlscy92YWxpZGF0b3JzXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICB1c2VybmFtZTogXCJcIixcblxuICAgICAgdmFsaWRhdG9yczoge1xuICAgICAgICB1c2VybmFtZTogW1xuICAgICAgICAgIHZhbGlkYXRvcnMudXNlcm5hbWVDb250ZW50KCksXG4gICAgICAgICAgdmFsaWRhdG9ycy51c2VybmFtZU1pbkxlbmd0aChwcm9wcy5vcHRpb25zLmxlbmd0aF9taW4pLFxuICAgICAgICAgIHZhbGlkYXRvcnMudXNlcm5hbWVNYXhMZW5ndGgocHJvcHMub3B0aW9ucy5sZW5ndGhfbWF4KVxuICAgICAgICBdXG4gICAgICB9LFxuXG4gICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgfVxuICB9XG5cbiAgZ2V0SGVscFRleHQoKSB7XG4gICAgbGV0IHBocmFzZXMgPSBbXVxuXG4gICAgaWYgKHRoaXMucHJvcHMub3B0aW9ucy5jaGFuZ2VzX2xlZnQgPiAwKSB7XG4gICAgICBsZXQgbWVzc2FnZSA9IFwizpzPgM6/z4HOtc6vz4Igzr3OsSDOsc67zrvOrM6+zrXOuc+CIM+Ezr8gz4zOvc6/zrzOsSDPh8+Bzq7Pg8+Ezrcgz4POv8+FICUoY2hhbmdlc19sZWZ0KXMgzrHOus+MzrzOsSDPhs6/z4HOrc+CXCJcbiAgICAgIGlmICh0aGlzLnByb3BzLm9wdGlvbnMuY2hhbmdlc19sZWZ0ID09PSAxKSB7XG4gICAgICAgIG1lc3NhZ2UgPSBcIs6cz4DOv8+BzrXOr8+CIM69zrEgzrHOu867zqzOvs61zrnPgiDPhM6/IM+Mzr3Ov868zrEgz4fPgc6uz4PPhM63IM+Dzr/PhSAlKGNoYW5nZXNfbGVmdClzIM6xzrrPjM68zrEgz4bOv8+BzqxcIlxuICAgICAgfVxuXG4gICAgICBwaHJhc2VzLnB1c2goXG4gICAgICAgIGludGVycG9sYXRlKFxuICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAge1xuICAgICAgICAgICAgY2hhbmdlc19sZWZ0OiB0aGlzLnByb3BzLm9wdGlvbnMuY2hhbmdlc19sZWZ0XG4gICAgICAgICAgfSxcbiAgICAgICAgICB0cnVlXG4gICAgICAgIClcbiAgICAgIClcbiAgICB9XG5cbiAgICBpZiAodGhpcy5wcm9wcy51c2VyLmFjbC5uYW1lX2NoYW5nZXNfZXhwaXJlID4gMCkge1xuICAgICAgbGV0IG1lc3NhZ2UgPSBcIs6XIM6xzrvOu86xzrPOriDOuM6xIM6zzq/Ovc61zrkgzr7Osc69zqwgzrTOuc6xzrjOrc+DzrnOvM63IM68zrXPhM6sIM6xz4DPjCAlKG5hbWVfY2hhbmdlc19leHBpcmUpcyDOvM6tz4HOtc+CXCJcbiAgICAgIGlmICh0aGlzLnByb3BzLnVzZXIuYWNsLm5hbWVfY2hhbmdlc19leHBpcmUgPT09IDEpIHtcbiAgICAgICAgbWVzc2FnZSA9IFwizpcgzrHOu867zrHOs86uIM64zrEgzrPOr869zrXOuSDOvs6xzr3OrCDOtM65zrHOuM6tz4POuc68zrcgzrzOtc+EzqwgzrHPgM+MICUobmFtZV9jaGFuZ2VzX2V4cGlyZSlzIM68zq3Pgc6xXCJcbiAgICAgIH1cblxuICAgICAgcGhyYXNlcy5wdXNoKFxuICAgICAgICBpbnRlcnBvbGF0ZShcbiAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIG5hbWVfY2hhbmdlc19leHBpcmU6IHRoaXMucHJvcHMudXNlci5hY2wubmFtZV9jaGFuZ2VzX2V4cGlyZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgdHJ1ZVxuICAgICAgICApXG4gICAgICApXG4gICAgfVxuXG4gICAgcmV0dXJuIHBocmFzZXMubGVuZ3RoID8gcGhyYXNlcy5qb2luKFwiIFwiKSA6IG51bGxcbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGxldCBlcnJvcnMgPSB0aGlzLnZhbGlkYXRlKClcbiAgICBpZiAoZXJyb3JzLnVzZXJuYW1lKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihlcnJvcnMudXNlcm5hbWVbMF0pXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgaWYgKHRoaXMuc3RhdGUudXNlcm5hbWUudHJpbSgpID09PSB0aGlzLnByb3BzLnVzZXIudXNlcm5hbWUpIHtcbiAgICAgIHNuYWNrYmFyLmluZm8oXCLOpM6/IM66zrHOuc69zr/Pjc+BzrnOvyDPjM69zr/OvM6xIM+Hz4HOrs+Dz4TOtyDPg86/z4UgzrXOr869zrHOuSDPhM6/IM6vzrTOuc6/IM68zrUgz4TOvyDPgM6xzrvOuc+MIM+Dzr/PhSFcIilcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdCh0aGlzLnByb3BzLnVzZXIuYXBpLnVzZXJuYW1lLCB7XG4gICAgICB1c2VybmFtZTogdGhpcy5zdGF0ZS51c2VybmFtZVxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKHN1Y2Nlc3MpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHVzZXJuYW1lOiBcIlwiXG4gICAgfSlcblxuICAgIHRoaXMucHJvcHMuY29tcGxldGUoc3VjY2Vzcy51c2VybmFtZSwgc3VjY2Vzcy5zbHVnLCBzdWNjZXNzLm9wdGlvbnMpXG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBwYW5lbC1mb3JtXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1oZWFkaW5nXCI+XG4gICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwicGFuZWwtdGl0bGVcIj57XCLOkc67zrvOsc6zzq4gzr/Ovc+MzrzOsc+Ezr/PgiDPh8+Bzq7Pg8+EzrdcIn08L2gzPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keVwiPlxuICAgICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgICBsYWJlbD17XCLOnc6tzr8gz4zOvc6/zrzOsSDPh8+Bzq7Pg8+EzrdcIn1cbiAgICAgICAgICAgICAgZm9yPVwiaWRfdXNlcm5hbWVcIlxuICAgICAgICAgICAgICBoZWxwVGV4dD17dGhpcy5nZXRIZWxwVGV4dCgpfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgaWQ9XCJpZF91c2VybmFtZVwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KFwidXNlcm5hbWVcIil9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUudXNlcm5hbWV9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWZvb3RlclwiPlxuICAgICAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4tcHJpbWFyeVwiIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfT5cbiAgICAgICAgICAgICAge1wizpHOu867zrHOs86uXCJ9XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Zvcm0+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgbW9tZW50IGZyb20gXCJtb21lbnRcIlxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgRm9ybUxvYWRpbmcgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL29wdGlvbnMvY2hhbmdlLXVzZXJuYW1lL2Zvcm0tbG9hZGluZ1wiXG5pbXBvcnQgRm9ybUxvY2tlZCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvb3B0aW9ucy9jaGFuZ2UtdXNlcm5hbWUvZm9ybS1sb2NrZWRcIlxuaW1wb3J0IEZvcm0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL29wdGlvbnMvY2hhbmdlLXVzZXJuYW1lL2Zvcm1cIlxuaW1wb3J0IFVzZXJuYW1lSGlzdG9yeSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdXNlcm5hbWUtaGlzdG9yeS9yb290XCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgeyBoeWRyYXRlLCBhZGROYW1lQ2hhbmdlIH0gZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy91c2VybmFtZS1oaXN0b3J5XCJcbmltcG9ydCB7IHVwZGF0ZVVzZXJuYW1lIH0gZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy91c2Vyc1wiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHRpdGxlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvcGFnZS10aXRsZVwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRlZDogZmFsc2UsXG4gICAgICBvcHRpb25zOiBudWxsXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGl0bGUuc2V0KHtcbiAgICAgIHRpdGxlOiBcIs6RzrvOu86xzrPOriDOv869z4zOvM6xz4TOv8+CIM+Hz4HOrs+Dz4TOt1wiLFxuICAgICAgcGFyZW50OiBcIs6RzrvOu86xzrPOriDPgc+FzrjOvM6vz4POtc+Jzr1cIlxuICAgIH0pXG5cbiAgICBQcm9taXNlLmFsbChbXG4gICAgICBhamF4LmdldCh0aGlzLnByb3BzLnVzZXIuYXBpLnVzZXJuYW1lKSxcbiAgICAgIGFqYXguZ2V0KG1pc2Fnby5nZXQoXCJVU0VSTkFNRV9DSEFOR0VTX0FQSVwiKSwgeyB1c2VyOiB0aGlzLnByb3BzLnVzZXIuaWQgfSlcbiAgICBdKS50aGVuKGRhdGEgPT4ge1xuICAgICAgc3RvcmUuZGlzcGF0Y2goaHlkcmF0ZShkYXRhWzFdLnJlc3VsdHMpKVxuXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICBjaGFuZ2VzX2xlZnQ6IGRhdGFbMF0uY2hhbmdlc19sZWZ0LFxuICAgICAgICAgIGxlbmd0aF9taW46IGRhdGFbMF0ubGVuZ3RoX21pbixcbiAgICAgICAgICBsZW5ndGhfbWF4OiBkYXRhWzBdLmxlbmd0aF9tYXgsXG4gICAgICAgICAgbmV4dF9vbjogZGF0YVswXS5uZXh0X29uID8gbW9tZW50KGRhdGFbMF0ubmV4dF9vbikgOiBudWxsXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIG9uQ29tcGxldGUgPSAodXNlcm5hbWUsIHNsdWcsIG9wdGlvbnMpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIG9wdGlvbnNcbiAgICB9KVxuXG4gICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICBhZGROYW1lQ2hhbmdlKHsgdXNlcm5hbWUsIHNsdWcgfSwgdGhpcy5wcm9wcy51c2VyLCB0aGlzLnByb3BzLnVzZXIpXG4gICAgKVxuICAgIHN0b3JlLmRpc3BhdGNoKHVwZGF0ZVVzZXJuYW1lKHRoaXMucHJvcHMudXNlciwgdXNlcm5hbWUsIHNsdWcpKVxuXG4gICAgc25hY2tiYXIuc3VjY2VzcyhcIs6kzr8gz4zOvc6/zrzOsSDPh8+Bzq7Pg8+Ezrcgz4POv8+FIM6szrvOu86xzr7OtSDOtc+AzrnPhM+Fz4fPjs+CIVwiKVxuICB9XG5cbiAgZ2V0Q2hhbmdlRm9ybSgpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUuaXNMb2FkZWQpIHtcbiAgICAgIHJldHVybiA8Rm9ybUxvYWRpbmcgLz5cbiAgICB9XG5cbiAgICBpZiAodGhpcy5zdGF0ZS5vcHRpb25zLmNoYW5nZXNfbGVmdCA9PT0gMCkge1xuICAgICAgcmV0dXJuIDxGb3JtTG9ja2VkIG9wdGlvbnM9e3RoaXMuc3RhdGUub3B0aW9uc30gLz5cbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPEZvcm1cbiAgICAgICAgY29tcGxldGU9e3RoaXMub25Db21wbGV0ZX1cbiAgICAgICAgb3B0aW9ucz17dGhpcy5zdGF0ZS5vcHRpb25zfVxuICAgICAgICB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9XG4gICAgICAvPlxuICAgIClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdj5cbiAgICAgICAge3RoaXMuZ2V0Q2hhbmdlRm9ybSgpfVxuICAgICAgICA8VXNlcm5hbWVIaXN0b3J5XG4gICAgICAgICAgY2hhbmdlcz17dGhpcy5wcm9wc1tcInVzZXJuYW1lLWhpc3RvcnlcIl19XG4gICAgICAgICAgaXNMb2FkZWQ9e3RoaXMuc3RhdGUuaXNMb2FkZWR9XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgdGl0bGUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wYWdlLXRpdGxlXCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnb1wiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgcGFzc3dvcmQ6IFwiXCJcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aXRsZS5zZXQoe1xuICAgICAgdGl0bGU6IFwizpTOuc6xzrPPgc6xz4bOriDOu86/zrPOsc+BzrnOsc+DzrzOv8+NXCIsXG4gICAgICBwYXJlbnQ6IFwizpHOu867zrHOs86uIM+Bz4XOuM68zq/Pg861z4nOvVwiXG4gICAgfSlcbiAgfVxuXG4gIG9uUGFzc3dvcmRDaGFuZ2UgPSBldmVudCA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IHBhc3N3b3JkOiBldmVudC50YXJnZXQudmFsdWUgfSlcbiAgfVxuXG4gIGhhbmRsZVN1Ym1pdCA9IGV2ZW50ID0+IHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICBjb25zdCB7IGlzTG9hZGluZywgcGFzc3dvcmQgfSA9IHRoaXMuc3RhdGVcbiAgICBjb25zdCB7IHVzZXIgfSA9IHRoaXMucHJvcHNcblxuICAgIGlmIChwYXNzd29yZC5sZW5ndGggPT09IDApIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKFwizpLOrM67zrUgz4TOv869IM66z4nOtM65zrrPjCDPgM+Bz4zPg86yzrHPg86uz4Igz4POv8+FIM6zzrnOsSDOtc+AzrnOss61zrLOsc6vz4nPg863IVwiKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgaWYgKGlzTG9hZGluZykgcmV0dXJuIGZhbHNlXG4gICAgdGhpcy5zZXRTdGF0ZSh7IGlzTG9hZGluZzogdHJ1ZSB9KVxuXG4gICAgYWpheC5wb3N0KHVzZXIuYXBpLmRlbGV0ZSwgeyBwYXNzd29yZCB9KS50aGVuKFxuICAgICAgc3VjY2VzcyA9PiB7XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gbWlzYWdvLmdldChcIk1JU0FHT19QQVRIXCIpXG4gICAgICB9LFxuICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzTG9hZGluZzogZmFsc2UgfSlcbiAgICAgICAgaWYgKHJlamVjdGlvbi5wYXNzd29yZCkge1xuICAgICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5wYXNzd29yZFswXSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGFuZ2VyIHBhbmVsLWZvcm1cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWhlYWRpbmdcIj5cbiAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJwYW5lbC10aXRsZVwiPntcIs6UzrnOsc6zz4HOsc+Gzq4gzrvOv86zzrHPgc65zrHPg868zr/PjVwifTwvaDM+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5XCI+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAgICAgIHtcIs6gz4HPjM66zrXOuc+EzrHOuSDOvc6xIM60zrnOsc6zz4HOrM+IzrXOuc+CIM+Ezr8gzrvOv86zzrHPgc65zrHPg868z4wgz4POv8+FLiDOkc+Fz4TOriDOtyDOtc69zq3Pgc6zzrXOuc6xIM61zq/Ovc6xzrkgzrzOtyDOsc69zrHPg8+Ez4HOrc+IzrnOvM63LiDOpM6xIM+AzrHPgc6xzrrOrM+Ez4kgzrTOtc60zr/OvM6tzr3OsSDOuM6xIM60zrnOsc6zz4HOsc+Gzr/Pjc69OlwifVxuICAgICAgICAgICAgPC9wPlxuXG4gICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAgLXtcIiBcIn1cbiAgICAgICAgICAgICAge1wizpHPgM6/zrjOt866zrXPhc68zq3Ovc61z4IgzrTOuc61z4XOuM+Nzr3Pg861zrnPgiBJUCDPgM6/z4Ugz4PPh861z4TOr862zr/Ovc+EzrHOuSDOvM61IM60zrfOvM6/z4POuc61z4XOvM6tzr3OvyDPgM61z4HOuc61z4fPjM68zrXOvc6/XCJ9XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAgLXtcIiBcIn1cbiAgICAgICAgICAgICAge1wizqTOvyDPjM69zr/OvM6xIM+Hz4HOrs+Dz4TOtyDPg86/z4UgzrjOsSDOs86vzr3Otc65IM60zrnOsc64zq3Pg865zrzOvyDPg861IM6szrvOu86/z4XPgiDPh8+Bzq7Pg8+EzrXPglwifVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgIC17XCIgXCJ9XG4gICAgICAgICAgICAgIHtcIs6kzr8gZW1haWwgz4POv8+FIM64zrEgzrPOr869zrXOuSDOtM65zrHOuM6tz4POuc68zr8gz4POtSDOvc6tzrXPgiDOtc6zzrPPgc6xz4bOrc+CIM67zr/Os86xz4HOuc6xz4POvM+Ozr1cIn1cbiAgICAgICAgICAgIDwvcD5cblxuICAgICAgICAgICAgPGhyIC8+XG5cbiAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICB7XCLOjM67zrcgzrcgzrTPgc6xz4PPhM63z4HOuc+Mz4TOt8+Ezqwgz4POv8+FIM6UzpUgzrjOsSDOtM65zrHOs8+BzrHPhs61zq8sIM6xzrvOu86xIM64zrEgzrXOr869zrHOuSDOsc69z47Ovc+FzrzOty5cIn1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWZvb3RlclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbnB1dC1ncm91cFwiPlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICBuYW1lPVwicGFzc3dvcmQtY29uZmlybWF0aW9uXCJcbiAgICAgICAgICAgICAgICB0eXBlPVwicGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtcIs6SzqzOu861IM+Ez4nOvSDOus+JzrTOuc66z4wgz4DPgc+Mz4POss6xz4POrs+CIM+Dzr/PhSDOs865zrEgzrXPgM65zrLOtc6yzrHOr8+Jz4POt1wifVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnBhc3N3b3JkfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uUGFzc3dvcmRDaGFuZ2V9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImlucHV0LWdyb3VwLWJ0blwiPlxuICAgICAgICAgICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwiYnRuLWRhbmdlclwiIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfT5cbiAgICAgICAgICAgICAgICAgIHtcIs6UzrnOsc6zz4HOsc+Gzq4gz4TOv8+FIM67zr/Os86xz4HOuc6xz4POvM6/z40gzrzOv8+FXCJ9XG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZm9ybT5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IG1vbWVudCBmcm9tIFwibW9tZW50XCJcbmltcG9ydCBCdXR0b24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2J1dHRvblwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHRpdGxlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvcGFnZS10aXRsZVwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERvd25sb2FkRGF0YSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgIGlzU3VibWl0aW5nOiBmYWxzZSxcbiAgICAgIGRvd25sb2FkczogW11cbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aXRsZS5zZXQoe1xuICAgICAgdGl0bGU6IFwizprOsc+Ezq3Oss6xz4POvM6xIM+Ez4nOvSDOtM61zrTOv868zq3Ovc+Jzr0gz4POv8+FXCIsXG4gICAgICBwYXJlbnQ6IFwizpHOu867zrHOs86uIM+Bz4XOuM68zq/Pg861z4nOvVwiXG4gICAgfSlcblxuICAgIHRoaXMuaGFuZGxlTG9hZERvd25sb2FkcygpXG4gIH1cblxuICBoYW5kbGVMb2FkRG93bmxvYWRzID0gKCkgPT4ge1xuICAgIGFqYXguZ2V0KHRoaXMucHJvcHMudXNlci5hcGkuZGF0YV9kb3dubG9hZHMpLnRoZW4oXG4gICAgICBkYXRhID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICBkb3dubG9hZHM6IGRhdGFcbiAgICAgICAgfSlcbiAgICAgIH0sXG4gICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgICB9XG4gICAgKVxuICB9XG5cbiAgaGFuZGxlUmVxdWVzdERhdGFEb3dubG9hZCA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHsgaXNTdWJtaXRpbmc6IHRydWUgfSlcbiAgICBhamF4LnBvc3QodGhpcy5wcm9wcy51c2VyLmFwaS5yZXF1ZXN0X2RhdGFfZG93bmxvYWQpLnRoZW4oXG4gICAgICAoKSA9PiB7XG4gICAgICAgIHRoaXMuaGFuZGxlTG9hZERvd25sb2FkcygpXG4gICAgICAgIHNuYWNrYmFyLnN1Y2Nlc3MoXG4gICAgICAgICAgXCLOlyDOsc6vz4TOt8+Dzrcgz4POv8+FIM6zzrnOsSDOus6xz4TOrc6yzrHPg868zrEgz4TPic69IM60zrXOtM6/zrzOrc69z4nOvSDPg86/z4UgzrXPg8+EzqzOu863IM61z4DOuc+Ez4XPh8+Oz4IhXCJcbiAgICAgICAgKVxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNTdWJtaXRpbmc6IGZhbHNlIH0pXG4gICAgICB9LFxuICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgY29uc29sZS5sb2cocmVqZWN0aW9uKVxuICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc1N1Ym1pdGluZzogZmFsc2UgfSlcbiAgICAgIH1cbiAgICApXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBwYW5lbC1mb3JtXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1oZWFkaW5nXCI+XG4gICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwicGFuZWwtdGl0bGVcIj57XCLOms6xz4TOrc6yzrHPg868zrEgz4TPic69IM60zrXOtM6/zrzOrc69z4nOvSDPg86/z4VcIn08L2gzPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keVwiPlxuICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgIHsnzpPOuc6xIM69zrEgzrrOsc+EzrXOss6sz4POtc65z4Igz4TOsSDOtM61zrTOv868zq3Ovc6xIM+Dzr/PhSDOsc+Az4wgzrHPhc+Ezq4gz4TOtyDPg861zrvOr860zrEsIM66zqzOvc61IM66zrvOuc66IM+Dz4TOvyBcIs6Rzq/PhM63z4POtyDOs865zrEgzrrOsc+Ezq3Oss6xz4POvM6xIM60zrXOtM6/zrzOrc69z4nOvVwiLiDOlyDOtc+AzrXOvs61z4HOs86xz4POr86xIM+EzrfPgiDOsc6vz4TOt8+DzrfPgiDOvM+Azr/Pgc61zq8gzr3OsSDPgM6sz4HOtc65IM68zq3Ph8+BzrkgzrrOsc65IM67zq/Os861z4IgzrzOrc+BzrXPgiwgzrHOvc6szrvOv86zzrEgz4TOvyDOvM6tzrPOtc64zr/PgiDPhM+Jzr0gzrHPgc+HzrXOr8+Jzr0gzrrOsc65IM+Ezr/OvSDOsc+BzrnOuM68z4wgz4fPgc63z4PPhM+Ozr0gz4DOv8+FIM6tz4fOv8+Fzr0gzrXOus66z4HOtc68zrXOr8+CIM6xzrnPhM6uz4POtc65z4IuIM6Mz4TOsc69IM+EzrEgzrTOtc60zr/OvM6tzr3OsSDPg86/z4UgzrXOr869zrHOuSDOrc+Ezr/Ouc68zrEgzrPOuc6xIM66zrHPhM6tzrLOsc+DzrzOsSwgzrjOsSDOu86szrLOtc65z4Igzq3Ovc6xIGVtYWlsIM+Jz4IgzrXOuc60zr/PgM6/zq/Ot8+DzrcuJ31cbiAgICAgICAgICAgIDwvcD5cblxuICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgIHtcIs6YzrEgzrXOr869zrHOuSDOtM65zrHOuM6tz4POuc68zrEgzrPOuc6xIM66zrHPhM6tzrLOsc+DzrzOsSDOs865zrEgz4DOtc+BzrnOv8+BzrnPg868zq3Ovc6/IM+Hz4HPjM69zr8uXCJ9XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPHRhYmxlIGNsYXNzTmFtZT1cInRhYmxlXCI+XG4gICAgICAgICAgICA8dGhlYWQ+XG4gICAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICA8dGg+e1wizpHOuc+Ezq7OuM63zrrOtVwifTwvdGg+XG4gICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cImNvbC1tZC00XCI+e1wizprOsc+Ezq3Oss6xz4POvM6xXCJ9PC90aD5cbiAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgIDwvdGhlYWQ+XG4gICAgICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmRvd25sb2Fkcy5tYXAoaXRlbSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgIDx0ciBrZXk9e2l0ZW0uaWR9PlxuICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9e3Jvd1N0eWxlfT5cbiAgICAgICAgICAgICAgICAgICAgICB7bW9tZW50KGl0ZW0ucmVxdWVzdGVkX29uKS5mcm9tTm93KCl9XG4gICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICAgICAgICAgICA8RG93bmxvYWRCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cG9ydEZpbGU9e2l0ZW0uZmlsZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1cz17aXRlbS5zdGF0dXN9XG4gICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAge3RoaXMuc3RhdGUuZG93bmxvYWRzLmxlbmd0aCA9PT0gMCA/IChcbiAgICAgICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAgICA8dGQgY29sU3Bhbj1cIjJcIj57XCLOlM61zr0gzq3Ph861zrnPgiDOsc+Bz4fOtc6vzrEgzrTOtc60zr/OvM6tzr3Pic69IM+Az4HOv8+CIM66zrHPhM6tzrLOsc+DzrzOsVwifTwvdGQ+XG4gICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICAgIDwvdGFibGU+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1mb290ZXIgdGV4dC1yaWdodFwiPlxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tcHJpbWFyeVwiXG4gICAgICAgICAgICAgIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNTdWJtaXRpbmd9XG4gICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmhhbmRsZVJlcXVlc3REYXRhRG93bmxvYWR9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtcIs6Rzq/PhM63z4POtyDOs865zrEgzrrOsc+Ezq3Oss6xz4POvM6xIM60zrXOtM6/zrzOrc69z4nOvVwifVxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmNvbnN0IHJvd1N0eWxlID0ge1xuICB2ZXJ0aWNhbEFsaWduOiBcIm1pZGRsZVwiXG59XG5cbmNvbnN0IFNUQVRVU19QRU5ESU5HID0gMFxuY29uc3QgU1RBVFVTX1BST0NFU1NJTkcgPSAxXG5cbmNvbnN0IERvd25sb2FkQnV0dG9uID0gKHsgZXhwb3J0RmlsZSwgc3RhdHVzIH0pID0+IHtcbiAgaWYgKHN0YXR1cyA9PT0gU1RBVFVTX1BFTkRJTkcgfHwgc3RhdHVzID09PSBTVEFUVVNfUFJPQ0VTU0lORykge1xuICAgIHJldHVybiAoXG4gICAgICA8QnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0bi1pbmZvIGJ0bi1zbSBidG4tYmxvY2tcIlxuICAgICAgICBkaXNhYmxlZD17dHJ1ZX1cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIHtcIs6XIM6xzq/PhM63z4POtyDOs865zrEgzrrOsc+Ezq3Oss6xz4POvM6xIM61zq/Ovc6xzrkgz4XPgM+MIM61z4DOtc6+zrXPgc6zzrHPg86vzrEuLi5cIn1cbiAgICAgIDwvQnV0dG9uPlxuICAgIClcbiAgfVxuXG4gIGlmIChleHBvcnRGaWxlKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxhIGNsYXNzTmFtZT1cImJ0biBidG4tc3VjY2VzcyBidG4tc20gYnRuLWJsb2NrXCIgaHJlZj17ZXhwb3J0RmlsZX0+XG4gICAgICAgIHtcIs6azrHPhM6tzrLOsc+DzrzOsSDPhM+Jzr0gzrTOtc60zr/OvM6tzr3Pic69IM+Dzr/PhVwifVxuICAgICAgPC9hPlxuICAgIClcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPEJ1dHRvblxuICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLXNtIGJ0bi1ibG9ja1wiXG4gICAgICBkaXNhYmxlZD17dHJ1ZX1cbiAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgID5cbiAgICAgIHtcIs6kzr8gzrHPgc+HzrXOr86/IM6zzrnOsSDOus6xz4TOrc6yzrHPg868zrEgzq3Ph861zrkgzrvOrs6+zrXOuS4uLlwifVxuICAgIDwvQnV0dG9uPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBGb3JtIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9lZGl0LWRldGFpbHNcIlxuaW1wb3J0IHRpdGxlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvcGFnZS10aXRsZVwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGl0bGUuc2V0KHtcbiAgICAgIHRpdGxlOiBcIs6RzrvOu86xzrPOriDPgc+FzrjOvM6vz4POtc+Jzr1cIixcbiAgICAgIHBhcmVudDogXCLOkc67zrvOsc6zzq4gz4HPhc64zrzOr8+DzrXPic69XCJcbiAgICB9KVxuICB9XG5cbiAgb25TdWNjZXNzID0gKCkgPT4ge1xuICAgIHNuYWNrYmFyLmluZm8oXCLOn865IM+Bz4XOuM68zq/Pg861zrnPgiDPg86/z4UgzrHPgM6/zrjOt866zrXPjc+EzrfOus6xzr0gzrXPgM65z4TPhc+Hz47PgiFcIilcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPEZvcm0gYXBpPXt0aGlzLnByb3BzLnVzZXIuYXBpLmVkaXRfZGV0YWlsc30gb25TdWNjZXNzPXt0aGlzLm9uU3VjY2Vzc30gLz5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uXCJcbmltcG9ydCBGb3JtIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtXCJcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXBcIlxuaW1wb3J0IFNlbGVjdCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvc2VsZWN0XCJcbmltcG9ydCBZZXNOb1N3aXRjaCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMveWVzLW5vLXN3aXRjaFwiXG5pbXBvcnQgeyBwYXRjaCB9IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvYXV0aFwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHRpdGxlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvcGFnZS10aXRsZVwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcblxuICAgICAgaXNfaGlkaW5nX3ByZXNlbmNlOiBwcm9wcy51c2VyLmlzX2hpZGluZ19wcmVzZW5jZSxcbiAgICAgIGxpbWl0c19wcml2YXRlX3RocmVhZF9pbnZpdGVzX3RvOlxuICAgICAgICBwcm9wcy51c2VyLmxpbWl0c19wcml2YXRlX3RocmVhZF9pbnZpdGVzX3RvLFxuICAgICAgc3Vic2NyaWJlX3RvX3N0YXJ0ZWRfdGhyZWFkczogcHJvcHMudXNlci5zdWJzY3JpYmVfdG9fc3RhcnRlZF90aHJlYWRzLFxuICAgICAgc3Vic2NyaWJlX3RvX3JlcGxpZWRfdGhyZWFkczogcHJvcHMudXNlci5zdWJzY3JpYmVfdG9fcmVwbGllZF90aHJlYWRzLFxuXG4gICAgICBlcnJvcnM6IHt9XG4gICAgfVxuXG4gICAgdGhpcy5wcml2YXRlVGhyZWFkSW52aXRlc0Nob2ljZXMgPSBbXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiAwLFxuICAgICAgICBpY29uOiBcImhlbHBfb3V0bGluZVwiLFxuICAgICAgICBsYWJlbDogXCLOjM67zr/OuVwiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB2YWx1ZTogMSxcbiAgICAgICAgaWNvbjogXCJkb25lX2FsbFwiLFxuICAgICAgICBsYWJlbDogXCLOnM+Mzr3OvyDPh8+Bzq7Pg8+EzrXPgiDPgM6/z4UgzrHOus6/zrvOv8+FzrjPjlwiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB2YWx1ZTogMixcbiAgICAgICAgaWNvbjogXCJoaWdobGlnaHRfb2ZmXCIsXG4gICAgICAgIGxhYmVsOiBcIs6azrHOvc6tzr3Osc+CXCJcbiAgICAgIH1cbiAgICBdXG5cbiAgICB0aGlzLnN1YnNjcmliZVRvQ2hvaWNlcyA9IFtcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgIGljb246IFwic3Rhcl9ib3JkZXJcIixcbiAgICAgICAgbGFiZWw6IFwizozPh865XCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiAxLFxuICAgICAgICBpY29uOiBcInN0YXJfaGFsZlwiLFxuICAgICAgICBsYWJlbDogXCLOlc65zrTOv8+Azr/Ouc6uz4POtc65z4Igz4PPhM63IM+DzrXOu86vzrTOsVwiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB2YWx1ZTogMixcbiAgICAgICAgaWNvbjogXCJzdGFyXCIsXG4gICAgICAgIGxhYmVsOiBcIs6VzrnOtM6/z4DOv865zq7Pg861zrnPgiDOvM6tz4PPiSBlbWFpbFwiXG4gICAgICB9XG4gICAgXVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wb3N0KHRoaXMucHJvcHMudXNlci5hcGkub3B0aW9ucywge1xuICAgICAgaXNfaGlkaW5nX3ByZXNlbmNlOiB0aGlzLnN0YXRlLmlzX2hpZGluZ19wcmVzZW5jZSxcbiAgICAgIGxpbWl0c19wcml2YXRlX3RocmVhZF9pbnZpdGVzX3RvOiB0aGlzLnN0YXRlXG4gICAgICAgIC5saW1pdHNfcHJpdmF0ZV90aHJlYWRfaW52aXRlc190byxcbiAgICAgIHN1YnNjcmliZV90b19zdGFydGVkX3RocmVhZHM6IHRoaXMuc3RhdGUuc3Vic2NyaWJlX3RvX3N0YXJ0ZWRfdGhyZWFkcyxcbiAgICAgIHN1YnNjcmliZV90b19yZXBsaWVkX3RocmVhZHM6IHRoaXMuc3RhdGUuc3Vic2NyaWJlX3RvX3JlcGxpZWRfdGhyZWFkc1xuICAgIH0pXG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKCkge1xuICAgIHN0b3JlLmRpc3BhdGNoKFxuICAgICAgcGF0Y2goe1xuICAgICAgICBpc19oaWRpbmdfcHJlc2VuY2U6IHRoaXMuc3RhdGUuaXNfaGlkaW5nX3ByZXNlbmNlLFxuICAgICAgICBsaW1pdHNfcHJpdmF0ZV90aHJlYWRfaW52aXRlc190bzogdGhpcy5zdGF0ZVxuICAgICAgICAgIC5saW1pdHNfcHJpdmF0ZV90aHJlYWRfaW52aXRlc190byxcbiAgICAgICAgc3Vic2NyaWJlX3RvX3N0YXJ0ZWRfdGhyZWFkczogdGhpcy5zdGF0ZS5zdWJzY3JpYmVfdG9fc3RhcnRlZF90aHJlYWRzLFxuICAgICAgICBzdWJzY3JpYmVfdG9fcmVwbGllZF90aHJlYWRzOiB0aGlzLnN0YXRlLnN1YnNjcmliZV90b19yZXBsaWVkX3RocmVhZHNcbiAgICAgIH0pXG4gICAgKVxuICAgIHNuYWNrYmFyLnN1Y2Nlc3MoXCLOn865IM+Bz4XOuM68zq/Pg861zrnPgiDPg86/z4UgzqzOu867zrHOvs6xzr0gzrXPgM65z4TPhc+Hz47PgiFcIilcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKFwizpHOvc6xzr3Orc+Jz4POtSDPhM63IM+DzrXOu86vzrTOsSDOus6xzrkgzr7Osc69zrHPgM+Bzr/Pg8+AzqzOuM63z4POtS4uLlwiKVxuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGl0bGUuc2V0KHtcbiAgICAgIHRpdGxlOiBcIs6hz4XOuM68zq/Pg861zrnPglwiLFxuICAgICAgcGFyZW50OiBcIs6RzrvOu86xzrPOriDPgc+FzrjOvM6vz4POtc+Jzr1cIlxuICAgIH0pXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBwYW5lbC1mb3JtXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1oZWFkaW5nXCI+XG4gICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwicGFuZWwtdGl0bGVcIj57XCLOkc67zrvOsc6zzq4gzrXPgM65zrvOv86zz47OvVwifTwvaDM+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5XCI+XG4gICAgICAgICAgICA8ZmllbGRzZXQ+XG4gICAgICAgICAgICAgIDxsZWdlbmQ+e1wizqHPhc64zrzOr8+DzrXOuc+CIM6xz4PPhs6xzrvOtc6vzrHPglwifTwvbGVnZW5kPlxuXG4gICAgICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgICAgICBsYWJlbD17XCLOms+Bz43PiM65zrzOvyDPhM63z4Igz4DOsc+Bzr/Phc+Dzq/Osc+CIM68zr/PhVwifVxuICAgICAgICAgICAgICAgIGhlbHBUZXh0PXtcIs6Rzr0gzrrPgc+Nz4jOtc65z4Igz4TOt869IM+AzrHPgc6/z4XPg86vzrEgz4POv8+FLCDOv865IM6szrvOu86/zrkgz4fPgc6uz4PPhM61z4IgzrTOtSDOuM6xIM68z4DOv8+Bzr/Pjc69IM69zrEgzrTOv8+Fzr0gz4DPjM+EzrUgzrXOr8+DzrHOuSDPg8+Fzr3OtM61zrTOtc68zq3Ovc6/z4IuXCJ9XG4gICAgICAgICAgICAgICAgZm9yPVwiaWRfaXNfaGlkaW5nX3ByZXNlbmNlXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxZZXNOb1N3aXRjaFxuICAgICAgICAgICAgICAgICAgaWQ9XCJpZF9pc19oaWRpbmdfcHJlc2VuY2VcIlxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgaWNvbk9uPVwidmlzaWJpbGl0eV9vZmZcIlxuICAgICAgICAgICAgICAgICAgaWNvbk9mZj1cInZpc2liaWxpdHlcIlxuICAgICAgICAgICAgICAgICAgbGFiZWxPbj17XCLOms+Bz43PiM65zrzOvyDPhM63z4Igz4DOsc+Bzr/Phc+Dzq/Osc+CIM68zr/PhSDOsc+Az4wgzqzOu867zr/Phc+CIM+Hz4HOrs+Dz4TOtc+CXCJ9XG4gICAgICAgICAgICAgICAgICBsYWJlbE9mZj17XCLOlc68z4bOrM69zrnPg863IM+EzrfPgiDPgM6xz4HOv8+Fz4POr86xz4IgzrzOv8+FIM+DzrUgzqzOu867zr/Phc+CIM+Hz4HOrs+Dz4TOtc+CXCJ9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoXCJpc19oaWRpbmdfcHJlc2VuY2VcIil9XG4gICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5pc19oaWRpbmdfcHJlc2VuY2V9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG5cbiAgICAgICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgICAgIGxhYmVsPXtcIs6jz4XOvc6/zrzOuc67zq/Otc+CIM6zzrnOsSDOsc69zqzOuM61z4POtyDOtc+BzrPOsc+Dzq/Osc+CXCJ9XG4gICAgICAgICAgICAgICAgZm9yPVwiaWRfbGltaXRzX3ByaXZhdGVfdGhyZWFkX2ludml0ZXNfdG9cIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgaWQ9XCJpZF9saW1pdHNfcHJpdmF0ZV90aHJlYWRfaW52aXRlc190b1wiXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoXCJsaW1pdHNfcHJpdmF0ZV90aHJlYWRfaW52aXRlc190b1wiKX1cbiAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmxpbWl0c19wcml2YXRlX3RocmVhZF9pbnZpdGVzX3RvfVxuICAgICAgICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5wcml2YXRlVGhyZWFkSW52aXRlc0Nob2ljZXN9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgICAgICA8L2ZpZWxkc2V0PlxuXG4gICAgICAgICAgICA8ZmllbGRzZXQ+XG4gICAgICAgICAgICAgIDxsZWdlbmQ+e1wizpHPhc+Ez4zOvM6xz4TOtc+CIM61zrnOtM6/z4DOv865zq7Pg861zrnPglwifTwvbGVnZW5kPlxuXG4gICAgICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgICAgICBsYWJlbD17XCLOkc6zzrPOtc67zq/Otc+CIM+Azr/PhSDOtM63zrzOv8+DzrnOtc+Nz4lcIn1cbiAgICAgICAgICAgICAgICBmb3I9XCJpZF9zdWJzY3JpYmVfdG9fc3RhcnRlZF90aHJlYWRzXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgIGlkPVwiaWRfc3Vic2NyaWJlX3RvX3N0YXJ0ZWRfdGhyZWFkc1wiXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoXCJzdWJzY3JpYmVfdG9fc3RhcnRlZF90aHJlYWRzXCIpfVxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuc3Vic2NyaWJlX3RvX3N0YXJ0ZWRfdGhyZWFkc31cbiAgICAgICAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuc3Vic2NyaWJlVG9DaG9pY2VzfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuXG4gICAgICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgICAgICBsYWJlbD17XCLOoM+Bzr/Pg8+Gzr/Pgc6tz4Igz4DOv8+FIM66zqzOvc+JXCJ9XG4gICAgICAgICAgICAgICAgZm9yPVwiaWRfc3Vic2NyaWJlX3RvX3JlcGxpZWRfdGhyZWFkc1wiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICBpZD1cImlkX3N1YnNjcmliZV90b19yZXBsaWVkX3RocmVhZHNcIlxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KFwic3Vic2NyaWJlX3RvX3JlcGxpZWRfdGhyZWFkc1wiKX1cbiAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnN1YnNjcmliZV90b19yZXBsaWVkX3RocmVhZHN9XG4gICAgICAgICAgICAgICAgICBjaG9pY2VzPXt0aGlzLnN1YnNjcmliZVRvQ2hvaWNlc31cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgICAgIDwvZmllbGRzZXQ+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1mb290ZXJcIj5cbiAgICAgICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwiYnRuLXByaW1hcnlcIiBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ30+XG4gICAgICAgICAgICAgIHtcIs6Rz4DOv864zq7Ous61z4XPg863IM6xzrvOu86xzrPPjs69XCJ9XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Zvcm0+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IExpbmsgfSBmcm9tIFwicmVhY3Qtcm91dGVyXCJcbmltcG9ydCBMaSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvbGlcIlxuXG5leHBvcnQgZnVuY3Rpb24gU2lkZU5hdihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibGlzdC1ncm91cCBuYXYtc2lkZVwiPlxuICAgICAge3Byb3BzLm9wdGlvbnMubWFwKG9wdGlvbiA9PiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPExpbmtcbiAgICAgICAgICAgIHRvPXtwcm9wcy5iYXNlVXJsICsgb3B0aW9uLmNvbXBvbmVudCArIFwiL1wifVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwibGlzdC1ncm91cC1pdGVtXCJcbiAgICAgICAgICAgIGFjdGl2ZUNsYXNzTmFtZT1cImFjdGl2ZVwiXG4gICAgICAgICAgICBrZXk9e29wdGlvbi5jb21wb25lbnR9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPntvcHRpb24uaWNvbn08L3NwYW4+XG4gICAgICAgICAgICB7b3B0aW9uLm5hbWV9XG4gICAgICAgICAgPC9MaW5rPlxuICAgICAgICApXG4gICAgICB9KX1cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gQ29tcGFjdE5hdihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDx1bFxuICAgICAgY2xhc3NOYW1lPXtwcm9wcy5jbGFzc05hbWUgfHwgXCJkcm9wZG93bi1tZW51IHN0aWNrLXRvLWJvdHRvbVwifVxuICAgICAgcm9sZT1cIm1lbnVcIlxuICAgID5cbiAgICAgIHtwcm9wcy5vcHRpb25zLm1hcChvcHRpb24gPT4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxMaVxuICAgICAgICAgICAgcGF0aD17cHJvcHMuYmFzZVVybCArIG9wdGlvbi5jb21wb25lbnQgKyBcIi9cIn1cbiAgICAgICAgICAgIGtleT17b3B0aW9uLmNvbXBvbmVudH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8TGlua1xuICAgICAgICAgICAgICB0bz17cHJvcHMuYmFzZVVybCArIG9wdGlvbi5jb21wb25lbnQgKyBcIi9cIn1cbiAgICAgICAgICAgICAgb25DbGljaz17cHJvcHMuaGlkZU5hdn1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvbiBoaWRkZW4tc21cIj57b3B0aW9uLmljb259PC9zcGFuPlxuICAgICAgICAgICAgICB7b3B0aW9uLm5hbWV9XG4gICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgPC9MaT5cbiAgICAgICAgKVxuICAgICAgfSl9XG4gICAgPC91bD5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcInJlYWN0LXJlZHV4XCJcbmltcG9ydCB7IFNpZGVOYXYsIENvbXBhY3ROYXYgfSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvb3B0aW9ucy9uYXZzXCJcbmltcG9ydCBEZWxldGVBY2NvdW50IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9vcHRpb25zL2RlbGV0ZS1hY2NvdW50XCJcbmltcG9ydCBFZGl0RGV0YWlscyBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvb3B0aW9ucy9lZGl0LWRldGFpbHNcIlxuaW1wb3J0IERvd25sb2FkRGF0YSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvb3B0aW9ucy9kb3dubG9hZC1kYXRhXCJcbmltcG9ydCBDaGFuZ2VGb3J1bU9wdGlvbnMgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL29wdGlvbnMvZm9ydW0tb3B0aW9uc1wiXG5pbXBvcnQgQ2hhbmdlVXNlcm5hbWUgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL29wdGlvbnMvY2hhbmdlLXVzZXJuYW1lL3Jvb3RcIlxuaW1wb3J0IENoYW5nZVNpZ25JbkNyZWRlbnRpYWxzIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9vcHRpb25zL3NpZ24taW4tY3JlZGVudGlhbHMvcm9vdFwiXG5pbXBvcnQgV2l0aERyb3Bkb3duIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy93aXRoLWRyb3Bkb3duXCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgV2l0aERyb3Bkb3duIHtcbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UgcGFnZS1vcHRpb25zXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS1oZWFkZXItYmdcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UtaGVhZGVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICA8aDE+e1wizpHOu867zrHOs86uIM+Bz4XOuM68zq/Pg861z4nOvVwifTwvaDE+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS10YWJzIHZpc2libGUteHMtYmxvY2sgdmlzaWJsZS1zbS1ibG9ja1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxDb21wYWN0TmF2XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJuYXYgbmF2LXBpbGxzXCJcbiAgICAgICAgICAgICAgICAgIGJhc2VVcmw9e21pc2Fnby5nZXQoXCJVU0VSQ1BfVVJMXCIpfVxuICAgICAgICAgICAgICAgICAgb3B0aW9ucz17bWlzYWdvLmdldChcIlVTRVJfT1BUSU9OU1wiKX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMyBoaWRkZW4teHMgaGlkZGVuLXNtXCI+XG4gICAgICAgICAgICAgIDxTaWRlTmF2XG4gICAgICAgICAgICAgICAgYmFzZVVybD17bWlzYWdvLmdldChcIlVTRVJDUF9VUkxcIil9XG4gICAgICAgICAgICAgICAgb3B0aW9ucz17bWlzYWdvLmdldChcIlVTRVJfT1BUSU9OU1wiKX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtOVwiPnt0aGlzLnByb3BzLmNoaWxkcmVufTwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0KHN0b3JlKSB7XG4gIHJldHVybiB7XG4gICAgdGljazogc3RvcmUudGljay50aWNrLFxuICAgIHVzZXI6IHN0b3JlLmF1dGgudXNlcixcbiAgICBcInVzZXJuYW1lLWhpc3RvcnlcIjogc3RvcmVbXCJ1c2VybmFtZS1oaXN0b3J5XCJdXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhdGhzKCkge1xuICBjb25zdCBTU09fRU5BQkxFRCA9IG1pc2Fnby5nZXQoXCJTRVRUSU5HU1wiKS5lbmFibGVfc3NvXG5cbiAgY29uc3QgcGF0aHMgPSBbXG4gICAge1xuICAgICAgcGF0aDogbWlzYWdvLmdldChcIlVTRVJDUF9VUkxcIikgKyBcImZvcnVtLW9wdGlvbnMvXCIsXG4gICAgICBjb21wb25lbnQ6IGNvbm5lY3Qoc2VsZWN0KShDaGFuZ2VGb3J1bU9wdGlvbnMpXG4gICAgfSxcbiAgICB7XG4gICAgICBwYXRoOiBtaXNhZ28uZ2V0KFwiVVNFUkNQX1VSTFwiKSArIFwiZWRpdC1kZXRhaWxzL1wiLFxuICAgICAgY29tcG9uZW50OiBjb25uZWN0KHNlbGVjdCkoRWRpdERldGFpbHMpXG4gICAgfVxuICBdXG5cbiAgaWYgKCFTU09fRU5BQkxFRCkge1xuICAgIHBhdGhzLnB1c2goe1xuICAgICAgcGF0aDogbWlzYWdvLmdldChcIlVTRVJDUF9VUkxcIikgKyBcImNoYW5nZS11c2VybmFtZS9cIixcbiAgICAgIGNvbXBvbmVudDogY29ubmVjdChzZWxlY3QpKENoYW5nZVVzZXJuYW1lKVxuICAgIH0pXG4gICAgcGF0aHMucHVzaCh7XG4gICAgICBwYXRoOiBtaXNhZ28uZ2V0KFwiVVNFUkNQX1VSTFwiKSArIFwic2lnbi1pbi1jcmVkZW50aWFscy9cIixcbiAgICAgIGNvbXBvbmVudDogY29ubmVjdChzZWxlY3QpKENoYW5nZVNpZ25JbkNyZWRlbnRpYWxzKVxuICAgIH0pXG4gIH1cblxuICBpZiAobWlzYWdvLmdldChcIkVOQUJMRV9ET1dOTE9BRF9PV05fREFUQVwiKSkge1xuICAgIHBhdGhzLnB1c2goe1xuICAgICAgcGF0aDogbWlzYWdvLmdldChcIlVTRVJDUF9VUkxcIikgKyBcImRvd25sb2FkLWRhdGEvXCIsXG4gICAgICBjb21wb25lbnQ6IGNvbm5lY3Qoc2VsZWN0KShEb3dubG9hZERhdGEpXG4gICAgfSlcbiAgfVxuXG4gIGlmICghU1NPX0VOQUJMRUQgJiYgbWlzYWdvLmdldChcIkVOQUJMRV9ERUxFVEVfT1dOX0FDQ09VTlRcIikpIHtcbiAgICBwYXRocy5wdXNoKHtcbiAgICAgIHBhdGg6IG1pc2Fnby5nZXQoXCJVU0VSQ1BfVVJMXCIpICsgXCJkZWxldGUtYWNjb3VudC9cIixcbiAgICAgIGNvbXBvbmVudDogY29ubmVjdChzZWxlY3QpKERlbGV0ZUFjY291bnQpXG4gICAgfSlcbiAgfVxuXG4gIHJldHVybiBwYXRoc1xufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuXG5jb25zdCBVbnVzYWJsZVBhc3N3b3JkTWVzc2FnZSA9ICgpID0+IHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRlZmF1bHQgcGFuZWwtZm9ybVwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1oZWFkaW5nXCI+XG4gICAgICAgIDxoMyBjbGFzc05hbWU9XCJwYW5lbC10aXRsZVwiPntcIs6RzrvOu86xzrPOriBlbWFpbCDOriDOus+JzrTOuc66zr/PjSDPgM+Bz4zPg86yzrHPg863z4JcIn08L2gzPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHkgcGFuZWwtbWVzc2FnZS1ib2R5XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmluZm9fb3V0bGluZTwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1ib2R5XCI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICAgICAge1wizqDPgc6tz4DOtc65IM69zrEgzr/Pgc6vz4POtc65z4Igzq3Ovc6xzr0gzrrPic60zrnOus+MIM+Az4HPjM+DzrLOsc+Dzq7PgiDOs865zrEgz4TOvyDOu86/zrPOsc+BzrnOsc+DzrzPjCDPg86/z4UgzrPOuc6xIM69zrEgzrzPgM6/z4HOtc6vz4Igzr3OsSDOsc67zrvOrM6+zrXOuc+CIM+Ezr8gz4zOvc6/zrzOsSDPh8+Bzq7Pg8+EzrcgzrrOsc65IM+Ezr8gZW1haWwgz4POv8+FXCJ9XG4gICAgICAgICAgPC9wPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImhlbHAtYmxvY2tcIj5cbiAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeVwiXG4gICAgICAgICAgICAgIGhyZWY9e21pc2Fnby5nZXQoXCJGT1JHT1RURU5fUEFTU1dPUkRfVVJMXCIpfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7XCLOn8+BzrnPg868z4zPgiDOus+JzrTOuc66zr/PjSDPgM+Bz4zPg86yzrHPg863z4JcIn1cbiAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgVW51c2FibGVQYXNzd29yZE1lc3NhZ2VcbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uXCJcbmltcG9ydCBGb3JtIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtXCJcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXBcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCAqIGFzIHZhbGlkYXRvcnMgZnJvbSBcIm1pc2Fnby91dGlscy92YWxpZGF0b3JzXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBuZXdfZW1haWw6IFwiXCIsXG4gICAgICBwYXNzd29yZDogXCJcIixcblxuICAgICAgdmFsaWRhdG9yczoge1xuICAgICAgICBuZXdfZW1haWw6IFt2YWxpZGF0b3JzLmVtYWlsKCldLFxuICAgICAgICBwYXNzd29yZDogW11cbiAgICAgIH0sXG5cbiAgICAgIGlzTG9hZGluZzogZmFsc2VcbiAgICB9XG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBsZXQgZXJyb3JzID0gdGhpcy52YWxpZGF0ZSgpXG4gICAgbGV0IGxlbmd0aHMgPSBbXG4gICAgICB0aGlzLnN0YXRlLm5ld19lbWFpbC50cmltKCkubGVuZ3RoLFxuICAgICAgdGhpcy5zdGF0ZS5wYXNzd29yZC50cmltKCkubGVuZ3RoXG4gICAgXVxuXG4gICAgaWYgKGxlbmd0aHMuaW5kZXhPZigwKSAhPT0gLTEpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKFwizqPPhc68z4DOu86uz4HPic+DzrUgz4zOu86xIM+EzrEgz4DOtc60zq/OsSFcIilcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGlmIChlcnJvcnMubmV3X2VtYWlsKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihlcnJvcnMubmV3X2VtYWlsWzBdKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdCh0aGlzLnByb3BzLnVzZXIuYXBpLmNoYW5nZV9lbWFpbCwge1xuICAgICAgbmV3X2VtYWlsOiB0aGlzLnN0YXRlLm5ld19lbWFpbCxcbiAgICAgIHBhc3N3b3JkOiB0aGlzLnN0YXRlLnBhc3N3b3JkXG4gICAgfSlcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MocmVzcG9uc2UpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIG5ld19lbWFpbDogXCJcIixcbiAgICAgIHBhc3N3b3JkOiBcIlwiXG4gICAgfSlcblxuICAgIHNuYWNrYmFyLnN1Y2Nlc3MocmVzcG9uc2UuZGV0YWlsKVxuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgaWYgKHJlamVjdGlvbi5uZXdfZW1haWwpIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLm5ld19lbWFpbClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5wYXNzd29yZClcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgPGlucHV0IHR5cGU9XCJ0eXBlXCIgc3R5bGU9e3sgZGlzcGxheTogXCJub25lXCIgfX0gLz5cbiAgICAgICAgPGlucHV0IHR5cGU9XCJwYXNzd29yZFwiIHN0eWxlPXt7IGRpc3BsYXk6IFwibm9uZVwiIH19IC8+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBwYW5lbC1mb3JtXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1oZWFkaW5nXCI+XG4gICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwicGFuZWwtdGl0bGVcIj57XCLOkc67zrvOsc6zzq4gzrTOuc61z43OuM+Fzr3Pg863z4IgZW1haWxcIn08L2gzPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keVwiPlxuICAgICAgICAgICAgPEZvcm1Hcm91cCBsYWJlbD17XCLOnc6tzr8gZW1haWxcIn0gZm9yPVwiaWRfbmV3X2VtYWlsXCI+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICBpZD1cImlkX25ld19lbWFpbFwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KFwibmV3X2VtYWlsXCIpfVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLm5ld19lbWFpbH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuXG4gICAgICAgICAgICA8aHIgLz5cblxuICAgICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgICBsYWJlbD17XCLOnyDOus+JzrTOuc66z4zPgiDPgM+Bz4zPg86yzrHPg86uz4Igz4POv8+FXCJ9XG4gICAgICAgICAgICAgIGZvcj1cImlkX2NvbmZpcm1fZW1haWxcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICB0eXBlPVwicGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgIGlkPVwiaWRfY29uZmlybV9lbWFpbFwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KFwicGFzc3dvcmRcIil9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUucGFzc3dvcmR9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWZvb3RlclwiPlxuICAgICAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4tcHJpbWFyeVwiIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfT5cbiAgICAgICAgICAgICAge1wizpHOu867zrHOs86uIGVtYWlsXCJ9XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Zvcm0+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBCdXR0b24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2J1dHRvblwiXG5pbXBvcnQgRm9ybSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybVwiXG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgbmV3X3Bhc3N3b3JkOiBcIlwiLFxuICAgICAgcmVwZWF0X3Bhc3N3b3JkOiBcIlwiLFxuICAgICAgcGFzc3dvcmQ6IFwiXCIsXG5cbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgbmV3X3Bhc3N3b3JkOiBbXSxcbiAgICAgICAgcmVwZWF0X3Bhc3N3b3JkOiBbXSxcbiAgICAgICAgcGFzc3dvcmQ6IFtdXG4gICAgICB9LFxuXG4gICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgfVxuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgbGV0IGVycm9ycyA9IHRoaXMudmFsaWRhdGUoKVxuICAgIGxldCBsZW5ndGhzID0gW1xuICAgICAgdGhpcy5zdGF0ZS5uZXdfcGFzc3dvcmQudHJpbSgpLmxlbmd0aCxcbiAgICAgIHRoaXMuc3RhdGUucmVwZWF0X3Bhc3N3b3JkLnRyaW0oKS5sZW5ndGgsXG4gICAgICB0aGlzLnN0YXRlLnBhc3N3b3JkLnRyaW0oKS5sZW5ndGhcbiAgICBdXG5cbiAgICBpZiAobGVuZ3Rocy5pbmRleE9mKDApICE9PSAtMSkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoXCLOo8+FzrzPgM67zq7Pgc+Jz4POtSDPjM67zrEgz4TOsSDPgM61zrTOr86xIVwiKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgaWYgKGVycm9ycy5uZXdfcGFzc3dvcmQpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGVycm9ycy5uZXdfcGFzc3dvcmRbMF0pXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBpZiAodGhpcy5zdGF0ZS5uZXdfcGFzc3dvcmQgIT09IHRoaXMuc3RhdGUucmVwZWF0X3Bhc3N3b3JkKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihcIs6fzrkgzrrOsc65zr3Ov8+Nz4HOuc6/zrkgzrrPic60zrnOus6/zq8gz4DPgc+Mz4POss6xz4POt8+CIM60zrXOvSDPhM6xzrnPgc65zqzOts6/z4XOvSFcIilcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy51c2VyLmFwaS5jaGFuZ2VfcGFzc3dvcmQsIHtcbiAgICAgIG5ld19wYXNzd29yZDogdGhpcy5zdGF0ZS5uZXdfcGFzc3dvcmQsXG4gICAgICBwYXNzd29yZDogdGhpcy5zdGF0ZS5wYXNzd29yZFxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKHJlc3BvbnNlKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBuZXdfcGFzc3dvcmQ6IFwiXCIsXG4gICAgICByZXBlYXRfcGFzc3dvcmQ6IFwiXCIsXG4gICAgICBwYXNzd29yZDogXCJcIlxuICAgIH0pXG5cbiAgICBzbmFja2Jhci5zdWNjZXNzKHJlc3BvbnNlLmRldGFpbClcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIGlmIChyZWplY3Rpb24ubmV3X3Bhc3N3b3JkKSB7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5uZXdfcGFzc3dvcmQpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24ucGFzc3dvcmQpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwidHlwZVwiIHN0eWxlPXt7IGRpc3BsYXk6IFwibm9uZVwiIH19IC8+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwicGFzc3dvcmRcIiBzdHlsZT17eyBkaXNwbGF5OiBcIm5vbmVcIiB9fSAvPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRlZmF1bHQgcGFuZWwtZm9ybVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtaGVhZGluZ1wiPlxuICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInBhbmVsLXRpdGxlXCI+e1wizpHOu867zrHOs86uIM66z4nOtM65zrrOv8+NIM+Az4HPjM+DzrLOsc+DzrfPglwifTwvaDM+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5XCI+XG4gICAgICAgICAgICA8Rm9ybUdyb3VwIGxhYmVsPXtcIs6dzq3Ov8+CIM66z4nOtM65zrrPjM+CXCJ9IGZvcj1cImlkX25ld19wYXNzd29yZFwiPlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICB0eXBlPVwicGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgIGlkPVwiaWRfbmV3X3Bhc3N3b3JkXCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoXCJuZXdfcGFzc3dvcmRcIil9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUubmV3X3Bhc3N3b3JkfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG5cbiAgICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgICAgbGFiZWw9e1wizpXPgM6xzr3OrM67zrfPiM63IM66z4nOtM65zrrOv8+NXCJ9XG4gICAgICAgICAgICAgIGZvcj1cImlkX3JlcGVhdF9wYXNzd29yZFwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJwYXNzd29yZFwiXG4gICAgICAgICAgICAgICAgaWQ9XCJpZF9yZXBlYXRfcGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcInJlcGVhdF9wYXNzd29yZFwiKX1cbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5yZXBlYXRfcGFzc3dvcmR9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L0Zvcm1Hcm91cD5cblxuICAgICAgICAgICAgPGhyIC8+XG5cbiAgICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgICAgbGFiZWw9e1wizp8gzrrOsc65zr3Ov8+Nz4HOuc6/z4IgzrrPic60zrnOus+Mz4Igz4POv8+FXCJ9XG4gICAgICAgICAgICAgIGZvcj1cImlkX2NvbmZpcm1fcGFzc3dvcmRcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICB0eXBlPVwicGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgIGlkPVwiaWRfY29uZmlybV9wYXNzd29yZFwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KFwicGFzc3dvcmRcIil9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUucGFzc3dvcmR9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWZvb3RlclwiPlxuICAgICAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4tcHJpbWFyeVwiIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfT5cbiAgICAgICAgICAgICAge1wizpHOu867zrHOs86uIM66z4nOtM65zrrOv8+NIM+Az4HPjM+DzrLOsc+DzrfPglwifVxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9mb3JtPlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQ2hhbmdlRW1haWwgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL29wdGlvbnMvc2lnbi1pbi1jcmVkZW50aWFscy9jaGFuZ2UtZW1haWxcIlxuaW1wb3J0IENoYW5nZVBhc3N3b3JkIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9vcHRpb25zL3NpZ24taW4tY3JlZGVudGlhbHMvY2hhbmdlLXBhc3N3b3JkXCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgdGl0bGUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wYWdlLXRpdGxlXCJcbmltcG9ydCBVbnVzYWJsZVBhc3N3b3JkTWVzc2FnZSBmcm9tIFwiLi9VbnVzYWJsZVBhc3N3b3JkTWVzc2FnZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGl0bGUuc2V0KHtcbiAgICAgIHRpdGxlOiBcIs6RzrvOu86xzrPOriBlbWFpbCDOriDOus+JzrTOuc66zr/PjSDPgM+Bz4zPg86yzrHPg863z4JcIixcbiAgICAgIHBhcmVudDogXCLOkc67zrvOsc6zzq4gz4HPhc64zrzOr8+DzrXPic69XCJcbiAgICB9KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy51c2VyLmhhc191c2FibGVfcGFzc3dvcmQpIHtcbiAgICAgIHJldHVybiA8VW51c2FibGVQYXNzd29yZE1lc3NhZ2UgLz5cbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdj5cbiAgICAgICAgPENoYW5nZUVtYWlsIHVzZXI9e3RoaXMucHJvcHMudXNlcn0gLz5cbiAgICAgICAgPENoYW5nZVBhc3N3b3JkIHVzZXI9e3RoaXMucHJvcHMudXNlcn0gLz5cblxuICAgICAgICA8cCBjbGFzc05hbWU9XCJtZXNzYWdlLWxpbmVcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+d2FybmluZzwvc3Bhbj5cbiAgICAgICAgICA8YSBocmVmPXttaXNhZ28uZ2V0KFwiRk9SR09UVEVOX1BBU1NXT1JEX1VSTFwiKX0+XG4gICAgICAgICAgICB7XCLOns6tz4fOsc+DzrEgz4TPic69IM66z4nOtM65zrrPjCDPgM+Bz4zPg86yzrHPg86uz4IgzrzOv8+FXCJ9XG4gICAgICAgICAgPC9hPlxuICAgICAgICA8L3A+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHN0cmluZ0NvdW50IGZyb20gXCJtaXNhZ28vdXRpbHMvc3RyaW5nLWNvdW50XCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuY29weSAmJiB0aGlzLnByb3BzLmNvcHkubGVuZ3RoKSB7XG4gICAgICBpZiAoXG4gICAgICAgIHN0cmluZ0NvdW50KHRoaXMucHJvcHMuY29weSwgXCI8cFwiKSA9PT0gMSAmJlxuICAgICAgICB0aGlzLnByb3BzLmNvcHkuaW5kZXhPZihcIjxiclwiKSA9PT0gLTFcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gXCJwYWdlLWxlYWQgbGVhZFwiXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIFwicGFnZS1sZWFkXCJcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5jb3B5ICYmIHRoaXMucHJvcHMuY29weS5sZW5ndGgpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9XG4gICAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tcbiAgICAgICAgICAgIF9faHRtbDogdGhpcy5wcm9wcy5jb3B5XG4gICAgICAgICAgfX1cbiAgICAgICAgLz5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IExvYWRlciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvbG9hZGVyXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keSBwYW5lbC1ib2R5LWxvYWRpbmdcIj5cbiAgICAgICAgPExvYWRlciBjbGFzc05hbWU9XCJsb2FkZXIgbG9hZGVyLXNwYWNlZFwiIC8+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldEhlbHBUZXh0KCkge1xuICAgIGlmICh0aGlzLnByb3BzLmhlbHBUZXh0KSB7XG4gICAgICByZXR1cm4gPHAgY2xhc3NOYW1lPVwiaGVscC1ibG9ja1wiPnt0aGlzLnByb3BzLmhlbHBUZXh0fTwvcD5cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keSBwYW5lbC1tZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWljb25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICB7dGhpcy5wcm9wcy5pY29uIHx8IFwiaW5mb19vdXRsaW5lXCJ9XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+e3RoaXMucHJvcHMubWVzc2FnZX08L3A+XG4gICAgICAgICAge3RoaXMuZ2V0SGVscFRleHQoKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEFkZFBhcnRpY2lwYW50TW9kYWwgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2FkZC1wYXJ0aWNpcGFudFwiXG5pbXBvcnQgbW9kYWwgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9tb2RhbFwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RhbC5zaG93KDxBZGRQYXJ0aWNpcGFudE1vZGFsIHRocmVhZD17dGhpcy5wcm9wcy50aHJlYWR9IC8+KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy50aHJlYWQuYWNsLmNhbl9hZGRfcGFydGljaXBhbnRzKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyIGNvbC1zbS0zXCI+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+cGVyc29uX2FkZDwvc3Bhbj5cbiAgICAgICAgICB7XCLOoM+Bzr/Pg864zq7Ous63IM+Hz4HOrs+Dz4TOt1wifVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0ICogYXMgcGFydGljaXBhbnRzIGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvcGFydGljaXBhbnRzXCJcbmltcG9ydCB7IHVwZGF0ZUFjbCB9IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvdGhyZWFkXCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnb1wiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZnVuY3Rpb24gbGVhdmUodGhyZWFkLCBwYXJ0aWNpcGFudCkge1xuICBhamF4XG4gICAgLnBhdGNoKHRocmVhZC5hcGkuaW5kZXgsIFtcbiAgICAgIHsgb3A6IFwicmVtb3ZlXCIsIHBhdGg6IFwicGFydGljaXBhbnRzXCIsIHZhbHVlOiBwYXJ0aWNpcGFudC5pZCB9XG4gICAgXSlcbiAgICAudGhlbihcbiAgICAgICgpID0+IHtcbiAgICAgICAgc25hY2tiYXIuc3VjY2VzcyhcIs6VzrPOus6xz4TOrc67zrXOuc+IzrXPgiDOsc+Fz4TOriDPhM63IM+Dz4XOvc6/zrzOuc67zq/OsSDOtc+AzrnPhM+Fz4fPjs+CIVwiKVxuICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uID0gbWlzYWdvLmdldChcIlBSSVZBVEVfVEhSRUFEU19VUkxcIilcbiAgICAgICAgfSwgMyAqIDEwMDApXG4gICAgICB9LFxuICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgICAgfVxuICAgIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZSh0aHJlYWQsIHBhcnRpY2lwYW50KSB7XG4gIGFqYXhcbiAgICAucGF0Y2godGhyZWFkLmFwaS5pbmRleCwgW1xuICAgICAgeyBvcDogXCJyZW1vdmVcIiwgcGF0aDogXCJwYXJ0aWNpcGFudHNcIiwgdmFsdWU6IHBhcnRpY2lwYW50LmlkIH0sXG4gICAgICB7IG9wOiBcImFkZFwiLCBwYXRoOiBcImFjbFwiLCB2YWx1ZTogMSB9XG4gICAgXSlcbiAgICAudGhlbihcbiAgICAgIGRhdGEgPT4ge1xuICAgICAgICBzdG9yZS5kaXNwYXRjaCh1cGRhdGVBY2woZGF0YSkpXG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKHBhcnRpY2lwYW50cy5yZXBsYWNlKGRhdGEucGFydGljaXBhbnRzKSlcblxuICAgICAgICBjb25zdCBtZXNzYWdlID0gXCLOnyDPh8+Bzq7Pg8+EzrfPgiAlKHVzZXIpcyDOsc+GzrHOuc+Bzq3OuM63zrrOtSDOsc+Az4wgz4TOtyDPg8+Fzr3Ov868zrnOu86vzrEgzrXPgM65z4TPhc+Hz47PgiFcIlxuICAgICAgICBzbmFja2Jhci5zdWNjZXNzKFxuICAgICAgICAgIGludGVycG9sYXRlKFxuICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdXNlcjogcGFydGljaXBhbnQudXNlcm5hbWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0cnVlXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICB9LFxuICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgICAgfVxuICAgIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNoYW5nZU93bmVyKHRocmVhZCwgcGFydGljaXBhbnQpIHtcbiAgYWpheFxuICAgIC5wYXRjaCh0aHJlYWQuYXBpLmluZGV4LCBbXG4gICAgICB7IG9wOiBcInJlcGxhY2VcIiwgcGF0aDogXCJvd25lclwiLCB2YWx1ZTogcGFydGljaXBhbnQuaWQgfSxcbiAgICAgIHsgb3A6IFwiYWRkXCIsIHBhdGg6IFwiYWNsXCIsIHZhbHVlOiAxIH1cbiAgICBdKVxuICAgIC50aGVuKFxuICAgICAgZGF0YSA9PiB7XG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKHVwZGF0ZUFjbChkYXRhKSlcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2gocGFydGljaXBhbnRzLnJlcGxhY2UoZGF0YS5wYXJ0aWNpcGFudHMpKVxuXG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBcIs6fIM+Hz4HOrs+Dz4TOt8+CICUodXNlcilzIM6tz4fOtc65IM+Ez47Pgc6xIM6tzrvOtc6zz4fOvyDPhM63z4Igz4PPhc69zr/OvM65zrvOr86xz4IhXCJcbiAgICAgICAgc25hY2tiYXIuc3VjY2VzcyhcbiAgICAgICAgICBpbnRlcnBvbGF0ZShcbiAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHVzZXI6IHBhcnRpY2lwYW50LnVzZXJuYW1lXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgfSxcbiAgICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICAgIH1cbiAgICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBNYWtlT3duZXIgZnJvbSBcIi4vbWFrZS1vd25lclwiXG5pbXBvcnQgUmVtb3ZlIGZyb20gXCIuL3JlbW92ZVwiXG5pbXBvcnQgQXZhdGFyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9hdmF0YXJcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBjb25zdCBwYXJ0aWNpcGFudCA9IHByb3BzLnBhcnRpY2lwYW50XG5cbiAgbGV0IGNsYXNzTmFtZSA9IFwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgaWYgKHBhcnRpY2lwYW50LmlzX293bmVyKSB7XG4gICAgY2xhc3NOYW1lID0gXCJidG4gYnRuLXByaW1hcnlcIlxuICB9XG4gIGNsYXNzTmFtZSArPSBcIiBidG4tdXNlciBidG4tYmxvY2tcIlxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgY29sLXNtLTMgY29sLW1kLTIgcGFydGljaXBhbnQtY2FyZFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJkcm9wZG93blwiPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxuICAgICAgICAgIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiXG4gICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWV9XG4gICAgICAgICAgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiXG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICA8QXZhdGFyIHNpemU9XCIzNFwiIHVzZXI9e3BhcnRpY2lwYW50fSAvPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImJ0bi10ZXh0XCI+e3BhcnRpY2lwYW50LnVzZXJuYW1lfTwvc3Bhbj5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDx1bCBjbGFzc05hbWU9XCJkcm9wZG93bi1tZW51IHN0aWNrLXRvLWJvdHRvbVwiPlxuICAgICAgICAgIDxVc2VyU3RhdHVzIGlzT3duZXI9e3BhcnRpY2lwYW50LmlzX293bmVyfSAvPlxuICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJkcm9wZG93bi1oZWFkZXJcIiAvPlxuICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgIDxhIGhyZWY9e3BhcnRpY2lwYW50LnVybH0+e1wizqDPgc6/zrLOv867zq4gz4DPgc6/z4bOr867XCJ9PC9hPlxuICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgPGxpIHJvbGU9XCJzZXBhcmF0b3JcIiBjbGFzc05hbWU9XCJkaXZpZGVyXCIgLz5cbiAgICAgICAgICA8TWFrZU93bmVyIHsuLi5wcm9wc30gLz5cbiAgICAgICAgICA8UmVtb3ZlIHsuLi5wcm9wc30gLz5cbiAgICAgICAgPC91bD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBVc2VyU3RhdHVzKHsgaXNPd25lciB9KSB7XG4gIGlmICghaXNPd25lcikgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxsaSBjbGFzc05hbWU9XCJkcm9wZG93bi1oZWFkZXIgZHJvcGRvd24taGVhZGVyLW93bmVyXCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+c3RhcnQ8L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uLXRleHRcIj57XCLOiM+HzrXOuSDOrc67zrXOs8+Hzr8gz4TOt8+CIM+Dz4XOvc6/zrzOuc67zq/Osc+CXCJ9PC9zcGFuPlxuICAgIDwvbGk+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IENhcmQgZnJvbSBcIi4vY2FyZFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgcGFydGljaXBhbnRzLCB0aHJlYWQsIHVzZXIsIHVzZXJJc093bmVyIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBhcnRpY2lwYW50cy1jYXJkc1wiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAge3BhcnRpY2lwYW50cy5tYXAocGFydGljaXBhbnQgPT4ge1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8Q2FyZFxuICAgICAgICAgICAgICBrZXk9e3BhcnRpY2lwYW50LmlkfVxuICAgICAgICAgICAgICBwYXJ0aWNpcGFudD17cGFydGljaXBhbnR9XG4gICAgICAgICAgICAgIHRocmVhZD17dGhyZWFkfVxuICAgICAgICAgICAgICB1c2VyPXt1c2VyfVxuICAgICAgICAgICAgICB1c2VySXNPd25lcj17dXNlcklzT3duZXJ9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIClcbiAgICAgICAgfSl9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyBjaGFuZ2VPd25lciB9IGZyb20gXCIuL2FjdGlvbnNcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLmlzVXNlciA9IHByb3BzLnBhcnRpY2lwYW50LmlkID09PSBwcm9wcy51c2VyLmlkXG4gIH1cblxuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIGxldCBjb25maXJtZWQgPSBmYWxzZVxuICAgIGlmICh0aGlzLmlzVXNlcikge1xuICAgICAgY29uZmlybWVkID0gY29uZmlybShcbiAgICAgICAgXCLOlc6vz4POsc65IM+Dzq/Os86/z4XPgc6/z4Igz4zPhM65IM64zq3Ou861zrnPgiDOvc6xIM+AzqzPgc61zrnPgiDPhM6/zr0gzq3Ou861zrPPh86/IM6xz4XPhM6uz4Igz4TOt8+CIM+Dz4XOvc6/zrzOuc67zq/Osc+CO1wiXG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBcIs6Vzq/Pg86xzrkgz4POr86zzr/Phc+Bzr/PgiDPjM+EzrkgzrjOrc67zrXOuc+CIM69zrEgzrTPjs+DzrXOuc+CIM+Ezr/OvSDOrc67zrXOs8+Hzr8gz4TOt8+CIM+Dz4XOvc6/zrzOuc67zq/Osc+CIM+Dz4TOvyDPh8+Bzq7Pg8+EzrcgJSh1c2VyKXM7XCJcblxuICAgICAgY29uZmlybWVkID0gY29uZmlybShcbiAgICAgICAgaW50ZXJwb2xhdGUoXG4gICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB1c2VyOiB0aGlzLnByb3BzLnBhcnRpY2lwYW50LnVzZXJuYW1lXG4gICAgICAgICAgfSxcbiAgICAgICAgICB0cnVlXG4gICAgICAgIClcbiAgICAgIClcbiAgICB9XG5cbiAgICBpZiAoIWNvbmZpcm1lZCkgcmV0dXJuXG5cbiAgICBjaGFuZ2VPd25lcih0aGlzLnByb3BzLnRocmVhZCwgdGhpcy5wcm9wcy5wYXJ0aWNpcGFudClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wYXJ0aWNpcGFudC5pc19vd25lcikgcmV0dXJuIG51bGxcbiAgICBpZiAoIXRoaXMucHJvcHMudGhyZWFkLmFjbC5jYW5fY2hhbmdlX293bmVyKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9IHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICB7XCLOlM+Oz4POtSDPhM6/zr0gzq3Ou861zrPPh86/XCJ9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgcmVtb3ZlLCBsZWF2ZSB9IGZyb20gXCIuL2FjdGlvbnNcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLmlzVXNlciA9IHByb3BzLnBhcnRpY2lwYW50LmlkID09PSBwcm9wcy51c2VyLmlkXG4gIH1cblxuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIGxldCBjb25maXJtZWQgPSBmYWxzZVxuICAgIGlmICh0aGlzLmlzVXNlcikge1xuICAgICAgY29uZmlybWVkID0gY29uZmlybShcbiAgICAgICAgXCLOlc6vz4POsc65IM+Dzq/Os86/z4XPgc6/z4Igz4zPhM65IM64zq3Ou861zrnPgiDOvc6xIM61zrPOus6xz4TOsc67zrXOr8+IzrXOuc+CIM6xz4XPhM6uIM+Ezrcgz4PPhc69zr/OvM65zrvOr86xO1wiXG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBcIs6Vzq/Pg86xzrkgz4POr86zzr/Phc+Bzr/PgiDPjM+EzrkgzrjOrc67zrXOuc+CIM69zrEgzrHPhs6xzrnPgc6tz4POtc65z4Igz4TOvyDPh8+Bzq7Pg8+EzrcgJSh1c2VyKXMgzrHPgM+MIM6xz4XPhM6uIM+Ezrcgz4PPhc69zr/OvM65zrvOr86xO1wiXG5cbiAgICAgIGNvbmZpcm1lZCA9IGNvbmZpcm0oXG4gICAgICAgIGludGVycG9sYXRlKFxuICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAge1xuICAgICAgICAgICAgdXNlcjogdGhpcy5wcm9wcy5wYXJ0aWNpcGFudC51c2VybmFtZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgdHJ1ZVxuICAgICAgICApXG4gICAgICApXG4gICAgfVxuXG4gICAgaWYgKCFjb25maXJtZWQpIHJldHVyblxuXG4gICAgaWYgKHRoaXMuaXNVc2VyKSB7XG4gICAgICBsZWF2ZSh0aGlzLnByb3BzLnRocmVhZCwgdGhpcy5wcm9wcy5wYXJ0aWNpcGFudClcbiAgICB9IGVsc2Uge1xuICAgICAgcmVtb3ZlKHRoaXMucHJvcHMudGhyZWFkLCB0aGlzLnByb3BzLnBhcnRpY2lwYW50KVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBpc01vZGVyYXRvciA9IHRoaXMucHJvcHMudXNlci5hY2wuY2FuX21vZGVyYXRlX3ByaXZhdGVfdGhyZWFkc1xuXG4gICAgaWYgKCEodGhpcy5wcm9wcy51c2VySXNPd25lciB8fCB0aGlzLmlzVXNlciB8fCBpc01vZGVyYXRvcikpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30gdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgIHt0aGlzLmlzVXNlciA/IFwizpXOs866zrHPhM6szrvOtc65z4jOtyDPg8+Fzr3Ov868zrnOu86vzrHPglwiIDogXCLOkc+GzrHOr8+BzrXPg863IM+Hz4HOrs+Dz4TOt1wifVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBBZGRQYXJ0aWNpcGFudCBmcm9tIFwiLi9hZGQtcGFydGljaXBhbnRcIlxuaW1wb3J0IENhcmRzTGlzdCBmcm9tIFwiLi9jYXJkcy1saXN0XCJcbmltcG9ydCAqIGFzIHV0aWxzIGZyb20gXCIuL3V0aWxzXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy5wYXJ0aWNpcGFudHMubGVuZ3RoKSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbCBwYW5lbC1kZWZhdWx0IHBhbmVsLXBhcnRpY2lwYW50c1wiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5XCI+XG4gICAgICAgIDxDYXJkc0xpc3RcbiAgICAgICAgICB1c2VySXNPd25lcj17Z2V0VXNlcklzT3duZXIocHJvcHMudXNlciwgcHJvcHMucGFydGljaXBhbnRzKX1cbiAgICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAgIC8+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgPEFkZFBhcnRpY2lwYW50IHRocmVhZD17cHJvcHMudGhyZWFkfSAvPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyIGNvbC1zbS05XCI+XG4gICAgICAgICAgICA8cD57dXRpbHMuZ2V0UGFydGljaXBhbnRzQ29weShwcm9wcy5wYXJ0aWNpcGFudHMpfTwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VXNlcklzT3duZXIodXNlciwgcGFydGljaXBhbnRzKSB7XG4gIHJldHVybiBwYXJ0aWNpcGFudHNbMF0uaWQgPT09IHVzZXIuaWRcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBnZXRQYXJ0aWNpcGFudHNDb3B5KHBhcnRpY2lwYW50cykge1xuICBjb25zdCBjb3VudCA9IHBhcnRpY2lwYW50cy5sZW5ndGhcbiAgbGV0IG1lc3NhZ2UgPSBcIs6Rz4XPhM6uIM63IM+Dz4XOvc6/zrzOuc67zq/OsSDOrc+HzrXOuSAlKHVzZXJzKXMgzrTPjc6/IM68zq3Ou863XCJcbiAgaWYgKGNvdW50ID09PSAxKSB7XG4gICAgbWVzc2FnZSA9IFwizpHPhc+Ezq4gzrcgz4PPhc69zr/OvM65zrvOr86xIM6tz4fOtc65ICUodXNlcnMpcyDOvM6tzrvOv8+CXCJcbiAgfVxuXG4gIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICBtZXNzYWdlLFxuICAgIHtcbiAgICAgIHVzZXJzOiBjb3VudFxuICAgIH0sXG4gICAgdHJ1ZVxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCB6eGN2Ym4gZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy96eGN2Ym5cIlxuXG5leHBvcnQgY29uc3QgU1RZTEVTID0gW1xuICBcInByb2dyZXNzLWJhci1kYW5nZXJcIixcbiAgXCJwcm9ncmVzcy1iYXItd2FybmluZ1wiLFxuICBcInByb2dyZXNzLWJhci13YXJuaW5nXCIsXG4gIFwicHJvZ3Jlc3MtYmFyLXByaW1hcnlcIixcbiAgXCJwcm9ncmVzcy1iYXItc3VjY2Vzc1wiXG5dXG5cbmV4cG9ydCBjb25zdCBMQUJFTFMgPSBbXG4gIFwizp8gzrrPic60zrnOus+Mz4Igz4DPgc+Mz4POss6xz4POt8+CIM61zq/Ovc6xzrkgz4DOv867z40gzrHOtM+Nzr3Osc68zr/PglwiLFxuICBcIs6fIM66z4nOtM65zrrPjM+CIM+Az4HPjM+DzrLOsc+DzrfPgiDOtc6vzr3Osc65IM6xzrTPjc69zrHOvM6/z4JcIixcbiAgXCLOnyDOus+JzrTOuc66z4zPgiDPgM+Bz4zPg86yzrHPg863z4IgzrXOr869zrHOuSDOvM6tz4TPgc65zr/PglwiLFxuICBcIs6fIM66z4nOtM65zrrPjM+CIM+Az4HPjM+DzrLOsc+DzrfPgiDOtc6vzr3Osc65IM65z4PPh8+Fz4HPjM+CXCIsXG4gIFwizp8gzrrPic60zrnOus+Mz4Igz4DPgc+Mz4POss6xz4POt8+CIM61zq/Ovc6xzrkgz4DOv867z40gzrnPg8+Hz4XPgc+Mz4JcIlxuXVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLl9zY29yZSA9IDBcbiAgICB0aGlzLl9wYXNzd29yZCA9IG51bGxcbiAgICB0aGlzLl9pbnB1dHMgPSBbXVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGxvYWRlZDogZmFsc2VcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB6eGN2Ym4ubG9hZCgpLnRoZW4oKCkgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGxvYWRlZDogdHJ1ZSB9KVxuICAgIH0pXG4gIH1cblxuICBnZXRTY29yZShwYXNzd29yZCwgaW5wdXRzKSB7XG4gICAgbGV0IGNhY2hlU3RhbGUgPSBmYWxzZVxuXG4gICAgaWYgKHBhc3N3b3JkICE9PSB0aGlzLl9wYXNzd29yZCkge1xuICAgICAgY2FjaGVTdGFsZSA9IHRydWVcbiAgICB9XG5cbiAgICBpZiAoaW5wdXRzLmxlbmd0aCAhPT0gdGhpcy5faW5wdXRzLmxlbmd0aCkge1xuICAgICAgY2FjaGVTdGFsZSA9IHRydWVcbiAgICB9IGVsc2Uge1xuICAgICAgaW5wdXRzLm1hcCgodmFsdWUsIGkpID0+IHtcbiAgICAgICAgaWYgKHZhbHVlLnRyaW0oKSAhPT0gdGhpcy5faW5wdXRzW2ldKSB7XG4gICAgICAgICAgY2FjaGVTdGFsZSA9IHRydWVcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG5cbiAgICBpZiAoY2FjaGVTdGFsZSkge1xuICAgICAgdGhpcy5fc2NvcmUgPSB6eGN2Ym4uc2NvcmVQYXNzd29yZChwYXNzd29yZCwgaW5wdXRzKVxuICAgICAgdGhpcy5fcGFzc3dvcmQgPSBwYXNzd29yZFxuICAgICAgdGhpcy5faW5wdXRzID0gaW5wdXRzLm1hcChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUudHJpbSgpXG4gICAgICB9KVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9zY29yZVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5sb2FkZWQpIHJldHVybiBudWxsXG5cbiAgICBsZXQgc2NvcmUgPSB0aGlzLmdldFNjb3JlKHRoaXMucHJvcHMucGFzc3dvcmQsIHRoaXMucHJvcHMuaW5wdXRzKVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGVscC1ibG9jayBwYXNzd29yZC1zdHJlbmd0aFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInByb2dyZXNzXCI+XG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAgY2xhc3NOYW1lPXtcInByb2dyZXNzLWJhciBcIiArIFNUWUxFU1tzY29yZV19XG4gICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogMjAgKyAyMCAqIHNjb3JlICsgXCIlXCIgfX1cbiAgICAgICAgICAgIHJvbGU9XCJwcm9ncmVzcy1iYXJcIlxuICAgICAgICAgICAgYXJpYS12YWx1ZW5vdz17c2NvcmV9XG4gICAgICAgICAgICBhcmlhLXZhbHVlbWluPVwiMFwiXG4gICAgICAgICAgICBhcmlhLXZhbHVlbWF4PVwiNFwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic3Itb25seVwiPntMQUJFTFNbc2NvcmVdfTwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc21hbGxcIj57TEFCRUxTW3Njb3JlXX08L3A+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQWRkID0gKCkgPT4ge1xuICAgIGxldCBjaG9pY2VzID0gdGhpcy5wcm9wcy5jaG9pY2VzLnNsaWNlKClcbiAgICBjaG9pY2VzLnB1c2goe1xuICAgICAgaGFzaDogZ2VuZXJhdGVSYW5kb21IYXNoKCksXG4gICAgICBsYWJlbDogXCJcIlxuICAgIH0pXG5cbiAgICB0aGlzLnByb3BzLnNldENob2ljZXMoY2hvaWNlcylcbiAgfVxuXG4gIG9uQ2hhbmdlID0gKGhhc2gsIGxhYmVsKSA9PiB7XG4gICAgY29uc3QgY2hvaWNlcyA9IHRoaXMucHJvcHMuY2hvaWNlcy5tYXAoY2hvaWNlID0+IHtcbiAgICAgIGlmIChjaG9pY2UuaGFzaCA9PT0gaGFzaCkge1xuICAgICAgICBjaG9pY2UubGFiZWwgPSBsYWJlbFxuICAgICAgfVxuXG4gICAgICByZXR1cm4gY2hvaWNlXG4gICAgfSlcbiAgICB0aGlzLnByb3BzLnNldENob2ljZXMoY2hvaWNlcylcbiAgfVxuXG4gIG9uRGVsZXRlID0gaGFzaCA9PiB7XG4gICAgY29uc3QgY2hvaWNlcyA9IHRoaXMucHJvcHMuY2hvaWNlcy5maWx0ZXIoY2hvaWNlID0+IHtcbiAgICAgIHJldHVybiBjaG9pY2UuaGFzaCAhPT0gaGFzaFxuICAgIH0pXG4gICAgdGhpcy5wcm9wcy5zZXRDaG9pY2VzKGNob2ljZXMpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicG9sbC1jaG9pY2VzLWNvbnRyb2xcIj5cbiAgICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXBcIj5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5jaG9pY2VzLm1hcChjaG9pY2UgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPFBvbGxDaG9pY2VcbiAgICAgICAgICAgICAgICBjYW5EZWxldGU9e3RoaXMucHJvcHMuY2hvaWNlcy5sZW5ndGggPiAyfVxuICAgICAgICAgICAgICAgIGNob2ljZT17Y2hvaWNlfVxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkfVxuICAgICAgICAgICAgICAgIGtleT17Y2hvaWNlLmhhc2h9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2V9XG4gICAgICAgICAgICAgICAgb25EZWxldGU9e3RoaXMub25EZWxldGV9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApXG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvdWw+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtXCJcbiAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQWRkfVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAge1wizqDPgc6/z4POuM6uzrrOtyDOtc+AzrnOu86/zrPOrs+CXCJ9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQb2xsQ2hvaWNlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DaGFuZ2UgPSBldmVudCA9PiB7XG4gICAgdGhpcy5wcm9wcy5vbkNoYW5nZSh0aGlzLnByb3BzLmNob2ljZS5oYXNoLCBldmVudC50YXJnZXQudmFsdWUpXG4gIH1cblxuICBvbkRlbGV0ZSA9ICgpID0+IHtcbiAgICBjb25zdCBkZWxldGVJdGVtID0gY29uZmlybShcbiAgICAgIFwizpXOr8+DzrHOuSDPg86vzrPOv8+Fz4HOv8+CIM+Mz4TOuSDOuM6tzrvOtc65z4Igzr3OsSDOtM65zrHOs8+BzqzPiM61zrnPgiDOsc+Fz4TOriDPhM63zr0gzrXPgM65zrvOv86zzq47XCJcbiAgICApXG4gICAgaWYgKGRlbGV0ZUl0ZW0pIHtcbiAgICAgIHRoaXMucHJvcHMub25EZWxldGUodGhpcy5wcm9wcy5jaG9pY2UuaGFzaClcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9XCJsaXN0LWdyb3VwLWl0ZW1cIj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0blwiXG4gICAgICAgICAgZGlzYWJsZWQ9eyF0aGlzLnByb3BzLmNhbkRlbGV0ZSB8fCB0aGlzLnByb3BzLmRpc2FibGVkfVxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25EZWxldGV9XG4gICAgICAgICAgdGl0bGU9e1wizpTOuc6xzrPPgc6xz4bOriDOtc+AzrnOu86/zrPOrs+CXCJ9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2xvc2U8L3NwYW4+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8aW5wdXRcbiAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgICBtYXhMZW5ndGg9XCIyNTVcIlxuICAgICAgICAgIHBsYWNlaG9sZGVyPXtcIs+Mzr3Ov868zrEgzrXPgM65zrvOv86zzq7PglwifVxuICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNoYW5nZX1cbiAgICAgICAgICB2YWx1ZT17dGhpcy5wcm9wcy5jaG9pY2UubGFiZWx9XG4gICAgICAgIC8+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVSYW5kb21IYXNoKCkge1xuICBsZXQgcmFuZG9tSGFzaCA9IFwiXCJcbiAgd2hpbGUgKHJhbmRvbUhhc2gubGVuZ3RoICE9PSAxMikge1xuICAgIHJhbmRvbUhhc2ggPSBNYXRoLnJhbmRvbSgpXG4gICAgICAudG9TdHJpbmcoMzYpXG4gICAgICAucmVwbGFjZSgvW15hLXpBLVowLTldKy9nLCBcIlwiKVxuICAgICAgLnN1YnN0cigxLCAxMilcbiAgfVxuICByZXR1cm4gcmFuZG9tSGFzaFxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQ2hvaWNlc0NvbnRyb2wgZnJvbSBcIi4vY2hvaWNlcy1jb250cm9sXCJcbmltcG9ydCBCdXR0b24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2J1dHRvblwiXG5pbXBvcnQgRm9ybSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybVwiXG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwXCJcbmltcG9ydCBZZXNOb1N3aXRjaCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMveWVzLW5vLXN3aXRjaFwiXG5pbXBvcnQgKiBhcyBwb2xsIGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvcG9sbFwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHBvc3RpbmcgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wb3N0aW5nXCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIGNvbnN0IHBvbGwgPSBwcm9wcy5wb2xsIHx8IHtcbiAgICAgIHF1ZXN0aW9uOiBcIlwiLFxuICAgICAgY2hvaWNlczogW1xuICAgICAgICB7XG4gICAgICAgICAgaGFzaDogXCJjaG9pY2UtMTAwMDBcIixcbiAgICAgICAgICBsYWJlbDogXCJcIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgaGFzaDogXCJjaG9pY2UtMjAwMDBcIixcbiAgICAgICAgICBsYWJlbDogXCJcIlxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgbGVuZ3RoOiAwLFxuICAgICAgYWxsb3dlZF9jaG9pY2VzOiAxLFxuICAgICAgYWxsb3dfcmV2b3RlczogMCxcbiAgICAgIGlzX3B1YmxpYzogMFxuICAgIH1cblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgaXNFZGl0OiAhIXBvbGwucXVlc3Rpb24sXG5cbiAgICAgIHF1ZXN0aW9uOiBwb2xsLnF1ZXN0aW9uLFxuICAgICAgY2hvaWNlczogcG9sbC5jaG9pY2VzLFxuICAgICAgbGVuZ3RoOiBwb2xsLmxlbmd0aCxcbiAgICAgIGFsbG93ZWRfY2hvaWNlczogcG9sbC5hbGxvd2VkX2Nob2ljZXMsXG4gICAgICBhbGxvd19yZXZvdGVzOiBwb2xsLmFsbG93X3Jldm90ZXMsXG4gICAgICBpc19wdWJsaWM6IHBvbGwuaXNfcHVibGljLFxuXG4gICAgICB2YWxpZGF0b3JzOiB7XG4gICAgICAgIHF1ZXN0aW9uOiBbXSxcbiAgICAgICAgY2hvaWNlczogW10sXG4gICAgICAgIGxlbmd0aDogW10sXG4gICAgICAgIGFsbG93ZWRfY2hvaWNlczogW11cbiAgICAgIH0sXG5cbiAgICAgIGVycm9yczoge31cbiAgICB9XG4gIH1cblxuICBzZXRDaG9pY2VzID0gY2hvaWNlcyA9PiB7XG4gICAgY29uc3QgZXJyb3JzID0gT2JqZWN0LmFzc2lnbih7fSwgZXJyb3JzLCB7IGNob2ljZXM6IG51bGwgfSlcblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgY2hvaWNlcyxcbiAgICAgIGVycm9yc1xuICAgIH0pXG4gIH1cblxuICBvbkNhbmNlbCA9ICgpID0+IHtcbiAgICBjb25zdCBjYW5jZWwgPSBjb25maXJtKFwizpXOr8+DzrHOuSDPg86vzrPOv8+Fz4HOv8+CIM+Mz4TOuSDOtM61IM64zrXPgiDOvc6xIM60zrfOvM6/z4POuc61z43Pg861zrnPgiDOsc+Fz4TOriDPhM63zr0gz4jOt8+Gzr/Phs6/z4HOr86xO1wiKVxuICAgIGlmIChjYW5jZWwpIHtcbiAgICAgIHBvc3RpbmcuY2xvc2UoKVxuICAgIH1cbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgY29uc3QgZGF0YSA9IHtcbiAgICAgIHF1ZXN0aW9uOiB0aGlzLnN0YXRlLnF1ZXN0aW9uLFxuICAgICAgY2hvaWNlczogdGhpcy5zdGF0ZS5jaG9pY2VzLFxuICAgICAgbGVuZ3RoOiB0aGlzLnN0YXRlLmxlbmd0aCxcbiAgICAgIGFsbG93ZWRfY2hvaWNlczogdGhpcy5zdGF0ZS5hbGxvd2VkX2Nob2ljZXMsXG4gICAgICBhbGxvd19yZXZvdGVzOiB0aGlzLnN0YXRlLmFsbG93X3Jldm90ZXMsXG4gICAgICBpc19wdWJsaWM6IHRoaXMuc3RhdGUuaXNfcHVibGljXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc3RhdGUuaXNFZGl0KSB7XG4gICAgICByZXR1cm4gYWpheC5wdXQodGhpcy5wcm9wcy5wb2xsLmFwaS5pbmRleCwgZGF0YSlcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGFqYXgucG9zdCh0aGlzLnByb3BzLnRocmVhZC5hcGkucG9sbCwgZGF0YSlcbiAgICB9XG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKGRhdGEpIHtcbiAgICBzdG9yZS5kaXNwYXRjaChwb2xsLnJlcGxhY2UoZGF0YSkpXG5cbiAgICBpZiAodGhpcy5zdGF0ZS5pc0VkaXQpIHtcbiAgICAgIHNuYWNrYmFyLnN1Y2Nlc3MoXCLOlyDPiM63z4bOv8+Gzr/Pgc6vzrEgz4TPgc6/z4DOv8+Azr/Ouc6uzrjOt866zrUgzrXPgM65z4TPhc+Hz47PgiFcIilcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuc3VjY2VzcyhcIs6XIM+IzrfPhs6/z4bOv8+Bzq/OsSDOtM63zrzOv8+DzrnOtc+NzrjOt866zrUgzrXPgM65z4TPhc+Hz47PgiFcIilcbiAgICB9XG5cbiAgICBwb3N0aW5nLmNsb3NlKClcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIGlmIChyZWplY3Rpb24ubm9uX2ZpZWxkX2Vycm9ycykge1xuICAgICAgICByZWplY3Rpb24uYWxsb3dlZF9jaG9pY2VzID0gcmVqZWN0aW9uLm5vbl9maWVsZF9lcnJvcnNcbiAgICAgIH1cblxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGVycm9yczogT2JqZWN0LmFzc2lnbih7fSwgcmVqZWN0aW9uKVxuICAgICAgfSlcblxuICAgICAgc25hY2tiYXIuZXJyb3IoXCLOlyDPhs+Mz4HOvM6xIM+AzrXPgc65zq3Ph861zrkgzrvOrM64zrchXCIpXG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicG9sbC1mb3JtXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBwYW5lbC1mb3JtXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keVwiPlxuICAgICAgICAgICAgICAgIDxmaWVsZHNldD5cbiAgICAgICAgICAgICAgICAgIDxsZWdlbmQ+e1wizpXPgc+Oz4TOt8+DzrcgzrrOsc65IM61z4DOuc67zr/Os86tz4JcIn08L2xlZ2VuZD5cblxuICAgICAgICAgICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgICAgICAgICBsYWJlbD17XCLOlc+Bz47PhM63z4POtyDPiM63z4bOv8+Gzr/Pgc6vzrHPglwifVxuICAgICAgICAgICAgICAgICAgICBmb3I9XCJpZF9xdWVzdGlvbnNcIlxuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uPXt0aGlzLnN0YXRlLmVycm9ycy5xdWVzdGlvbn1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgaWQ9XCJpZF9xdWVzdGlvbnNcIlxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcInF1ZXN0aW9uXCIpfVxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICBtYXhMZW5ndGg9XCIyNTVcIlxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnF1ZXN0aW9ufVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG5cbiAgICAgICAgICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw9e1wizpTOuc6xzrjOrc+DzrnOvM61z4IgzrXPgM65zrvOv86zzq3PglwifVxuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uPXt0aGlzLnN0YXRlLmVycm9ycy5jaG9pY2VzfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8Q2hvaWNlc0NvbnRyb2xcbiAgICAgICAgICAgICAgICAgICAgICBjaG9pY2VzPXt0aGlzLnN0YXRlLmNob2ljZXN9XG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgIHNldENob2ljZXM9e3RoaXMuc2V0Q2hvaWNlc31cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgICAgICAgIDwvZmllbGRzZXQ+XG5cbiAgICAgICAgICAgICAgICA8ZmllbGRzZXQ+XG4gICAgICAgICAgICAgICAgICA8bGVnZW5kPntcIs6UzrnOsc60zrnOus6xz4POr86xXCJ9PC9sZWdlbmQ+XG5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyIGNvbC1zbS02XCI+XG4gICAgICAgICAgICAgICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9e1wizpTOuc6sz4HOus61zrnOsVwifVxuICAgICAgICAgICAgICAgICAgICAgICAgaGVscFRleHQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICBcIs6SzqzOu861IM+Ezr/OvSDOsc+BzrnOuM68z4wgz4TPic69IM63zrzOtc+Bz47OvSDPgM6/z4UgzrjOtc+CIM69zrEgz4TPgc6tzr7Otc65IM63IM+IzrfPhs6/z4bOv8+Bzq/OsS4gzpHOvSDOss6szrvOtc65z4IgzrzOt860zq3OvSwgzrjOsSDOtc6vzr3Osc65IM6xzr3Ov865z4fPhM6uIM61z4AnIM6xz4zPgc65z4PPhM6/zr0uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcj1cImlkX2xlbmd0aFwiXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uPXt0aGlzLnN0YXRlLmVycm9ycy5sZW5ndGh9XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJpZF9sZW5ndGhcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoXCJsZW5ndGhcIil9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUubGVuZ3RofVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyIGNvbC1zbS02XCI+XG4gICAgICAgICAgICAgICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9e1wizpTOuc6xzrjOrc+DzrnOvM61z4IgzrXPgM65zrvOv86zzq3PglwifVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yPVwiaWRfYWxsb3dlZF9jaG9pY2VzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb249e3RoaXMuc3RhdGUuZXJyb3JzLmFsbG93ZWRfY2hvaWNlc31cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZD1cImlkX2FsbG93ZWRfY2hvaWNlc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcImFsbG93ZWRfY2hvaWNlc1wiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhMZW5ndGg9XCIyNTVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5hbGxvd2VkX2Nob2ljZXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICA8UG9sbFB1YmxpY1N3aXRjaFxuICAgICAgICAgICAgICAgICAgICAgIGJpbmRJbnB1dD17dGhpcy5iaW5kSW5wdXR9XG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgIGlzRWRpdD17dGhpcy5zdGF0ZS5pc0VkaXR9XG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuaXNfcHVibGljfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMiBjb2wtc20tNlwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPXtcIs6dzrEgzrXPgM65z4TPgc6tz4DOv869z4TOsc65IM6xzrvOu86xzrPOrc+CXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3I9XCJpZF9hbGxvd19yZXZvdGVzXCJcbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8WWVzTm9Td2l0Y2hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJpZF9hbGxvd19yZXZvdGVzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uT249XCJjaGVja1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGljb25PZmY9XCJjbG9zZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsT249e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwizp/OuSDPh8+Bzq7Pg8+EzrXPgiDOvc6xIM68z4DOv8+Bzr/Pjc69IM69zrEgzrHOu867zqzOvs6/z4XOvSDPhM63zr0gz4jOrs+Gzr8gz4TOv8+Fz4JcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsT2ZmPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIs6fzrkgz4fPgc6uz4PPhM61z4Igzr3OsSDOvM63zr0gzrzPgM6/z4HOv8+Nzr0gzr3OsSDOsc67zrvOrM6+zr/Phc69IM+EzrfOvSDPiM6uz4bOvyDPhM6/z4XPglwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KFwiYWxsb3dfcmV2b3Rlc1wiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuYWxsb3dfcmV2b3Rlc31cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9maWVsZHNldD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtZm9vdGVyIHRleHQtcmlnaHRcIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIlxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5vbkNhbmNlbH1cbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtcIs6RzrrPjc+Bz4nPg863XCJ9XG4gICAgICAgICAgICAgICAgPC9idXR0b24+e1wiIFwifVxuICAgICAgICAgICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwiYnRuLXByaW1hcnlcIiBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ30+XG4gICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5pc0VkaXRcbiAgICAgICAgICAgICAgICAgICAgPyBcIs6Rz4DOv864zq7Ous61z4XPg863IM6xzrvOu86xzrPPjs69XCJcbiAgICAgICAgICAgICAgICAgICAgOiBcIs6UzrfOvM6/z4POr861z4XPg863IM+IzrfPhs6/z4bOv8+Bzq/Osc+CXCJ9XG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9mb3JtPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUG9sbFB1YmxpY1N3aXRjaChwcm9wcykge1xuICBpZiAocHJvcHMuaXNFZGl0KSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgY29sLXNtLTZcIj5cbiAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgbGFiZWw9e1wizpHOvc6/zrnPh8+Ezq4gz4jOt8+Gzr/Phs6/z4HOr86xXCJ9XG4gICAgICAgIGhlbHBUZXh0PXtcbiAgICAgICAgICBcIs6MzrvOv865IM6/zrkgz4fPgc6uz4PPhM61z4IgzrjOsSDOvM+Azr/Pgc6/z43OvSDOvc6xIM60zr/Phc69IM+EzrnPgiDPiM6uz4bOv8+Fz4IgzrHOvc6xzrvPhc+EzrnOus6sLCDOs865zrEgz4DOsc+BzqzOtM61zrnOs868zrEgz4DOv865zr/OuSDPiM6uz4bOuc+DzrHOvSDOs865zrEgz4DOv865zrXPgiDOtc+AzrnOu86/zrPOrc+CIM66zrHOuSDPgM+Mz4TOtSDOsc66z4HOuc6yz47Pgi4gzpHPhc+Ezq4gzrcgzrXPgM65zrvOv86zzq4gzrTOtc69IM68z4DOv8+BzrXOryDOvc6xIM6xzrvOu86szr7Otc65IM61zrogz4TPic69IM+Fz4PPhM6tz4HPic69LiDOn865IM60zrnOsc+HzrXOuc+BzrnPg8+Ezq3PgiDPhM63z4Igz4POtc67zq/OtM6xz4Igzq3Ph86/z4XOvSDPgM+Bz4zPg86yzrHPg863IM+DzrUgz4zOu861z4Igz4TOuc+CIM+IzrfPhs6/z4bOv8+Bzq/Otc+CLlwiXG4gICAgICAgIH1cbiAgICAgICAgZm9yPVwiaWRfaXNfcHVibGljXCJcbiAgICAgID5cbiAgICAgICAgPFllc05vU3dpdGNoXG4gICAgICAgICAgaWQ9XCJpZF9pc19wdWJsaWNcIlxuICAgICAgICAgIGRpc2FibGVkPXtwcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgICBpY29uT249XCJ2aXNpYmlsaXR5XCJcbiAgICAgICAgICBpY29uT2ZmPVwidmlzaWJpbGl0eV9vZmZcIlxuICAgICAgICAgIGxhYmVsT249e1wizpcgz4jOt8+Gzr/Phs6/z4HOr86xIM61zq/Ovc6xzrkgzrHOvc6/zrnPh8+Ezq5cIn1cbiAgICAgICAgICBsYWJlbE9mZj17XCLOlyDPiM63z4bOv8+Gzr/Pgc6vzrEgzrXOr869zrHOuSDOus67zrXOuc+Dz4TOrlwifVxuICAgICAgICAgIG9uQ2hhbmdlPXtwcm9wcy5iaW5kSW5wdXQoXCJpc19wdWJsaWNcIil9XG4gICAgICAgICAgdmFsdWU9e3Byb3BzLnZhbHVlfVxuICAgICAgICAvPlxuICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBQb2xsIGZyb20gXCIuL3BvbGxcIlxuaW1wb3J0IFBvbGxGb3JtIGZyb20gXCIuL2Zvcm1cIlxuXG5leHBvcnQgeyBQb2xsIH1cbmV4cG9ydCB7IFBvbGxGb3JtIH1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IGVzY2FwZUh0bWwgZnJvbSBcIm1pc2Fnby91dGlscy9lc2NhcGUtaHRtbFwiXG5cbmNvbnN0IERBVEVfQUJCUiA9ICc8YWJiciB0aXRsZT1cIiUoYWJzb2x1dGUpc1wiPiUocmVsYXRpdmUpczwvYWJicj4nXG5jb25zdCBVU0VSX1NQQU4gPSAnPHNwYW4gY2xhc3M9XCJpdGVtLXRpdGxlXCI+JSh1c2VyKXM8L3NwYW4+J1xuY29uc3QgVVNFUl9VUkwgPSAnPGEgaHJlZj1cIiUodXJsKXNcIiBjbGFzcz1cIml0ZW0tdGl0bGVcIj4lKHVzZXIpczwvYT4nXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtdW5zdHlsZWQgbGlzdC1pbmxpbmUgcG9sbC1kZXRhaWxzXCI+XG4gICAgICA8UG9sbFZvdGVzIHZvdGVzPXtwcm9wcy5wb2xsLnZvdGVzfSAvPlxuICAgICAgPFBvbGxMZW5ndGggcG9sbD17cHJvcHMucG9sbH0gLz5cbiAgICAgIDxQb2xsSXNQdWJsaWMgcG9sbD17cHJvcHMucG9sbH0gLz5cbiAgICAgIDxQb2xsQ3JlYXRpb24gcG9sbD17cHJvcHMucG9sbH0gLz5cbiAgICA8L3VsPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQb2xsQ3JlYXRpb24ocHJvcHMpIHtcbiAgY29uc3QgbWVzc2FnZSA9IGludGVycG9sYXRlKFxuICAgIGVzY2FwZUh0bWwoXCLOlM63zrzOv8+DzrnOtc+NzrjOt866zrUgzrHPgM+MICUocG9zdGVyKXMgJShwb3N0ZWRfb24pc1wiKSxcbiAgICB7XG4gICAgICBwb3N0ZXI6IGdldFBvc3Rlcihwcm9wcy5wb2xsKSxcbiAgICAgIHBvc3RlZF9vbjogZ2V0UG9zdGVkT24ocHJvcHMucG9sbClcbiAgICB9LFxuICAgIHRydWVcbiAgKVxuXG4gIHJldHVybiAoXG4gICAgPGxpXG4gICAgICBjbGFzc05hbWU9XCJwb2xsLWluZm8tY3JlYXRpb25cIlxuICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiBtZXNzYWdlIH19XG4gICAgLz5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UG9zdGVyKHBvbGwpIHtcbiAgaWYgKHBvbGwudXJsLnBvc3Rlcikge1xuICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgIFVTRVJfVVJMLFxuICAgICAge1xuICAgICAgICB1cmw6IGVzY2FwZUh0bWwocG9sbC51cmwucG9zdGVyKSxcbiAgICAgICAgdXNlcjogZXNjYXBlSHRtbChwb2xsLnBvc3Rlcl9uYW1lKVxuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG4gIH1cblxuICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgVVNFUl9TUEFOLFxuICAgIHtcbiAgICAgIHVzZXI6IGVzY2FwZUh0bWwocG9sbC5wb3N0ZXJfbmFtZSlcbiAgICB9LFxuICAgIHRydWVcbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UG9zdGVkT24ocG9sbCkge1xuICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgREFURV9BQkJSLFxuICAgIHtcbiAgICAgIGFic29sdXRlOiBlc2NhcGVIdG1sKHBvbGwucG9zdGVkX29uLmZvcm1hdChcIkxMTFwiKSksXG4gICAgICByZWxhdGl2ZTogZXNjYXBlSHRtbChwb2xsLnBvc3RlZF9vbi5mcm9tTm93KCkpXG4gICAgfSxcbiAgICB0cnVlXG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBvbGxMZW5ndGgocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy5wb2xsLmxlbmd0aCkge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBjb25zdCBtZXNzYWdlID0gaW50ZXJwb2xhdGUoXG4gICAgZXNjYXBlSHRtbChcIs6XIM+IzrfPhs6/z4bOv8+Bzq/OsSDPhM61zrvOtc65z47Ovc61zrkgJShlbmRzX29uKXNcIiksXG4gICAge1xuICAgICAgZW5kc19vbjogZ2V0RW5kc09uKHByb3BzLnBvbGwpXG4gICAgfSxcbiAgICB0cnVlXG4gIClcblxuICByZXR1cm4gKFxuICAgIDxsaVxuICAgICAgY2xhc3NOYW1lPVwicG9sbC1pbmZvLWVuZHMtb25cIlxuICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiBtZXNzYWdlIH19XG4gICAgLz5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RW5kc09uKHBvbGwpIHtcbiAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgIERBVEVfQUJCUixcbiAgICB7XG4gICAgICBhYnNvbHV0ZTogZXNjYXBlSHRtbChwb2xsLmVuZHNPbi5mb3JtYXQoXCJMTExcIikpLFxuICAgICAgcmVsYXRpdmU6IGVzY2FwZUh0bWwocG9sbC5lbmRzT24uZnJvbU5vdygpKVxuICAgIH0sXG4gICAgdHJ1ZVxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQb2xsVm90ZXMocHJvcHMpIHtcbiAgbGV0IG1lc3NhZ2UgPSBcIiUodm90ZXMpcyDPiM6uz4bOv865XCJcbiAgaWYgKHByb3BzLnZvdGVzID09PSAxKSB7XG4gICAgbWVzc2FnZSA9IFwiJSh2b3RlcylzIM+Izq7Phs6/z4JcIlxuICB9XG4gIGNvbnN0IGxhYmVsID0gaW50ZXJwb2xhdGUoXG4gICAgbWVzc2FnZSxcbiAgICB7XG4gICAgICB2b3RlczogcHJvcHMudm90ZXNcbiAgICB9LFxuICAgIHRydWVcbiAgKVxuXG4gIHJldHVybiA8bGkgY2xhc3NOYW1lPVwicG9sbC1pbmZvLXZvdGVzXCI+e2xhYmVsfTwvbGk+XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQb2xsSXNQdWJsaWMocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy5wb2xsLmlzX3B1YmxpYykge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cInBvbGwtaW5mby1wdWJsaWNcIj57XCLOlyDPiM63z4bOv8+Gzr/Pgc6vzrEgzrXOr869zrHOuSDOsc69zr/Ouc+Hz4TOriDPg861IM+MzrvOv8+Fz4JcIn08L2xpPlxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgbW9tZW50IGZyb20gXCJtb21lbnRcIlxuaW1wb3J0IFJlc3VsdHMgZnJvbSBcIi4vcmVzdWx0c1wiXG5pbXBvcnQgVm90aW5nIGZyb20gXCIuL3ZvdGluZ1wiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIGxldCBzaG93UmVzdWx0cyA9IHRydWVcbiAgICBpZiAocHJvcHMudXNlci5pZCAmJiAhcHJvcHMucG9sbC5oYXNTZWxlY3RlZENob2ljZXMpIHtcbiAgICAgIHNob3dSZXN1bHRzID0gZmFsc2VcbiAgICB9XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgc2hvd1Jlc3VsdHNcbiAgICB9XG4gIH1cblxuICBzaG93UmVzdWx0cyA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHNob3dSZXN1bHRzOiB0cnVlXG4gICAgfSlcbiAgfVxuXG4gIHNob3dWb3RpbmcgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBzaG93UmVzdWx0czogZmFsc2VcbiAgICB9KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy50aHJlYWQucG9sbCkgcmV0dXJuIG51bGxcblxuICAgIGNvbnN0IGlzUG9sbE92ZXIgPSBnZXRJc1BvbGxPdmVyKHRoaXMucHJvcHMucG9sbClcblxuICAgIGlmIChcbiAgICAgICFpc1BvbGxPdmVyICYmXG4gICAgICB0aGlzLnByb3BzLnBvbGwuYWNsLmNhbl92b3RlICYmXG4gICAgICAhdGhpcy5zdGF0ZS5zaG93UmVzdWx0c1xuICAgICkge1xuICAgICAgcmV0dXJuIDxWb3Rpbmcgc2hvd1Jlc3VsdHM9e3RoaXMuc2hvd1Jlc3VsdHN9IHsuLi50aGlzLnByb3BzfSAvPlxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8UmVzdWx0c1xuICAgICAgICAgIGlzUG9sbE92ZXI9e2lzUG9sbE92ZXJ9XG4gICAgICAgICAgc2hvd1ZvdGluZz17dGhpcy5zaG93Vm90aW5nfVxuICAgICAgICAgIHsuLi50aGlzLnByb3BzfVxuICAgICAgICAvPlxuICAgICAgKVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0SXNQb2xsT3Zlcihwb2xsKSB7XG4gIGlmIChwb2xsLmxlbmd0aCkge1xuICAgIHJldHVybiBtb21lbnQoKS5pc0FmdGVyKHBvbGwuZW5kc09uKVxuICB9XG4gIHJldHVybiBmYWxzZVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwb2xsLWNob2ljZXMtYmFyc1wiPlxuICAgICAge3Byb3BzLnBvbGwuY2hvaWNlcy5tYXAoY2hvaWNlID0+IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8UG9sbENob2ljZSBjaG9pY2U9e2Nob2ljZX0ga2V5PXtjaG9pY2UuaGFzaH0gcG9sbD17cHJvcHMucG9sbH0gLz5cbiAgICAgICAgKVxuICAgICAgfSl9XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBvbGxDaG9pY2UocHJvcHMpIHtcbiAgbGV0IHByb2MgPSAwXG4gIGlmIChwcm9wcy5jaG9pY2Uudm90ZXMgJiYgcHJvcHMucG9sbC52b3Rlcykge1xuICAgIHByb2MgPSBNYXRoLmNlaWwoKHByb3BzLmNob2ljZS52b3RlcyAqIDEwMCkgLyBwcm9wcy5wb2xsLnZvdGVzKVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGwgY2xhc3NOYW1lPVwiZGwtaG9yaXpvbnRhbFwiPlxuICAgICAgPGR0Pntwcm9wcy5jaG9pY2UubGFiZWx9PC9kdD5cbiAgICAgIDxkZD5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcm9ncmVzc1wiPlxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInByb2dyZXNzLWJhclwiXG4gICAgICAgICAgICByb2xlPVwicHJvZ3Jlc3NiYXJcIlxuICAgICAgICAgICAgYXJpYS12YWx1ZW5vdz17cHJvY31cbiAgICAgICAgICAgIGFyaWEtdmFsdWVtaW49XCIwXCJcbiAgICAgICAgICAgIGFyaWEtdmFsdWVtYXg9XCIxMDBcIlxuICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHByb2MgKyBcIiVcIiB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInNyLW9ubHlcIj5cbiAgICAgICAgICAgICAge2dldFZvdGVzTGFiZWwocHJvcHMudm90ZXMsIHByb3BzLnByb2MpfVxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtdW5zdHlsZWQgbGlzdC1pbmxpbmUgcG9sbC1jaGFydFwiPlxuICAgICAgICAgIDxDaG9pY2VWb3RlcyBwcm9jPXtwcm9jfSB2b3Rlcz17cHJvcHMuY2hvaWNlLnZvdGVzfSAvPlxuICAgICAgICAgIDxVc2VyQ2hvaWNlIHNlbGVjdGVkPXtwcm9wcy5jaG9pY2Uuc2VsZWN0ZWR9IC8+XG4gICAgICAgIDwvdWw+XG4gICAgICA8L2RkPlxuICAgIDwvZGw+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIENob2ljZVZvdGVzKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGxpIGNsYXNzTmFtZT1cInBvbGwtY2hhcnQtdm90ZXNcIj5cbiAgICAgIHtnZXRWb3Rlc0xhYmVsKHByb3BzLnZvdGVzLCBwcm9wcy5wcm9jKX1cbiAgICA8L2xpPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRWb3Rlc0xhYmVsKHZvdGVzLCBwcm9jKSB7XG4gIGxldCBtZXNzYWdlID0gXCIlKHZvdGVzKXMgz4jOrs+Gzr/OuSwgJShwcm9jKXMlIM+Ezr/PhSDPg8+Fzr3PjM67zr/PhVwiXG4gIGlmICh2b3RlcyA9PT0gMSkge1xuICAgIG1lc3NhZ2UgPSBcIiUodm90ZXMpcyDPiM6uz4bOv8+CLCAlKHByb2MpcyUgz4TOv8+FIM+Dz4XOvc+MzrvOv8+FXCJcbiAgfVxuXG4gIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICBtZXNzYWdlLFxuICAgIHtcbiAgICAgIHZvdGVzOiB2b3RlcyxcbiAgICAgIHByb2M6IHByb2NcbiAgICB9LFxuICAgIHRydWVcbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gVXNlckNob2ljZShwcm9wcykge1xuICBpZiAoIXByb3BzLnNlbGVjdGVkKSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPGxpIGNsYXNzTmFtZT1cInBvbGwtY2hhcnQtc2VsZWN0ZWRcIj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jaGVja19ib3g8L3NwYW4+XG4gICAgICB7XCLOlyDOtc+AzrnOu86/zrPOriDPg86/z4VcIn1cbiAgICA8L2xpPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBDaGFydCBmcm9tIFwiLi9jaGFydFwiXG5pbXBvcnQgT3B0aW9ucyBmcm9tIFwiLi9vcHRpb25zXCJcbmltcG9ydCBQb2xsSW5mbyBmcm9tIFwiLi4vaW5mb1wiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbCBwYW5lbC1kZWZhdWx0IHBhbmVsLXBvbGxcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keVwiPlxuICAgICAgICA8aDI+e3Byb3BzLnBvbGwucXVlc3Rpb259PC9oMj5cbiAgICAgICAgPFBvbGxJbmZvIHBvbGw9e3Byb3BzLnBvbGx9IC8+XG4gICAgICAgIDxDaGFydCBwb2xsPXtwcm9wcy5wb2xsfSAvPlxuICAgICAgICA8T3B0aW9uc1xuICAgICAgICAgIGlzUG9sbE92ZXI9e3Byb3BzLmlzUG9sbE92ZXJ9XG4gICAgICAgICAgcG9sbD17cHJvcHMucG9sbH1cbiAgICAgICAgICBzaG93Vm90aW5nPXtwcm9wcy5zaG93Vm90aW5nfVxuICAgICAgICAgIHRocmVhZD17cHJvcHMudGhyZWFkfVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IG1vbWVudCBmcm9tIFwibW9tZW50XCJcbmltcG9ydCBNZXNzYWdlIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9tb2RhbC1tZXNzYWdlXCJcbmltcG9ydCBMb2FkZXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL21vZGFsLWxvYWRlclwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiB0cnVlLFxuICAgICAgZXJyb3I6IG51bGwsXG4gICAgICBkYXRhOiBbXVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGFqYXguZ2V0KHRoaXMucHJvcHMucG9sbC5hcGkudm90ZXMpLnRoZW4oXG4gICAgICBkYXRhID0+IHtcbiAgICAgICAgY29uc3QgaHlkcmF0ZWREYXRhID0gZGF0YS5tYXAoY2hvaWNlID0+IHtcbiAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgY2hvaWNlLCB7XG4gICAgICAgICAgICB2b3RlcnM6IGNob2ljZS52b3RlcnMubWFwKHZvdGVyID0+IHtcbiAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHZvdGVyLCB7XG4gICAgICAgICAgICAgICAgdm90ZWRfb246IG1vbWVudCh2b3Rlci52b3RlZF9vbilcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSlcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgICAgIGRhdGE6IGh5ZHJhdGVkRGF0YVxuICAgICAgICB9KVxuICAgICAgfSxcbiAgICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6IHJlamVjdGlvbi5kZXRhaWxcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICApXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3NOYW1lPXtcbiAgICAgICAgICBcIm1vZGFsLWRpYWxvZ1wiICsgKHRoaXMuc3RhdGUuZXJyb3IgPyBcIiBtb2RhbC1tZXNzYWdlXCIgOiBcIiBtb2RhbC1zbVwiKVxuICAgICAgICB9XG4gICAgICAgIHJvbGU9XCJkb2N1bWVudFwiXG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjbG9zZVwiXG4gICAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgYXJpYS1sYWJlbD17XCLOms67zrXOr8+DzrnOvM6/XCJ9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntcIs6ozq7Phs6/zrlcIn08L2g0PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPE1vZGFsQm9keVxuICAgICAgICAgICAgZGF0YT17dGhpcy5zdGF0ZS5kYXRhfVxuICAgICAgICAgICAgZXJyb3I9e3RoaXMuc3RhdGUuZXJyb3J9XG4gICAgICAgICAgICBpc0xvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBNb2RhbEJvZHkocHJvcHMpIHtcbiAgaWYgKHByb3BzLmlzTG9hZGluZykge1xuICAgIHJldHVybiA8TG9hZGVyIC8+XG4gIH0gZWxzZSBpZiAocHJvcHMuZXJyb3IpIHtcbiAgICByZXR1cm4gPE1lc3NhZ2UgaWNvbj1cImVycm9yX291dGxpbmVcIiBtZXNzYWdlPXtwcm9wcy5lcnJvcn0gLz5cbiAgfVxuXG4gIHJldHVybiA8Q2hvaWNlc0xpc3QgZGF0YT17cHJvcHMuZGF0YX0gLz5cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIENob2ljZXNMaXN0KHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5IG1vZGFsLXBvbGwtdm90ZXNcIj5cbiAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LXVuc3R5bGVkIHZvdGVzLWRldGFpbHNcIj5cbiAgICAgICAge3Byb3BzLmRhdGEubWFwKGNob2ljZSA9PiB7XG4gICAgICAgICAgcmV0dXJuIDxDaG9pY2VEZXRhaWxzIGtleT17Y2hvaWNlLmhhc2h9IHsuLi5jaG9pY2V9IC8+XG4gICAgICAgIH0pfVxuICAgICAgPC91bD5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gQ2hvaWNlRGV0YWlscyhwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxsaT5cbiAgICAgIDxoND57cHJvcHMubGFiZWx9PC9oND5cbiAgICAgIDxWb3Rlc0NvdW50IHZvdGVzPXtwcm9wcy52b3Rlc30gLz5cbiAgICAgIDxWb3Rlc0xpc3Qgdm90ZXJzPXtwcm9wcy52b3RlcnN9IC8+XG4gICAgICA8aHIgLz5cbiAgICA8L2xpPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBWb3Rlc0NvdW50KHByb3BzKSB7XG4gIGxldCBtZXNzYWdlID0gXCIlKHZvdGVzKXMgz4fPgc6uz4PPhM61z4Igz4jOrs+GzrnPg86xzr0gzrHPhc+Ezq4gz4TOt869IM61z4DOuc67zr/Os86uXCJcbiAgaWYgKHByb3BzLnZvdGVzID09PSAxKSB7XG4gICAgbWVzc2FnZSA9IFwiJSh2b3RlcylzIM+Hz4HOrs+Dz4TOt8+CIM+Izq7Phs65z4POtSDOsc+Fz4TOriDPhM63zr0gzrXPgM65zrvOv86zzq5cIlxuICB9XG5cbiAgY29uc3QgbGFiZWwgPSBpbnRlcnBvbGF0ZShcbiAgICBtZXNzYWdlLFxuICAgIHtcbiAgICAgIHZvdGVzOiBwcm9wcy52b3Rlc1xuICAgIH0sXG4gICAgdHJ1ZVxuICApXG5cbiAgcmV0dXJuIDxwPntsYWJlbH08L3A+XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBWb3Rlc0xpc3QocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy52b3RlcnMubGVuZ3RoKSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtdW5zdHlsZWRcIj5cbiAgICAgIHtwcm9wcy52b3RlcnMubWFwKHVzZXIgPT4ge1xuICAgICAgICByZXR1cm4gPFZvdGVyIGtleT17dXNlci51c2VybmFtZX0gey4uLnVzZXJ9IC8+XG4gICAgICB9KX1cbiAgICA8L3VsPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBWb3Rlcihwcm9wcykge1xuICBpZiAocHJvcHMudXJsKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGEgY2xhc3NOYW1lPVwiaXRlbS10aXRsZVwiIGhyZWY9e3Byb3BzLnVybH0+XG4gICAgICAgICAge3Byb3BzLnVzZXJuYW1lfVxuICAgICAgICA8L2E+e1wiIFwifVxuICAgICAgICA8Vm90ZURhdGUgdm90ZWRfb249e3Byb3BzLnZvdGVkX29ufSAvPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxsaT5cbiAgICAgIDxzdHJvbmc+e3Byb3BzLnVzZXJuYW1lfTwvc3Ryb25nPiA8Vm90ZURhdGUgdm90ZWRfb249e3Byb3BzLnZvdGVkX29ufSAvPlxuICAgIDwvbGk+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFZvdGVEYXRlKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGFiYnIgY2xhc3NOYW1lPVwidGV4dC1tdXRlZFwiIHRpdGxlPXtwcm9wcy52b3RlZF9vbi5mb3JtYXQoXCJMTExcIil9PlxuICAgICAge3Byb3BzLnZvdGVkX29uLmZyb21Ob3coKX1cbiAgICA8L2FiYnI+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IE1vZGFsIGZyb20gXCIuL21vZGFsXCJcbmltcG9ydCAqIGFzIHBvbGwgZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9wb2xsXCJcbmltcG9ydCAqIGFzIHRocmVhZCBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3RocmVhZFwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IG1vZGFsIGZyb20gXCJtaXNhZ28vc2VydmljZXMvbW9kYWxcIlxuaW1wb3J0IHBvc3RpbmcgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wb3N0aW5nXCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgY29uc3QgeyBpc1BvbGxPdmVyLCBwb2xsLCBzaG93Vm90aW5nLCB0aHJlYWQgfSA9IHByb3BzXG5cbiAgaWYgKCFpc1Zpc2libGUoaXNQb2xsT3ZlciwgcG9sbC5hY2wsIHBvbGwpKSByZXR1cm4gbnVsbFxuXG4gIGNvbnN0IGNvbnRyb2xzID0gW11cblxuICBjb25zdCBjYW5Wb3RlID0gcG9sbC5hY2wuY2FuX3ZvdGVcbiAgY29uc3QgY2FuQ2hhbmdlVm90ZSA9ICFwb2xsLmhhc1NlbGVjdGVkQ2hvaWNlcyB8fCBwb2xsLmFsbG93X3Jldm90ZXNcblxuICBpZiAoY2FuVm90ZSAmJiBjYW5DaGFuZ2VWb3RlKSBjb250cm9scy5wdXNoKDApXG4gIGlmIChwb2xsLmlzX3B1YmxpYyB8fCBwb2xsLmFjbC5jYW5fc2VlX3ZvdGVzKSBjb250cm9scy5wdXNoKDEpXG4gIGlmIChwb2xsLmFjbC5jYW5fZWRpdCkgY29udHJvbHMucHVzaCgyKVxuICBpZiAocG9sbC5hY2wuY2FuX2RlbGV0ZSkgY29udHJvbHMucHVzaCgzKVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgcG9sbC1vcHRpb25zXCI+XG4gICAgICA8Q2hhbmdlVm90ZVxuICAgICAgICBjb250cm9scz17Y29udHJvbHN9XG4gICAgICAgIGlzUG9sbE92ZXI9e2lzUG9sbE92ZXJ9XG4gICAgICAgIHBvbGw9e3BvbGx9XG4gICAgICAgIHNob3dWb3Rpbmc9e3Nob3dWb3Rpbmd9XG4gICAgICAvPlxuICAgICAgPFNlZVZvdGVzIGNvbnRyb2xzPXtjb250cm9sc30gcG9sbD17cG9sbH0gLz5cbiAgICAgIDxFZGl0IGNvbnRyb2xzPXtjb250cm9sc30gcG9sbD17cG9sbH0gdGhyZWFkPXt0aHJlYWR9IC8+XG4gICAgICA8RGVsZXRlIGNvbnRyb2xzPXtjb250cm9sc30gcG9sbD17cG9sbH0gLz5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNWaXNpYmxlKGlzUG9sbE92ZXIsIGFjbCwgcG9sbCkge1xuICByZXR1cm4gKFxuICAgIHBvbGwuaXNfcHVibGljIHx8XG4gICAgYWNsLmNhbl9kZWxldGUgfHxcbiAgICBhY2wuY2FuX2VkaXQgfHxcbiAgICBhY2wuY2FuX3NlZV92b3RlcyB8fFxuICAgIChhY2wuY2FuX3ZvdGUgJiZcbiAgICAgICFpc1BvbGxPdmVyICYmXG4gICAgICAoIXBvbGwuaGFzU2VsZWN0ZWRDaG9pY2VzIHx8IHBvbGwuYWxsb3dfcmV2b3RlcykpXG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENsYXNzTmFtZShjb250cm9scywgY29udHJvbCkge1xuICBsZXQgY2xhc3NOYW1lID0gXCJjb2wteHMtNlwiXG5cbiAgaWYgKGNvbnRyb2xzLmxlbmd0aCA9PT0gMSkge1xuICAgIGNsYXNzTmFtZSA9IFwiY29sLXhzLTEyXCJcbiAgfVxuXG4gIGlmIChjb250cm9scy5sZW5ndGggPT09IDMgJiYgY29udHJvbHNbMF0gPT09IGNvbnRyb2wpIHtcbiAgICBjbGFzc05hbWUgPSBcImNvbC14cy0xMlwiXG4gIH1cblxuICByZXR1cm4gY2xhc3NOYW1lICsgXCIgY29sLXNtLTMgY29sLW1kLTJcIlxufVxuXG5leHBvcnQgZnVuY3Rpb24gQ2hhbmdlVm90ZShwcm9wcykge1xuICBjb25zdCBjYW5Wb3RlID0gcHJvcHMucG9sbC5hY2wuY2FuX3ZvdGVcbiAgY29uc3QgY2FuQ2hhbmdlVm90ZSA9XG4gICAgIXByb3BzLnBvbGwuaGFzU2VsZWN0ZWRDaG9pY2VzIHx8IHByb3BzLnBvbGwuYWxsb3dfcmV2b3Rlc1xuXG4gIGlmICghKGNhblZvdGUgJiYgY2FuQ2hhbmdlVm90ZSkpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17Z2V0Q2xhc3NOYW1lKHByb3BzLmNvbnRyb2xzLCAwKX0+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLXNtXCJcbiAgICAgICAgZGlzYWJsZWQ9e3Byb3BzLnBvbGwuaXNCdXN5fVxuICAgICAgICBvbkNsaWNrPXtwcm9wcy5zaG93Vm90aW5nfVxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAge1wizpHOu867zrHOs86uIM+Izq7Phs6/z4VcIn1cbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBjbGFzcyBTZWVWb3RlcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kYWwuc2hvdyg8TW9kYWwgcG9sbD17dGhpcy5wcm9wcy5wb2xsfSAvPilcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBzZWVWb3RlcyA9XG4gICAgICB0aGlzLnByb3BzLnBvbGwuaXNfcHVibGljIHx8IHRoaXMucHJvcHMucG9sbC5hY2wuY2FuX3NlZV92b3Rlc1xuICAgIGlmICghc2VlVm90ZXMpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e2dldENsYXNzTmFtZSh0aGlzLnByb3BzLmNvbnRyb2xzLCAxKX0+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1zbVwiXG4gICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMucG9sbC5pc0J1c3l9XG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAge1wizqDPgc6/zrLOv867zq4gz4jOrs+Gz4nOvVwifVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRWRpdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgcG9zdGluZy5vcGVuKHtcbiAgICAgIHN1Ym1pdDogdGhpcy5wcm9wcy5wb2xsLmFwaS5pbmRleCxcblxuICAgICAgdGhyZWFkOiB0aGlzLnByb3BzLnRocmVhZCxcbiAgICAgIHBvbGw6IHRoaXMucHJvcHMucG9sbCxcblxuICAgICAgbW9kZTogXCJQT0xMXCJcbiAgICB9KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5wb2xsLmFjbC5jYW5fZWRpdCkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Z2V0Q2xhc3NOYW1lKHRoaXMucHJvcHMuY29udHJvbHMsIDIpfT5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLXNtXCJcbiAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5wb2xsLmlzQnVzeX1cbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICB7XCLOlc+AzrXOvs61z4HOs86xz4POr86xXCJ9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEZWxldGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIGNvbnN0IGRlbGV0ZVBvbGwgPSBjb25maXJtKFxuICAgICAgICBcIs6Vzq/Pg86xzrkgz4POr86zzr/Phc+Bzr/PgiDPjM+EzrkgzrjOrc67zrXOuc+CIM69zrEgzrTOuc6xzrPPgc6sz4jOtc65z4IgzrHPhc+Ezq4gz4TOt869IM+IzrfPhs6/z4bOv8+Bzq/OsTtcIlxuICAgIClcbiAgICBpZiAoIWRlbGV0ZVBvbGwpIHJldHVybiBmYWxzZVxuXG4gICAgc3RvcmUuZGlzcGF0Y2gocG9sbC5idXN5KCkpXG5cbiAgICBhamF4XG4gICAgICAuZGVsZXRlKHRoaXMucHJvcHMucG9sbC5hcGkuaW5kZXgpXG4gICAgICAudGhlbih0aGlzLmhhbmRsZVN1Y2Nlc3MsIHRoaXMuaGFuZGxlRXJyb3IpXG4gIH1cblxuICBoYW5kbGVTdWNjZXNzID0gbmV3VGhyZWFkQWNsID0+IHtcbiAgICBzbmFja2Jhci5zdWNjZXNzKFwizpcgz4jOt8+Gzr/Phs6/z4HOr86xIM60zrnOsc6zz4HOrM+GzrfOus61IM61z4DOuc+Ez4XPh8+Oz4IhXCIpXG4gICAgc3RvcmUuZGlzcGF0Y2gocG9sbC5yZW1vdmUoKSlcbiAgICBzdG9yZS5kaXNwYXRjaCh0aHJlYWQudXBkYXRlQWNsKG5ld1RocmVhZEFjbCkpXG4gIH1cblxuICBoYW5kbGVFcnJvciA9IHJlamVjdGlvbiA9PiB7XG4gICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgIHN0b3JlLmRpc3BhdGNoKHBvbGwucmVsZWFzZSgpKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5wb2xsLmFjbC5jYW5fZGVsZXRlKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtnZXRDbGFzc05hbWUodGhpcy5wcm9wcy5jb250cm9scywgMyl9PlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4tc21cIlxuICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLnBvbGwuaXNCdXN5fVxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIHtcIs6UzrnOsc6zz4HOsc+Gzq5cIn1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LXVuc3R5bGVkIGxpc3QtaW5saW5lIHBvbGwtaGVscFwiPlxuICAgICAgPFBvbGxDaG9pY2VzTGVmdCBjaG9pY2VzTGVmdD17cHJvcHMuY2hvaWNlc0xlZnR9IC8+XG4gICAgICA8UG9sbEFsbG93UmV2b3RlIHBvbGw9e3Byb3BzLnBvbGx9IC8+XG4gICAgPC91bD5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUG9sbENob2ljZXNMZWZ0KHsgY2hvaWNlc0xlZnQgfSkge1xuICBpZiAoY2hvaWNlc0xlZnQgPT09IDApIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGxpIGNsYXNzTmFtZT1cInBvbGwtaGVscC1jaG9pY2VzLWxlZnRcIj5cbiAgICAgICAge1wizpTOtc69IM68z4DOv8+BzrXOr8+CIM69zrEgzrTOuc6xzrvOrc6+zrXOuc+CIM+AzrHPgc6xz4DOrM69z4kgzrXPgM65zrvOv86zzq3PglwifVxuICAgICAgPC9saT5cbiAgICApXG4gIH1cblxuICBsZXQgbWVzc2FnZSA9IFwizpzPgM6/z4HOtc6vz4Igzr3OsSDOtM65zrHOu86tzr7Otc65z4IgJShjaG9pY2VzKXMgzrHOus+MzrzOsSDOtc+AzrnOu86/zrPOrc+CXCJcbiAgaWYgKGNob2ljZXNMZWZ0ID09PSAxKSB7XG4gICAgbWVzc2FnZSA9IFwizpzPgM6/z4HOtc6vz4Igzr3OsSDOtM65zrHOu86tzr7Otc65z4IgJShjaG9pY2VzKXMgzrHOus+MzrzOsSDOtc+AzrnOu86/zrPOrlwiXG4gIH1cblxuICBjb25zdCBsYWJlbCA9IGludGVycG9sYXRlKFxuICAgIG1lc3NhZ2UsXG4gICAge1xuICAgICAgY2hvaWNlczogY2hvaWNlc0xlZnRcbiAgICB9LFxuICAgIHRydWVcbiAgKVxuXG4gIHJldHVybiA8bGkgY2xhc3NOYW1lPVwicG9sbC1oZWxwLWNob2ljZXMtbGVmdFwiPntsYWJlbH08L2xpPlxufVxuXG5leHBvcnQgZnVuY3Rpb24gUG9sbEFsbG93UmV2b3RlKHByb3BzKSB7XG4gIGlmIChwcm9wcy5wb2xsLmFsbG93X3Jldm90ZXMpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGxpIGNsYXNzTmFtZT1cInBvbGwtaGVscC1hbGxvdy1yZXZvdGVzXCI+XG4gICAgICAgIHtcIs6cz4DOv8+BzrXOr8+CIM69zrEgzrHOu867zqzOvs61zrnPgiDPhM63zr0gz4jOrs+Gzr8gz4POv8+FIM6xz4HOs8+Mz4TOtc+BzrFcIn1cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJwb2xsLWhlbHAtbm8tcmV2b3Rlc1wiPntcIs6fzrkgz4jOrs+Gzr/OuSDOtc6vzr3Osc65IM+EzrXOu865zrrOrc+CXCJ9PC9saT5cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IENob2ljZXNIZWxwIGZyb20gXCIuL2hlbHBcIlxuaW1wb3J0IENob2ljZXNTZWxlY3QgZnJvbSBcIi4vc2VsZWN0XCJcbmltcG9ydCB7IGdldENob2ljZXNMZWZ0LCBnZXRDaG9pY2VGcm9tSGFzaCB9IGZyb20gXCIuL3V0aWxzXCJcbmltcG9ydCBQb2xsSW5mbyBmcm9tIFwiLi4vaW5mb1wiXG5pbXBvcnQgeyBEZWxldGUsIEVkaXQsIGdldENsYXNzTmFtZSB9IGZyb20gXCIuLi9yZXN1bHRzL29wdGlvbnNcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uXCJcbmltcG9ydCBGb3JtIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtXCJcbmltcG9ydCAqIGFzIHBvbGwgZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9wb2xsXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcblxuICAgICAgY2hvaWNlczogcHJvcHMucG9sbC5jaG9pY2VzLFxuICAgICAgY2hvaWNlc0xlZnQ6IGdldENob2ljZXNMZWZ0KHByb3BzLnBvbGwsIHByb3BzLnBvbGwuY2hvaWNlcylcbiAgICB9XG4gIH1cblxuICB0b2dnbGVDaG9pY2UgPSBoYXNoID0+IHtcbiAgICBjb25zdCBjaG9pY2UgPSBnZXRDaG9pY2VGcm9tSGFzaCh0aGlzLnN0YXRlLmNob2ljZXMsIGhhc2gpXG5cbiAgICBsZXQgY2hvaWNlcyA9IG51bGxcbiAgICBpZiAoIWNob2ljZS5zZWxlY3RlZCkge1xuICAgICAgY2hvaWNlcyA9IHRoaXMuc2VsZWN0Q2hvaWNlKGNob2ljZSwgaGFzaClcbiAgICB9IGVsc2Uge1xuICAgICAgY2hvaWNlcyA9IHRoaXMuZGVzZWxlY3RDaG9pY2UoY2hvaWNlLCBoYXNoKVxuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgY2hvaWNlcyxcbiAgICAgIGNob2ljZXNMZWZ0OiBnZXRDaG9pY2VzTGVmdCh0aGlzLnByb3BzLnBvbGwsIGNob2ljZXMpXG4gICAgfSlcbiAgfVxuXG4gIHNlbGVjdENob2ljZSA9IChjaG9pY2UsIGhhc2gpID0+IHtcbiAgICBjb25zdCBjaG9pY2VzTGVmdCA9IGdldENob2ljZXNMZWZ0KHRoaXMucHJvcHMucG9sbCwgdGhpcy5zdGF0ZS5jaG9pY2VzKVxuXG4gICAgaWYgKCFjaG9pY2VzTGVmdCkge1xuICAgICAgZm9yIChjb25zdCBpIGluIHRoaXMuc3RhdGUuY2hvaWNlcy5zbGljZSgpKSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLnN0YXRlLmNob2ljZXNbaV1cbiAgICAgICAgaWYgKGl0ZW0uc2VsZWN0ZWQgJiYgaXRlbS5oYXNoICE9PSBoYXNoKSB7XG4gICAgICAgICAgaXRlbS5zZWxlY3RlZCA9IGZhbHNlXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnN0YXRlLmNob2ljZXMubWFwKGNob2ljZSA9PiB7XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgY2hvaWNlLCB7XG4gICAgICAgIHNlbGVjdGVkOiBjaG9pY2UuaGFzaCA9PT0gaGFzaCA/IHRydWUgOiBjaG9pY2Uuc2VsZWN0ZWRcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIGRlc2VsZWN0Q2hvaWNlID0gKGNob2ljZSwgaGFzaCkgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0YXRlLmNob2ljZXMubWFwKGNob2ljZSA9PiB7XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgY2hvaWNlLCB7XG4gICAgICAgIHNlbGVjdGVkOiBjaG9pY2UuaGFzaCA9PT0gaGFzaCA/IGZhbHNlIDogY2hvaWNlLnNlbGVjdGVkXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5jaG9pY2VzTGVmdCA9PT0gdGhpcy5wcm9wcy5wb2xsLmFsbG93ZWRfY2hvaWNlcykge1xuICAgICAgc25hY2tiYXIuZXJyb3IoXCLOoM+Bzq3PgM61zrkgzr3OsSDOtM65zrHOu86tzr7Otc65z4Igz4TOv8+FzrvOrM+HzrnPg8+Ezr/OvSDOvM6vzrEgzrXPgM65zrvOv86zzq4hXCIpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICBsZXQgZGF0YSA9IFtdXG4gICAgZm9yIChjb25zdCBpIGluIHRoaXMuc3RhdGUuY2hvaWNlcy5zbGljZSgpKSB7XG4gICAgICBjb25zdCBpdGVtID0gdGhpcy5zdGF0ZS5jaG9pY2VzW2ldXG4gICAgICBpZiAoaXRlbS5zZWxlY3RlZCkge1xuICAgICAgICBkYXRhLnB1c2goaXRlbS5oYXNoKVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy5wb2xsLmFwaS52b3RlcywgZGF0YSlcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MoZGF0YSkge1xuICAgIHN0b3JlLmRpc3BhdGNoKHBvbGwucmVwbGFjZShkYXRhKSlcbiAgICBzbmFja2Jhci5zdWNjZXNzKFwizpcgz4jOrs+Gzr/PgiDPg86/z4UgzrrOsc+EzrHOvM61z4TPgc6uzrjOt866zrUgzrXPgM65z4TPhc+Hz47PgiFcIilcblxuICAgIHRoaXMucHJvcHMuc2hvd1Jlc3VsdHMoKVxuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbClcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBjb250cm9scyA9IFtdXG5cbiAgICBpZiAodGhpcy5wcm9wcy5wb2xsLmFjbC5jYW5fdm90ZSkgY29udHJvbHMucHVzaCgwKVxuICAgIGlmICh0aGlzLnByb3BzLnBvbGwuaXNfcHVibGljIHx8IHRoaXMucHJvcHMucG9sbC5hY2wuY2FuX3NlZV92b3RlcylcbiAgICAgIGNvbnRyb2xzLnB1c2goMSlcbiAgICBpZiAodGhpcy5wcm9wcy5wb2xsLmFjbC5jYW5fZWRpdCkgY29udHJvbHMucHVzaCgyKVxuICAgIGlmICh0aGlzLnByb3BzLnBvbGwuYWNsLmNhbl9kZWxldGUpIGNvbnRyb2xzLnB1c2goMylcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRlZmF1bHQgcGFuZWwtcG9sbFwiPlxuICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keVwiPlxuICAgICAgICAgICAgPGgyPnt0aGlzLnByb3BzLnBvbGwucXVlc3Rpb259PC9oMj5cbiAgICAgICAgICAgIDxQb2xsSW5mbyBwb2xsPXt0aGlzLnByb3BzLnBvbGx9IC8+XG4gICAgICAgICAgICA8Q2hvaWNlc1NlbGVjdFxuICAgICAgICAgICAgICBjaG9pY2VzPXt0aGlzLnN0YXRlLmNob2ljZXN9XG4gICAgICAgICAgICAgIHRvZ2dsZUNob2ljZT17dGhpcy50b2dnbGVDaG9pY2V9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPENob2ljZXNIZWxwXG4gICAgICAgICAgICAgIGNob2ljZXNMZWZ0PXt0aGlzLnN0YXRlLmNob2ljZXNMZWZ0fVxuICAgICAgICAgICAgICBwb2xsPXt0aGlzLnByb3BzLnBvbGx9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtZm9vdGVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Z2V0Q2xhc3NOYW1lKGNvbnRyb2xzLCAwKX0+XG4gICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLXByaW1hcnkgYnRuLWJsb2NrIGJ0bi1zbVwiXG4gICAgICAgICAgICAgICAgICBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7XCLOkc+Azr/Pg8+Ezr/Ou86uIM+Izq7Phs6/z4VcIn1cbiAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtnZXRDbGFzc05hbWUoY29udHJvbHMsIDEpfT5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1zbVwiXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnByb3BzLnNob3dSZXN1bHRzfVxuICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge1wizpHPgM6/z4TOtc67zq3Pg868zrHPhM6xXCJ9XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8RWRpdFxuICAgICAgICAgICAgICAgIGNvbnRyb2xzPXtjb250cm9sc31cbiAgICAgICAgICAgICAgICBwb2xsPXt0aGlzLnByb3BzLnBvbGx9XG4gICAgICAgICAgICAgICAgdGhyZWFkPXt0aGlzLnByb3BzLnRocmVhZH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPERlbGV0ZSBjb250cm9scz17Y29udHJvbHN9IHBvbGw9e3RoaXMucHJvcHMucG9sbH0gLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Zvcm0+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LXVuc3R5bGVkIHBvbGwtc2VsZWN0LWNob2ljZXNcIj5cbiAgICAgIHtwcm9wcy5jaG9pY2VzLm1hcChjaG9pY2UgPT4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxDaG9pY2VTZWxlY3RcbiAgICAgICAgICAgIGNob2ljZT17Y2hvaWNlfVxuICAgICAgICAgICAga2V5PXtjaG9pY2UuaGFzaH1cbiAgICAgICAgICAgIHRvZ2dsZUNob2ljZT17cHJvcHMudG9nZ2xlQ2hvaWNlfVxuICAgICAgICAgIC8+XG4gICAgICAgIClcbiAgICAgIH0pfVxuICAgIDwvdWw+XG4gIClcbn1cblxuZXhwb3J0IGNsYXNzIENob2ljZVNlbGVjdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgdGhpcy5wcm9wcy50b2dnbGVDaG9pY2UodGhpcy5wcm9wcy5jaG9pY2UuaGFzaClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGxpIGNsYXNzTmFtZT1cInBvbGwtc2VsZWN0LWNob2ljZVwiPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPXt0aGlzLnByb3BzLmNob2ljZS5zZWxlY3RlZCA/IFwiYnRuIGJ0bi1zZWxlY3RlZFwiIDogXCJidG5cIn1cbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICB7dGhpcy5wcm9wcy5jaG9pY2Uuc2VsZWN0ZWRcbiAgICAgICAgICAgICAgPyBcImNoZWNrX2JveFwiXG4gICAgICAgICAgICAgIDogXCJjaGVja19ib3hfb3V0bGluZV9ibGFua1wifVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8c3Ryb25nPnt0aGlzLnByb3BzLmNob2ljZS5sYWJlbH08L3N0cm9uZz5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGdldENob2ljZUZyb21IYXNoKGNob2ljZXMsIGhhc2gpIHtcbiAgZm9yIChjb25zdCBpIGluIGNob2ljZXMpIHtcbiAgICBjb25zdCBjaG9pY2UgPSBjaG9pY2VzW2ldXG4gICAgaWYgKGNob2ljZS5oYXNoID09PSBoYXNoKSB7XG4gICAgICByZXR1cm4gY2hvaWNlXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bGxcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENob2ljZXNMZWZ0KHBvbGwsIGNob2ljZXMpIHtcbiAgbGV0IHNlbGVjdGlvbiA9IFtdXG4gIGZvciAoY29uc3QgaSBpbiBjaG9pY2VzKSB7XG4gICAgY29uc3QgY2hvaWNlID0gY2hvaWNlc1tpXVxuICAgIGlmIChjaG9pY2Uuc2VsZWN0ZWQpIHtcbiAgICAgIHNlbGVjdGlvbi5wdXNoKGNob2ljZSlcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcG9sbC5hbGxvd2VkX2Nob2ljZXMgLSBzZWxlY3Rpb24ubGVuZ3RoXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHkgcG9zdC1jaGFuZ2Vsb2ctZGlmZlwiPlxuICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtdW5zdHlsZWRcIj5cbiAgICAgICAge3Byb3BzLmRpZmYubWFwKChpdGVtLCBpKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIDxEaWZmSXRlbSBpdGVtPXtpdGVtfSBrZXk9e2l9IC8+XG4gICAgICAgIH0pfVxuICAgICAgPC91bD5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gRGlmZkl0ZW0ocHJvcHMpIHtcbiAgaWYgKHByb3BzLml0ZW1bMF0gPT09IFwiP1wiKSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPGxpIGNsYXNzTmFtZT17Z2V0SXRlbUNsYXNzTmFtZShwcm9wcy5pdGVtKX0+e2NsZWFuSXRlbShwcm9wcy5pdGVtKX08L2xpPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRJdGVtQ2xhc3NOYW1lKGl0ZW0pIHtcbiAgbGV0IGNsYXNzTmFtZSA9IFwiZGlmZi1pdGVtXCJcbiAgaWYgKGl0ZW1bMF0gPT09IFwiLVwiKSB7XG4gICAgY2xhc3NOYW1lICs9IFwiIGRpZmYtaXRlbS1zdWJcIlxuICB9IGVsc2UgaWYgKGl0ZW1bMF0gPT09IFwiK1wiKSB7XG4gICAgY2xhc3NOYW1lICs9IFwiIGRpZmYtaXRlbS1hZGRcIlxuICB9XG4gIHJldHVybiBjbGFzc05hbWVcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFuSXRlbShpdGVtKSB7XG4gIHJldHVybiBpdGVtLnN1YnN0cigyKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQnV0dG9uIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9idXR0b25cIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgdGhpcy5wcm9wcy5yZXZlcnRFZGl0KHRoaXMucHJvcHMuZWRpdC5pZClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMuY2FuUmV2ZXJ0KSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZm9vdGVyIHZpc2libGUteHMtYmxvY2tcIj5cbiAgICAgICAgPEJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1kZWZhdWx0IGJ0bi1zbSBidG4tYmxvY2tcIlxuICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkfVxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cbiAgICAgICAgICB0aXRsZT17XCLOlc+AzrHOvc6xz4bOv8+Bzqwgz4DPgc6/z4PPhs6/z4HOrM+CIM+Dz4TOt869IM+Az4HOv863zrPOv8+NzrzOtc69zrcgzrrOsc+EzqzPg8+EzrHPg863XCJ9XG4gICAgICAgID5cbiAgICAgICAgICB7XCLOlc+AzrHOvc6xz4bOv8+BzqxcIn1cbiAgICAgICAgPC9CdXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IERpZmYgZnJvbSBcIi4vZGlmZlwiXG5pbXBvcnQgRm9vdGVyIGZyb20gXCIuL2Zvb3RlclwiXG5pbXBvcnQgVG9vbGJhciBmcm9tIFwiLi90b29sYmFyXCJcbmltcG9ydCB7IGh5ZHJhdGVFZGl0IH0gZnJvbSBcIi4vdXRpbHNcIlxuaW1wb3J0IE1lc3NhZ2UgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL21vZGFsLW1lc3NhZ2VcIlxuaW1wb3J0IExvYWRlciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvbW9kYWwtbG9hZGVyXCJcbmltcG9ydCAqIGFzIHBvc3QgZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9wb3N0XCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgbW9kYWwgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9tb2RhbFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc1JlYWR5OiBmYWxzZSxcbiAgICAgIGlzQnVzeTogdHJ1ZSxcblxuICAgICAgY2FuUmV2ZXJ0OiBwcm9wcy5wb3N0LmFjbC5jYW5fZWRpdCxcblxuICAgICAgZXJyb3I6IG51bGwsXG4gICAgICBlZGl0OiBudWxsXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5nb1RvRWRpdCgpXG4gIH1cblxuICBnb1RvRWRpdCA9IChlZGl0ID0gbnVsbCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNCdXN5OiB0cnVlXG4gICAgfSlcblxuICAgIGxldCB1cmwgPSB0aGlzLnByb3BzLnBvc3QuYXBpLmVkaXRzXG4gICAgaWYgKGVkaXQgIT09IG51bGwpIHtcbiAgICAgIHVybCArPSBcIj9lZGl0PVwiICsgZWRpdFxuICAgIH1cblxuICAgIGFqYXguZ2V0KHVybCkudGhlbihcbiAgICAgIGRhdGEgPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpc1JlYWR5OiB0cnVlLFxuICAgICAgICAgIGlzQnVzeTogZmFsc2UsXG4gICAgICAgICAgZWRpdDogaHlkcmF0ZUVkaXQoZGF0YSlcbiAgICAgICAgfSlcbiAgICAgIH0sXG4gICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpc1JlYWR5OiB0cnVlLFxuICAgICAgICAgIGlzQnVzeTogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6IHJlamVjdGlvbi5kZXRhaWxcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICApXG4gIH1cblxuICByZXZlcnRFZGl0ID0gZWRpdCA9PiB7XG4gICAgaWYgKHRoaXMuc3RhdGUuaXNCdXN5KSByZXR1cm5cblxuICAgIGNvbnN0IGNvbmZpcm1hdGlvbiA9IGNvbmZpcm0oXG4gICAgICBcIs6Vzq/Pg86xzrkgz4POr86zzr/Phc+Bzr/PgiDPjM+EzrkgzrjOtc+CIM69zrEgzrXPgM6xzr3Osc+Gzq3Pgc61zrnPgiDPhM63zr0gz4DPgc6/z4PPhs6/z4HOrCDPg8+EzrfOvSDPgM+Bzr/Ot86zzr/Pjc68zrXOvc63IM66zrHPhM6sz4PPhM6xz4POtztcIlxuICAgIClcbiAgICBpZiAoIWNvbmZpcm1hdGlvbikgcmV0dXJuXG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzQnVzeTogdHJ1ZVxuICAgIH0pXG5cbiAgICBjb25zdCB1cmwgPSB0aGlzLnByb3BzLnBvc3QuYXBpLmVkaXRzICsgXCI/ZWRpdD1cIiArIGVkaXRcbiAgICBhamF4LnBvc3QodXJsKS50aGVuKFxuICAgICAgZGF0YSA9PiB7XG4gICAgICAgIGNvbnN0IGh5ZHJhdGVkUG9zdCA9IHBvc3QuaHlkcmF0ZShkYXRhKVxuICAgICAgICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKGRhdGEsIGh5ZHJhdGVkUG9zdCkpXG5cbiAgICAgICAgc25hY2tiYXIuc3VjY2VzcyhcIs6XIM+Az4HOv8+Dz4bOv8+BzqwgzrXPgM6xzr3Osc+Gzq3Pgc64zrfOus61IM+Dz4TOt869IM+Az4HOv863zrPOv8+NzrzOtc69zrcgzrrOsc+EzqzPg8+EzrHPg863IM61z4DOuc+Ez4XPh8+Oz4IhXCIpXG4gICAgICAgIG1vZGFsLmhpZGUoKVxuICAgICAgfSxcbiAgICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcblxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpc0J1c3k6IGZhbHNlXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmVycm9yKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8TW9kYWxEaWFsb2cgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nIG1vZGFsLW1lc3NhZ2VcIj5cbiAgICAgICAgICA8TWVzc2FnZSBtZXNzYWdlPXt0aGlzLnN0YXRlLmVycm9yfSAvPlxuICAgICAgICA8L01vZGFsRGlhbG9nPlxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5pc1JlYWR5KSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8TW9kYWxEaWFsb2c+XG4gICAgICAgICAgPFRvb2xiYXJcbiAgICAgICAgICAgIGNhblJldmVydD17dGhpcy5zdGF0ZS5jYW5SZXZlcnR9XG4gICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0J1c3l9XG4gICAgICAgICAgICBlZGl0PXt0aGlzLnN0YXRlLmVkaXR9XG4gICAgICAgICAgICBnb1RvRWRpdD17dGhpcy5nb1RvRWRpdH1cbiAgICAgICAgICAgIHJldmVydEVkaXQ9e3RoaXMucmV2ZXJ0RWRpdH1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxEaWZmIGRpZmY9e3RoaXMuc3RhdGUuZWRpdC5kaWZmfSAvPlxuICAgICAgICAgIDxGb290ZXJcbiAgICAgICAgICAgIGNhblJldmVydD17dGhpcy5zdGF0ZS5jYW5SZXZlcnR9XG4gICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0J1c3l9XG4gICAgICAgICAgICBlZGl0PXt0aGlzLnN0YXRlLmVkaXR9XG4gICAgICAgICAgICByZXZlcnRFZGl0PXt0aGlzLnJldmVydEVkaXR9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9Nb2RhbERpYWxvZz5cbiAgICAgIClcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPE1vZGFsRGlhbG9nPlxuICAgICAgICA8TG9hZGVyIC8+XG4gICAgICA8L01vZGFsRGlhbG9nPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTW9kYWxEaWFsb2cocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17cHJvcHMuY2xhc3NOYW1lIHx8IFwibW9kYWwtZGlhbG9nXCJ9IHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgYXJpYS1sYWJlbD17XCLOms67zrXOr8+DzrnOvM6/XCJ9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJjbG9zZVwiXG4gICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntcIs6Zz4PPhM6/z4HOuc66z4wgz4TPgc6/z4DOv8+Azr/Ouc6uz4POtc+Jzr0gz4DPgc6/z4PPhs6/z4HOrM+CXCJ9PC9oND5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHtwcm9wcy5jaGlsZHJlbn1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBCdXR0b24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2J1dHRvblwiXG5pbXBvcnQgZXNjYXBlSHRtbCBmcm9tIFwibWlzYWdvL3V0aWxzL2VzY2FwZS1odG1sXCJcblxuY29uc3QgREFURV9BQkJSID0gJzxhYmJyIHRpdGxlPVwiJShhYnNvbHV0ZSlzXCI+JShyZWxhdGl2ZSlzPC9hYmJyPidcbmNvbnN0IFVTRVJfU1BBTiA9ICc8c3BhbiBjbGFzcz1cIml0ZW0tdGl0bGVcIj4lKHVzZXIpczwvc3Bhbj4nXG5jb25zdCBVU0VSX1VSTCA9ICc8YSBocmVmPVwiJSh1cmwpc1wiIGNsYXNzPVwiaXRlbS10aXRsZVwiPiUodXNlcilzPC9hPidcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnb0xhc3QgPSAoKSA9PiB7XG4gICAgdGhpcy5wcm9wcy5nb1RvRWRpdCgpXG4gIH1cblxuICBnb0ZvcndhcmQgPSAoKSA9PiB7XG4gICAgdGhpcy5wcm9wcy5nb1RvRWRpdCh0aGlzLnByb3BzLmVkaXQubmV4dClcbiAgfVxuXG4gIGdvQmFjayA9ICgpID0+IHtcbiAgICB0aGlzLnByb3BzLmdvVG9FZGl0KHRoaXMucHJvcHMuZWRpdC5wcmV2aW91cylcbiAgfVxuXG4gIHJldmVydEVkaXQgPSAoKSA9PiB7XG4gICAgdGhpcy5wcm9wcy5yZXZlcnRFZGl0KHRoaXMucHJvcHMuZWRpdC5pZClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC10b29sYmFyIHBvc3QtY2hhbmdlbG9nLXRvb2xiYXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMiBjb2wtc20tNFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtNFwiPlxuICAgICAgICAgICAgICAgIDxHb0JhY2tCdG5cbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkfVxuICAgICAgICAgICAgICAgICAgZWRpdD17dGhpcy5wcm9wcy5lZGl0fVxuICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5nb0JhY2t9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTRcIj5cbiAgICAgICAgICAgICAgICA8R29Gb3J3YXJkQnRuXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgICAgICAgICAgIGVkaXQ9e3RoaXMucHJvcHMuZWRpdH1cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuZ29Gb3J3YXJkfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy00XCI+XG4gICAgICAgICAgICAgICAgPEdvTGFzdEJ0blxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWR9XG4gICAgICAgICAgICAgICAgICBlZGl0PXt0aGlzLnByb3BzLmVkaXR9XG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmdvTGFzdH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyIGNvbC1zbS01IHhzLW1hcmdpbi10b3AtaGFsZiBwb3N0LWNoYW5nZS1sYWJlbFwiPlxuICAgICAgICAgICAgPExhYmVsIGVkaXQ9e3RoaXMucHJvcHMuZWRpdH0gLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8UmV2ZXJ0QnRuXG4gICAgICAgICAgICBjYW5SZXZlcnQ9e3RoaXMucHJvcHMuY2FuUmV2ZXJ0fVxuICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWR9XG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnJldmVydEVkaXR9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEdvQmFja0J0bihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxCdXR0b25cbiAgICAgIGNsYXNzTmFtZT1cImJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4taWNvbiBidG4tc21cIlxuICAgICAgZGlzYWJsZWQ9e3Byb3BzLmRpc2FibGVkIHx8ICFwcm9wcy5lZGl0LnByZXZpb3VzfVxuICAgICAgb25DbGljaz17cHJvcHMub25DbGlja31cbiAgICAgIHRpdGxlPXtcIs6UzrXPgiDPhM63zr0gz4DPgc6/zrfOs86/z43OvM61zr3OtyDPhM+Bzr/PgM6/zq/Ot8+DzrdcIn1cbiAgICA+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2hldnJvbl9sZWZ0PC9zcGFuPlxuICAgIDwvQnV0dG9uPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBHb0ZvcndhcmRCdG4ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8QnV0dG9uXG4gICAgICBjbGFzc05hbWU9XCJidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLWljb24gYnRuLXNtXCJcbiAgICAgIGRpc2FibGVkPXtwcm9wcy5kaXNhYmxlZCB8fCAhcHJvcHMuZWRpdC5uZXh0fVxuICAgICAgb25DbGljaz17cHJvcHMub25DbGlja31cbiAgICAgIHRpdGxlPXtcIs6UzrXPgiDPhM63zr0gzrXPgM+MzrzOtc69zrcgz4TPgc6/z4DOv86vzrfPg863XCJ9XG4gICAgPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNoZXZyb25fcmlnaHQ8L3NwYW4+XG4gICAgPC9CdXR0b24+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEdvTGFzdEJ0bihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxCdXR0b25cbiAgICAgIGNsYXNzTmFtZT1cImJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4taWNvbiBidG4tc21cIlxuICAgICAgZGlzYWJsZWQ9e3Byb3BzLmRpc2FibGVkIHx8ICFwcm9wcy5lZGl0Lm5leHR9XG4gICAgICBvbkNsaWNrPXtwcm9wcy5vbkNsaWNrfVxuICAgICAgdGl0bGU9e1wizpTOtc+CIM+EzrfOvSDPgM+Bzr/Ot86zzr/Pjc68zrXOvc63IM+Ez4HOv8+Azr/Or863z4POt1wifVxuICAgID5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5sYXN0X3BhZ2U8L3NwYW4+XG4gICAgPC9CdXR0b24+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFJldmVydEJ0bihwcm9wcykge1xuICBpZiAoIXByb3BzLmNhblJldmVydCkgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTMgaGlkZGVuLXhzXCI+XG4gICAgICA8QnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0bi1kZWZhdWx0IGJ0bi1zbSBidG4tYmxvY2tcIlxuICAgICAgICBkaXNhYmxlZD17cHJvcHMuZGlzYWJsZWR9XG4gICAgICAgIG9uQ2xpY2s9e3Byb3BzLm9uQ2xpY2t9XG4gICAgICAgIHRpdGxlPXtcIs6Vz4DOsc69zrHPhs6/z4HOrCDPgM+Bzr/Pg8+Gzr/Pgc6sz4Igz4PPhM63zr0gz4DPgc6/zrfOs86/z43OvM61zr3OtyDOus6xz4TOrM+Dz4TOsc+DzrdcIn1cbiAgICAgID5cbiAgICAgICAge1wizpXPgM6xzr3Osc+Gzr/Pgc6sXCJ9XG4gICAgICA8L0J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTGFiZWwocHJvcHMpIHtcbiAgbGV0IHVzZXIgPSBudWxsXG4gIGlmIChwcm9wcy5lZGl0LnVybC5lZGl0b3IpIHtcbiAgICB1c2VyID0gaW50ZXJwb2xhdGUoXG4gICAgICBVU0VSX1VSTCxcbiAgICAgIHtcbiAgICAgICAgdXJsOiBlc2NhcGVIdG1sKHByb3BzLmVkaXQudXJsLmVkaXRvciksXG4gICAgICAgIHVzZXI6IGVzY2FwZUh0bWwocHJvcHMuZWRpdC5lZGl0b3JfbmFtZSlcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuICB9IGVsc2Uge1xuICAgIHVzZXIgPSBpbnRlcnBvbGF0ZShcbiAgICAgIFVTRVJfU1BBTixcbiAgICAgIHtcbiAgICAgICAgdXNlcjogZXNjYXBlSHRtbChwcm9wcy5lZGl0LmVkaXRvcl9uYW1lKVxuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG4gIH1cblxuICBjb25zdCBkYXRlID0gaW50ZXJwb2xhdGUoXG4gICAgREFURV9BQkJSLFxuICAgIHtcbiAgICAgIGFic29sdXRlOiBlc2NhcGVIdG1sKHByb3BzLmVkaXQuZWRpdGVkX29uLmZvcm1hdChcIkxMTFwiKSksXG4gICAgICByZWxhdGl2ZTogZXNjYXBlSHRtbChwcm9wcy5lZGl0LmVkaXRlZF9vbi5mcm9tTm93KCkpXG4gICAgfSxcbiAgICB0cnVlXG4gIClcblxuICBjb25zdCBtZXNzYWdlID0gaW50ZXJwb2xhdGUoXG4gICAgZXNjYXBlSHRtbChcIs6Rz4DPjCDPhM6/IM+Hz4HOrs+Dz4TOtyAlKGVkaXRlZF9ieSlzICUoZWRpdGVkX29uKXNcIiksXG4gICAge1xuICAgICAgZWRpdGVkX2J5OiB1c2VyLFxuICAgICAgZWRpdGVkX29uOiBkYXRlXG4gICAgfSxcbiAgICB0cnVlXG4gIClcblxuICByZXR1cm4gPHAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiBtZXNzYWdlIH19IC8+XG59XG4iLCJpbXBvcnQgbW9tZW50IGZyb20gXCJtb21lbnRcIlxuXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZUVkaXQoanNvbikge1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwganNvbiwge1xuICAgIGVkaXRlZF9vbjogbW9tZW50KGpzb24uZWRpdGVkX29uKVxuICB9KVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgUG9zdCBmcm9tIFwiLi9wb3N0XCJcbmltcG9ydCBQcmV2aWV3IGZyb20gXCIuL3ByZXZpZXdcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGlzUmVhZHksIHBvc3RzLCBwb3N0ZXIgfSkge1xuICBpZiAoIWlzUmVhZHkpIHtcbiAgICByZXR1cm4gPFByZXZpZXcgLz5cbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPHVsIGNsYXNzTmFtZT1cInBvc3RzLWxpc3QgcG9zdC1mZWVkIHVpLXJlYWR5XCI+XG4gICAgICB7cG9zdHMubWFwKHBvc3QgPT4ge1xuICAgICAgICByZXR1cm4gPFBvc3Qga2V5PXtwb3N0LmlkfSBwb3N0PXtwb3N0fSBwb3N0ZXI9e3Bvc3Rlcn0gLz5cbiAgICAgIH0pfVxuICAgIDwvdWw+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IE1pc2Fnb01hcmt1cCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvbWlzYWdvLW1hcmt1cFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGlmIChwcm9wcy5wb3N0LmNvbnRlbnQpIHtcbiAgICByZXR1cm4gPERlZmF1bHQgey4uLnByb3BzfSAvPlxuICB9IGVsc2Uge1xuICAgIHJldHVybiA8SW52YWxpZCB7Li4ucHJvcHN9IC8+XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIERlZmF1bHQocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3QtYm9keVwiPlxuICAgICAgPE1pc2Fnb01hcmt1cCBtYXJrdXA9e3Byb3BzLnBvc3QuY29udGVudH0gLz5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gSW52YWxpZChwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1ib2R5IHBvc3QtYm9keS1pbnZhbGlkXCI+XG4gICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgIHtcIs6fzrkgzrvOtc+Az4TOv868zq3Pgc61zrnPgiDOsc+Fz4TOrs+CIM+EzrfPgiDPgM+Bzr/Pg8+Gzr/Pgc6sz4IgzrTOtc69IM68z4DOv8+Bzr/Pjc69IM69zrEgzrXOvM+GzrHOvc65z4PPhM6/z43OvVwifVxuICAgICAgPC9wPlxuICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1tdXRlZFwiPlxuICAgICAgICB7XCLOkc+Fz4TPjCDPhM6/IM67zqzOuM6/z4Igz4DPgc6/zrrOsc67zq3Pg8+EzrfOus61IM6xz4DPjCDOvM63IM6tzrPOus+Fz4HOtyDPhM+Bzr/PgM6/z4DOv86vzrfPg863IM+EzrfPgiDPgM+Bzr/Pg8+Gzr/Pgc6sz4JcIn1cbiAgICAgIDwvcD5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgcG9zdCB9KSB7XG4gIGNvbnN0IHsgY2F0ZWdvcnksIHRocmVhZCB9ID0gcG9zdFxuXG4gIGNvbnN0IHRvb2x0aXAgPSBpbnRlcnBvbGF0ZShcbiAgICBcIs6UzrfOvM6/z4POuc61z43OuM63zrrOtSAlKHBvc3RlZF9vbilzXCIsXG4gICAge1xuICAgICAgcG9zdGVkX29uOiBwb3N0LnBvc3RlZF9vbi5mb3JtYXQoXCJMTCwgTFRcIilcbiAgICB9LFxuICAgIHRydWVcbiAgKVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwb3N0LWhlYWRpbmdcIj5cbiAgICAgIDxhIGNsYXNzTmFtZT1cImJ0biBidG4tbGluayBpdGVtLXRpdGxlXCIgaHJlZj17dGhyZWFkLnVybH0+XG4gICAgICAgIHt0aHJlYWQudGl0bGV9XG4gICAgICA8L2E+XG4gICAgICA8YSBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmsgcG9zdC1jYXRlZ29yeVwiIGhyZWY9e2NhdGVnb3J5LnVybC5pbmRleH0+XG4gICAgICAgIHtjYXRlZ29yeS5uYW1lfVxuICAgICAgPC9hPlxuICAgICAgPGFcbiAgICAgICAgaHJlZj17cG9zdC51cmwuaW5kZXh9XG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGluayBwb3N0ZWQtb25cIlxuICAgICAgICB0aXRsZT17dG9vbHRpcH1cbiAgICAgID5cbiAgICAgICAge3Bvc3QucG9zdGVkX29uLmZyb21Ob3coKX1cbiAgICAgIDwvYT5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQm9keSBmcm9tIFwiLi9ib2R5XCJcbmltcG9ydCBIZWFkZXIgZnJvbSBcIi4vaGVhZGVyXCJcbmltcG9ydCBQb3N0U2lkZSBmcm9tIFwiLi9wb3N0LXNpZGVcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IHBvc3QsIHBvc3RlciB9KSB7XG4gIGNvbnN0IHVzZXIgPSBwb3N0ZXIgfHwgcG9zdC5wb3N0ZXJcblxuICBsZXQgY2xhc3NOYW1lID0gXCJwb3N0XCJcbiAgaWYgKHVzZXIgJiYgdXNlci5yYW5rLmNzc19jbGFzcykge1xuICAgIGNsYXNzTmFtZSArPSBcIiBwb3N0LVwiICsgdXNlci5yYW5rLmNzc19jbGFzc1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8bGkgY2xhc3NOYW1lPXtjbGFzc05hbWV9IGlkPXtcInBvc3QtXCIgKyBwb3N0LmlkfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBwYW5lbC1wb3N0XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keVwiPlxuICAgICAgICAgIDxQb3N0U2lkZSBwb3N0PXtwb3N0fSBwb3N0ZXI9e3VzZXJ9IC8+XG4gICAgICAgICAgPEhlYWRlciBwb3N0PXtwb3N0fSAvPlxuICAgICAgICAgIDxCb2R5IHBvc3Q9e3Bvc3R9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9saT5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQXZhdGFyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9hdmF0YXJcIlxuaW1wb3J0IEdvVG9CdXR0b24gZnJvbSBcIi4vYnV0dG9uXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBwb3N0IH0pIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3Qtc2lkZSBwb3N0LXNpZGUtYW5vbnltb3VzXCI+XG4gICAgICA8R29Ub0J1dHRvbiBwb3N0PXtwb3N0fSAvPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWxlZnRcIj5cbiAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgIDxBdmF0YXIgY2xhc3NOYW1lPVwicG9zdGVyLWF2YXRhclwiIHNpemU9ezUwfSAvPlxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEtYm9keVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEtaGVhZGluZ1wiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaXRlbS10aXRsZVwiPntwb3N0LnBvc3Rlcl9uYW1lfTwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1c2VyLXRpdGxlIHVzZXItdGl0bGUtYW5vbnltb3VzXCI+XG4gICAgICAgICAgICB7XCLOlM65zrXOs8+BzrHOvM68zq3Ovc6/z4Igz4fPgc6uz4PPhM63z4JcIn1cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IHBvc3QgfSkge1xuICByZXR1cm4gKFxuICAgIDxhIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4taWNvbiBwdWxsLXJpZ2h0XCIgaHJlZj17cG9zdC51cmwuaW5kZXh9PlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYnRuLXRleHQtbGVmdCBoaWRkZW4teHNcIj57XCLOoM+Bzr/Oss6/zrvOriDPgM+Bzr/Pg8+Gzr/Pgc6sz4JcIn08L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2hldnJvbl9yaWdodDwvc3Bhbj5cbiAgICA8L2E+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEFub255bW91cyBmcm9tIFwiLi9hbm9ueW1vdXNcIlxuaW1wb3J0IFJlZ2lzdGVyZWQgZnJvbSBcIi4vcmVnaXN0ZXJlZFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgcG9zdCwgcG9zdGVyIH0pIHtcbiAgaWYgKHBvc3Rlci5pZCkge1xuICAgIHJldHVybiA8UmVnaXN0ZXJlZCBwb3N0PXtwb3N0fSBwb3N0ZXI9e3Bvc3Rlcn0gLz5cbiAgfVxuXG4gIHJldHVybiA8QW5vbnltb3VzIHBvc3Q9e3Bvc3R9IC8+XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBBdmF0YXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2F2YXRhclwiXG5pbXBvcnQgR29Ub0J1dHRvbiBmcm9tIFwiLi9idXR0b25cIlxuaW1wb3J0IFVzZXJUaXRsZSBmcm9tIFwiLi91c2VyLXRpdGxlXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBwb3N0LCBwb3N0ZXIgfSkge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1zaWRlIHBvc3Qtc2lkZS1yZWdpc3RlcmVkXCI+XG4gICAgICA8R29Ub0J1dHRvbiBwb3N0PXtwb3N0fSAvPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWxlZnRcIj5cbiAgICAgICAgICA8YSBocmVmPXtwb3N0ZXIudXJsfT5cbiAgICAgICAgICAgIDxBdmF0YXIgY2xhc3NOYW1lPVwicG9zdGVyLWF2YXRhclwiIHNpemU9ezUwfSB1c2VyPXtwb3N0ZXJ9IC8+XG4gICAgICAgICAgPC9hPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1ib2R5XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1oZWFkaW5nXCI+XG4gICAgICAgICAgICA8YSBjbGFzc05hbWU9XCJpdGVtLXRpdGxlXCIgaHJlZj17cG9zdGVyLnVybH0+XG4gICAgICAgICAgICAgIHtwb3N0ZXIudXNlcm5hbWV9XG4gICAgICAgICAgICA8L2E+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPFVzZXJUaXRsZSB0aXRsZT17cG9zdGVyLnRpdGxlfSByYW5rPXtwb3N0ZXIucmFua30gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgcmFuaywgdGl0bGUgfSkge1xuICBsZXQgdXNlclRpdGxlID0gdGl0bGUgfHwgcmFuay50aXRsZSB8fCByYW5rLm5hbWVcblxuICBsZXQgY2xhc3NOYW1lID0gXCJ1c2VyLXRpdGxlXCJcbiAgaWYgKHJhbmsuY3NzX2NsYXNzKSB7XG4gICAgY2xhc3NOYW1lICs9IFwiIHVzZXItdGl0bGUtXCIgKyByYW5rLmNzc19jbGFzc1xuICB9XG5cbiAgaWYgKHJhbmsuaXNfdGFiKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxhIGNsYXNzTmFtZT17Y2xhc3NOYW1lfSBocmVmPXtyYW5rLnVybH0+XG4gICAgICAgIHt1c2VyVGl0bGV9XG4gICAgICA8L2E+XG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT17Y2xhc3NOYW1lfT57dXNlclRpdGxlfTwvc3Bhbj5cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEF2YXRhciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyXCJcbmltcG9ydCAqIGFzIHJhbmRvbSBmcm9tIFwibWlzYWdvL3V0aWxzL3JhbmRvbVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKFxuICAgIDx1bCBjbGFzc05hbWU9XCJwb3N0cy1saXN0IHBvc3QtZmVlZCB1aS1wcmV2aWV3XCI+XG4gICAgICA8bGkgY2xhc3NOYW1lPVwicG9zdFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRlZmF1bHQgcGFuZWwtcG9zdFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwb3N0LXNpZGUgcG9zdC1zaWRlLWFub255bW91c1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1sZWZ0XCI+XG4gICAgICAgICAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPEF2YXRhciBjbGFzc05hbWU9XCJwb3N0ZXItYXZhdGFyXCIgc2l6ZT17NTB9IC8+XG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1ib2R5XCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWhlYWRpbmdcIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaXRlbS10aXRsZVwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHJhbmRvbS5pbnQoMzAsIDIwMCkgKyBcInB4XCIgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidXNlci10aXRsZSB1c2VyLXRpdGxlLWFub255bW91c1wiPlxuICAgICAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHJhbmRvbS5pbnQoMzAsIDIwMCkgKyBcInB4XCIgfX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3QtaGVhZGluZ1wiPlxuICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHJhbmRvbS5pbnQoMzAsIDIwMCkgKyBcInB4XCIgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1ib2R5XCI+XG4gICAgICAgICAgICAgIDxhcnRpY2xlIGNsYXNzTmFtZT1cIm1pc2Fnby1tYXJrdXBcIj5cbiAgICAgICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiByYW5kb20uaW50KDMwLCAyMDApICsgXCJweFwiIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCgzMCwgMjAwKSArIFwicHhcIiB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHJhbmRvbS5pbnQoMzAsIDIwMCkgKyBcInB4XCIgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICA8L2FydGljbGU+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2xpPlxuICAgIDwvdWw+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IG1vbWVudCBmcm9tIFwibW9tZW50XCJcbmltcG9ydCBBdmF0YXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2F2YXRhclwiXG5pbXBvcnQgTWVzc2FnZSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvbW9kYWwtbWVzc2FnZVwiXG5pbXBvcnQgTG9hZGVyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9tb2RhbC1sb2FkZXJcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzUmVhZHk6IGZhbHNlLFxuXG4gICAgICBlcnJvcjogbnVsbCxcbiAgICAgIGxpa2VzOiBbXVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGFqYXguZ2V0KHRoaXMucHJvcHMucG9zdC5hcGkubGlrZXMpLnRoZW4oXG4gICAgICBkYXRhID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXNSZWFkeTogdHJ1ZSxcbiAgICAgICAgICBsaWtlczogZGF0YS5tYXAoaHlkcmF0ZUxpa2UpXG4gICAgICAgIH0pXG4gICAgICB9LFxuICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXNSZWFkeTogdHJ1ZSxcbiAgICAgICAgICBlcnJvcjogcmVqZWN0aW9uLmRldGFpbFxuICAgICAgICB9KVxuICAgICAgfVxuICAgIClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5lcnJvcikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPE1vZGFsRGlhbG9nIGNsYXNzTmFtZT1cIm1vZGFsLW1lc3NhZ2VcIj5cbiAgICAgICAgICA8TWVzc2FnZSBtZXNzYWdlPXt0aGlzLnN0YXRlLmVycm9yfSAvPlxuICAgICAgICA8L01vZGFsRGlhbG9nPlxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5pc1JlYWR5KSB7XG4gICAgICBpZiAodGhpcy5zdGF0ZS5saWtlcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8TW9kYWxEaWFsb2cgY2xhc3NOYW1lPVwibW9kYWwtc21cIiBsaWtlcz17dGhpcy5zdGF0ZS5saWtlc30+XG4gICAgICAgICAgICA8TGlrZXNMaXN0IGxpa2VzPXt0aGlzLnN0YXRlLmxpa2VzfSAvPlxuICAgICAgICAgIDwvTW9kYWxEaWFsb2c+XG4gICAgICAgIClcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIChcbiAgICAgICAgPE1vZGFsRGlhbG9nIGNsYXNzTmFtZT1cIm1vZGFsLW1lc3NhZ2VcIj5cbiAgICAgICAgICA8TWVzc2FnZSBtZXNzYWdlPXtcIs6azrHOvc6tzr3OsSBsaWtlXCJ9IC8+XG4gICAgICAgIDwvTW9kYWxEaWFsb2c+XG4gICAgICApXG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxNb2RhbERpYWxvZyBjbGFzc05hbWU9XCJtb2RhbC1zbVwiPlxuICAgICAgICA8TG9hZGVyIC8+XG4gICAgICA8L01vZGFsRGlhbG9nPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZUxpa2UoZGF0YSkge1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgZGF0YSwge1xuICAgIGxpa2VkX29uOiBtb21lbnQoZGF0YS5saWtlZF9vbilcbiAgfSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE1vZGFsRGlhbG9nKHsgY2xhc3NOYW1lLCBjaGlsZHJlbiwgbGlrZXMgfSkge1xuICBsZXQgdGl0bGUgPSBcIkxpa2VzIM6gz4HOv8+Dz4bOv8+BzqzPglwiXG4gIGlmIChsaWtlcykge1xuICAgIGNvbnN0IGxpa2VzQ291bnQgPSBsaWtlcy5sZW5ndGhcbiAgICBjb25zdCBtZXNzYWdlID0gXCIlKGxpa2VzKXMgbGlrZVwiXG5cbiAgICB0aXRsZSA9IGludGVycG9sYXRlKG1lc3NhZ2UsIHsgbGlrZXM6IGxpa2VzQ291bnQgfSwgdHJ1ZSlcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e1wibW9kYWwtZGlhbG9nIFwiICsgKGNsYXNzTmFtZSB8fCBcIlwiKX0gcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBhcmlhLWxhYmVsPXtcIs6azrvOtc6vz4POuc68zr9cIn1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImNsb3NlXCJcbiAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e3RpdGxlfTwvaDQ+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7Y2hpbGRyZW59XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTGlrZXNMaXN0KHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5IG1vZGFsLXBvc3QtbGlrZXJzXCI+XG4gICAgICA8dWwgY2xhc3NOYW1lPVwibWVkaWEtbGlzdFwiPlxuICAgICAgICB7cHJvcHMubGlrZXMubWFwKGxpa2UgPT4ge1xuICAgICAgICAgIHJldHVybiA8TGlrZURldGFpbHMga2V5PXtsaWtlLmlkfSB7Li4ubGlrZX0gLz5cbiAgICAgICAgfSl9XG4gICAgICA8L3VsPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBMaWtlRGV0YWlscyhwcm9wcykge1xuICBpZiAocHJvcHMudXJsKSB7XG4gICAgY29uc3QgdXNlciA9IHtcbiAgICAgIGlkOiBwcm9wcy5saWtlcl9pZCxcbiAgICAgIGF2YXRhcnM6IHByb3BzLmF2YXRhcnNcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpIGNsYXNzTmFtZT1cIm1lZGlhXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEtbGVmdFwiPlxuICAgICAgICAgIDxhIGNsYXNzTmFtZT1cInVzZXItYXZhdGFyXCIgaHJlZj17cHJvcHMudXJsfT5cbiAgICAgICAgICAgIDxBdmF0YXIgc2l6ZT1cIjUwXCIgdXNlcj17dXNlcn0gLz5cbiAgICAgICAgICA8L2E+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWJvZHlcIj5cbiAgICAgICAgICA8YSBjbGFzc05hbWU9XCJpdGVtLXRpdGxlXCIgaHJlZj17cHJvcHMudXJsfT5cbiAgICAgICAgICAgIHtwcm9wcy51c2VybmFtZX1cbiAgICAgICAgICA8L2E+e1wiIFwifVxuICAgICAgICAgIDxMaWtlRGF0ZSBsaWtlZE9uPXtwcm9wcy5saWtlZF9vbn0gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGxpIGNsYXNzTmFtZT1cIm1lZGlhXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWxlZnRcIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidXNlci1hdmF0YXJcIj5cbiAgICAgICAgICA8QXZhdGFyIHNpemU9XCI1MFwiIC8+XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1ib2R5XCI+XG4gICAgICAgIDxzdHJvbmc+e3Byb3BzLnVzZXJuYW1lfTwvc3Ryb25nPiA8TGlrZURhdGUgbGlrZWRPbj17cHJvcHMubGlrZWRfb259IC8+XG4gICAgICA8L2Rpdj5cbiAgICA8L2xpPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBMaWtlRGF0ZShwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtbXV0ZWRcIiB0aXRsZT17cHJvcHMubGlrZWRPbi5mb3JtYXQoXCJMTExcIil9PlxuICAgICAge3Byb3BzLmxpa2VkT24uZnJvbU5vdygpfVxuICAgIDwvc3Bhbj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgRWRpdG9yIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9lZGl0b3JcIlxuaW1wb3J0IEZvcm0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm1cIlxuaW1wb3J0IENvbnRhaW5lciBmcm9tIFwiLi91dGlscy9jb250YWluZXJcIlxuaW1wb3J0IExvYWRlciBmcm9tIFwiLi91dGlscy9sb2FkZXJcIlxuaW1wb3J0IE1lc3NhZ2UgZnJvbSBcIi4vdXRpbHMvbWVzc2FnZVwiXG5pbXBvcnQgKiBhcyBhdHRhY2htZW50cyBmcm9tIFwiLi91dGlscy9hdHRhY2htZW50c1wiXG5pbXBvcnQgeyBnZXRQb3N0VmFsaWRhdG9ycyB9IGZyb20gXCIuL3V0aWxzL3ZhbGlkYXRvcnNcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBwb3N0aW5nIGZyb20gXCJtaXNhZ28vc2VydmljZXMvcG9zdGluZ1wiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNSZWFkeTogZmFsc2UsXG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgaXNFcnJvcmVkOiBmYWxzZSxcblxuICAgICAgcG9zdDogXCJcIixcbiAgICAgIGF0dGFjaG1lbnRzOiBbXSxcbiAgICAgIHByb3RlY3Q6IGZhbHNlLFxuXG4gICAgICBjYW5Qcm90ZWN0OiBmYWxzZSxcblxuICAgICAgdmFsaWRhdG9yczoge1xuICAgICAgICBwb3N0OiBnZXRQb3N0VmFsaWRhdG9ycygpXG4gICAgICB9LFxuICAgICAgZXJyb3JzOiB7fVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGFqYXguZ2V0KHRoaXMucHJvcHMuY29uZmlnKS50aGVuKHRoaXMubG9hZFN1Y2Nlc3MsIHRoaXMubG9hZEVycm9yKVxuICB9XG5cbiAgbG9hZFN1Y2Nlc3MgPSBkYXRhID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzUmVhZHk6IHRydWUsXG5cbiAgICAgIHBvc3Q6IGRhdGEucG9zdCxcbiAgICAgIGF0dGFjaG1lbnRzOiBhdHRhY2htZW50cy5oeWRyYXRlKGRhdGEuYXR0YWNobWVudHMpLFxuICAgICAgcHJvdGVjdDogZGF0YS5pc19wcm90ZWN0ZWQsXG5cbiAgICAgIGNhblByb3RlY3Q6IGRhdGEuY2FuX3Byb3RlY3RcbiAgICB9KVxuICB9XG5cbiAgbG9hZEVycm9yID0gcmVqZWN0aW9uID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzRXJyb3JlZDogcmVqZWN0aW9uLmRldGFpbFxuICAgIH0pXG4gIH1cblxuICBvbkNhbmNlbCA9ICgpID0+IHtcbiAgICBjb25zdCBjYW5jZWwgPSBjb25maXJtKFwizpXOr8+DzrHOuSDPg86vzrPOv8+Fz4HOv8+CIM+Mz4TOuSDOtM61IM64zq3Ou861zrnPgiDOvc6xIM66zqzOvc61zrnPgiDOus6xzrzOr86xIM6xzrvOu86xzrPOrjtcIilcbiAgICBpZiAoY2FuY2VsKSB7XG4gICAgICBwb3N0aW5nLmNsb3NlKClcbiAgICB9XG4gIH1cblxuICBvblByb3RlY3QgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBwcm90ZWN0OiB0cnVlXG4gICAgfSlcbiAgfVxuXG4gIG9uVW5wcm90ZWN0ID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgcHJvdGVjdDogZmFsc2VcbiAgICB9KVxuICB9XG5cbiAgb25Qb3N0Q2hhbmdlID0gZXZlbnQgPT4ge1xuICAgIHRoaXMuY2hhbmdlVmFsdWUoXCJwb3N0XCIsIGV2ZW50LnRhcmdldC52YWx1ZSlcbiAgfVxuXG4gIG9uQXR0YWNobWVudHNDaGFuZ2UgPSBhdHRhY2htZW50cyA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBhdHRhY2htZW50c1xuICAgIH0pXG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUucG9zdC50cmltKCkubGVuZ3RoKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihcIs6gz4HOrc+AzrXOuSDOvc6xIM6yzqzOu861zrnPgiDPhM65z4IgzrvOtc+Az4TOv868zq3Pgc61zrnPgiDPhM63z4Igz4DPgc6/z4PPhs6/z4HOrM+CIVwiKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgY29uc3QgZXJyb3JzID0gdGhpcy52YWxpZGF0ZSgpXG5cbiAgICBpZiAoZXJyb3JzLnBvc3QpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGVycm9ycy5wb3N0WzBdKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucHV0KHRoaXMucHJvcHMuc3VibWl0LCB7XG4gICAgICBwb3N0OiB0aGlzLnN0YXRlLnBvc3QsXG4gICAgICBhdHRhY2htZW50czogYXR0YWNobWVudHMuY2xlYW4odGhpcy5zdGF0ZS5hdHRhY2htZW50cyksXG4gICAgICBwcm90ZWN0OiB0aGlzLnN0YXRlLnByb3RlY3RcbiAgICB9KVxuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhzdWNjZXNzKSB7XG4gICAgc25hY2tiYXIuc3VjY2VzcyhcIs6XIM+Az4HOv8+Dz4bOv8+Bzqwgz4TPgc6/z4DOv8+Azr/Ouc6uzrjOt866zrUgzrXPgM65z4TPhc+Hz47PgiFcIilcbiAgICB3aW5kb3cubG9jYXRpb24gPSBzdWNjZXNzLnVybC5pbmRleFxuXG4gICAgLy8ga2VlcCBmb3JtIGxvYWRpbmdcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzTG9hZGluZzogdHJ1ZVxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBjb25zdCBlcnJvcnMgPSBbXS5jb25jYXQoXG4gICAgICAgIHJlamVjdGlvbi5ub25fZmllbGRfZXJyb3JzIHx8IFtdLFxuICAgICAgICByZWplY3Rpb24uY2F0ZWdvcnkgfHwgW10sXG4gICAgICAgIHJlamVjdGlvbi50aXRsZSB8fCBbXSxcbiAgICAgICAgcmVqZWN0aW9uLnBvc3QgfHwgW10sXG4gICAgICAgIHJlamVjdGlvbi5hdHRhY2htZW50cyB8fCBbXVxuICAgICAgKVxuXG4gICAgICBzbmFja2Jhci5lcnJvcihlcnJvcnNbMF0pXG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuaXNSZWFkeSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPENvbnRhaW5lciBjbGFzc05hbWU9XCJwb3N0aW5nLWZvcm1cIj5cbiAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9IG1ldGhvZD1cIlBPU1RcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTEyXCI+XG4gICAgICAgICAgICAgICAgPEVkaXRvclxuICAgICAgICAgICAgICAgICAgYXR0YWNobWVudHM9e3RoaXMuc3RhdGUuYXR0YWNobWVudHN9XG4gICAgICAgICAgICAgICAgICBjYW5Qcm90ZWN0PXt0aGlzLnN0YXRlLmNhblByb3RlY3R9XG4gICAgICAgICAgICAgICAgICBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgIG9uQXR0YWNobWVudHNDaGFuZ2U9e3RoaXMub25BdHRhY2htZW50c0NoYW5nZX1cbiAgICAgICAgICAgICAgICAgIG9uQ2FuY2VsPXt0aGlzLm9uQ2FuY2VsfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25Qb3N0Q2hhbmdlfVxuICAgICAgICAgICAgICAgICAgb25Qcm90ZWN0PXt0aGlzLm9uUHJvdGVjdH1cbiAgICAgICAgICAgICAgICAgIG9uVW5wcm90ZWN0PXt0aGlzLm9uVW5wcm90ZWN0fVxuICAgICAgICAgICAgICAgICAgcHJvdGVjdD17dGhpcy5zdGF0ZS5wcm90ZWN0fVxuICAgICAgICAgICAgICAgICAgc3VibWl0TGFiZWw9e1wizqTPgc6/z4DOv8+Azr/Or863z4POtyDPgM+Bzr/Pg8+Gzr/Pgc6sz4JcIn1cbiAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnBvc3R9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgIDwvQ29udGFpbmVyPlxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5pc0Vycm9yZWQpIHtcbiAgICAgIHJldHVybiA8TWVzc2FnZSBtZXNzYWdlPXt0aGlzLnN0YXRlLmlzRXJyb3JlZH0gLz5cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIDxMb2FkZXIgLz5cbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IFN0YXJ0IGZyb20gXCIuL3N0YXJ0XCJcbmltcG9ydCBTdGFydFByaXZhdGUgZnJvbSBcIi4vc3RhcnQtcHJpdmF0ZVwiXG5pbXBvcnQgUmVwbHkgZnJvbSBcIi4vcmVwbHlcIlxuaW1wb3J0IEVkaXQgZnJvbSBcIi4vZWRpdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChwcm9wcykge1xuICBpZiAocHJvcHMubW9kZSA9PT0gXCJTVEFSVFwiKSB7XG4gICAgcmV0dXJuIDxTdGFydCB7Li4ucHJvcHN9IC8+XG4gIH0gZWxzZSBpZiAocHJvcHMubW9kZSA9PT0gXCJTVEFSVF9QUklWQVRFXCIpIHtcbiAgICByZXR1cm4gPFN0YXJ0UHJpdmF0ZSB7Li4ucHJvcHN9IC8+XG4gIH0gZWxzZSBpZiAocHJvcHMubW9kZSA9PT0gXCJSRVBMWVwiKSB7XG4gICAgcmV0dXJuIDxSZXBseSB7Li4ucHJvcHN9IC8+XG4gIH0gZWxzZSBpZiAocHJvcHMubW9kZSA9PT0gXCJFRElUXCIpIHtcbiAgICByZXR1cm4gPEVkaXQgey4uLnByb3BzfSAvPlxuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBFZGl0b3IgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2VkaXRvclwiXG5pbXBvcnQgRm9ybSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybVwiXG5pbXBvcnQgQ29udGFpbmVyIGZyb20gXCIuL3V0aWxzL2NvbnRhaW5lclwiXG5pbXBvcnQgTG9hZGVyIGZyb20gXCIuL3V0aWxzL2xvYWRlclwiXG5pbXBvcnQgTWVzc2FnZSBmcm9tIFwiLi91dGlscy9tZXNzYWdlXCJcbmltcG9ydCAqIGFzIGF0dGFjaG1lbnRzIGZyb20gXCIuL3V0aWxzL2F0dGFjaG1lbnRzXCJcbmltcG9ydCB7IGdldFBvc3RWYWxpZGF0b3JzIH0gZnJvbSBcIi4vdXRpbHMvdmFsaWRhdG9yc1wiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHBvc3RpbmcgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wb3N0aW5nXCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc1JlYWR5OiBmYWxzZSxcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICBpc0Vycm9yZWQ6IGZhbHNlLFxuXG4gICAgICBwb3N0OiBcIlwiLFxuICAgICAgYXR0YWNobWVudHM6IFtdLFxuXG4gICAgICB2YWxpZGF0b3JzOiB7XG4gICAgICAgIHBvc3Q6IGdldFBvc3RWYWxpZGF0b3JzKClcbiAgICAgIH0sXG4gICAgICBlcnJvcnM6IHt9XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgYWpheFxuICAgICAgLmdldCh0aGlzLnByb3BzLmNvbmZpZywgdGhpcy5wcm9wcy5jb250ZXh0IHx8IG51bGwpXG4gICAgICAudGhlbih0aGlzLmxvYWRTdWNjZXNzLCB0aGlzLmxvYWRFcnJvcilcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgY29uc3QgY29udGV4dCA9IHRoaXMucHJvcHMuY29udGV4dFxuICAgIGNvbnN0IG5ld0NvbnRleHQgPSBuZXh0UHJvcHMuY29udGV4dFxuXG4gICAgaWYgKGNvbnRleHQgJiYgbmV3Q29udGV4dCAmJiBjb250ZXh0LnJlcGx5ID09PSBuZXdDb250ZXh0LnJlcGx5KSByZXR1cm5cblxuICAgIGFqYXhcbiAgICAgIC5nZXQobmV4dFByb3BzLmNvbmZpZywgbmV4dFByb3BzLmNvbnRleHQgfHwgbnVsbClcbiAgICAgIC50aGVuKHRoaXMuYXBwZW5kRGF0YSwgc25hY2tiYXIuYXBpRXJyb3IpXG4gIH1cblxuICBsb2FkU3VjY2VzcyA9IGRhdGEgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNSZWFkeTogdHJ1ZSxcblxuICAgICAgcG9zdDogZGF0YS5wb3N0XG4gICAgICAgID8gJ1txdW90ZT1cIkAnICsgZGF0YS5wb3N0ZXIgKyAnXCJdXFxuJyArIGRhdGEucG9zdCArIFwiXFxuWy9xdW90ZV1cIlxuICAgICAgICA6IFwiXCJcbiAgICB9KVxuICB9XG5cbiAgbG9hZEVycm9yID0gcmVqZWN0aW9uID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzRXJyb3JlZDogcmVqZWN0aW9uLmRldGFpbFxuICAgIH0pXG4gIH1cblxuICBhcHBlbmREYXRhID0gZGF0YSA9PiB7XG4gICAgY29uc3QgbmV3UG9zdCA9IGRhdGEucG9zdFxuICAgICAgPyAnW3F1b3RlPVwiQCcgKyBkYXRhLnBvc3RlciArICdcIl1cXG4nICsgZGF0YS5wb3N0ICsgXCJcXG5bL3F1b3RlXVxcblxcblwiXG4gICAgICA6IFwiXCJcblxuICAgIHRoaXMuc2V0U3RhdGUoKHByZXZTdGF0ZSwgcHJvcHMpID0+IHtcbiAgICAgIGlmIChwcmV2U3RhdGUucG9zdC5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcG9zdDogcHJldlN0YXRlLnBvc3QgKyBcIlxcblxcblwiICsgbmV3UG9zdFxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHBvc3Q6IG5ld1Bvc3RcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgb25DYW5jZWwgPSAoKSA9PiB7XG4gICAgY29uc3QgY2FuY2VsID0gY29uZmlybShcbiAgICAgIFwizpXOr8+DzrHOuSDPg86vzrPOv8+Fz4HOv8+CIM+Mz4TOuSDOtM61IM64zq3Ou861zrnPgiDOvc6xIM+Dz4TOtc6vzrvOtc65z4Igz4TOt869IM+Az4HOv8+Dz4bOv8+Bzqwgz4POv8+FO1wiXG4gICAgKVxuICAgIGlmIChjYW5jZWwpIHtcbiAgICAgIHBvc3RpbmcuY2xvc2UoKVxuICAgIH1cbiAgfVxuXG4gIG9uUG9zdENoYW5nZSA9IGV2ZW50ID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKFwicG9zdFwiLCBldmVudC50YXJnZXQudmFsdWUpXG4gIH1cblxuICBvbkF0dGFjaG1lbnRzQ2hhbmdlID0gYXR0YWNobWVudHMgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgYXR0YWNobWVudHNcbiAgICB9KVxuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLnBvc3QudHJpbSgpLmxlbmd0aCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoXCLOoM+Bzq3PgM61zrkgzr3OsSDOss6szrvOtc65z4Igz4TOuc+CIM67zrXPgM+Ezr/OvM6tz4HOtc65zrXPgiDPhM63z4Igz4DPgc6/z4PPhs6/z4HOrM+CIVwiKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgY29uc3QgZXJyb3JzID0gdGhpcy52YWxpZGF0ZSgpXG5cbiAgICBpZiAoZXJyb3JzLnBvc3QpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGVycm9ycy5wb3N0WzBdKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdCh0aGlzLnByb3BzLnN1Ym1pdCwge1xuICAgICAgcG9zdDogdGhpcy5zdGF0ZS5wb3N0LFxuICAgICAgYXR0YWNobWVudHM6IGF0dGFjaG1lbnRzLmNsZWFuKHRoaXMuc3RhdGUuYXR0YWNobWVudHMpXG4gICAgfSlcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3Moc3VjY2Vzcykge1xuICAgIHNuYWNrYmFyLnN1Y2Nlc3MoXCLOlyDPgM+Bzr/Pg8+Gzr/Pgc6sIM+Dzr/PhSDOtc+Dz4TOrM67zrcgzrXPgM65z4TPhc+Hz47PgiFcIilcbiAgICB3aW5kb3cubG9jYXRpb24gPSBzdWNjZXNzLnVybC5pbmRleFxuXG4gICAgLy8ga2VlcCBmb3JtIGxvYWRpbmdcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzTG9hZGluZzogdHJ1ZVxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBjb25zdCBlcnJvcnMgPSBbXS5jb25jYXQoXG4gICAgICAgIHJlamVjdGlvbi5ub25fZmllbGRfZXJyb3JzIHx8IFtdLFxuICAgICAgICByZWplY3Rpb24ucG9zdCB8fCBbXSxcbiAgICAgICAgcmVqZWN0aW9uLmF0dGFjaG1lbnRzIHx8IFtdXG4gICAgICApXG5cbiAgICAgIHNuYWNrYmFyLmVycm9yKGVycm9yc1swXSlcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5pc1JlYWR5KSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8Q29udGFpbmVyIGNsYXNzTmFtZT1cInBvc3RpbmctZm9ybVwiPlxuICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0gbWV0aG9kPVwiUE9TVFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMTJcIj5cbiAgICAgICAgICAgICAgICA8RWRpdG9yXG4gICAgICAgICAgICAgICAgICBhdHRhY2htZW50cz17dGhpcy5zdGF0ZS5hdHRhY2htZW50c31cbiAgICAgICAgICAgICAgICAgIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgb25BdHRhY2htZW50c0NoYW5nZT17dGhpcy5vbkF0dGFjaG1lbnRzQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgb25DYW5jZWw9e3RoaXMub25DYW5jZWx9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vblBvc3RDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICBzdWJtaXRMYWJlbD17XCLOkc+Azr/Pg8+Ezr/Ou86uIM+Az4HOv8+Dz4bOv8+BzqzPglwifVxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUucG9zdH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgPC9Db250YWluZXI+XG4gICAgICApXG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmlzRXJyb3JlZCkge1xuICAgICAgcmV0dXJuIDxNZXNzYWdlIG1lc3NhZ2U9e3RoaXMuc3RhdGUuaXNFcnJvcmVkfSAvPlxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gPExvYWRlciAvPlxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgRWRpdG9yIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9lZGl0b3JcIlxuaW1wb3J0IEZvcm0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm1cIlxuaW1wb3J0IENvbnRhaW5lciBmcm9tIFwiLi91dGlscy9jb250YWluZXJcIlxuaW1wb3J0ICogYXMgYXR0YWNobWVudHMgZnJvbSBcIi4vdXRpbHMvYXR0YWNobWVudHNcIlxuaW1wb3J0IGNsZWFuVXNlcm5hbWVzIGZyb20gXCIuL3V0aWxzL3VzZXJuYW1lc1wiXG5pbXBvcnQgeyBnZXRQb3N0VmFsaWRhdG9ycywgZ2V0VGl0bGVWYWxpZGF0b3JzIH0gZnJvbSBcIi4vdXRpbHMvdmFsaWRhdG9yc1wiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHBvc3RpbmcgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wb3N0aW5nXCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIGNvbnN0IHRvID0gKHByb3BzLnRvIHx8IFtdKS5tYXAodXNlciA9PiB1c2VyLnVzZXJuYW1lKS5qb2luKFwiLCBcIilcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuXG4gICAgICB0bzogdG8sXG4gICAgICB0aXRsZTogXCJcIixcbiAgICAgIHBvc3Q6IFwiXCIsXG4gICAgICBhdHRhY2htZW50czogW10sXG5cbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgdGl0bGU6IGdldFRpdGxlVmFsaWRhdG9ycygpLFxuICAgICAgICBwb3N0OiBnZXRQb3N0VmFsaWRhdG9ycygpXG4gICAgICB9LFxuICAgICAgZXJyb3JzOiB7fVxuICAgIH1cbiAgfVxuXG4gIG9uQ2FuY2VsID0gKCkgPT4ge1xuICAgIGNvbnN0IGNhbmNlbCA9IGNvbmZpcm0oXG4gICAgICBcIs6Vzq/Pg86xzrkgz4POr86zzr/Phc+Bzr/PgiDPjM+EzrkgzrTOtSDOuM6tzrvOtc65z4Igzr3OsSDPg8+EzrXOr867zrXOuc+CIM68zq7Ovc+FzrzOsSDOs865zrEgzrHOvc6szrjOtc+DzrcgzrXPgc6zzrHPg86vzrHPgjtcIlxuICAgIClcbiAgICBpZiAoY2FuY2VsKSB7XG4gICAgICBwb3N0aW5nLmNsb3NlKClcbiAgICB9XG4gIH1cblxuICBvblRvQ2hhbmdlID0gZXZlbnQgPT4ge1xuICAgIHRoaXMuY2hhbmdlVmFsdWUoXCJ0b1wiLCBldmVudC50YXJnZXQudmFsdWUpXG4gIH1cblxuICBvblRpdGxlQ2hhbmdlID0gZXZlbnQgPT4ge1xuICAgIHRoaXMuY2hhbmdlVmFsdWUoXCJ0aXRsZVwiLCBldmVudC50YXJnZXQudmFsdWUpXG4gIH1cblxuICBvblBvc3RDaGFuZ2UgPSBldmVudCA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZShcInBvc3RcIiwgZXZlbnQudGFyZ2V0LnZhbHVlKVxuICB9XG5cbiAgb25BdHRhY2htZW50c0NoYW5nZSA9IGF0dGFjaG1lbnRzID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGF0dGFjaG1lbnRzXG4gICAgfSlcbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGlmICghY2xlYW5Vc2VybmFtZXModGhpcy5zdGF0ZS50bykubGVuZ3RoKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihcIs6gz4HOrc+AzrXOuSDOvc6xIM61z4DOuc67zq3Ovs61zrnPgiDPhM6/z4XOu86sz4fOuc+Dz4TOv869IM6tzr3OsSDPgM6xz4HOsc67zq7PgM+EzrchXCIpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuc3RhdGUudGl0bGUudHJpbSgpLmxlbmd0aCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoXCLOoM+Bzq3PgM61zrkgzr3OsSDOss6szrvOtc65z4Igz4TOr8+EzrvOvyDPg8+Ezr8gzrzOrs69z4XOvM6xIVwiKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLnN0YXRlLnBvc3QudHJpbSgpLmxlbmd0aCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoXCLOoM+Bzq3PgM61zrkgzr3OsSDOss6szrvOtc65z4Igz4DOtc+BzrnOtc+Hz4zOvM61zr3OvyDPg8+Ezr8gzrzOrs69z4XOvM6xIVwiKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgY29uc3QgZXJyb3JzID0gdGhpcy52YWxpZGF0ZSgpXG5cbiAgICBpZiAoZXJyb3JzLnRpdGxlKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihlcnJvcnMudGl0bGVbMF0pXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBpZiAoZXJyb3JzLnBvc3QpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGVycm9ycy5wb3N0WzBdKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdCh0aGlzLnByb3BzLnN1Ym1pdCwge1xuICAgICAgdG86IGNsZWFuVXNlcm5hbWVzKHRoaXMuc3RhdGUudG8pLFxuICAgICAgdGl0bGU6IHRoaXMuc3RhdGUudGl0bGUsXG4gICAgICBwb3N0OiB0aGlzLnN0YXRlLnBvc3QsXG4gICAgICBhdHRhY2htZW50czogYXR0YWNobWVudHMuY2xlYW4odGhpcy5zdGF0ZS5hdHRhY2htZW50cylcbiAgICB9KVxuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhzdWNjZXNzKSB7XG4gICAgc25hY2tiYXIuc3VjY2VzcyhcIs6kzr8gzrzOrs69z4XOvM6sIM+Dzr/PhSDOtc+Dz4TOrM67zrcgzrXPgM65z4TPhc+Hz47PgiFcIilcbiAgICB3aW5kb3cubG9jYXRpb24gPSBzdWNjZXNzLnVybFxuXG4gICAgLy8ga2VlcCBmb3JtIGxvYWRpbmdcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzTG9hZGluZzogdHJ1ZVxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBjb25zdCBlcnJvcnMgPSBbXS5jb25jYXQoXG4gICAgICAgIHJlamVjdGlvbi5ub25fZmllbGRfZXJyb3JzIHx8IFtdLFxuICAgICAgICByZWplY3Rpb24udG8gfHwgW10sXG4gICAgICAgIHJlamVjdGlvbi50aXRsZSB8fCBbXSxcbiAgICAgICAgcmVqZWN0aW9uLnBvc3QgfHwgW10sXG4gICAgICAgIHJlamVjdGlvbi5hdHRhY2htZW50cyB8fCBbXVxuICAgICAgKVxuXG4gICAgICBzbmFja2Jhci5lcnJvcihlcnJvcnNbMF0pXG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxDb250YWluZXIgY2xhc3NOYW1lPVwicG9zdGluZy1mb3JtXCIgd2l0aEZpcnN0Um93PXt0cnVlfT5cbiAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyBmaXJzdC1yb3dcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyXCI+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uVG9DaGFuZ2V9XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e1xuICAgICAgICAgICAgICAgICAgXCLOn869z4zOvM6xz4TOsSDPh8+BzrfPg8+Ez47OvSDOvM61IM66z4zOvM68zrEgzrzOtc+EzrHOvs+NIM+Ezr/Phc+CLCDPgC7Phy4gbmlrb3MsIGVsZW5pXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnRvfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgZmlyc3Qtcm93XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMlwiPlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vblRpdGxlQ2hhbmdlfVxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtcIs6kzq/PhM67zr/PgiDOvM63zr3Pjc68zrHPhM6/z4JcIn1cbiAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUudGl0bGV9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTJcIj5cbiAgICAgICAgICAgICAgPEVkaXRvclxuICAgICAgICAgICAgICAgIGF0dGFjaG1lbnRzPXt0aGlzLnN0YXRlLmF0dGFjaG1lbnRzfVxuICAgICAgICAgICAgICAgIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgIG9uQXR0YWNobWVudHNDaGFuZ2U9e3RoaXMub25BdHRhY2htZW50c0NoYW5nZX1cbiAgICAgICAgICAgICAgICBvbkNhbmNlbD17dGhpcy5vbkNhbmNlbH1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vblBvc3RDaGFuZ2V9XG4gICAgICAgICAgICAgICAgc3VibWl0TGFiZWw9e1wizpHPgM6/z4PPhM6/zrvOriDOvM63zr3Pjc68zrHPhM6/z4JcIn1cbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5wb3N0fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgIDwvQ29udGFpbmVyPlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQ2F0ZWdvcnlTZWxlY3QgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2NhdGVnb3J5LXNlbGVjdFwiXG5pbXBvcnQgRWRpdG9yIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9lZGl0b3JcIlxuaW1wb3J0IEZvcm0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm1cIlxuaW1wb3J0IENvbnRhaW5lciBmcm9tIFwiLi91dGlscy9jb250YWluZXJcIlxuaW1wb3J0IExvYWRlciBmcm9tIFwiLi91dGlscy9sb2FkZXJcIlxuaW1wb3J0IE1lc3NhZ2UgZnJvbSBcIi4vdXRpbHMvbWVzc2FnZVwiXG5pbXBvcnQgT3B0aW9ucyBmcm9tIFwiLi91dGlscy9vcHRpb25zXCJcbmltcG9ydCAqIGFzIGF0dGFjaG1lbnRzIGZyb20gXCIuL3V0aWxzL2F0dGFjaG1lbnRzXCJcbmltcG9ydCB7IGdldFBvc3RWYWxpZGF0b3JzLCBnZXRUaXRsZVZhbGlkYXRvcnMgfSBmcm9tIFwiLi91dGlscy92YWxpZGF0b3JzXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgcG9zdGluZyBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3Bvc3RpbmdcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzUmVhZHk6IGZhbHNlLFxuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgIGlzRXJyb3JlZDogZmFsc2UsXG5cbiAgICAgIHNob3dPcHRpb25zOiBmYWxzZSxcbiAgICAgIGNhdGVnb3J5T3B0aW9uczogbnVsbCxcblxuICAgICAgdGl0bGU6IFwiXCIsXG4gICAgICBjYXRlZ29yeTogcHJvcHMuY2F0ZWdvcnkgfHwgbnVsbCxcbiAgICAgIGNhdGVnb3JpZXM6IFtdLFxuICAgICAgcG9zdDogXCJcIixcbiAgICAgIGF0dGFjaG1lbnRzOiBbXSxcbiAgICAgIGNsb3NlOiBmYWxzZSxcbiAgICAgIGhpZGU6IGZhbHNlLFxuICAgICAgcGluOiAwLFxuXG4gICAgICB2YWxpZGF0b3JzOiB7XG4gICAgICAgIHRpdGxlOiBnZXRUaXRsZVZhbGlkYXRvcnMoKSxcbiAgICAgICAgcG9zdDogZ2V0UG9zdFZhbGlkYXRvcnMoKVxuICAgICAgfSxcbiAgICAgIGVycm9yczoge31cbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBhamF4LmdldCh0aGlzLnByb3BzLmNvbmZpZykudGhlbih0aGlzLmxvYWRTdWNjZXNzLCB0aGlzLmxvYWRFcnJvcilcbiAgfVxuXG4gIGxvYWRTdWNjZXNzID0gZGF0YSA9PiB7XG4gICAgbGV0IGNhdGVnb3J5ID0gbnVsbFxuICAgIGxldCBzaG93T3B0aW9ucyA9IGZhbHNlXG4gICAgbGV0IGNhdGVnb3J5T3B0aW9ucyA9IG51bGxcblxuICAgIC8vIGh5ZHJhdGUgY2F0ZWdvcmllcywgZXh0cmFjdCBwb3N0aW5nIG9wdGlvbnNcbiAgICBjb25zdCBjYXRlZ29yaWVzID0gZGF0YS5tYXAoaXRlbSA9PiB7XG4gICAgICAvLyBwaWNrIGZpcnN0IGNhdGVnb3J5IHRoYXQgYWxsb3dzIHBvc3RpbmcgYW5kIGlmIGl0IG1heSwgb3ZlcnJpZGUgaXQgd2l0aCBpbml0aWFsIG9uZVxuICAgICAgaWYgKFxuICAgICAgICBpdGVtLnBvc3QgIT09IGZhbHNlICYmXG4gICAgICAgICghY2F0ZWdvcnkgfHwgaXRlbS5pZCA9PT0gdGhpcy5zdGF0ZS5jYXRlZ29yeSlcbiAgICAgICkge1xuICAgICAgICBjYXRlZ29yeSA9IGl0ZW0uaWRcbiAgICAgICAgY2F0ZWdvcnlPcHRpb25zID0gaXRlbS5wb3N0XG4gICAgICB9XG5cbiAgICAgIGlmIChpdGVtLnBvc3QgJiYgKGl0ZW0ucG9zdC5jbG9zZSB8fCBpdGVtLnBvc3QuaGlkZSB8fCBpdGVtLnBvc3QucGluKSkge1xuICAgICAgICBzaG93T3B0aW9ucyA9IHRydWVcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oaXRlbSwge1xuICAgICAgICBkaXNhYmxlZDogaXRlbS5wb3N0ID09PSBmYWxzZSxcbiAgICAgICAgbGFiZWw6IGl0ZW0ubmFtZSxcbiAgICAgICAgdmFsdWU6IGl0ZW0uaWRcbiAgICAgIH0pXG4gICAgfSlcblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNSZWFkeTogdHJ1ZSxcbiAgICAgIHNob3dPcHRpb25zLFxuXG4gICAgICBjYXRlZ29yaWVzLFxuICAgICAgY2F0ZWdvcnksXG4gICAgICBjYXRlZ29yeU9wdGlvbnNcbiAgICB9KVxuICB9XG5cbiAgbG9hZEVycm9yID0gcmVqZWN0aW9uID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzRXJyb3JlZDogcmVqZWN0aW9uLmRldGFpbFxuICAgIH0pXG4gIH1cblxuICBvbkNhbmNlbCA9ICgpID0+IHtcbiAgICBjb25zdCBjYW5jZWwgPSBjb25maXJtKFwizpXOr8+DzrHOuSDPg86vzrPOv8+Fz4HOv8+CIM+Mz4TOuSDOtM61IM64zq3Ou861zrnPgiDOvc6xIM60zrfOvM6/z4POuc61z43Pg861zrnPgiDOsc+Fz4TOriDPhM63zr0gzrHOs86zzrXOu86vzrE7XCIpXG4gICAgaWYgKGNhbmNlbCkge1xuICAgICAgcG9zdGluZy5jbG9zZSgpXG4gICAgfVxuICB9XG5cbiAgb25UaXRsZUNoYW5nZSA9IGV2ZW50ID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKFwidGl0bGVcIiwgZXZlbnQudGFyZ2V0LnZhbHVlKVxuICB9XG5cbiAgb25DYXRlZ29yeUNoYW5nZSA9IGV2ZW50ID0+IHtcbiAgICBjb25zdCBjYXRlZ29yeSA9IHRoaXMuc3RhdGUuY2F0ZWdvcmllcy5maW5kKGl0ZW0gPT4ge1xuICAgICAgcmV0dXJuIGV2ZW50LnRhcmdldC52YWx1ZSA9PSBpdGVtLnZhbHVlXG4gICAgfSlcblxuICAgIC8vIGlmIHNlbGVjdGVkIHBpbiBpcyBncmVhdGVyIHRoYW4gYWxsb3dlZCwgcmVkdWNlIGl0XG4gICAgbGV0IHBpbiA9IHRoaXMuc3RhdGUucGluXG4gICAgaWYgKGNhdGVnb3J5LnBvc3QucGluICYmIGNhdGVnb3J5LnBvc3QucGluIDwgcGluKSB7XG4gICAgICBwaW4gPSBjYXRlZ29yeS5wb3N0LnBpblxuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5LmlkLFxuICAgICAgY2F0ZWdvcnlPcHRpb25zOiBjYXRlZ29yeS5wb3N0LFxuXG4gICAgICBwaW5cbiAgICB9KVxuICB9XG5cbiAgb25Qb3N0Q2hhbmdlID0gZXZlbnQgPT4ge1xuICAgIHRoaXMuY2hhbmdlVmFsdWUoXCJwb3N0XCIsIGV2ZW50LnRhcmdldC52YWx1ZSlcbiAgfVxuXG4gIG9uQXR0YWNobWVudHNDaGFuZ2UgPSBhdHRhY2htZW50cyA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBhdHRhY2htZW50c1xuICAgIH0pXG4gIH1cblxuICBvbkNsb3NlID0gKCkgPT4ge1xuICAgIHRoaXMuY2hhbmdlVmFsdWUoXCJjbG9zZVwiLCB0cnVlKVxuICB9XG5cbiAgb25PcGVuID0gKCkgPT4ge1xuICAgIHRoaXMuY2hhbmdlVmFsdWUoXCJjbG9zZVwiLCBmYWxzZSlcbiAgfVxuXG4gIG9uUGluR2xvYmFsbHkgPSAoKSA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZShcInBpblwiLCAyKVxuICB9XG5cbiAgb25QaW5Mb2NhbGx5ID0gKCkgPT4ge1xuICAgIHRoaXMuY2hhbmdlVmFsdWUoXCJwaW5cIiwgMSlcbiAgfVxuXG4gIG9uVW5waW4gPSAoKSA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZShcInBpblwiLCAwKVxuICB9XG5cbiAgb25IaWRlID0gKCkgPT4ge1xuICAgIHRoaXMuY2hhbmdlVmFsdWUoXCJoaWRlXCIsIHRydWUpXG4gIH1cblxuICBvblVuaGlkZSA9ICgpID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKFwiaGlkZVwiLCBmYWxzZSlcbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS50aXRsZS50cmltKCkubGVuZ3RoKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihcIs6gz4HOrc+AzrXOuSDOvc6xIM6yzqzOu861zrnPgiDPhM6vz4TOu86/IM+Dz4TOt869IM6xzrPOs861zrvOr86xIVwiKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLnN0YXRlLnBvc3QudHJpbSgpLmxlbmd0aCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoXCLOoM+Bzq3PgM61zrkgzr3OsSDOss6szrvOtc65z4IgzrzOrs69z4XOvM6xIM+Dz4TOt869IM6xzrPOs861zrvOr86xIVwiKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgY29uc3QgZXJyb3JzID0gdGhpcy52YWxpZGF0ZSgpXG5cbiAgICBpZiAoZXJyb3JzLnRpdGxlKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihlcnJvcnMudGl0bGVbMF0pXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBpZiAoZXJyb3JzLnBvc3QpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGVycm9ycy5wb3N0WzBdKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdCh0aGlzLnByb3BzLnN1Ym1pdCwge1xuICAgICAgdGl0bGU6IHRoaXMuc3RhdGUudGl0bGUsXG4gICAgICBjYXRlZ29yeTogdGhpcy5zdGF0ZS5jYXRlZ29yeSxcbiAgICAgIHBvc3Q6IHRoaXMuc3RhdGUucG9zdCxcbiAgICAgIGF0dGFjaG1lbnRzOiBhdHRhY2htZW50cy5jbGVhbih0aGlzLnN0YXRlLmF0dGFjaG1lbnRzKSxcbiAgICAgIGNsb3NlOiB0aGlzLnN0YXRlLmNsb3NlLFxuICAgICAgaGlkZTogdGhpcy5zdGF0ZS5oaWRlLFxuICAgICAgcGluOiB0aGlzLnN0YXRlLnBpblxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKHN1Y2Nlc3MpIHtcbiAgICBzbmFja2Jhci5zdWNjZXNzKFwizpcgzrHOs86zzrXOu86vzrEgz4POv8+FIM60zrfOvM6/z4POuc61z43OuM63zrrOtSDOtc+AzrnPhM+Fz4fPjs+CIVwiKVxuICAgIHdpbmRvdy5sb2NhdGlvbiA9IHN1Y2Nlc3MudXJsXG5cbiAgICAvLyBrZWVwIGZvcm0gbG9hZGluZ1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNMb2FkaW5nOiB0cnVlXG4gICAgfSlcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIGNvbnN0IGVycm9ycyA9IFtdLmNvbmNhdChcbiAgICAgICAgcmVqZWN0aW9uLm5vbl9maWVsZF9lcnJvcnMgfHwgW10sXG4gICAgICAgIHJlamVjdGlvbi5jYXRlZ29yeSB8fCBbXSxcbiAgICAgICAgcmVqZWN0aW9uLnRpdGxlIHx8IFtdLFxuICAgICAgICByZWplY3Rpb24ucG9zdCB8fCBbXSxcbiAgICAgICAgcmVqZWN0aW9uLmF0dGFjaG1lbnRzIHx8IFtdXG4gICAgICApXG5cbiAgICAgIHNuYWNrYmFyLmVycm9yKGVycm9yc1swXSlcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5pc0Vycm9yZWQpIHtcbiAgICAgIHJldHVybiA8TWVzc2FnZSBtZXNzYWdlPXt0aGlzLnN0YXRlLmlzRXJyb3JlZH0gLz5cbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuc3RhdGUuaXNSZWFkeSkge1xuICAgICAgcmV0dXJuIDxMb2FkZXIgLz5cbiAgICB9XG5cbiAgICBsZXQgY29sdW1ucyA9IDBcbiAgICBpZiAodGhpcy5zdGF0ZS5jYXRlZ29yeU9wdGlvbnMuY2xvc2UpIGNvbHVtbnMgKz0gMVxuICAgIGlmICh0aGlzLnN0YXRlLmNhdGVnb3J5T3B0aW9ucy5oaWRlKSBjb2x1bW5zICs9IDFcbiAgICBpZiAodGhpcy5zdGF0ZS5jYXRlZ29yeU9wdGlvbnMucGluKSBjb2x1bW5zICs9IDFcblxuICAgIGxldCB0aXRsZVN0eWxlID0gbnVsbFxuXG4gICAgaWYgKGNvbHVtbnMgPT09IDEpIHtcbiAgICAgIHRpdGxlU3R5bGUgPSBcImNvbC1zbS02XCJcbiAgICB9IGVsc2Uge1xuICAgICAgdGl0bGVTdHlsZSA9IFwiY29sLXNtLThcIlxuICAgIH1cblxuICAgIGlmIChjb2x1bW5zID09PSAzKSB7XG4gICAgICB0aXRsZVN0eWxlICs9IFwiIGNvbC1tZC02XCJcbiAgICB9IGVsc2UgaWYgKGNvbHVtbnMpIHtcbiAgICAgIHRpdGxlU3R5bGUgKz0gXCIgY29sLW1kLTdcIlxuICAgIH0gZWxzZSB7XG4gICAgICB0aXRsZVN0eWxlICs9IFwiIGNvbC1tZC05XCJcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPENvbnRhaW5lciBjbGFzc05hbWU9XCJwb3N0aW5nLWZvcm1cIiB3aXRoRmlyc3RSb3c9e3RydWV9PlxuICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IGZpcnN0LXJvd1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3RpdGxlU3R5bGV9PlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vblRpdGxlQ2hhbmdlfVxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtcIs6kzq/PhM67zr/PgiDOsc6zzrPOtc67zq/Osc+CXCJ9XG4gICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnRpdGxlfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMiBjb2wtc20tNCBjb2wtbWQtMyB4cy1tYXJnaW4tdG9wXCI+XG4gICAgICAgICAgICAgIDxDYXRlZ29yeVNlbGVjdFxuICAgICAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuc3RhdGUuY2F0ZWdvcmllc31cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DYXRlZ29yeUNoYW5nZX1cbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5jYXRlZ29yeX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPE9wdGlvbnNcbiAgICAgICAgICAgICAgY2xvc2U9e3RoaXMuc3RhdGUuY2xvc2V9XG4gICAgICAgICAgICAgIGNvbHVtbnM9e2NvbHVtbnN9XG4gICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgaGlkZT17dGhpcy5zdGF0ZS5oaWRlfVxuICAgICAgICAgICAgICBvbkNsb3NlPXt0aGlzLm9uQ2xvc2V9XG4gICAgICAgICAgICAgIG9uSGlkZT17dGhpcy5vbkhpZGV9XG4gICAgICAgICAgICAgIG9uT3Blbj17dGhpcy5vbk9wZW59XG4gICAgICAgICAgICAgIG9uUGluR2xvYmFsbHk9e3RoaXMub25QaW5HbG9iYWxseX1cbiAgICAgICAgICAgICAgb25QaW5Mb2NhbGx5PXt0aGlzLm9uUGluTG9jYWxseX1cbiAgICAgICAgICAgICAgb25VbmhpZGU9e3RoaXMub25VbmhpZGV9XG4gICAgICAgICAgICAgIG9uVW5waW49e3RoaXMub25VbnBpbn1cbiAgICAgICAgICAgICAgb3B0aW9ucz17dGhpcy5zdGF0ZS5jYXRlZ29yeU9wdGlvbnN9XG4gICAgICAgICAgICAgIHBpbj17dGhpcy5zdGF0ZS5waW59XG4gICAgICAgICAgICAgIHNob3dPcHRpb25zPXt0aGlzLnN0YXRlLnNob3dPcHRpb25zfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMTJcIj5cbiAgICAgICAgICAgICAgPEVkaXRvclxuICAgICAgICAgICAgICAgIGF0dGFjaG1lbnRzPXt0aGlzLnN0YXRlLmF0dGFjaG1lbnRzfVxuICAgICAgICAgICAgICAgIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgIG9uQXR0YWNobWVudHNDaGFuZ2U9e3RoaXMub25BdHRhY2htZW50c0NoYW5nZX1cbiAgICAgICAgICAgICAgICBvbkNhbmNlbD17dGhpcy5vbkNhbmNlbH1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vblBvc3RDaGFuZ2V9XG4gICAgICAgICAgICAgICAgc3VibWl0TGFiZWw9e1wizpTOt868zr/Pg86vzrXPhc+DzrcgzrHOs86zzrXOu86vzrHPglwifVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnBvc3R9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgPC9Db250YWluZXI+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgbW9tZW50IGZyb20gXCJtb21lbnRcIlxuXG5leHBvcnQgZnVuY3Rpb24gY2xlYW4oYXR0YWNobWVudHMpIHtcbiAgY29uc3QgY29tcGxldGVkQXR0YWNobWVudHMgPSBhdHRhY2htZW50cy5maWx0ZXIoYXR0YWNobWVudCA9PiB7XG4gICAgcmV0dXJuIGF0dGFjaG1lbnQuaWQgJiYgIWF0dGFjaG1lbnQuaXNSZW1vdmVkXG4gIH0pXG5cbiAgcmV0dXJuIGNvbXBsZXRlZEF0dGFjaG1lbnRzLm1hcChhID0+IHtcbiAgICByZXR1cm4gYS5pZFxuICB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZShhdHRhY2htZW50cykge1xuICByZXR1cm4gYXR0YWNobWVudHMubWFwKGF0dGFjaG1lbnQgPT4ge1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBhdHRhY2htZW50LCB7XG4gICAgICB1cGxvYWRlZF9vbjogbW9tZW50KGF0dGFjaG1lbnQudXBsb2FkZWRfb24pXG4gICAgfSlcbiAgfSlcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtwcm9wcy5jbGFzc05hbWV9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj57cHJvcHMuY2hpbGRyZW59PC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IENvbnRhaW5lciBmcm9tIFwiLi9jb250YWluZXJcIlxuaW1wb3J0IExvYWRlciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvbG9hZGVyXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8Q29udGFpbmVyIGNsYXNzTmFtZT1cInBvc3RpbmctbG9hZGVyXCI+XG4gICAgICA8TG9hZGVyIC8+XG4gICAgPC9Db250YWluZXI+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IENvbnRhaW5lciBmcm9tIFwiLi9jb250YWluZXJcIlxuaW1wb3J0IHBvc3RpbmcgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wb3N0aW5nXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8Q29udGFpbmVyIGNsYXNzTmFtZT1cInBvc3RpbmctbWVzc2FnZVwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgPHA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmVycm9yX291dGxpbmU8L3NwYW4+XG4gICAgICAgICAge3Byb3BzLm1lc3NhZ2V9XG4gICAgICAgIDwvcD5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiXG4gICAgICAgICAgb25DbGljaz17cG9zdGluZy5jbG9zZX1cbiAgICAgICAgPlxuICAgICAgICAgIHtcIs6fzppcIn1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICA8L0NvbnRhaW5lcj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGlmICghcHJvcHMuc2hvd09wdGlvbnMpIHJldHVybiBudWxsXG5cbiAgY29uc3QgeyBjb2x1bW5zIH0gPSBwcm9wc1xuXG4gIGxldCBjbGFzc05hbWUgPSBcImNvbC14cy0xMiB4cy1tYXJnaW4tdG9wXCJcblxuICBpZiAoY29sdW1ucyA9PT0gMSkge1xuICAgIGNsYXNzTmFtZSArPSBcIiBjb2wtc20tMlwiXG4gIH0gZWxzZSB7XG4gICAgY2xhc3NOYW1lICs9IFwiIHNtLW1hcmdpbi10b3BcIlxuICB9XG5cbiAgaWYgKGNvbHVtbnMgPT09IDMpIHtcbiAgICBjbGFzc05hbWUgKz0gXCIgY29sLW1kLTNcIlxuICB9IGVsc2Uge1xuICAgIGNsYXNzTmFtZSArPSBcIiBjb2wtbWQtMlwiXG4gIH1cbiAgY2xhc3NOYW1lICs9IFwiIHBvc3Rpbmctb3B0aW9uc1wiXG5cbiAgY29uc3QgY29sdW1uQ2xhc3NOYW1lID0gXCJjb2wteHMtXCIgKyAxMiAvIGNvbHVtbnNcblxuICBsZXQgdGV4dENsYXNzTmFtZSA9IFwiYnRuLXRleHRcIlxuICBpZiAoY29sdW1ucyA9PT0gMykge1xuICAgIHRleHRDbGFzc05hbWUgKz0gXCIgdmlzaWJsZS1zbS1pbmxpbmUtYmxvY2tcIlxuICB9IGVsc2UgaWYgKGNvbHVtbnMgPT09IDIpIHtcbiAgICB0ZXh0Q2xhc3NOYW1lICs9IFwiIGhpZGRlbi1tZCBoaWRkZW4tbGdcIlxuICB9IGVsc2Uge1xuICAgIHRleHRDbGFzc05hbWUgKz0gXCIgaGlkZGVuLXNtXCJcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICA8UGluT3B0aW9uc1xuICAgICAgICAgIGNsYXNzTmFtZT17Y29sdW1uQ2xhc3NOYW1lfVxuICAgICAgICAgIGRpc2FibGVkPXtwcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgICBvblBpbkdsb2JhbGx5PXtwcm9wcy5vblBpbkdsb2JhbGx5fVxuICAgICAgICAgIG9uUGluTG9jYWxseT17cHJvcHMub25QaW5Mb2NhbGx5fVxuICAgICAgICAgIG9uVW5waW49e3Byb3BzLm9uVW5waW59XG4gICAgICAgICAgcGluPXtwcm9wcy5waW59XG4gICAgICAgICAgc2hvdz17cHJvcHMub3B0aW9ucy5waW59XG4gICAgICAgICAgdGV4dENsYXNzTmFtZT17dGV4dENsYXNzTmFtZX1cbiAgICAgICAgLz5cbiAgICAgICAgPEhpZGVPcHRpb25zXG4gICAgICAgICAgY2xhc3NOYW1lPXtjb2x1bW5DbGFzc05hbWV9XG4gICAgICAgICAgZGlzYWJsZWQ9e3Byb3BzLmRpc2FibGVkfVxuICAgICAgICAgIGhpZGU9e3Byb3BzLmhpZGV9XG4gICAgICAgICAgb25IaWRlPXtwcm9wcy5vbkhpZGV9XG4gICAgICAgICAgb25VbmhpZGU9e3Byb3BzLm9uVW5oaWRlfVxuICAgICAgICAgIHNob3c9e3Byb3BzLm9wdGlvbnMuaGlkZX1cbiAgICAgICAgICB0ZXh0Q2xhc3NOYW1lPXt0ZXh0Q2xhc3NOYW1lfVxuICAgICAgICAvPlxuICAgICAgICA8Q2xvc2VPcHRpb25zXG4gICAgICAgICAgY2xhc3NOYW1lPXtjb2x1bW5DbGFzc05hbWV9XG4gICAgICAgICAgY2xvc2U9e3Byb3BzLmNsb3NlfVxuICAgICAgICAgIGRpc2FibGVkPXtwcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgICBvbkNsb3NlPXtwcm9wcy5vbkNsb3NlfVxuICAgICAgICAgIG9uT3Blbj17cHJvcHMub25PcGVufVxuICAgICAgICAgIHNob3c9e3Byb3BzLm9wdGlvbnMuY2xvc2V9XG4gICAgICAgICAgdGV4dENsYXNzTmFtZT17dGV4dENsYXNzTmFtZX1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBDbG9zZU9wdGlvbnMocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy5zaG93KSByZXR1cm4gbnVsbFxuXG4gIGNvbnN0IGxhYmVsID0gcHJvcHMuY2xvc2UgPyBcIs6azrvOtc65z4POvM6tzr3Ot1wiIDogXCLOkc69zr/Ouc+Hz4TOrlwiXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17cHJvcHMuY2xhc3NOYW1lfT5cbiAgICAgIDxidXR0b25cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9ja1wiXG4gICAgICAgIGRpc2FibGVkPXtwcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgb25DbGljaz17cHJvcHMuY2xvc2UgPyBwcm9wcy5vbk9wZW4gOiBwcm9wcy5vbkNsb3NlfVxuICAgICAgICB0aXRsZT17bGFiZWx9XG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAge3Byb3BzLmNsb3NlID8gXCJsb2NrXCIgOiBcImxvY2tfb3V0bGluZVwifVxuICAgICAgICA8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT17cHJvcHMudGV4dENsYXNzTmFtZX0+e2xhYmVsfTwvc3Bhbj5cbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBIaWRlT3B0aW9ucyhwcm9wcykge1xuICBpZiAoIXByb3BzLnNob3cpIHJldHVybiBudWxsXG5cbiAgY29uc3QgbGFiZWwgPSBwcm9wcy5oaWRlID8gXCLOms+Bz4XOvM68zq3Ovc63XCIgOiBcIs6VzrzPhs6xzr3Or862zrXPhM6xzrlcIlxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e3Byb3BzLmNsYXNzTmFtZX0+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2tcIlxuICAgICAgICBkaXNhYmxlZD17cHJvcHMuZGlzYWJsZWR9XG4gICAgICAgIG9uQ2xpY2s9e3Byb3BzLmhpZGUgPyBwcm9wcy5vblVuaGlkZSA6IHByb3BzLm9uSGlkZX1cbiAgICAgICAgdGl0bGU9e2xhYmVsfVxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIHtwcm9wcy5oaWRlID8gXCJ2aXNpYmlsaXR5X29mZlwiIDogXCJ2aXNpYmlsaXR5XCJ9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtwcm9wcy50ZXh0Q2xhc3NOYW1lfT57bGFiZWx9PC9zcGFuPlxuICAgICAgPC9idXR0b24+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBpbk9wdGlvbnMocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy5zaG93KSByZXR1cm4gbnVsbFxuXG4gIGxldCBpY29uID0gbnVsbFxuICBsZXQgb25DbGljayA9IG51bGxcbiAgbGV0IGxhYmVsID0gbnVsbFxuXG4gIHN3aXRjaCAocHJvcHMucGluKSB7XG4gICAgZGVmYXVsdDpcbiAgICAgIGljb24gPSBcInJhZGlvX2J1dHRvbl91bmNoZWNrZWRcIlxuICAgICAgb25DbGljayA9IHByb3BzLm9uUGluTG9jYWxseVxuICAgICAgbGFiZWwgPSBcIs6czrcgz4DPgc6/z4nOuM63zrzOrc69zrdcIlxuICAgICAgYnJlYWtcblxuICAgIGNhc2UgMTpcbiAgICAgIGljb24gPSBcImJvb2ttYXJrX291dGxpbmVcIlxuICAgICAgb25DbGljayA9IHByb3BzLm9uUGluR2xvYmFsbHlcbiAgICAgIGxhYmVsID0gXCLOoM+Bzr/Pic64zrXOr8+EzrHOuSDPg861IM6xz4XPhM6uIM+EzrfOvSDOus6xz4TOt86zzr/Pgc6vzrFcIlxuXG4gICAgICBpZiAocHJvcHMuc2hvdyA9PT0gMikge1xuICAgICAgICBvbkNsaWNrID0gcHJvcHMub25QaW5HbG9iYWxseVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb25DbGljayA9IHByb3BzLm9uVW5waW5cbiAgICAgIH1cblxuICAgICAgYnJlYWtcblxuICAgIGNhc2UgMjpcbiAgICAgIGljb24gPSBcImJvb2ttYXJrXCJcbiAgICAgIG9uQ2xpY2sgPSBwcm9wcy5vblVucGluXG4gICAgICBsYWJlbCA9IFwizqDPgc6/z4nOuM61zq/PhM6xzrkgz4POtSDPjM67zrcgz4TOtyDPg861zrvOr860zrFcIlxuICAgICAgYnJlYWtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e3Byb3BzLmNsYXNzTmFtZX0+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2tcIlxuICAgICAgICBkaXNhYmxlZD17cHJvcHMuZGlzYWJsZWR9XG4gICAgICAgIG9uQ2xpY2s9e29uQ2xpY2t9XG4gICAgICAgIHRpdGxlPXtsYWJlbH1cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj57aWNvbn08L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT17cHJvcHMudGV4dENsYXNzTmFtZX0+e2xhYmVsfTwvc3Bhbj5cbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbih1c2VybmFtZXMpIHtcbiAgY29uc3Qgbm9ybWFsaXNlZE5hbWVzID0gdXNlcm5hbWVzLnNwbGl0KFwiLFwiKS5tYXAoaSA9PiBpLnRyaW0oKS50b0xvd2VyQ2FzZSgpKVxuICBjb25zdCByZW1vdmVkQmxhbmtzID0gbm9ybWFsaXNlZE5hbWVzLmZpbHRlcihpID0+IGkubGVuZ3RoID4gMClcbiAgY29uc3QgcmVtb3ZlZER1cGxpY2F0ZXMgPSByZW1vdmVkQmxhbmtzLmZpbHRlcigobmFtZSwgcG9zKSA9PiB7XG4gICAgcmV0dXJuIHJlbW92ZWRCbGFua3MuaW5kZXhPZihuYW1lKSA9PT0gcG9zXG4gIH0pXG5cbiAgcmV0dXJuIHJlbW92ZWREdXBsaWNhdGVzXG59XG4iLCJpbXBvcnQgeyBtYXhMZW5ndGgsIG1pbkxlbmd0aCB9IGZyb20gXCJtaXNhZ28vdXRpbHMvdmFsaWRhdG9yc1wiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ29cIlxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VGl0bGVWYWxpZGF0b3JzKCkge1xuICByZXR1cm4gW2dldFRpdGxlTGVuZ3RoTWluKCksIGdldFRpdGxlTGVuZ3RoTWF4KCldXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQb3N0VmFsaWRhdG9ycygpIHtcbiAgaWYgKG1pc2Fnby5nZXQoXCJTRVRUSU5HU1wiKS5wb3N0X2xlbmd0aF9tYXgpIHtcbiAgICByZXR1cm4gW3ZhbGlkYXRlUG9zdExlbmd0aE1pbigpLCB2YWxpZGF0ZVBvc3RMZW5ndGhNYXgoKV1cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gW3ZhbGlkYXRlUG9zdExlbmd0aE1pbigpXVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUaXRsZUxlbmd0aE1pbigpIHtcbiAgcmV0dXJuIG1pbkxlbmd0aChcbiAgICBtaXNhZ28uZ2V0KFwiU0VUVElOR1NcIikudGhyZWFkX3RpdGxlX2xlbmd0aF9taW4sXG4gICAgKGxpbWl0VmFsdWUsIGxlbmd0aCkgPT4ge1xuICAgICAgbGV0IG1lc3NhZ2UgPSBcIs6fIM+Ezq/PhM67zr/PgiDPgM+Bzq3PgM61zrkgzr3OsSDOrc+HzrXOuSDPhM6/z4XOu86sz4fOuc+Dz4TOv869ICUobGltaXRfdmFsdWUpcyDPh86xz4HOsc66z4TOrs+BzrXPgiAozq3Ph861zrkgJShzaG93X3ZhbHVlKXMpXCJcbiAgICAgIGlmIChsaW1pdFZhbHVlID09PSAxKSB7XG4gICAgICAgIG1lc3NhZ2UgPSBcIs6fIM+Ezq/PhM67zr/PgiDPgM+Bzq3PgM61zrkgzr3OsSDOrc+HzrXOuSDPhM6/z4XOu86sz4fOuc+Dz4TOv869ICUobGltaXRfdmFsdWUpcyDPh86xz4HOsc66z4TOrs+BzrEgKM6tz4fOtc65ICUoc2hvd192YWx1ZSlzKVwiXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAge1xuICAgICAgICAgIGxpbWl0X3ZhbHVlOiBsaW1pdFZhbHVlLFxuICAgICAgICAgIHNob3dfdmFsdWU6IGxlbmd0aFxuICAgICAgICB9LFxuICAgICAgICB0cnVlXG4gICAgICApXG4gICAgfVxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUaXRsZUxlbmd0aE1heCgpIHtcbiAgcmV0dXJuIG1heExlbmd0aChcbiAgICBtaXNhZ28uZ2V0KFwiU0VUVElOR1NcIikudGhyZWFkX3RpdGxlX2xlbmd0aF9tYXgsXG4gICAgKGxpbWl0VmFsdWUsIGxlbmd0aCkgPT4ge1xuICAgICAgbGV0IG1lc3NhZ2UgPSBcIs6fIM+Ezq/PhM67zr/PgiDOtM61zr0gzrzPgM6/z4HOtc6vIM69zrEgzq3Ph861zrkgz4DOrM69z4kgzrHPgM+MICUobGltaXRfdmFsdWUpcyDPh86xz4HOsc66z4TOrs+BzrXPgiAozq3Ph861zrkgJShzaG93X3ZhbHVlKXMpXCJcbiAgICAgIGlmIChsaW1pdFZhbHVlID09PSAxKSB7XG4gICAgICAgIG1lc3NhZ2UgPSBcIs6fIM+Ezq/PhM67zr/PgiDOtM61zr0gzrzPgM6/z4HOtc6vIM69zrEgzq3Ph861zrkgz4DOrM69z4kgzrHPgM+MICUobGltaXRfdmFsdWUpcyDPh86xz4HOsc66z4TOrs+BzrEgKM6tz4fOtc65ICUoc2hvd192YWx1ZSlzKVwiXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAge1xuICAgICAgICAgIGxpbWl0X3ZhbHVlOiBsaW1pdFZhbHVlLFxuICAgICAgICAgIHNob3dfdmFsdWU6IGxlbmd0aFxuICAgICAgICB9LFxuICAgICAgICB0cnVlXG4gICAgICApXG4gICAgfVxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVBvc3RMZW5ndGhNaW4oKSB7XG4gIHJldHVybiBtaW5MZW5ndGgoXG4gICAgbWlzYWdvLmdldChcIlNFVFRJTkdTXCIpLnBvc3RfbGVuZ3RoX21pbixcbiAgICAobGltaXRWYWx1ZSwgbGVuZ3RoKSA9PiB7XG4gICAgICBsZXQgbWVzc2FnZSA9IFwizqTOvyDPgM61z4HOuc61z4fPjM68zrXOvc6/IM+Az4HOrc+AzrXOuSDOvc6xIM6tz4fOtc65IM+Ezr/Phc67zqzPh865z4PPhM6/zr0gJShsaW1pdF92YWx1ZSlzIM+HzrHPgc6xzrrPhM6uz4HOtc+CICjOrc+HzrXOuSAlKHNob3dfdmFsdWUpcylcIlxuICAgICAgaWYgKGxpbWl0VmFsdWUgPT09IDEpIHtcbiAgICAgICAgbWVzc2FnZSA9IFwizqTOvyDPgM61z4HOuc61z4fPjM68zrXOvc6/IM+Az4HOrc+AzrXOuSDOvc6xIM6tz4fOtc65IM+Ezr/Phc67zqzPh865z4PPhM6/zr0gJShsaW1pdF92YWx1ZSlzIM+HzrHPgc6xzrrPhM6uz4HOsSAozq3Ph861zrkgJShzaG93X3ZhbHVlKXMpXCJcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICB7XG4gICAgICAgICAgbGltaXRfdmFsdWU6IGxpbWl0VmFsdWUsXG4gICAgICAgICAgc2hvd192YWx1ZTogbGVuZ3RoXG4gICAgICAgIH0sXG4gICAgICAgIHRydWVcbiAgICAgIClcbiAgICB9XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlUG9zdExlbmd0aE1heCgpIHtcbiAgcmV0dXJuIG1heExlbmd0aChcbiAgICBtaXNhZ28uZ2V0KFwiU0VUVElOR1NcIikucG9zdF9sZW5ndGhfbWF4IHx8IDEwMDAwMDAsXG4gICAgKGxpbWl0VmFsdWUsIGxlbmd0aCkgPT4ge1xuICAgICAgbGV0IG1lc3NhZ2UgPSBcIs6kzr8gz4DOtc+BzrnOtc+Hz4zOvM61zr3OvyDOtM61zr0gzrzPgM6/z4HOtc6vIM69zrEgzq3Ph861zrkgz4DOrM69z4kgzrHPgM+MICUobGltaXRfdmFsdWUpcyDPh86xz4HOsc66z4TOrs+BzrXPgiAozq3Ph861zrkgJShzaG93X3ZhbHVlKXMpXCJcbiAgICAgIGlmIChsaW1pdFZhbHVlID09PSAxKSB7XG4gICAgICAgIG1lc3NhZ2UgPSBcIs6kzr8gz4DOtc+BzrnOtc+Hz4zOvM61zr3OvyDOtM61zr0gzrzPgM6/z4HOtc6vIM69zrEgzq3Ph861zrkgz4DOrM69z4kgzrHPgM+MICUobGltaXRfdmFsdWUpcyDPh86xz4HOsc66z4TOrs+BzrEgKM6tz4fOtc65ICUoc2hvd192YWx1ZSlzKVwiXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAge1xuICAgICAgICAgIGxpbWl0X3ZhbHVlOiBsaW1pdFZhbHVlLFxuICAgICAgICAgIHNob3dfdmFsdWU6IGxlbmd0aFxuICAgICAgICB9LFxuICAgICAgICB0cnVlXG4gICAgICApXG4gICAgfVxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBtb21lbnQgZnJvbSBcIm1vbWVudFwiXG5pbXBvcnQgKiBhcyBwb3N0IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvcG9zdFwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBpZiAoaXNWaXNpYmxlKHByb3BzLnBvc3QuYWNsKSkge1xuICAgIHJldHVybiAoXG4gICAgICA8bGkgY2xhc3NOYW1lPVwiZXZlbnQtY29udHJvbHNcIj5cbiAgICAgICAgPEhpZGUgey4uLnByb3BzfSAvPlxuICAgICAgICA8VW5oaWRlIHsuLi5wcm9wc30gLz5cbiAgICAgICAgPERlbGV0ZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1Zpc2libGUoYWNsKSB7XG4gIHJldHVybiBhY2wuY2FuX2hpZGVcbn1cblxuZXhwb3J0IGNsYXNzIEhpZGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKFxuICAgICAgcG9zdC5wYXRjaCh0aGlzLnByb3BzLnBvc3QsIHtcbiAgICAgICAgaXNfaGlkZGVuOiB0cnVlLFxuICAgICAgICBoaWRkZW5fb246IG1vbWVudCgpLFxuICAgICAgICBoaWRkZW5fYnlfbmFtZTogdGhpcy5wcm9wcy51c2VyLnVzZXJuYW1lLFxuICAgICAgICB1cmw6IE9iamVjdC5hc3NpZ24odGhpcy5wcm9wcy5wb3N0LnVybCwge1xuICAgICAgICAgIGhpZGRlbl9ieTogdGhpcy5wcm9wcy51c2VyLnVybFxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICApXG5cbiAgICBjb25zdCBvcCA9IHsgb3A6IFwicmVwbGFjZVwiLCBwYXRoOiBcImlzLWhpZGRlblwiLCB2YWx1ZTogdHJ1ZSB9XG5cbiAgICBhamF4LnBhdGNoKHRoaXMucHJvcHMucG9zdC5hcGkuaW5kZXgsIFtvcF0pLnRoZW4oXG4gICAgICBwYXRjaCA9PiB7XG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2godGhpcy5wcm9wcy5wb3N0LCBwYXRjaCkpXG4gICAgICB9LFxuICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWxbMF0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgICAgICB9XG5cbiAgICAgICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICAgICAgcG9zdC5wYXRjaCh0aGlzLnByb3BzLnBvc3QsIHtcbiAgICAgICAgICAgIGlzX2hpZGRlbjogZmFsc2VcbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICB9XG4gICAgKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5wb3N0LmlzX2hpZGRlbikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAgICB7XCLOms+Bz43PiM65zrzOv1wifVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFVuaGlkZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICBwb3N0LnBhdGNoKHRoaXMucHJvcHMucG9zdCwge1xuICAgICAgICBpc19oaWRkZW46IGZhbHNlXG4gICAgICB9KVxuICAgIClcblxuICAgIGNvbnN0IG9wID0geyBvcDogXCJyZXBsYWNlXCIsIHBhdGg6IFwiaXMtaGlkZGVuXCIsIHZhbHVlOiBmYWxzZSB9XG5cbiAgICBhamF4LnBhdGNoKHRoaXMucHJvcHMucG9zdC5hcGkuaW5kZXgsIFtvcF0pLnRoZW4oXG4gICAgICBwYXRjaCA9PiB7XG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2godGhpcy5wcm9wcy5wb3N0LCBwYXRjaCkpXG4gICAgICB9LFxuICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWxbMF0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgICAgICB9XG5cbiAgICAgICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICAgICAgcG9zdC5wYXRjaCh0aGlzLnByb3BzLnBvc3QsIHtcbiAgICAgICAgICAgIGlzX2hpZGRlbjogdHJ1ZVxuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgIH1cbiAgICApXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucG9zdC5pc19oaWRkZW4pIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30+XG4gICAgICAgICAge1wizpXOvM+GzqzOvc65z4POt1wifVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIERlbGV0ZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgY29uc3QgZGVjaXNpb24gPSBjb25maXJtKFxuICAgICAgXCLOlc6vz4POsc65IM+Dzq/Os86/z4XPgc6/z4Igz4zPhM65IM64zq3Ou861zrnPgiDOvc6xIM60zrnOsc6zz4HOrM+IzrXOuc+CIM6xz4XPhM6uIM+EzrfOvSDPgM+Bzr/Pg8+Gzr/Pgc6sO1wiXG4gICAgKVxuICAgIGlmIChkZWNpc2lvbikge1xuICAgICAgdGhpcy5kZWxldGUoKVxuICAgIH1cbiAgfVxuXG4gIGRlbGV0ZSA9ICgpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaChcbiAgICAgIHBvc3QucGF0Y2godGhpcy5wcm9wcy5wb3N0LCB7XG4gICAgICAgIGlzRGVsZXRlZDogdHJ1ZVxuICAgICAgfSlcbiAgICApXG5cbiAgICBhamF4LmRlbGV0ZSh0aGlzLnByb3BzLnBvc3QuYXBpLmluZGV4KS50aGVuKFxuICAgICAgKCkgPT4ge1xuICAgICAgICBzbmFja2Jhci5zdWNjZXNzKFwizpcgz4DPgc6/z4PPhs6/z4HOrCDOrc+HzrXOuSDOtM65zrHOs8+BzrHPhs61zq8gzrXPgM65z4TPhc+Hz47PgiFcIilcbiAgICAgIH0sXG4gICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbFswXSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgICAgIH1cblxuICAgICAgICBzdG9yZS5kaXNwYXRjaChcbiAgICAgICAgICBwb3N0LnBhdGNoKHRoaXMucHJvcHMucG9zdCwge1xuICAgICAgICAgICAgaXNEZWxldGVkOiBmYWxzZVxuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgIH1cbiAgICApXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30+XG4gICAgICAgIHtcIs6UzrnOsc6zz4HOsc+Gzq5cIn1cbiAgICAgIDwvYnV0dG9uPlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmNvbnN0IElDT04gPSB7XG4gIGNoYW5nZWRfdGl0bGU6IFwiZWRpdFwiLFxuXG4gIHBpbm5lZF9nbG9iYWxseTogXCJib29rbWFya1wiLFxuICBwaW5uZWRfbG9jYWxseTogXCJib29rbWFya19ib3JkZXJcIixcbiAgdW5waW5uZWQ6IFwicGFub3JhbWFfZmlzaF9leWVcIixcblxuICBtb3ZlZDogXCJhcnJvd19mb3J3YXJkXCIsXG4gIG1lcmdlZDogXCJjYWxsX21lcmdlXCIsXG5cbiAgYXBwcm92ZWQ6IFwiZG9uZVwiLFxuXG4gIG9wZW5lZDogXCJsb2NrX29wZW5cIixcbiAgY2xvc2VkOiBcImxvY2tfb3V0bGluZVwiLFxuXG4gIHVuaGlkOiBcInZpc2liaWxpdHlcIixcbiAgaGlkOiBcInZpc2liaWxpdHlfb2ZmXCIsXG5cbiAgY2hhbmdlZF9vd25lcjogXCJncmFkZVwiLFxuICB0b29rb3ZlcjogXCJncmFkZVwiLFxuXG4gIGFkZGVkX3BhcnRpY2lwYW50OiBcInBlcnNvbl9hZGRcIixcblxuICBvd25lcl9sZWZ0OiBcInBlcnNvbl9vdXRsaW5lXCIsXG4gIHBhcnRpY2lwYW50X2xlZnQ6IFwicGVyc29uX291dGxpbmVcIixcbiAgcmVtb3ZlZF9wYXJ0aWNpcGFudDogXCJyZW1vdmVfY2lyY2xlX291dGxpbmVcIlxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1hdmF0YXJcIj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj57SUNPTltwcm9wcy5wb3N0LmV2ZW50X3R5cGVdfTwvc3Bhbj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgSWNvbiBmcm9tIFwiLi9pY29uXCJcbmltcG9ydCBJbmZvIGZyb20gXCIuL2luZm9cIlxuaW1wb3J0IE1lc3NhZ2UgZnJvbSBcIi4vbWVzc2FnZVwiXG5pbXBvcnQgVW5yZWFkTGFiZWwgZnJvbSBcIi4vdW5yZWFkLWxhYmVsXCJcbmltcG9ydCBXYXlwb2ludCBmcm9tIFwiLi4vd2F5cG9pbnRcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBsZXQgY2xhc3NOYW1lID0gXCJldmVudFwiXG4gIGlmIChwcm9wcy5wb3N0LmlzRGVsZXRlZCkge1xuICAgIGNsYXNzTmFtZSA9IFwiaGlkZVwiXG4gIH0gZWxzZSBpZiAocHJvcHMucG9zdC5pc19oaWRkZW4pIHtcbiAgICBjbGFzc05hbWUgPSBcImV2ZW50IHBvc3QtaGlkZGVuXCJcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGxpIGlkPXtcInBvc3QtXCIgKyBwcm9wcy5wb3N0LmlkfSBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICA8VW5yZWFkTGFiZWwgcG9zdD17cHJvcHMucG9zdH0gLz5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTIgY29sLXNtLTMgdGV4dC1yaWdodFwiPlxuICAgICAgICAgIDxJY29uIHsuLi5wcm9wc30gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEwIGNvbC1zbS05IHRleHQtbGVmdFwiPlxuICAgICAgICAgIDxXYXlwb2ludCBwb3N0PXtwcm9wcy5wb3N0fT5cbiAgICAgICAgICAgIDxNZXNzYWdlIHsuLi5wcm9wc30gLz5cbiAgICAgICAgICAgIDxJbmZvIHsuLi5wcm9wc30gLz5cbiAgICAgICAgICA8L1dheXBvaW50PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvbGk+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IGVzY2FwZUh0bWwgZnJvbSBcIm1pc2Fnby91dGlscy9lc2NhcGUtaHRtbFwiXG5pbXBvcnQgQ29udHJvbHMgZnJvbSBcIi4vY29udHJvbHNcIlxuXG5jb25zdCBEQVRFX0FCQlIgPSAnPGFiYnIgdGl0bGU9XCIlKGFic29sdXRlKXNcIj4lKHJlbGF0aXZlKXM8L2FiYnI+J1xuY29uc3QgREFURV9VUkwgPSAnPGEgaHJlZj1cIiUodXJsKXNcIiB0aXRsZT1cIiUoYWJzb2x1dGUpc1wiPiUocmVsYXRpdmUpczwvYT4nXG5jb25zdCBVU0VSX1NQQU4gPSAnPHNwYW4gY2xhc3M9XCJpdGVtLXRpdGxlXCI+JSh1c2VyKXM8L3NwYW4+J1xuY29uc3QgVVNFUl9VUkwgPSAnPGEgaHJlZj1cIiUodXJsKXNcIiBjbGFzcz1cIml0ZW0tdGl0bGVcIj4lKHVzZXIpczwvYT4nXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtaW5saW5lIGV2ZW50LWluZm9cIj5cbiAgICAgIDxIaWRkZW4gey4uLnByb3BzfSAvPlxuICAgICAgPFBvc3RlciB7Li4ucHJvcHN9IC8+XG4gICAgICA8Q29udHJvbHMgey4uLnByb3BzfSAvPlxuICAgIDwvdWw+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEhpZGRlbihwcm9wcykge1xuICBpZiAocHJvcHMucG9zdC5pc19oaWRkZW4pIHtcbiAgICBsZXQgdXNlciA9IG51bGxcbiAgICBpZiAocHJvcHMucG9zdC51cmwuaGlkZGVuX2J5KSB7XG4gICAgICB1c2VyID0gaW50ZXJwb2xhdGUoXG4gICAgICAgIFVTRVJfVVJMLFxuICAgICAgICB7XG4gICAgICAgICAgdXJsOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QudXJsLmhpZGRlbl9ieSksXG4gICAgICAgICAgdXNlcjogZXNjYXBlSHRtbChwcm9wcy5wb3N0LmhpZGRlbl9ieV9uYW1lKVxuICAgICAgICB9LFxuICAgICAgICB0cnVlXG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHVzZXIgPSBpbnRlcnBvbGF0ZShcbiAgICAgICAgVVNFUl9TUEFOLFxuICAgICAgICB7XG4gICAgICAgICAgdXNlcjogZXNjYXBlSHRtbChwcm9wcy5wb3N0LmhpZGRlbl9ieV9uYW1lKVxuICAgICAgICB9LFxuICAgICAgICB0cnVlXG4gICAgICApXG4gICAgfVxuXG4gICAgY29uc3QgZGF0ZSA9IGludGVycG9sYXRlKFxuICAgICAgREFURV9BQkJSLFxuICAgICAge1xuICAgICAgICBhYnNvbHV0ZTogZXNjYXBlSHRtbChwcm9wcy5wb3N0LmhpZGRlbl9vbi5mb3JtYXQoXCJMTExcIikpLFxuICAgICAgICByZWxhdGl2ZTogZXNjYXBlSHRtbChwcm9wcy5wb3N0LmhpZGRlbl9vbi5mcm9tTm93KCkpXG4gICAgICB9LFxuICAgICAgdHJ1ZVxuICAgIClcblxuICAgIGNvbnN0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShcbiAgICAgIGVzY2FwZUh0bWwoXCLOms+Bz4XOvM68zq3Ovc6/IM6xz4DPjCAlKGV2ZW50X2J5KXMgJShldmVudF9vbilzXCIpLFxuICAgICAge1xuICAgICAgICBldmVudF9ieTogdXNlcixcbiAgICAgICAgZXZlbnRfb246IGRhdGVcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaVxuICAgICAgICBjbGFzc05hbWU9XCJldmVudC1oaWRkZW4tbWVzc2FnZVwiXG4gICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogbWVzc2FnZSB9fVxuICAgICAgLz5cbiAgICApXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUG9zdGVyKHByb3BzKSB7XG4gIGxldCB1c2VyID0gbnVsbFxuICBpZiAocHJvcHMucG9zdC5wb3N0ZXIpIHtcbiAgICB1c2VyID0gaW50ZXJwb2xhdGUoXG4gICAgICBVU0VSX1VSTCxcbiAgICAgIHtcbiAgICAgICAgdXJsOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QucG9zdGVyLnVybCksXG4gICAgICAgIHVzZXI6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5wb3N0ZXJfbmFtZSlcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuICB9IGVsc2Uge1xuICAgIHVzZXIgPSBpbnRlcnBvbGF0ZShcbiAgICAgIFVTRVJfU1BBTixcbiAgICAgIHtcbiAgICAgICAgdXNlcjogZXNjYXBlSHRtbChwcm9wcy5wb3N0LnBvc3Rlcl9uYW1lKVxuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG4gIH1cblxuICBjb25zdCBkYXRlID0gaW50ZXJwb2xhdGUoXG4gICAgREFURV9VUkwsXG4gICAge1xuICAgICAgdXJsOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QudXJsLmluZGV4KSxcbiAgICAgIGFic29sdXRlOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QucG9zdGVkX29uLmZvcm1hdChcIkxMTFwiKSksXG4gICAgICByZWxhdGl2ZTogZXNjYXBlSHRtbChwcm9wcy5wb3N0LnBvc3RlZF9vbi5mcm9tTm93KCkpXG4gICAgfSxcbiAgICB0cnVlXG4gIClcblxuICBjb25zdCBtZXNzYWdlID0gaW50ZXJwb2xhdGUoXG4gICAgZXNjYXBlSHRtbChcIs6Rz4DPjCAlKGV2ZW50X2J5KXMgJShldmVudF9vbilzXCIpLFxuICAgIHtcbiAgICAgIGV2ZW50X2J5OiB1c2VyLFxuICAgICAgZXZlbnRfb246IGRhdGVcbiAgICB9LFxuICAgIHRydWVcbiAgKVxuXG4gIHJldHVybiAoXG4gICAgPGxpXG4gICAgICBjbGFzc05hbWU9XCJldmVudC1wb3N0ZXJzXCJcbiAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogbWVzc2FnZSB9fVxuICAgIC8+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IGVzY2FwZUh0bWwgZnJvbSBcIm1pc2Fnby91dGlscy9lc2NhcGUtaHRtbFwiXG5cbmNvbnN0IE1FU1NBR0UgPSB7XG4gIHBpbm5lZF9nbG9iYWxseTogXCLOlyDOsc6zzrPOtc67zq/OsSDPgM+Bzr/Pic64zrXOr8+EzrHOuSDPg861IM+MzrvOtyDPhM63IM+DzrXOu86vzrTOsVwiLFxuICBwaW5uZWRfbG9jYWxseTogXCLOlyDOsc6zzrPOtc67zq/OsSDPgM+Bzr/Pic64zrXOr8+EzrHOuSDPg861IM6xz4XPhM6uIM+EzrfOvSDOus6xz4TOt86zzr/Pgc6vzrFcIixcbiAgdW5waW5uZWQ6IFwizpcgzrHOs86zzrXOu86vzrEgzrTOtc69IM+Az4HOv8+JzrjOtc6vz4TOsc65IM+AzrvOrc6/zr1cIixcblxuICBhcHByb3ZlZDogXCLOlyDOsc6zzrPOtc67zq/OsSDOtc6zzrrPgc6vzrjOt866zrVcIixcblxuICBvcGVuZWQ6IFwizpcgzrHOs86zzrXOu86vzrEgzqzOvc6/zrnOvs61IM6zzrnOsSDOvc6tzrXPgiDPgM+Bzr/Pg8+Gzr/Pgc6tz4JcIixcbiAgY2xvc2VkOiBcIs6XIM6xzrPOs861zrvOr86xIM6tzrrOu861zrnPg861IM6zzrnOsSDOvc6tzrXPgiDPgM+Bzr/Pg8+Gzr/Pgc6tz4JcIixcblxuICB1bmhpZDogXCLOlyDOsc6zzrPOtc67zq/OsSDOuM6xIM61zrzPhs6xzr3Or862zrXPhM6xzrkgzrHPgM+MIM+Ez47Pgc6xXCIsXG4gIGhpZDogXCLOlyDOsc6zzrPOtc67zq/OsSDOuM6xIM61zq/Ovc6xzrkgzrrPgc+FzrzOvM6tzr3OtyDOsc+Az4wgz4TPjs+BzrFcIixcblxuICB0b29rb3ZlcjogXCLOoM6uz4HOtc+CIM6tzrvOtc6zz4fOvyDPhM63z4IgzrHOs86zzrXOu86vzrHPglwiLFxuXG4gIG93bmVyX2xlZnQ6IFwizp8gzrnOtM65zr/Ous+Ezq7PhM63z4Igz4TOt8+CIM6xzrPOs861zrvOr86xz4Igzq3Phs+FzrPOtSwgzr/PgM+Mz4TOtSDOuM6xIM66zrvOtc6vz4POtc65XCIsXG4gIHBhcnRpY2lwYW50X2xlZnQ6IFwizojOvc6xz4Igz4fPgc6uz4PPhM63z4Igz4DOv8+FIM6tzrrOsc69zrUgz4DPgc6/z4PPhs6/z4HOrCDOrc+Gz4XOs861XCJcbn1cblxuY29uc3QgSVRFTV9MSU5LID0gJzxhIGhyZWY9XCIlKHVybClzXCIgY2xhc3M9XCJpdGVtLXRpdGxlXCI+JShuYW1lKXM8L2E+J1xuY29uc3QgSVRFTV9TUEFOID0gJzxzcGFuIGNsYXNzPVwiaXRlbS10aXRsZVwiPiUobmFtZSlzPC9zcGFuPidcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgaWYgKE1FU1NBR0VbcHJvcHMucG9zdC5ldmVudF90eXBlXSkge1xuICAgIHJldHVybiA8cCBjbGFzc05hbWU9XCJldmVudC1tZXNzYWdlXCI+e01FU1NBR0VbcHJvcHMucG9zdC5ldmVudF90eXBlXX08L3A+XG4gIH0gZWxzZSBpZiAocHJvcHMucG9zdC5ldmVudF90eXBlID09PSBcImNoYW5nZWRfdGl0bGVcIikge1xuICAgIHJldHVybiA8Q2hhbmdlZFRpdGxlIHsuLi5wcm9wc30gLz5cbiAgfSBlbHNlIGlmIChwcm9wcy5wb3N0LmV2ZW50X3R5cGUgPT09IFwibW92ZWRcIikge1xuICAgIHJldHVybiA8TW92ZWQgey4uLnByb3BzfSAvPlxuICB9IGVsc2UgaWYgKHByb3BzLnBvc3QuZXZlbnRfdHlwZSA9PT0gXCJtZXJnZWRcIikge1xuICAgIHJldHVybiA8TWVyZ2VkIHsuLi5wcm9wc30gLz5cbiAgfSBlbHNlIGlmIChwcm9wcy5wb3N0LmV2ZW50X3R5cGUgPT09IFwiY2hhbmdlZF9vd25lclwiKSB7XG4gICAgcmV0dXJuIDxDaGFuZ2VkT3duZXIgey4uLnByb3BzfSAvPlxuICB9IGVsc2UgaWYgKHByb3BzLnBvc3QuZXZlbnRfdHlwZSA9PT0gXCJhZGRlZF9wYXJ0aWNpcGFudFwiKSB7XG4gICAgcmV0dXJuIDxBZGRlZFBhcnRpY2lwYW50IHsuLi5wcm9wc30gLz5cbiAgfSBlbHNlIGlmIChwcm9wcy5wb3N0LmV2ZW50X3R5cGUgPT09IFwicmVtb3ZlZF9wYXJ0aWNpcGFudFwiKSB7XG4gICAgcmV0dXJuIDxSZW1vdmVkUGFydGljaXBhbnQgey4uLnByb3BzfSAvPlxuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIENoYW5nZWRUaXRsZShwcm9wcykge1xuICBjb25zdCBtc2dzdHJpbmcgPSBlc2NhcGVIdG1sKFxuICAgIFwizp8gz4TOr8+EzrvOv8+CIM+EzrfPgiDOsc6zzrPOtc67zq/Osc+CIM6szrvOu86xzr7OtSDOsc+Az4wgJShvbGRfdGl0bGUpc1wiXG4gIClcbiAgY29uc3Qgb2xkVGl0bGUgPSBpbnRlcnBvbGF0ZShcbiAgICBJVEVNX1NQQU4sXG4gICAge1xuICAgICAgbmFtZTogZXNjYXBlSHRtbChwcm9wcy5wb3N0LmV2ZW50X2NvbnRleHQub2xkX3RpdGxlKVxuICAgIH0sXG4gICAgdHJ1ZVxuICApXG4gIGNvbnN0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShcbiAgICBtc2dzdHJpbmcsXG4gICAge1xuICAgICAgb2xkX3RpdGxlOiBvbGRUaXRsZVxuICAgIH0sXG4gICAgdHJ1ZVxuICApXG5cbiAgcmV0dXJuIChcbiAgICA8cFxuICAgICAgY2xhc3NOYW1lPVwiZXZlbnQtbWVzc2FnZVwiXG4gICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IG1lc3NhZ2UgfX1cbiAgICAvPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBNb3ZlZChwcm9wcykge1xuICBjb25zdCBtc2dzdHJpbmcgPSBlc2NhcGVIdG1sKFxuICAgIFwizpcgzrHOs86zzrXOu86vzrEgzrzOtc+EzrHOus65zr3Ors64zrfOus61IM6xz4DPjCAlKGZyb21fY2F0ZWdvcnkpc1wiXG4gIClcbiAgY29uc3QgZnJvbUNhdGVnb3J5ID0gaW50ZXJwb2xhdGUoXG4gICAgSVRFTV9MSU5LLFxuICAgIHtcbiAgICAgIHVybDogZXNjYXBlSHRtbChwcm9wcy5wb3N0LmV2ZW50X2NvbnRleHQuZnJvbV9jYXRlZ29yeS51cmwpLFxuICAgICAgbmFtZTogZXNjYXBlSHRtbChwcm9wcy5wb3N0LmV2ZW50X2NvbnRleHQuZnJvbV9jYXRlZ29yeS5uYW1lKVxuICAgIH0sXG4gICAgdHJ1ZVxuICApXG5cbiAgY29uc3QgbWVzc2FnZSA9IGludGVycG9sYXRlKFxuICAgIG1zZ3N0cmluZyxcbiAgICB7XG4gICAgICBmcm9tX2NhdGVnb3J5OiBmcm9tQ2F0ZWdvcnlcbiAgICB9LFxuICAgIHRydWVcbiAgKVxuXG4gIHJldHVybiAoXG4gICAgPHBcbiAgICAgIGNsYXNzTmFtZT1cImV2ZW50LW1lc3NhZ2VcIlxuICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiBtZXNzYWdlIH19XG4gICAgLz5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTWVyZ2VkKHByb3BzKSB7XG4gIGNvbnN0IG1zZ3N0cmluZyA9IGVzY2FwZUh0bWwoXG4gICAgXCLOlyDOsc6zzrPOtc67zq/OsSAlKG1lcmdlZF90aHJlYWQpcyDPg8+FzrPPh8+Jzr3Otc+NzrjOt866zrUgzrzOtSDOsc+Fz4TOriDOtc60z45cIlxuICApXG4gIGNvbnN0IG1lcmdlZFRocmVhZCA9IGludGVycG9sYXRlKFxuICAgIElURU1fU1BBTixcbiAgICB7XG4gICAgICBuYW1lOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QuZXZlbnRfY29udGV4dC5tZXJnZWRfdGhyZWFkKVxuICAgIH0sXG4gICAgdHJ1ZVxuICApXG5cbiAgY29uc3QgbWVzc2FnZSA9IGludGVycG9sYXRlKFxuICAgIG1zZ3N0cmluZyxcbiAgICB7XG4gICAgICBtZXJnZWRfdGhyZWFkOiBtZXJnZWRUaHJlYWRcbiAgICB9LFxuICAgIHRydWVcbiAgKVxuXG4gIHJldHVybiAoXG4gICAgPHBcbiAgICAgIGNsYXNzTmFtZT1cImV2ZW50LW1lc3NhZ2VcIlxuICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiBtZXNzYWdlIH19XG4gICAgLz5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gQ2hhbmdlZE93bmVyKHByb3BzKSB7XG4gIGNvbnN0IG1zZ3N0cmluZyA9IGVzY2FwZUh0bWwoXCLOnyDOvc6tzr/PgiDOuc60zrnOv866z4TOrs+EzrfPgiDOtc6vzr3Osc65IM6/IM+Hz4HOrs+Dz4TOt8+CICUodXNlcilzXCIpXG4gIGNvbnN0IG5ld093bmVyID0gaW50ZXJwb2xhdGUoXG4gICAgSVRFTV9MSU5LLFxuICAgIHtcbiAgICAgIHVybDogZXNjYXBlSHRtbChwcm9wcy5wb3N0LmV2ZW50X2NvbnRleHQudXNlci51cmwpLFxuICAgICAgbmFtZTogZXNjYXBlSHRtbChwcm9wcy5wb3N0LmV2ZW50X2NvbnRleHQudXNlci51c2VybmFtZSlcbiAgICB9LFxuICAgIHRydWVcbiAgKVxuXG4gIGNvbnN0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShcbiAgICBtc2dzdHJpbmcsXG4gICAge1xuICAgICAgdXNlcjogbmV3T3duZXJcbiAgICB9LFxuICAgIHRydWVcbiAgKVxuXG4gIHJldHVybiAoXG4gICAgPHBcbiAgICAgIGNsYXNzTmFtZT1cImV2ZW50LW1lc3NhZ2VcIlxuICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiBtZXNzYWdlIH19XG4gICAgLz5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gQWRkZWRQYXJ0aWNpcGFudChwcm9wcykge1xuICBjb25zdCBtc2dzdHJpbmcgPSBlc2NhcGVIdG1sKFwizqDPgc6/z4PPhM6tzrjOt866zrUgzr8gz4fPgc6uz4PPhM63z4IgJSh1c2VyKXNcIilcbiAgY29uc3QgbmV3T3duZXIgPSBpbnRlcnBvbGF0ZShcbiAgICBJVEVNX0xJTkssXG4gICAge1xuICAgICAgdXJsOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QuZXZlbnRfY29udGV4dC51c2VyLnVybCksXG4gICAgICBuYW1lOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QuZXZlbnRfY29udGV4dC51c2VyLnVzZXJuYW1lKVxuICAgIH0sXG4gICAgdHJ1ZVxuICApXG5cbiAgY29uc3QgbWVzc2FnZSA9IGludGVycG9sYXRlKFxuICAgIG1zZ3N0cmluZyxcbiAgICB7XG4gICAgICB1c2VyOiBuZXdPd25lclxuICAgIH0sXG4gICAgdHJ1ZVxuICApXG5cbiAgcmV0dXJuIChcbiAgICA8cFxuICAgICAgY2xhc3NOYW1lPVwiZXZlbnQtbWVzc2FnZVwiXG4gICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IG1lc3NhZ2UgfX1cbiAgICAvPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSZW1vdmVkUGFydGljaXBhbnQocHJvcHMpIHtcbiAgY29uc3QgbXNnc3RyaW5nID0gZXNjYXBlSHRtbChcIs6Rz4bOsc65z4HOrc64zrfOus61IM6/IM+Hz4HOrs+Dz4TOt8+CICUodXNlcilzXCIpXG4gIGNvbnN0IG5ld093bmVyID0gaW50ZXJwb2xhdGUoXG4gICAgSVRFTV9MSU5LLFxuICAgIHtcbiAgICAgIHVybDogZXNjYXBlSHRtbChwcm9wcy5wb3N0LmV2ZW50X2NvbnRleHQudXNlci51cmwpLFxuICAgICAgbmFtZTogZXNjYXBlSHRtbChwcm9wcy5wb3N0LmV2ZW50X2NvbnRleHQudXNlci51c2VybmFtZSlcbiAgICB9LFxuICAgIHRydWVcbiAgKVxuXG4gIGNvbnN0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShcbiAgICBtc2dzdHJpbmcsXG4gICAge1xuICAgICAgdXNlcjogbmV3T3duZXJcbiAgICB9LFxuICAgIHRydWVcbiAgKVxuXG4gIHJldHVybiAoXG4gICAgPHBcbiAgICAgIGNsYXNzTmFtZT1cImV2ZW50LW1lc3NhZ2VcIlxuICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiBtZXNzYWdlIH19XG4gICAgLz5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgcG9zdCB9KSB7XG4gIGlmIChwb3N0LmlzX3JlYWQpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTAgY29sLXhzLW9mZnNldC0yIGNvbC1zbS05IGNvbC1zbS1vZmZzZXQtMyB0ZXh0LWxlZnRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJldmVudC1sYWJlbFwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImxhYmVsIGxhYmVsLXVucmVhZFwiPntcIs6dzq3OsSDPgM+Bzr/Pg8+Gzr/Pgc6sXCJ9PC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBFdmVudCBmcm9tIFwiLi9ldmVudFwiXG5pbXBvcnQgUG9zdCBmcm9tIFwiLi9wb3N0XCJcbmltcG9ydCBQb3N0UHJldmlldyBmcm9tIFwiLi9wb3N0L3ByZXZpZXdcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBpZiAoIXByb3BzLnBvc3RzLmlzTG9hZGVkKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDx1bCBjbGFzc05hbWU9XCJwb3N0cy1saXN0IHVpLXByZXZpZXdcIj5cbiAgICAgICAgPFBvc3RQcmV2aWV3IC8+XG4gICAgICA8L3VsPlxuICAgIClcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPHVsIGNsYXNzTmFtZT1cInBvc3RzLWxpc3QgdWktcmVhZHlcIj5cbiAgICAgIHtwcm9wcy5wb3N0cy5yZXN1bHRzLm1hcChwb3N0ID0+IHtcbiAgICAgICAgcmV0dXJuIDxMaXN0SXRlbSBrZXk9e3Bvc3QuaWR9IHBvc3Q9e3Bvc3R9IHsuLi5wcm9wc30gLz5cbiAgICAgIH0pfVxuICAgIDwvdWw+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIExpc3RJdGVtKHByb3BzKSB7XG4gIGlmIChwcm9wcy5wb3N0LmlzX2V2ZW50KSB7XG4gICAgcmV0dXJuIDxFdmVudCB7Li4ucHJvcHN9IC8+XG4gIH1cblxuICByZXR1cm4gPFBvc3Qgey4uLnByb3BzfSAvPlxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgZXNjYXBlSHRtbCBmcm9tIFwibWlzYWdvL3V0aWxzL2VzY2FwZS1odG1sXCJcbmltcG9ydCBmb3JtYXRGaWxlc2l6ZSBmcm9tIFwibWlzYWdvL3V0aWxzL2ZpbGUtc2l6ZVwiXG5cbmNvbnN0IERBVEVfQUJCUiA9ICc8YWJiciB0aXRsZT1cIiUoYWJzb2x1dGUpc1wiPiUocmVsYXRpdmUpczwvYWJicj4nXG5jb25zdCBVU0VSX1NQQU4gPSAnPHNwYW4gY2xhc3M9XCJpdGVtLXRpdGxlXCI+JSh1c2VyKXM8L3NwYW4+J1xuY29uc3QgVVNFUl9VUkwgPSAnPGEgaHJlZj1cIiUodXJsKXNcIiBjbGFzcz1cIml0ZW0tdGl0bGVcIj4lKHVzZXIpczwvYT4nXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgY29sLW1kLTZcIj5cbiAgICAgIDxBdHRhY2htZW50UHJldmlldyB7Li4ucHJvcHN9IC8+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3QtYXR0YWNobWVudFwiPlxuICAgICAgICA8YVxuICAgICAgICAgIGhyZWY9e3Byb3BzLmF0dGFjaG1lbnQudXJsLmluZGV4fVxuICAgICAgICAgIGNsYXNzTmFtZT1cImF0dGFjaG1lbnQtbmFtZSBpdGVtLXRpdGxlXCJcbiAgICAgICAgPlxuICAgICAgICAgIHtwcm9wcy5hdHRhY2htZW50LmZpbGVuYW1lfVxuICAgICAgICA8L2E+XG4gICAgICAgIDxBdHRhY2htZW50RGV0YWlscyB7Li4ucHJvcHN9IC8+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gQXR0YWNobWVudFByZXZpZXcocHJvcHMpIHtcbiAgaWYgKHByb3BzLmF0dGFjaG1lbnQuaXNfaW1hZ2UpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwb3N0LWF0dGFjaG1lbnQtcHJldmlld1wiPlxuICAgICAgICA8QXR0YWNobWVudFRodW1ibmFpbCB7Li4ucHJvcHN9IC8+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1hdHRhY2htZW50LXByZXZpZXdcIj5cbiAgICAgICAgPEF0dGFjaG1lbnRJY29uIHsuLi5wcm9wc30gLz5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gQXR0YWNobWVudEljb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8YSBocmVmPXtwcm9wcy5hdHRhY2htZW50LnVybC5pbmRleH0gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgaW5zZXJ0X2RyaXZlX2ZpbGVcbiAgICA8L2E+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEF0dGFjaG1lbnRUaHVtYm5haWwocHJvcHMpIHtcbiAgY29uc3QgdXJsID0gcHJvcHMuYXR0YWNobWVudC51cmwudGh1bWIgfHwgcHJvcHMuYXR0YWNobWVudC51cmwuaW5kZXhcbiAgcmV0dXJuIChcbiAgICA8YVxuICAgICAgY2xhc3NOYW1lPVwicG9zdC10aHVtYm5haWxcIlxuICAgICAgaHJlZj17cHJvcHMuYXR0YWNobWVudC51cmwuaW5kZXh9XG4gICAgICBzdHlsZT17eyBiYWNrZ3JvdW5kSW1hZ2U6ICd1cmwoXCInICsgZXNjYXBlSHRtbCh1cmwpICsgJ1wiKScgfX1cbiAgICAvPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBBdHRhY2htZW50RGV0YWlscyhwcm9wcykge1xuICBsZXQgdXNlciA9IG51bGxcbiAgaWYgKHByb3BzLmF0dGFjaG1lbnQudXJsLnVwbG9hZGVyKSB7XG4gICAgdXNlciA9IGludGVycG9sYXRlKFxuICAgICAgVVNFUl9VUkwsXG4gICAgICB7XG4gICAgICAgIHVybDogZXNjYXBlSHRtbChwcm9wcy5hdHRhY2htZW50LnVybC51cGxvYWRlciksXG4gICAgICAgIHVzZXI6IGVzY2FwZUh0bWwocHJvcHMuYXR0YWNobWVudC51cGxvYWRlcl9uYW1lKVxuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG4gIH0gZWxzZSB7XG4gICAgdXNlciA9IGludGVycG9sYXRlKFxuICAgICAgVVNFUl9TUEFOLFxuICAgICAge1xuICAgICAgICB1c2VyOiBlc2NhcGVIdG1sKHByb3BzLmF0dGFjaG1lbnQudXBsb2FkZXJfbmFtZSlcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuICB9XG5cbiAgY29uc3QgZGF0ZSA9IGludGVycG9sYXRlKFxuICAgIERBVEVfQUJCUixcbiAgICB7XG4gICAgICBhYnNvbHV0ZTogZXNjYXBlSHRtbChwcm9wcy5hdHRhY2htZW50LnVwbG9hZGVkX29uLmZvcm1hdChcIkxMTFwiKSksXG4gICAgICByZWxhdGl2ZTogZXNjYXBlSHRtbChwcm9wcy5hdHRhY2htZW50LnVwbG9hZGVkX29uLmZyb21Ob3coKSlcbiAgICB9LFxuICAgIHRydWVcbiAgKVxuXG4gIGNvbnN0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShcbiAgICBlc2NhcGVIdG1sKFxuICAgICAgXCIlKGZpbGV0eXBlKXMsICUoc2l6ZSlzLCDOsc69zrXOss6sz4PPhM63zrrOtSDOsc+Az4wgJSh1cGxvYWRlcilzICUodXBsb2FkZWRfb24pcy5cIlxuICAgICksXG4gICAge1xuICAgICAgZmlsZXR5cGU6IHByb3BzLmF0dGFjaG1lbnQuZmlsZXR5cGUsXG4gICAgICBzaXplOiBmb3JtYXRGaWxlc2l6ZShwcm9wcy5hdHRhY2htZW50LnNpemUpLFxuICAgICAgdXBsb2FkZXI6IHVzZXIsXG4gICAgICB1cGxvYWRlZF9vbjogZGF0ZVxuICAgIH0sXG4gICAgdHJ1ZVxuICApXG5cbiAgcmV0dXJuIChcbiAgICA8cFxuICAgICAgY2xhc3NOYW1lPVwicG9zdC1hdHRhY2htZW50LWRlc2NyaXB0aW9uXCJcbiAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogbWVzc2FnZSB9fVxuICAgIC8+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IGJhdGNoIGZyb20gXCJtaXNhZ28vdXRpbHMvYmF0Y2hcIlxuaW1wb3J0IEF0dGFjaG1lbnQgZnJvbSBcIi4vYXR0YWNobWVudFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGlmICghaXNWaXNpYmxlKHByb3BzLnBvc3QpKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwb3N0LWF0dGFjaG1lbnRzXCI+XG4gICAgICB7YmF0Y2gocHJvcHMucG9zdC5hdHRhY2htZW50cywgMikubWFwKHJvdyA9PiB7XG4gICAgICAgIGNvbnN0IGtleSA9IHJvd1xuICAgICAgICAgIC5tYXAoYSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gYSA/IGEuaWQgOiAwXG4gICAgICAgICAgfSlcbiAgICAgICAgICAuam9pbihcIl9cIilcbiAgICAgICAgcmV0dXJuIDxSb3cga2V5PXtrZXl9IHJvdz17cm93fSAvPlxuICAgICAgfSl9XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVmlzaWJsZShwb3N0KSB7XG4gIHJldHVybiAoIXBvc3QuaXNfaGlkZGVuIHx8IHBvc3QuYWNsLmNhbl9zZWVfaGlkZGVuKSAmJiBwb3N0LmF0dGFjaG1lbnRzXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSb3cocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAge3Byb3BzLnJvdy5tYXAoYXR0YWNobWVudCA9PiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPEF0dGFjaG1lbnRcbiAgICAgICAgICAgIGF0dGFjaG1lbnQ9e2F0dGFjaG1lbnR9XG4gICAgICAgICAgICBrZXk9e2F0dGFjaG1lbnQgPyBhdHRhY2htZW50LmlkIDogMH1cbiAgICAgICAgICAvPlxuICAgICAgICApXG4gICAgICB9KX1cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgV2F5cG9pbnQgZnJvbSBcIi4uL3dheXBvaW50XCJcbmltcG9ydCBNaXNhZ29NYXJrdXAgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL21pc2Fnby1tYXJrdXBcIlxuaW1wb3J0IGVzY2FwZUh0bWwgZnJvbSBcIm1pc2Fnby91dGlscy9lc2NhcGUtaHRtbFwiXG5cbmNvbnN0IEhJRERFTl9CWV9VUkwgPSAnPGEgaHJlZj1cIiUodXJsKXNcIiBjbGFzcz1cIml0ZW0tdGl0bGVcIj4lKHVzZXIpczwvYT4nXG5jb25zdCBISURERU5fQllfU1BBTiA9ICc8c3BhbiBjbGFzcz1cIml0ZW0tdGl0bGVcIj4lKHVzZXIpczwvc3Bhbj4nXG5jb25zdCBISURERU5fT04gPVxuICAnPGFiYnIgY2xhc3M9XCJsYXN0LXRpdGxlXCIgdGl0bGU9XCIlKGFic29sdXRlKXNcIj4lKHJlbGF0aXZlKXM8L2FiYnI+J1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBpZiAocHJvcHMucG9zdC5pc19oaWRkZW4gJiYgIXByb3BzLnBvc3QuYWNsLmNhbl9zZWVfaGlkZGVuKSB7XG4gICAgcmV0dXJuIDxIaWRkZW4gey4uLnByb3BzfSAvPlxuICB9IGVsc2UgaWYgKHByb3BzLnBvc3QuY29udGVudCkge1xuICAgIHJldHVybiA8RGVmYXVsdCB7Li4ucHJvcHN9IC8+XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIDxJbnZhbGlkIHsuLi5wcm9wc30gLz5cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gRGVmYXVsdChwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxXYXlwb2ludCBjbGFzc05hbWU9XCJwb3N0LWJvZHlcIiBwb3N0PXtwcm9wcy5wb3N0fT5cbiAgICAgIDxNaXNhZ29NYXJrdXAgbWFya3VwPXtwcm9wcy5wb3N0LmNvbnRlbnR9IC8+XG4gICAgPC9XYXlwb2ludD5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gSGlkZGVuKHByb3BzKSB7XG4gIGxldCB1c2VyID0gbnVsbFxuICBpZiAocHJvcHMucG9zdC5oaWRkZW5fYnkpIHtcbiAgICB1c2VyID0gaW50ZXJwb2xhdGUoXG4gICAgICBISURERU5fQllfVVJMLFxuICAgICAge1xuICAgICAgICB1cmw6IGVzY2FwZUh0bWwocHJvcHMucG9zdC51cmwuaGlkZGVuX2J5KSxcbiAgICAgICAgdXNlcjogZXNjYXBlSHRtbChwcm9wcy5wb3N0LmhpZGRlbl9ieV9uYW1lKVxuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG4gIH0gZWxzZSB7XG4gICAgdXNlciA9IGludGVycG9sYXRlKFxuICAgICAgSElEREVOX0JZX1NQQU4sXG4gICAgICB7XG4gICAgICAgIHVzZXI6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5oaWRkZW5fYnlfbmFtZSlcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuICB9XG5cbiAgY29uc3QgZGF0ZSA9IGludGVycG9sYXRlKFxuICAgIEhJRERFTl9PTixcbiAgICB7XG4gICAgICBhYnNvbHV0ZTogZXNjYXBlSHRtbChwcm9wcy5wb3N0LmhpZGRlbl9vbi5mb3JtYXQoXCJMTExcIikpLFxuICAgICAgcmVsYXRpdmU6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5oaWRkZW5fb24uZnJvbU5vdygpKVxuICAgIH0sXG4gICAgdHJ1ZVxuICApXG5cbiAgY29uc3QgbWVzc2FnZSA9IGludGVycG9sYXRlKFxuICAgIGVzY2FwZUh0bWwoXCLOms+Bz4XOvM68zq3Ovc63IM6xz4DPjCAlKGhpZGRlbl9ieSlzICUoaGlkZGVuX29uKXNcIiksXG4gICAge1xuICAgICAgaGlkZGVuX2J5OiB1c2VyLFxuICAgICAgaGlkZGVuX29uOiBkYXRlXG4gICAgfSxcbiAgICB0cnVlXG4gIClcblxuICByZXR1cm4gKFxuICAgIDxXYXlwb2ludCBjbGFzc05hbWU9XCJwb3N0LWJvZHkgcG9zdC1ib2R5LWhpZGRlblwiIHBvc3Q9e3Byb3BzLnBvc3R9PlxuICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICB7XCLOkc+Fz4TOriDOtyDPgM+Bzr/Pg8+Gzr/Pgc6sIM61zq/Ovc6xzrkgzrrPgc+FzrzOvM6tzr3Oty4gzpTOtc69IM68z4DOv8+BzrXOr8+CIM69zrEgzrTOtc65z4Igz4TOuc+CIM67zrXPgM+Ezr/OvM6tz4HOtc65zq3PgiDPhM63z4IuXCJ9XG4gICAgICA8L3A+XG4gICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LW11dGVkXCIgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiBtZXNzYWdlIH19IC8+XG4gICAgPC9XYXlwb2ludD5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gSW52YWxpZChwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxXYXlwb2ludCBjbGFzc05hbWU9XCJwb3N0LWJvZHkgcG9zdC1ib2R5LWludmFsaWRcIiBwb3N0PXtwcm9wcy5wb3N0fT5cbiAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAge1wizp/OuSDOu861z4DPhM6/zrzOrc+BzrXOuc61z4Igz4TOuc+CIM+Az4HOv8+Dz4bOv8+BzqzPgiDOtM61zr0gzrzPgM6/z4HOv8+Nzr0gzr3OsSDPgM+Bzr/Oss67zrfOuM6/z43OvVwifVxuICAgICAgPC9wPlxuICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1tdXRlZFwiPlxuICAgICAgICB7XCLOkc+Fz4TPjCDPhM6/IM67zqzOuM6/z4Igz4DPgc6/zrrOsc67zq3Pg8+EzrfOus61IM6xz4DPjCDOvM63IM6tzrPOus+Fz4HOtyDPhM+Bzr/PgM6/z4DOv86vzrfPg863IM+Ezr/PhSDPgM61z4HOuc61z4fOv868zq3Ovc6/z4Ugz4TOt8+CIM+Az4HOv8+Dz4bOv8+BzqzPglwifVxuICAgICAgPC9wPlxuICAgIDwvV2F5cG9pbnQ+XG4gIClcbn1cbiIsImltcG9ydCBtb21lbnQgZnJvbSBcIm1vbWVudFwiXG5pbXBvcnQgKiBhcyB0aHJlYWQgZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy90aHJlYWRcIlxuaW1wb3J0ICogYXMgcG9zdCBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3Bvc3RcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGZ1bmN0aW9uIGFwcHJvdmUocHJvcHMpIHtcbiAgc3RvcmUuZGlzcGF0Y2goXG4gICAgcG9zdC5wYXRjaChwcm9wcy5wb3N0LCB7XG4gICAgICBpc191bmFwcHJvdmVkOiBmYWxzZVxuICAgIH0pXG4gIClcblxuICBjb25zdCBvcHMgPSBbeyBvcDogXCJyZXBsYWNlXCIsIHBhdGg6IFwiaXMtdW5hcHByb3ZlZFwiLCB2YWx1ZTogZmFsc2UgfV1cblxuICBjb25zdCBwcmV2aW91c1N0YXRlID0ge1xuICAgIGlzX3VuYXBwcm92ZWQ6IHByb3BzLnBvc3QuaXNfdW5hcHByb3ZlZFxuICB9XG5cbiAgcGF0Y2gocHJvcHMsIG9wcywgcHJldmlvdXNTdGF0ZSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByb3RlY3QocHJvcHMpIHtcbiAgc3RvcmUuZGlzcGF0Y2goXG4gICAgcG9zdC5wYXRjaChwcm9wcy5wb3N0LCB7XG4gICAgICBpc19wcm90ZWN0ZWQ6IHRydWVcbiAgICB9KVxuICApXG5cbiAgY29uc3Qgb3BzID0gW3sgb3A6IFwicmVwbGFjZVwiLCBwYXRoOiBcImlzLXByb3RlY3RlZFwiLCB2YWx1ZTogdHJ1ZSB9XVxuXG4gIGNvbnN0IHByZXZpb3VzU3RhdGUgPSB7XG4gICAgaXNfcHJvdGVjdGVkOiBwcm9wcy5wb3N0LmlzX3Byb3RlY3RlZFxuICB9XG5cbiAgcGF0Y2gocHJvcHMsIG9wcywgcHJldmlvdXNTdGF0ZSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVucHJvdGVjdChwcm9wcykge1xuICBzdG9yZS5kaXNwYXRjaChcbiAgICBwb3N0LnBhdGNoKHByb3BzLnBvc3QsIHtcbiAgICAgIGlzX3Byb3RlY3RlZDogZmFsc2VcbiAgICB9KVxuICApXG5cbiAgY29uc3Qgb3BzID0gW3sgb3A6IFwicmVwbGFjZVwiLCBwYXRoOiBcImlzLXByb3RlY3RlZFwiLCB2YWx1ZTogZmFsc2UgfV1cblxuICBjb25zdCBwcmV2aW91c1N0YXRlID0ge1xuICAgIGlzX3Byb3RlY3RlZDogcHJvcHMucG9zdC5pc19wcm90ZWN0ZWRcbiAgfVxuXG4gIHBhdGNoKHByb3BzLCBvcHMsIHByZXZpb3VzU3RhdGUpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoaWRlKHByb3BzKSB7XG4gIHN0b3JlLmRpc3BhdGNoKFxuICAgIHBvc3QucGF0Y2gocHJvcHMucG9zdCwge1xuICAgICAgaXNfaGlkZGVuOiB0cnVlLFxuICAgICAgaGlkZGVuX29uOiBtb21lbnQoKSxcbiAgICAgIGhpZGRlbl9ieV9uYW1lOiBwcm9wcy51c2VyLnVzZXJuYW1lLFxuICAgICAgdXJsOiBPYmplY3QuYXNzaWduKHByb3BzLnBvc3QudXJsLCB7XG4gICAgICAgIGhpZGRlbl9ieTogcHJvcHMudXNlci51cmxcbiAgICAgIH0pXG4gICAgfSlcbiAgKVxuXG4gIGNvbnN0IG9wcyA9IFt7IG9wOiBcInJlcGxhY2VcIiwgcGF0aDogXCJpcy1oaWRkZW5cIiwgdmFsdWU6IHRydWUgfV1cblxuICBjb25zdCBwcmV2aW91c1N0YXRlID0ge1xuICAgIGlzX2hpZGRlbjogcHJvcHMucG9zdC5pc19oaWRkZW4sXG4gICAgaGlkZGVuX29uOiBwcm9wcy5wb3N0LmhpZGRlbl9vbixcbiAgICBoaWRkZW5fYnlfbmFtZTogcHJvcHMucG9zdC5oaWRkZW5fYnlfbmFtZSxcbiAgICB1cmw6IHByb3BzLnBvc3QudXJsXG4gIH1cblxuICBwYXRjaChwcm9wcywgb3BzLCBwcmV2aW91c1N0YXRlKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5oaWRlKHByb3BzKSB7XG4gIHN0b3JlLmRpc3BhdGNoKFxuICAgIHBvc3QucGF0Y2gocHJvcHMucG9zdCwge1xuICAgICAgaXNfaGlkZGVuOiBmYWxzZVxuICAgIH0pXG4gIClcblxuICBjb25zdCBvcHMgPSBbeyBvcDogXCJyZXBsYWNlXCIsIHBhdGg6IFwiaXMtaGlkZGVuXCIsIHZhbHVlOiBmYWxzZSB9XVxuXG4gIGNvbnN0IHByZXZpb3VzU3RhdGUgPSB7XG4gICAgaXNfaGlkZGVuOiBwcm9wcy5wb3N0LmlzX2hpZGRlblxuICB9XG5cbiAgcGF0Y2gocHJvcHMsIG9wcywgcHJldmlvdXNTdGF0ZSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxpa2UocHJvcHMpIHtcbiAgY29uc3QgbGFzdExpa2VzID0gcHJvcHMucG9zdC5sYXN0X2xpa2VzIHx8IFtdXG4gIGNvbnN0IGNvbmNhdGVkTGlrZXMgPSBbcHJvcHMudXNlcl0uY29uY2F0KGxhc3RMaWtlcylcbiAgY29uc3QgZmluYWxMaWtlcyA9XG4gICAgY29uY2F0ZWRMaWtlcy5sZW5ndGggPiAzID8gY29uY2F0ZWRMaWtlcy5zbGljZSgwLCAtMSkgOiBjb25jYXRlZExpa2VzXG5cbiAgc3RvcmUuZGlzcGF0Y2goXG4gICAgcG9zdC5wYXRjaChwcm9wcy5wb3N0LCB7XG4gICAgICBpc19saWtlZDogdHJ1ZSxcbiAgICAgIGxpa2VzOiBwcm9wcy5wb3N0Lmxpa2VzICsgMSxcbiAgICAgIGxhc3RfbGlrZXM6IGZpbmFsTGlrZXNcbiAgICB9KVxuICApXG5cbiAgY29uc3Qgb3BzID0gW3sgb3A6IFwicmVwbGFjZVwiLCBwYXRoOiBcImlzLWxpa2VkXCIsIHZhbHVlOiB0cnVlIH1dXG5cbiAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHtcbiAgICBpc19saWtlZDogcHJvcHMucG9zdC5pc19saWtlZCxcbiAgICBsaWtlczogcHJvcHMucG9zdC5saWtlcyxcbiAgICBsYXN0X2xpa2VzOiBwcm9wcy5wb3N0Lmxhc3RfbGlrZXNcbiAgfVxuXG4gIHBhdGNoKHByb3BzLCBvcHMsIHByZXZpb3VzU3RhdGUpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1bmxpa2UocHJvcHMpIHtcbiAgc3RvcmUuZGlzcGF0Y2goXG4gICAgcG9zdC5wYXRjaChwcm9wcy5wb3N0LCB7XG4gICAgICBpc19saWtlZDogZmFsc2UsXG4gICAgICBsaWtlczogcHJvcHMucG9zdC5saWtlcyAtIDEsXG4gICAgICBsYXN0X2xpa2VzOiBwcm9wcy5wb3N0Lmxhc3RfbGlrZXMuZmlsdGVyKHVzZXIgPT4ge1xuICAgICAgICByZXR1cm4gIXVzZXIuaWQgfHwgdXNlci5pZCAhPT0gcHJvcHMudXNlci5pZFxuICAgICAgfSlcbiAgICB9KVxuICApXG5cbiAgY29uc3Qgb3BzID0gW3sgb3A6IFwicmVwbGFjZVwiLCBwYXRoOiBcImlzLWxpa2VkXCIsIHZhbHVlOiBmYWxzZSB9XVxuXG4gIGNvbnN0IHByZXZpb3VzU3RhdGUgPSB7XG4gICAgaXNfbGlrZWQ6IHByb3BzLnBvc3QuaXNfbGlrZWQsXG4gICAgbGlrZXM6IHByb3BzLnBvc3QubGlrZXMsXG4gICAgbGFzdF9saWtlczogcHJvcHMucG9zdC5sYXN0X2xpa2VzXG4gIH1cblxuICBwYXRjaChwcm9wcywgb3BzLCBwcmV2aW91c1N0YXRlKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcGF0Y2gocHJvcHMsIG9wcywgcHJldmlvdXNTdGF0ZSkge1xuICBhamF4LnBhdGNoKHByb3BzLnBvc3QuYXBpLmluZGV4LCBvcHMpLnRoZW4oXG4gICAgbmV3U3RhdGUgPT4ge1xuICAgICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChwcm9wcy5wb3N0LCBuZXdTdGF0ZSkpXG4gICAgfSxcbiAgICByZWplY3Rpb24gPT4ge1xuICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsWzBdKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgICAgfVxuXG4gICAgICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHByb3BzLnBvc3QsIHByZXZpb3VzU3RhdGUpKVxuICAgIH1cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlKHByb3BzKSB7XG4gIGxldCBjb25maXJtZWQgPSBjb25maXJtKFxuICAgICAgXCLOlc6vz4POsc65IM+Dzq/Os86/z4XPgc6/z4Igz4zPhM65IM64zq3Ou861zrnPgiDOvc6xIM60zrnOsc6zz4HOrM+IzrXOuc+CIM6xz4XPhM6uIM+EzrfOvSDPgM+Bzr/Pg8+Gzr/Pgc6sO1wiXG4gIClcbiAgaWYgKCFjb25maXJtZWQpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIHN0b3JlLmRpc3BhdGNoKFxuICAgIHBvc3QucGF0Y2gocHJvcHMucG9zdCwge1xuICAgICAgaXNEZWxldGVkOiB0cnVlXG4gICAgfSlcbiAgKVxuXG4gIGFqYXguZGVsZXRlKHByb3BzLnBvc3QuYXBpLmluZGV4KS50aGVuKFxuICAgICgpID0+IHtcbiAgICAgIHNuYWNrYmFyLnN1Y2Nlc3MoXCLOlyDPgM+Bzr/Pg8+Gzr/Pgc6sIM60zrnOsc6zz4HOrM+GzrfOus61IM61z4DOuc+Ez4XPh8+Oz4IhXCIpXG4gICAgfSxcbiAgICByZWplY3Rpb24gPT4ge1xuICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgICAgfVxuXG4gICAgICBzdG9yZS5kaXNwYXRjaChcbiAgICAgICAgcG9zdC5wYXRjaChwcm9wcy5wb3N0LCB7XG4gICAgICAgICAgaXNEZWxldGVkOiBmYWxzZVxuICAgICAgICB9KVxuICAgICAgKVxuICAgIH1cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFya0FzQmVzdEFuc3dlcihwcm9wcykge1xuICBjb25zdCB7IHBvc3QsIHVzZXIgfSA9IHByb3BzXG5cbiAgc3RvcmUuZGlzcGF0Y2goXG4gICAgdGhyZWFkLnVwZGF0ZSh7XG4gICAgICBiZXN0X2Fuc3dlcjogcG9zdC5pZCxcbiAgICAgIGJlc3RfYW5zd2VyX2lzX3Byb3RlY3RlZDogcG9zdC5pc19wcm90ZWN0ZWQsXG4gICAgICBiZXN0X2Fuc3dlcl9tYXJrZWRfb246IG1vbWVudCgpLFxuICAgICAgYmVzdF9hbnN3ZXJfbWFya2VkX2J5OiB1c2VyLmlkLFxuICAgICAgYmVzdF9hbnN3ZXJfbWFya2VkX2J5X25hbWU6IHVzZXIudXNlcm5hbWUsXG4gICAgICBiZXN0X2Fuc3dlcl9tYXJrZWRfYnlfc2x1ZzogdXNlci5zbHVnXG4gICAgfSlcbiAgKVxuXG4gIGNvbnN0IG9wcyA9IFtcbiAgICB7IG9wOiBcInJlcGxhY2VcIiwgcGF0aDogXCJiZXN0LWFuc3dlclwiLCB2YWx1ZTogcG9zdC5pZCB9LFxuICAgIHsgb3A6IFwiYWRkXCIsIHBhdGg6IFwiYWNsXCIsIHZhbHVlOiB0cnVlIH1cbiAgXVxuXG4gIGNvbnN0IHByZXZpb3VzU3RhdGUgPSB7XG4gICAgYmVzdF9hbnN3ZXI6IHByb3BzLnRocmVhZC5iZXN0X2Fuc3dlcixcbiAgICBiZXN0X2Fuc3dlcl9pc19wcm90ZWN0ZWQ6IHByb3BzLnRocmVhZC5iZXN0X2Fuc3dlcl9pc19wcm90ZWN0ZWQsXG4gICAgYmVzdF9hbnN3ZXJfbWFya2VkX29uOiBwcm9wcy50aHJlYWQuYmVzdF9hbnN3ZXJfbWFya2VkX29uLFxuICAgIGJlc3RfYW5zd2VyX21hcmtlZF9ieTogcHJvcHMudGhyZWFkLmJlc3RfYW5zd2VyX21hcmtlZF9ieSxcbiAgICBiZXN0X2Fuc3dlcl9tYXJrZWRfYnlfbmFtZTogcHJvcHMudGhyZWFkLmJlc3RfYW5zd2VyX21hcmtlZF9ieV9uYW1lLFxuICAgIGJlc3RfYW5zd2VyX21hcmtlZF9ieV9zbHVnOiBwcm9wcy50aHJlYWQuYmVzdF9hbnN3ZXJfbWFya2VkX2J5X3NsdWdcbiAgfVxuXG4gIHBhdGNoVGhyZWFkKHByb3BzLCBvcHMsIHByZXZpb3VzU3RhdGUpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1bm1hcmtCZXN0QW5zd2VyKHByb3BzKSB7XG4gIGNvbnN0IHsgcG9zdCB9ID0gcHJvcHNcblxuICBzdG9yZS5kaXNwYXRjaChcbiAgICB0aHJlYWQudXBkYXRlKHtcbiAgICAgIGJlc3RfYW5zd2VyOiBudWxsLFxuICAgICAgYmVzdF9hbnN3ZXJfaXNfcHJvdGVjdGVkOiBmYWxzZSxcbiAgICAgIGJlc3RfYW5zd2VyX21hcmtlZF9vbjogbnVsbCxcbiAgICAgIGJlc3RfYW5zd2VyX21hcmtlZF9ieTogbnVsbCxcbiAgICAgIGJlc3RfYW5zd2VyX21hcmtlZF9ieV9uYW1lOiBudWxsLFxuICAgICAgYmVzdF9hbnN3ZXJfbWFya2VkX2J5X3NsdWc6IG51bGxcbiAgICB9KVxuICApXG5cbiAgY29uc3Qgb3BzID0gW1xuICAgIHsgb3A6IFwicmVtb3ZlXCIsIHBhdGg6IFwiYmVzdC1hbnN3ZXJcIiwgdmFsdWU6IHBvc3QuaWQgfSxcbiAgICB7IG9wOiBcImFkZFwiLCBwYXRoOiBcImFjbFwiLCB2YWx1ZTogdHJ1ZSB9XG4gIF1cblxuICBjb25zdCBwcmV2aW91c1N0YXRlID0ge1xuICAgIGJlc3RfYW5zd2VyOiBwcm9wcy50aHJlYWQuYmVzdF9hbnN3ZXIsXG4gICAgYmVzdF9hbnN3ZXJfaXNfcHJvdGVjdGVkOiBwcm9wcy50aHJlYWQuYmVzdF9hbnN3ZXJfaXNfcHJvdGVjdGVkLFxuICAgIGJlc3RfYW5zd2VyX21hcmtlZF9vbjogcHJvcHMudGhyZWFkLmJlc3RfYW5zd2VyX21hcmtlZF9vbixcbiAgICBiZXN0X2Fuc3dlcl9tYXJrZWRfYnk6IHByb3BzLnRocmVhZC5iZXN0X2Fuc3dlcl9tYXJrZWRfYnksXG4gICAgYmVzdF9hbnN3ZXJfbWFya2VkX2J5X25hbWU6IHByb3BzLnRocmVhZC5iZXN0X2Fuc3dlcl9tYXJrZWRfYnlfbmFtZSxcbiAgICBiZXN0X2Fuc3dlcl9tYXJrZWRfYnlfc2x1ZzogcHJvcHMudGhyZWFkLmJlc3RfYW5zd2VyX21hcmtlZF9ieV9zbHVnXG4gIH1cblxuICBwYXRjaFRocmVhZChwcm9wcywgb3BzLCBwcmV2aW91c1N0YXRlKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcGF0Y2hUaHJlYWQocHJvcHMsIG9wcywgcHJldmlvdXNTdGF0ZSkge1xuICBhamF4LnBhdGNoKHByb3BzLnRocmVhZC5hcGkuaW5kZXgsIG9wcykudGhlbihcbiAgICBuZXdTdGF0ZSA9PiB7XG4gICAgICBpZiAobmV3U3RhdGUuYmVzdF9hbnN3ZXJfbWFya2VkX29uKSB7XG4gICAgICAgIG5ld1N0YXRlLmJlc3RfYW5zd2VyX21hcmtlZF9vbiA9IG1vbWVudChuZXdTdGF0ZS5iZXN0X2Fuc3dlcl9tYXJrZWRfb24pXG4gICAgICB9XG4gICAgICBzdG9yZS5kaXNwYXRjaCh0aHJlYWQudXBkYXRlKG5ld1N0YXRlKSlcbiAgICB9LFxuICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWxbMF0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgICB9XG5cbiAgICAgIHN0b3JlLmRpc3BhdGNoKHRocmVhZC51cGRhdGUocHJldmlvdXNTdGF0ZSkpXG4gICAgfVxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBtb2RhbCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL21vZGFsXCJcbmltcG9ydCBwb3N0aW5nIGZyb20gXCJtaXNhZ28vc2VydmljZXMvcG9zdGluZ1wiXG5pbXBvcnQgKiBhcyBtb2RlcmF0aW9uIGZyb20gXCIuL2FjdGlvbnNcIlxuaW1wb3J0IE1vdmVNb2RhbCBmcm9tIFwiLi9tb3ZlXCJcbmltcG9ydCBQb3N0Q2hhbmdlbG9nIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9wb3N0LWNoYW5nZWxvZ1wiXG5pbXBvcnQgU3BsaXRNb2RhbCBmcm9tIFwiLi9zcGxpdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPHVsIGNsYXNzTmFtZT1cImRyb3Bkb3duLW1lbnUgZHJvcGRvd24tbWVudS1yaWdodCBzdGljay10by1ib3R0b21cIj5cbiAgICAgIDxQZXJtYWxpbmsgey4uLnByb3BzfSAvPlxuICAgICAgPEVkaXQgey4uLnByb3BzfSAvPlxuICAgICAgPE1hcmtBc0Jlc3RBbnN3ZXIgey4uLnByb3BzfSAvPlxuICAgICAgPFVubWFya01hcmtCZXN0QW5zd2VyIHsuLi5wcm9wc30gLz5cbiAgICAgIDxQb3N0RWRpdHMgey4uLnByb3BzfSAvPlxuICAgICAgPEFwcHJvdmUgey4uLnByb3BzfSAvPlxuICAgICAgPE1vdmUgey4uLnByb3BzfSAvPlxuICAgICAgPFNwbGl0IHsuLi5wcm9wc30gLz5cbiAgICAgIDxQcm90ZWN0IHsuLi5wcm9wc30gLz5cbiAgICAgIDxVbnByb3RlY3Qgey4uLnByb3BzfSAvPlxuICAgICAgPEhpZGUgey4uLnByb3BzfSAvPlxuICAgICAgPFVuaGlkZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8RGVsZXRlIHsuLi5wcm9wc30gLz5cbiAgICA8L3VsPlxuICApXG59XG5cbmV4cG9ydCBjbGFzcyBQZXJtYWxpbmsgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIGxldCBwZXJtYVVybCA9IHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCArIFwiLy9cIlxuICAgIHBlcm1hVXJsICs9IHdpbmRvdy5sb2NhdGlvbi5ob3N0XG4gICAgcGVybWFVcmwgKz0gdGhpcy5wcm9wcy5wb3N0LnVybC5pbmRleFxuXG4gICAgcHJvbXB0KFwizpzPjM69zrnOvM6/z4Igz4PPjc69zrTOtc+DzrzOv8+CIM6zzrnOsSDOsc+Fz4TOriDPhM63zr0gz4DPgc6/z4PPhs6/z4HOrDpcIiwgcGVybWFVcmwpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9IHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+bGluazwvc3Bhbj5cbiAgICAgICAgICB7XCLOnM+Mzr3Ouc68zr/PgiDPg8+Nzr3OtM61z4POvM6/z4JcIn1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRWRpdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgcG9zdGluZy5vcGVuKHtcbiAgICAgIG1vZGU6IFwiRURJVFwiLFxuXG4gICAgICBjb25maWc6IHRoaXMucHJvcHMucG9zdC5hcGkuZWRpdG9yLFxuICAgICAgc3VibWl0OiB0aGlzLnByb3BzLnBvc3QuYXBpLmluZGV4XG4gICAgfSlcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMucG9zdC5hY2wuY2FuX2VkaXQpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30gdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5lZGl0PC9zcGFuPlxuICAgICAgICAgIHtcIs6Vz4DOtc6+zrXPgc6zzrHPg86vzrFcIn1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTWFya0FzQmVzdEFuc3dlciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kZXJhdGlvbi5tYXJrQXNCZXN0QW5zd2VyKHRoaXMucHJvcHMpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBwb3N0LCB0aHJlYWQgfSA9IHRoaXMucHJvcHNcblxuICAgIGlmICghdGhyZWFkLmFjbC5jYW5fbWFya19iZXN0X2Fuc3dlcikgcmV0dXJuIG51bGxcbiAgICBpZiAoIXBvc3QuYWNsLmNhbl9tYXJrX2FzX2Jlc3RfYW5zd2VyKSByZXR1cm4gbnVsbFxuICAgIGlmIChwb3N0LmlkID09PSB0aHJlYWQuYmVzdF9hbnN3ZXIpIHJldHVybiBudWxsXG4gICAgaWYgKHRocmVhZC5iZXN0X2Fuc3dlciAmJiAhdGhyZWFkLmFjbC5jYW5fY2hhbmdlX2Jlc3RfYW5zd2VyKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9IHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2hlY2tfYm94PC9zcGFuPlxuICAgICAgICAgIHtcIs6Vz4DOuc67zr/Os86uIM+Az4HOv8+Dz4bOv8+BzqzPglwifVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBVbm1hcmtNYXJrQmVzdEFuc3dlciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kZXJhdGlvbi51bm1hcmtCZXN0QW5zd2VyKHRoaXMucHJvcHMpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBwb3N0LCB0aHJlYWQgfSA9IHRoaXMucHJvcHNcblxuICAgIGlmIChwb3N0LmlkICE9PSB0aHJlYWQuYmVzdF9hbnN3ZXIpIHJldHVybiBudWxsXG4gICAgaWYgKCF0aHJlYWQuYWNsLmNhbl91bm1hcmtfYmVzdF9hbnN3ZXIpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30gdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jaGVja19ib3hfb3V0bGluZV9ibGFuazwvc3Bhbj5cbiAgICAgICAgICB7XCLOkc+Azr/Otc+AzrnOu86/zrPOriDPgM+Bzr/Pg8+Gzr/Pgc6sz4JcIn1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUG9zdEVkaXRzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RhbC5zaG93KDxQb3N0Q2hhbmdlbG9nIHBvc3Q9e3RoaXMucHJvcHMucG9zdH0gLz4pXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgaXNIaWRkZW4gPVxuICAgICAgdGhpcy5wcm9wcy5wb3N0LmlzX2hpZGRlbiAmJiAhdGhpcy5wcm9wcy5wb3N0LmFjbC5jYW5fc2VlX2hpZGRlblxuICAgIGNvbnN0IGlzVW5lZGl0ZWQgPSB0aGlzLnByb3BzLnBvc3QuZWRpdHMgPT09IDBcbiAgICBpZiAoaXNIaWRkZW4gfHwgaXNVbmVkaXRlZCkgcmV0dXJuIG51bGxcblxuICAgIGxldCBtZXNzYWdlID0gXCLOkc+Fz4TOriDOtyDPgM+Bzr/Pg8+Gzr/Pgc6sIM6tz4fOtc65IM+Ez4HOv8+Azr/PgM6/zrnOt864zrXOryAlKGVkaXRzKXMgz4bOv8+Bzq3PglwiXG4gICAgaWYgKHRoaXMucHJvcHMucG9zdC5lZGl0cyA9PT0gMSkge1xuICAgICAgbWVzc2FnZSA9IFwizpHPhc+Ezq4gzrcgz4DPgc6/z4PPhs6/z4HOrCDOrc+HzrXOuSDPhM+Bzr/PgM6/z4DOv865zrfOuM61zq8gJShlZGl0cylzIM+Gzr/Pgc6sXCJcbiAgICB9XG5cbiAgICBjb25zdCB0aXRsZSA9IGludGVycG9sYXRlKFxuICAgICAgbWVzc2FnZSxcbiAgICAgIHtcbiAgICAgICAgZWRpdHM6IHRoaXMucHJvcHMucG9zdC5lZGl0c1xuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30gdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5lZGl0PC9zcGFuPlxuICAgICAgICAgIHtcIs6Zz4PPhM6/z4HOuc66z4wgzrHOu867zrHOs8+Ozr1cIn1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQXBwcm92ZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kZXJhdGlvbi5hcHByb3ZlKHRoaXMucHJvcHMpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnBvc3QuYWNsLmNhbl9hcHByb3ZlKSByZXR1cm4gbnVsbFxuICAgIGlmICghdGhpcy5wcm9wcy5wb3N0LmlzX3VuYXBwcm92ZWQpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30gdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5kb25lPC9zcGFuPlxuICAgICAgICAgIHtcIs6IzrPOus+BzrnPg863XCJ9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1vdmUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGFsLnNob3coPE1vdmVNb2RhbCB7Li4udGhpcy5wcm9wc30gLz4pXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnBvc3QuYWNsLmNhbl9tb3ZlKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9IHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+YXJyb3dfZm9yd2FyZDwvc3Bhbj5cbiAgICAgICAgICB7XCLOnM61z4TOsc66zq/Ovc63z4POt1wifVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTcGxpdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kYWwuc2hvdyg8U3BsaXRNb2RhbCB7Li4udGhpcy5wcm9wc30gLz4pXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnBvc3QuYWNsLmNhbl9tb3ZlKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9IHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2FsbF9zcGxpdDwvc3Bhbj5cbiAgICAgICAgICB7XCLOlM65zrHPh8+Jz4HOuc+DzrzPjM+CXCJ9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFByb3RlY3QgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGVyYXRpb24ucHJvdGVjdCh0aGlzLnByb3BzKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5wb3N0LmFjbC5jYW5fcHJvdGVjdCkgcmV0dXJuIG51bGxcbiAgICBpZiAodGhpcy5wcm9wcy5wb3N0LmlzX3Byb3RlY3RlZCkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfSB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmxvY2tfb3V0bGluZTwvc3Bhbj5cbiAgICAgICAgICB7XCLOms67zrXOr860z4nOvM6xXCJ9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFVucHJvdGVjdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kZXJhdGlvbi51bnByb3RlY3QodGhpcy5wcm9wcylcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMucG9zdC5hY2wuY2FuX3Byb3RlY3QpIHJldHVybiBudWxsXG4gICAgaWYgKCF0aGlzLnByb3BzLnBvc3QuaXNfcHJvdGVjdGVkKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9IHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+bG9ja19vcGVuPC9zcGFuPlxuICAgICAgICAgIHtcIs6ezrXOus67zrXOr860z4nOvM6xXCJ9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEhpZGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGVyYXRpb24uaGlkZSh0aGlzLnByb3BzKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgcG9zdCwgdGhyZWFkIH0gPSB0aGlzLnByb3BzXG5cbiAgICBpZiAocG9zdC5pZCA9PT0gdGhyZWFkLmJlc3RfYW5zd2VyKSByZXR1cm4gbnVsbFxuICAgIGlmICghcG9zdC5hY2wuY2FuX2hpZGUpIHJldHVybiBudWxsXG4gICAgaWYgKHBvc3QuaXNfaGlkZGVuKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9IHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+dmlzaWJpbGl0eV9vZmY8L3NwYW4+XG4gICAgICAgICAge1wizprPgc+Nz4jOuc68zr9cIn1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVW5oaWRlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RlcmF0aW9uLnVuaGlkZSh0aGlzLnByb3BzKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5wb3N0LmFjbC5jYW5fdW5oaWRlKSByZXR1cm4gbnVsbFxuICAgIGlmICghdGhpcy5wcm9wcy5wb3N0LmlzX2hpZGRlbikgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfSB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnZpc2liaWxpdHk8L3NwYW4+XG4gICAgICAgICAge1wizpXOvM+GzqzOvc65z4POt1wifVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEZWxldGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGVyYXRpb24ucmVtb3ZlKHRoaXMucHJvcHMpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBwb3N0LCB0aHJlYWQgfSA9IHRoaXMucHJvcHNcblxuICAgIGlmIChwb3N0LmlkID09PSB0aHJlYWQuYmVzdF9hbnN3ZXIpIHJldHVybiBudWxsXG4gICAgaWYgKCFwb3N0LmFjbC5jYW5fZGVsZXRlKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9IHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2xlYXI8L3NwYW4+XG4gICAgICAgICAge1wizpTOuc6xzrPPgc6xz4bOrlwifVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBEcm9wZG93biBmcm9tIFwiLi9kcm9wZG93blwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwdWxsLXJpZ2h0IGRyb3Bkb3duXCI+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGFyaWEtZXhwYW5kZWQ9XCJ0cnVlXCJcbiAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWljb24gZHJvcGRvd24tdG9nZ2xlXCJcbiAgICAgICAgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiXG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+ZXhwYW5kX21vcmU8L3NwYW4+XG4gICAgICA8L2J1dHRvbj5cbiAgICAgIDxEcm9wZG93biB7Li4ucHJvcHN9IC8+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEZvcm0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm1cIlxuaW1wb3J0IEZvcm1Hcm91cCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cFwiXG5pbXBvcnQgKiBhcyBwb3N0IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvcG9zdFwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IG1vZGFsIGZyb20gXCJtaXNhZ28vc2VydmljZXMvbW9kYWxcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG5cbiAgICAgIHVybDogXCJcIixcblxuICAgICAgdmFsaWRhdG9yczoge1xuICAgICAgICB1cmw6IFtdXG4gICAgICB9LFxuICAgICAgZXJyb3JzOiB7fVxuICAgIH1cbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS51cmwudHJpbSgpLmxlbmd0aCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoXCLOoM+Bzq3PgM61zrkgzr3OsSDOss6szrvOtc65z4Igz4TOvyDPg8+Nzr3OtM61z4POvM6/IM+EzrfPgiDOrM67zrvOt8+CIM6xzrPOs861zrvOr86xz4IhXCIpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wb3N0KHRoaXMucHJvcHMudGhyZWFkLmFwaS5wb3N0cy5tb3ZlLCB7XG4gICAgICBuZXdfdGhyZWFkOiB0aGlzLnN0YXRlLnVybCxcbiAgICAgIHBvc3RzOiBbdGhpcy5wcm9wcy5wb3N0LmlkXVxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKHN1Y2Nlc3MpIHtcbiAgICBzdG9yZS5kaXNwYXRjaChcbiAgICAgIHBvc3QucGF0Y2godGhpcy5wcm9wcy5wb3N0LCB7XG4gICAgICAgIGlzRGVsZXRlZDogdHJ1ZVxuICAgICAgfSlcbiAgICApXG5cbiAgICBtb2RhbC5oaWRlKClcblxuICAgIHNuYWNrYmFyLnN1Y2Nlc3MoXCLOlyDOtc+AzrnOu861zrPOvM6tzr3OtyDPgM+Bzr/Pg8+Gzr/Pgc6sIM68zrXPhM6xz4bOrc+BzrjOt866zrUgz4PPhM63zr0gzqzOu867zrcgzrHOs86zzrXOu86vzrEhXCIpXG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsKVxuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgfVxuICB9XG5cbiAgb25VcmxDaGFuZ2UgPSBldmVudCA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZShcInVybFwiLCBldmVudC50YXJnZXQudmFsdWUpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nXCIgcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgICAgICA8TW9kYWxIZWFkZXIgLz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgICAgICAgZm9yPVwiaWRfdXJsXCJcbiAgICAgICAgICAgICAgICBsYWJlbD17XCLOo8+Nzr3OtM61z4POvM6/z4IgzrPOuc6xIM+EzrfOvSDOsc6zzrPOtc67zq/OsSDPgM6/z4UgzrjOtc+CIM69zrEgzrzOtc+EzrHOus65zr3Ors+DzrXOuc+CIM+EzrfOvSDPgM+Bzr/Pg8+Gzr/Pgc6sXCJ9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICBpZD1cImlkX3VybFwiXG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vblVybENoYW5nZX1cbiAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnVybH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7XCLOnM61z4TOsc66zq/Ovc63z4POtyDPgM+Bzr/Pg8+Gzr/Pgc6sz4JcIn1cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBNb2RhbEhlYWRlcihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGFyaWEtbGFiZWw9e1wizprOu861zq/Pg865zrzOv1wifVxuICAgICAgICBjbGFzc05hbWU9XCJjbG9zZVwiXG4gICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICA8L2J1dHRvbj5cbiAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntcIs6czrXPhM6xzrrOr869zrfPg863IM+Az4HOv8+Dz4bOv8+BzqzPglwifTwvaDQ+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uXCJcbmltcG9ydCBGb3JtIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtXCJcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXBcIlxuaW1wb3J0IENhdGVnb3J5U2VsZWN0IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9jYXRlZ29yeS1zZWxlY3RcIlxuaW1wb3J0IE1vZGFsTG9hZGVyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9tb2RhbC1sb2FkZXJcIlxuaW1wb3J0IFNlbGVjdCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvc2VsZWN0XCJcbmltcG9ydCAqIGFzIHBvc3QgZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9wb3N0XCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgbW9kYWwgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9tb2RhbFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5pbXBvcnQgKiBhcyB2YWxpZGF0b3JzIGZyb20gXCJtaXNhZ28vdXRpbHMvdmFsaWRhdG9yc1wiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiA8UG9zdGluZ0NvbmZpZyB7Li4ucHJvcHN9IEZvcm09e01vZGVyYXRpb25Gb3JtfSAvPlxufVxuXG5leHBvcnQgY2xhc3MgUG9zdGluZ0NvbmZpZyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkZWQ6IGZhbHNlLFxuICAgICAgaXNFcnJvcjogZmFsc2UsXG5cbiAgICAgIGNhdGVnb3JpZXM6IFtdXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgYWpheC5nZXQobWlzYWdvLmdldChcIlRIUkVBRF9FRElUT1JfQVBJXCIpKS50aGVuKFxuICAgICAgZGF0YSA9PiB7XG4gICAgICAgIC8vIGh5ZHJhdGUgY2F0ZWdvcmllcywgZXh0cmFjdCBwb3N0aW5nIG9wdGlvbnNcbiAgICAgICAgY29uc3QgY2F0ZWdvcmllcyA9IGRhdGEubWFwKGl0ZW0gPT4ge1xuICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKGl0ZW0sIHtcbiAgICAgICAgICAgIGRpc2FibGVkOiBpdGVtLnBvc3QgPT09IGZhbHNlLFxuICAgICAgICAgICAgbGFiZWw6IGl0ZW0ubmFtZSxcbiAgICAgICAgICAgIHZhbHVlOiBpdGVtLmlkLFxuICAgICAgICAgICAgcG9zdDogaXRlbS5wb3N0XG4gICAgICAgICAgfSlcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpc0xvYWRlZDogdHJ1ZSxcbiAgICAgICAgICBjYXRlZ29yaWVzXG4gICAgICAgIH0pXG4gICAgICB9LFxuICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXNFcnJvcjogcmVqZWN0aW9uLmRldGFpbFxuICAgICAgICB9KVxuICAgICAgfVxuICAgIClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5pc0Vycm9yKSB7XG4gICAgICByZXR1cm4gPEVycm9yIG1lc3NhZ2U9e3RoaXMuc3RhdGUuaXNFcnJvcn0gLz5cbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuaXNMb2FkZWQpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxNb2RlcmF0aW9uRm9ybSB7Li4udGhpcy5wcm9wc30gY2F0ZWdvcmllcz17dGhpcy5zdGF0ZS5jYXRlZ29yaWVzfSAvPlxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gPExvYWRlciAvPlxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTW9kZXJhdGlvbkZvcm0gZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuXG4gICAgICB0aXRsZTogXCJcIixcbiAgICAgIGNhdGVnb3J5OiBudWxsLFxuICAgICAgY2F0ZWdvcmllczogcHJvcHMuY2F0ZWdvcmllcyxcbiAgICAgIHdlaWdodDogMCxcbiAgICAgIGlzX2hpZGRlbjogMCxcbiAgICAgIGlzX2Nsb3NlZDogZmFsc2UsXG5cbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgdGl0bGU6IFt2YWxpZGF0b3JzLnJlcXVpcmVkKCldXG4gICAgICB9LFxuXG4gICAgICBlcnJvcnM6IHt9XG4gICAgfVxuXG4gICAgdGhpcy5pc0hpZGRlbkNob2ljZXMgPSBbXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiAwLFxuICAgICAgICBpY29uOiBcInZpc2liaWxpdHlcIixcbiAgICAgICAgbGFiZWw6IFwizozPh865XCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiAxLFxuICAgICAgICBpY29uOiBcInZpc2liaWxpdHlfb2ZmXCIsXG4gICAgICAgIGxhYmVsOiBcIs6dzrHOuVwiXG4gICAgICB9XG4gICAgXVxuXG4gICAgdGhpcy5pc0Nsb3NlZENob2ljZXMgPSBbXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgICAgaWNvbjogXCJsb2NrX291dGxpbmVcIixcbiAgICAgICAgbGFiZWw6IFwizozPh865XCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICBpY29uOiBcImxvY2tcIixcbiAgICAgICAgbGFiZWw6IFwizp3Osc65XCJcbiAgICAgIH1cbiAgICBdXG5cbiAgICB0aGlzLmFjbCA9IHt9XG4gICAgdGhpcy5wcm9wcy5jYXRlZ29yaWVzLmZvckVhY2goY2F0ZWdvcnkgPT4ge1xuICAgICAgaWYgKGNhdGVnb3J5LnBvc3QpIHtcbiAgICAgICAgaWYgKCF0aGlzLnN0YXRlLmNhdGVnb3J5KSB7XG4gICAgICAgICAgdGhpcy5zdGF0ZS5jYXRlZ29yeSA9IGNhdGVnb3J5LmlkXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFjbFtjYXRlZ29yeS5pZF0gPSB7XG4gICAgICAgICAgY2FuX3Bpbl90aHJlYWRzOiBjYXRlZ29yeS5wb3N0LnBpbixcbiAgICAgICAgICBjYW5fY2xvc2VfdGhyZWFkczogY2F0ZWdvcnkucG9zdC5jbG9zZSxcbiAgICAgICAgICBjYW5faGlkZV90aHJlYWRzOiBjYXRlZ29yeS5wb3N0LmhpZGVcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBpZiAodGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKFwizpcgz4bPjM+BzrzOsSDPgM61z4HOuc6tz4fOtc65IM67zqzOuM63IVwiKVxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGVycm9yczogdGhpcy52YWxpZGF0ZSgpXG4gICAgICB9KVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wb3N0KHRoaXMucHJvcHMudGhyZWFkLmFwaS5wb3N0cy5zcGxpdCwge1xuICAgICAgdGl0bGU6IHRoaXMuc3RhdGUudGl0bGUsXG4gICAgICBjYXRlZ29yeTogdGhpcy5zdGF0ZS5jYXRlZ29yeSxcbiAgICAgIHdlaWdodDogdGhpcy5zdGF0ZS53ZWlnaHQsXG4gICAgICBpc19oaWRkZW46IHRoaXMuc3RhdGUuaXNfaGlkZGVuLFxuICAgICAgaXNfY2xvc2VkOiB0aGlzLnN0YXRlLmlzX2Nsb3NlZCxcbiAgICAgIHBvc3RzOiBbdGhpcy5wcm9wcy5wb3N0LmlkXVxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKGFwaVJlc3BvbnNlKSB7XG4gICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICBwb3N0LnBhdGNoKHRoaXMucHJvcHMucG9zdCwge1xuICAgICAgICBpc0RlbGV0ZWQ6IHRydWVcbiAgICAgIH0pXG4gICAgKVxuXG4gICAgbW9kYWwuaGlkZSgpXG5cbiAgICBzbmFja2Jhci5zdWNjZXNzKFwizpcgzrXPgM65zrvOtc6zzrzOrc69zrcgz4DPgc6/z4PPhs6/z4HOrCDOtM65zrHPh8+Jz4HOr8+Dz4TOt866zrUgz4POtSDOus6xzrnOvc6/z43Pgc65zrEgzrHOs86zzrXOu86vzrFcIilcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBlcnJvcnM6IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuc3RhdGUuZXJyb3JzLCByZWplY3Rpb24pXG4gICAgICB9KVxuICAgICAgc25hY2tiYXIuZXJyb3IoXCLOlyDPhs+Mz4HOvM6xIM+AzrXPgc65zq3Ph861zrkgzrvOrM64zrchXCIpXG4gICAgfSBlbHNlIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDMgJiYgQXJyYXkuaXNBcnJheShyZWplY3Rpb24pKSB7XG4gICAgICBtb2RhbC5zaG93KDxFcnJvcnNNb2RhbCBlcnJvcnM9e3JlamVjdGlvbn0gLz4pXG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICB9XG4gIH1cblxuICBvbkNhdGVnb3J5Q2hhbmdlID0gZXYgPT4ge1xuICAgIGNvbnN0IGNhdGVnb3J5SWQgPSBldi50YXJnZXQudmFsdWVcbiAgICBjb25zdCBuZXdTdGF0ZSA9IHtcbiAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeUlkXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuYWNsW2NhdGVnb3J5SWRdLmNhbl9waW5fdGhyZWFkcyA8IG5ld1N0YXRlLndlaWdodCkge1xuICAgICAgbmV3U3RhdGUud2VpZ2h0ID0gMFxuICAgIH1cblxuICAgIGlmICghdGhpcy5hY2xbY2F0ZWdvcnlJZF0uY2FuX2hpZGVfdGhyZWFkcykge1xuICAgICAgbmV3U3RhdGUuaXNfaGlkZGVuID0gMFxuICAgIH1cblxuICAgIGlmICghdGhpcy5hY2xbY2F0ZWdvcnlJZF0uY2FuX2Nsb3NlX3RocmVhZHMpIHtcbiAgICAgIG5ld1N0YXRlLmlzX2Nsb3NlZCA9IGZhbHNlXG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZShuZXdTdGF0ZSlcbiAgfVxuXG4gIGdldFdlaWdodENob2ljZXMoKSB7XG4gICAgY29uc3QgY2hvaWNlcyA9IFtcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgIGljb246IFwicmVtb3ZlXCIsXG4gICAgICAgIGxhYmVsOiBcIs6czrcgz4DPgc6/z4nOuM63zrzOrc69zrdcIlxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6IDEsXG4gICAgICAgIGljb246IFwiYm9va21hcmtfYm9yZGVyXCIsXG4gICAgICAgIGxhYmVsOiBcIs6gz4HOv8+JzrjOt868zq3Ovc63IM+DzrUgzrHPhc+Ezq4gz4TOt869IM66zrHPhM63zrPOv8+Bzq/OsVwiXG4gICAgICB9XG4gICAgXVxuXG4gICAgaWYgKHRoaXMuYWNsW3RoaXMuc3RhdGUuY2F0ZWdvcnldLmNhbl9waW5fdGhyZWFkcyA9PT0gMikge1xuICAgICAgY2hvaWNlcy5wdXNoKHtcbiAgICAgICAgdmFsdWU6IDIsXG4gICAgICAgIGljb246IFwiYm9va21hcmtcIixcbiAgICAgICAgbGFiZWw6IFwizqDPgc6/z4nOuM63zrzOrc69zrcgz4POtSDPjM67zrcgz4TOtyDPg861zrvOr860zrFcIlxuICAgICAgfSlcbiAgICB9XG5cbiAgICByZXR1cm4gY2hvaWNlc1xuICB9XG5cbiAgcmVuZGVyV2VpZ2h0RmllbGQoKSB7XG4gICAgaWYgKHRoaXMuYWNsW3RoaXMuc3RhdGUuY2F0ZWdvcnldLmNhbl9waW5fdGhyZWFkcykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgIGxhYmVsPXtcIs6gz4HOv8+OzrjOt8+DzrcgzrHOs86zzrXOu86vzrHPglwifVxuICAgICAgICAgIGZvcj1cImlkX3dlaWdodFwiXG4gICAgICAgICAgbGFiZWxDbGFzcz1cImNvbC1zbS00XCJcbiAgICAgICAgICBjb250cm9sQ2xhc3M9XCJjb2wtc20tOFwiXG4gICAgICAgID5cbiAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICBpZD1cImlkX3dlaWdodFwiXG4gICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoXCJ3ZWlnaHRcIil9XG4gICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS53ZWlnaHR9XG4gICAgICAgICAgICBjaG9pY2VzPXt0aGlzLmdldFdlaWdodENob2ljZXMoKX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICByZW5kZXJIaWRkZW5GaWVsZCgpIHtcbiAgICBpZiAodGhpcy5hY2xbdGhpcy5zdGF0ZS5jYXRlZ29yeV0uY2FuX2hpZGVfdGhyZWFkcykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgIGxhYmVsPXtcIs6az4HPjc+IzrnOvM6/IM6xzrPOs861zrvOr86xz4JcIn1cbiAgICAgICAgICBmb3I9XCJpZF9pc19oaWRkZW5cIlxuICAgICAgICAgIGxhYmVsQ2xhc3M9XCJjb2wtc20tNFwiXG4gICAgICAgICAgY29udHJvbENsYXNzPVwiY29sLXNtLThcIlxuICAgICAgICA+XG4gICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgaWQ9XCJpZF9pc19jbG9zZWRcIlxuICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KFwiaXNfaGlkZGVuXCIpfVxuICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuaXNfaGlkZGVufVxuICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5pc0hpZGRlbkNob2ljZXN9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyQ2xvc2VkRmllbGQoKSB7XG4gICAgaWYgKHRoaXMuYWNsW3RoaXMuc3RhdGUuY2F0ZWdvcnldLmNhbl9jbG9zZV90aHJlYWRzKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgbGFiZWw9e1wizprOu861zq/Pg865zrzOvyDOsc6zzrPOtc67zq/Osc+CXCJ9XG4gICAgICAgICAgZm9yPVwiaWRfaXNfY2xvc2VkXCJcbiAgICAgICAgICBsYWJlbENsYXNzPVwiY29sLXNtLTRcIlxuICAgICAgICAgIGNvbnRyb2xDbGFzcz1cImNvbC1zbS04XCJcbiAgICAgICAgPlxuICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgIGlkPVwiaWRfaXNfY2xvc2VkXCJcbiAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcImlzX2Nsb3NlZFwiKX1cbiAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmlzX2Nsb3NlZH1cbiAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuaXNDbG9zZWRDaG9pY2VzfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPE1vZGFsIGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZ1wiPlxuICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgICBsYWJlbD17XCLOpM6vz4TOu86/z4IgzrHOs86zzrXOu86vzrHPglwifVxuICAgICAgICAgICAgICBmb3I9XCJpZF90aXRsZVwiXG4gICAgICAgICAgICAgIGxhYmVsQ2xhc3M9XCJjb2wtc20tNFwiXG4gICAgICAgICAgICAgIGNvbnRyb2xDbGFzcz1cImNvbC1zbS04XCJcbiAgICAgICAgICAgICAgdmFsaWRhdGlvbj17dGhpcy5zdGF0ZS5lcnJvcnMudGl0bGV9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIGlkPVwiaWRfdGl0bGVcIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcInRpdGxlXCIpfVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnRpdGxlfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNsZWFyZml4XCIgLz5cblxuICAgICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgICBsYWJlbD17XCLOms6xz4TOt86zzr/Pgc6vzrFcIn1cbiAgICAgICAgICAgICAgZm9yPVwiaWRfY2F0ZWdvcnlcIlxuICAgICAgICAgICAgICBsYWJlbENsYXNzPVwiY29sLXNtLTRcIlxuICAgICAgICAgICAgICBjb250cm9sQ2xhc3M9XCJjb2wtc20tOFwiXG4gICAgICAgICAgICAgIHZhbGlkYXRpb249e3RoaXMuc3RhdGUuZXJyb3JzLmNhdGVnb3J5fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8Q2F0ZWdvcnlTZWxlY3RcbiAgICAgICAgICAgICAgICBpZD1cImlkX2NhdGVnb3J5XCJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNhdGVnb3J5Q2hhbmdlfVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmNhdGVnb3J5fVxuICAgICAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuc3RhdGUuY2F0ZWdvcmllc31cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjbGVhcmZpeFwiIC8+XG5cbiAgICAgICAgICAgIHt0aGlzLnJlbmRlcldlaWdodEZpZWxkKCl9XG4gICAgICAgICAgICB7dGhpcy5yZW5kZXJIaWRkZW5GaWVsZCgpfVxuICAgICAgICAgICAge3RoaXMucmVuZGVyQ2xvc2VkRmllbGQoKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4tcHJpbWFyeVwiIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfT5cbiAgICAgICAgICAgICAge1wizpTOuc6xz4fPic+BzrnPg868z4zPgiDPgM+Bzr/Pg8+Gzr/Pgc6sz4JcIn1cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Zvcm0+XG4gICAgICA8L01vZGFsPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTG9hZGVyKCkge1xuICByZXR1cm4gKFxuICAgIDxNb2RhbCBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2dcIj5cbiAgICAgIDxNb2RhbExvYWRlciAvPlxuICAgIDwvTW9kYWw+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEVycm9yKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPE1vZGFsIGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZyBtb2RhbC1tZXNzYWdlXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtaWNvblwiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+aW5mb19vdXRsaW5lPC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtYm9keVwiPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAge1wizpTOtc69IM68z4DOv8+BzrXOr8+CIM69zrEgzrzOtc+EzrHOus65zr3Ors+DzrXOuc+CIM6xz4XPhM6uIM+EzrfOvSDPgM+Bzr/Pg8+Gzr/Pgc6sIM+Az4HOv8+CIM+Ezr8gz4DOsc+Bz4zOvVwifVxuICAgICAgICA8L3A+XG4gICAgICAgIDxwPntwcm9wcy5tZXNzYWdlfTwvcD5cbiAgICAgIDwvZGl2PlxuICAgIDwvTW9kYWw+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE1vZGFsKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e3Byb3BzLmNsYXNzTmFtZX0gcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBhcmlhLWxhYmVsPXtcIs6azrvOtc6vz4POuc68zr9cIn1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImNsb3NlXCJcbiAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+XG4gICAgICAgICAgICB7XCLOlM65zrHPh8+Jz4HOuc+DzrzPjM+CIM+Az4HOv8+Dz4bOv8+BzqzPgiDPg861IM66zrHOuc69zr/Pjc+BzrnOsSDOsc6zzrPOtc67zq/OsVwifVxuICAgICAgICAgIDwvaDQ+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7cHJvcHMuY2hpbGRyZW59XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBmdW5jdGlvbiBGbGFnQmVzdEFuc3dlcih7IHBvc3QsIHRocmVhZCwgdXNlciB9KSB7XG4gIGlmICghKGlzVmlzaWJsZShwb3N0KSAmJiBwb3N0LmlkID09PSB0aHJlYWQuYmVzdF9hbnN3ZXIpKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIGxldCBtZXNzYWdlID0gbnVsbFxuICBpZiAodXNlci5pZCAmJiB0aHJlYWQuYmVzdF9hbnN3ZXJfbWFya2VkX2J5ID09PSB1c2VyLmlkKSB7XG4gICAgbWVzc2FnZSA9IGludGVycG9sYXRlKFxuICAgICAgXCLOlc+Azq3Ou861zr7Otc+CIM+Jz4IgzrrOsc67z43PhM61z4HOtyDPgM+Bzr/Pg8+Gzr/Pgc6sICUobWFya2VkX29uKXNcIixcbiAgICAgIHtcbiAgICAgICAgbWFya2VkX29uOiB0aHJlYWQuYmVzdF9hbnN3ZXJfbWFya2VkX29uLmZyb21Ob3coKVxuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG4gIH0gZWxzZSB7XG4gICAgbWVzc2FnZSA9IGludGVycG9sYXRlKFxuICAgICAgXCLOlc+AzrnOu86tz4fOuM63zrrOtSDPic+CIM66zrHOu8+Nz4TOtc+Bzrcgz4DPgc6/z4PPhs6/z4HOrCDOsc+Az4wgJShtYXJrZWRfYnkpcyAlKG1hcmtlZF9vbilzXCIsXG4gICAgICB7XG4gICAgICAgIG1hcmtlZF9ieTogdGhyZWFkLmJlc3RfYW5zd2VyX21hcmtlZF9ieV9uYW1lLFxuICAgICAgICBtYXJrZWRfb246IHRocmVhZC5iZXN0X2Fuc3dlcl9tYXJrZWRfb24uZnJvbU5vdygpXG4gICAgICB9LFxuICAgICAgdHJ1ZVxuICAgIClcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwb3N0LXN0YXR1cy1tZXNzYWdlIHBvc3Qtc3RhdHVzLWJlc3QtYW5zd2VyXCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2hlY2tfYm94PC9zcGFuPlxuICAgICAgPHA+e21lc3NhZ2V9PC9wPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBGbGFnSGlkZGVuKHByb3BzKSB7XG4gIGlmICghKGlzVmlzaWJsZShwcm9wcy5wb3N0KSAmJiBwcm9wcy5wb3N0LmlzX2hpZGRlbikpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3Qtc3RhdHVzLW1lc3NhZ2UgcG9zdC1zdGF0dXMtaGlkZGVuXCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+dmlzaWJpbGl0eV9vZmY8L3NwYW4+XG4gICAgICA8cD5cbiAgICAgICAge1xuICAgICAgICAgIFwizpHPhc+Ezq4gzrcgz4DPgc6/z4PPhs6/z4HOrCDOtc6vzr3Osc65IM66z4HPhc68zrzOrc69zrcuIM6cz4zOvc6/IM61zr7Ov8+Fz4POuc6/zrTOv8+EzrfOvM6tzr3Ov865IM+Hz4HOrs+Dz4TOtc+CIM68z4DOv8+Bzr/Pjc69IM69zrEgzrTOv8+Fzr0gz4TOuc+CIM67zrXPgM+Ezr/OvM6tz4HOtc65zq3PgiDPhM63z4IuXCJcbiAgICAgICAgfVxuICAgICAgPC9wPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBGbGFnVW5hcHByb3ZlZChwcm9wcykge1xuICBpZiAoIShpc1Zpc2libGUocHJvcHMucG9zdCkgJiYgcHJvcHMucG9zdC5pc191bmFwcHJvdmVkKSkge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1zdGF0dXMtbWVzc2FnZSBwb3N0LXN0YXR1cy11bmFwcHJvdmVkXCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+cmVtb3ZlX2NpcmNsZV9vdXRsaW5lPC9zcGFuPlxuICAgICAgPHA+XG4gICAgICAgIHtcbiAgICAgICAgICBcIs6Rz4XPhM6uIM63IM+Az4HOv8+Dz4bOv8+BzqwgzrTOtc69IM6tz4fOtc65IM61zrPOus+BzrnOuM61zq8uIM6cz4zOvc6/IM6/IM+Hz4HOrs+Dz4TOt8+CIM+Azr/PhSDPhM63zr0gzq3Ous6xzr3OtSDOus6xzrkgz4fPgc6uz4PPhM61z4IgzrzOtSDOtc6+zr/Phc+DzrnOv860z4zPhM63z4POtyDOvc6xIM61zrPOus+Bzq/Ovc6/z4XOvSDPgM+Bzr/Pg8+Gzr/Pgc6tz4IgzrzPgM6/z4HOv8+Nzr0gzr3OsSDOtM6/z4XOvSDPhM65z4IgzrvOtc+Az4TOv868zq3Pgc61zrnOrc+CIM+EzrfPgi5cIlxuICAgICAgICB9XG4gICAgICA8L3A+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEZsYWdQcm90ZWN0ZWQocHJvcHMpIHtcbiAgaWYgKCEoaXNWaXNpYmxlKHByb3BzLnBvc3QpICYmIHByb3BzLnBvc3QuaXNfcHJvdGVjdGVkKSkge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1zdGF0dXMtbWVzc2FnZSBwb3N0LXN0YXR1cy1wcm90ZWN0ZWQgdmlzaWJsZS14cy1ibG9ja1wiPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmxvY2tfb3V0bGluZTwvc3Bhbj5cbiAgICAgIDxwPntcIs6Rz4XPhM6uIM63IM+Az4HOv8+Dz4bOv8+BzqwgzrXOr869zrHOuSDOus67zrXOuc60z4nOvM6tzr3Oty4gzpzPjM69zr8gzrTOuc6xz4fOtc65z4HOuc+Dz4TOrc+CIM68z4DOv8+Bzr/Pjc69IM69zrEgz4TOt869IM+Ez4HOv8+Azr/PgM6/zrnOrs+Dzr/Phc69LlwifTwvcD5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNWaXNpYmxlKHBvc3QpIHtcbiAgcmV0dXJuICFwb3N0LmlzX2hpZGRlbiB8fCBwb3N0LmFjbC5jYW5fc2VlX2hpZGRlblxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgKiBhcyBhY3Rpb25zIGZyb20gXCIuL2NvbnRyb2xzL2FjdGlvbnNcIlxuaW1wb3J0IExpa2VzTW9kYWwgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3Bvc3QtbGlrZXNcIlxuaW1wb3J0IG1vZGFsIGZyb20gXCJtaXNhZ28vc2VydmljZXMvbW9kYWxcIlxuaW1wb3J0IHBvc3RpbmcgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wb3N0aW5nXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgaWYgKCFpc1Zpc2libGUocHJvcHMucG9zdCkpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3QtZm9vdGVyXCI+XG4gICAgICA8TWFya0FzQmVzdEFuc3dlciB7Li4ucHJvcHN9IC8+XG4gICAgICA8TWFya0FzQmVzdEFuc3dlckNvbXBhY3Qgey4uLnByb3BzfSAvPlxuICAgICAgPExpa2Ugey4uLnByb3BzfSAvPlxuICAgICAgPExpa2VzXG4gICAgICAgIGxhc3RMaWtlcz17cHJvcHMucG9zdC5sYXN0X2xpa2VzfVxuICAgICAgICBsaWtlcz17cHJvcHMucG9zdC5saWtlc31cbiAgICAgICAgey4uLnByb3BzfVxuICAgICAgLz5cbiAgICAgIDxMaWtlc0NvbXBhY3QgbGlrZXM9e3Byb3BzLnBvc3QubGlrZXN9IHsuLi5wcm9wc30gLz5cbiAgICAgIDxSZXBseSB7Li4ucHJvcHN9IC8+XG4gICAgICA8RWRpdCB7Li4ucHJvcHN9IC8+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVmlzaWJsZShwb3N0KSB7XG4gIHJldHVybiAoXG4gICAgKCFwb3N0LmlzX2hpZGRlbiB8fCBwb3N0LmFjbC5jYW5fc2VlX2hpZGRlbikgJiZcbiAgICAocG9zdC5hY2wuY2FuX3JlcGx5IHx8XG4gICAgICBwb3N0LmFjbC5jYW5fZWRpdCB8fFxuICAgICAgKHBvc3QuYWNsLmNhbl9zZWVfbGlrZXMgJiYgKHBvc3QubGFzdF9saWtlcyB8fCBbXSkubGVuZ3RoKSB8fFxuICAgICAgcG9zdC5hY2wuY2FuX2xpa2UpXG4gIClcbn1cblxuZXhwb3J0IGNsYXNzIE1hcmtBc0Jlc3RBbnN3ZXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIGFjdGlvbnMubWFya0FzQmVzdEFuc3dlcih0aGlzLnByb3BzKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgcG9zdCwgdGhyZWFkIH0gPSB0aGlzLnByb3BzXG5cbiAgICBpZiAoIXRocmVhZC5hY2wuY2FuX21hcmtfYmVzdF9hbnN3ZXIpIHJldHVybiBudWxsXG4gICAgaWYgKCFwb3N0LmFjbC5jYW5fbWFya19hc19iZXN0X2Fuc3dlcikgcmV0dXJuIG51bGxcbiAgICBpZiAodGhyZWFkLmJlc3RfYW5zd2VyICYmICF0aHJlYWQuYWNsLmNhbl9jaGFuZ2VfYmVzdF9hbnN3ZXIpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9XCJoaWRkZW4teHMgYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLWxlZnRcIlxuICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5wb3N0LmlzQnVzeSB8fCBwb3N0LmlkID09PSB0aHJlYWQuYmVzdF9hbnN3ZXJ9XG4gICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jaGVja19ib3g8L3NwYW4+XG4gICAgICAgIHtcIs6Vz4DOuc67zrXOs868zq3Ovc63IM+Az4HOv8+Dz4bOv8+BzqxcIn1cbiAgICAgIDwvYnV0dG9uPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTWFya0FzQmVzdEFuc3dlckNvbXBhY3QgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIGFjdGlvbnMubWFya0FzQmVzdEFuc3dlcih0aGlzLnByb3BzKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgcG9zdCwgdGhyZWFkIH0gPSB0aGlzLnByb3BzXG5cbiAgICBpZiAoIXRocmVhZC5hY2wuY2FuX21hcmtfYmVzdF9hbnN3ZXIpIHJldHVybiBudWxsXG4gICAgaWYgKCFwb3N0LmFjbC5jYW5fbWFya19hc19iZXN0X2Fuc3dlcikgcmV0dXJuIG51bGxcbiAgICBpZiAodGhyZWFkLmJlc3RfYW5zd2VyICYmICF0aHJlYWQuYWNsLmNhbl9jaGFuZ2VfYmVzdF9hbnN3ZXIpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9XCJ2aXNpYmxlLXhzLWlubGluZS1ibG9jayBidG4gYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtbGVmdFwiXG4gICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLnBvc3QuaXNCdXN5IHx8IHBvc3QuaWQgPT09IHRocmVhZC5iZXN0X2Fuc3dlcn1cbiAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNoZWNrX2JveDwvc3Bhbj5cbiAgICAgIDwvYnV0dG9uPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTGlrZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMucHJvcHMucG9zdC5pc19saWtlZCkge1xuICAgICAgYWN0aW9ucy51bmxpa2UodGhpcy5wcm9wcylcbiAgICB9IGVsc2Uge1xuICAgICAgYWN0aW9ucy5saWtlKHRoaXMucHJvcHMpXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5wb3N0LmFjbC5jYW5fbGlrZSkgcmV0dXJuIG51bGxcblxuICAgIGxldCBjbGFzc05hbWUgPSBcImJ0biBidG4tZGVmYXVsdCBidG4tc20gcHVsbC1sZWZ0XCJcbiAgICBpZiAodGhpcy5wcm9wcy5wb3N0LmlzX2xpa2VkKSB7XG4gICAgICBjbGFzc05hbWUgPSBcImJ0biBidG4tc3VjY2VzcyBidG4tc20gcHVsbC1sZWZ0XCJcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZX1cbiAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMucG9zdC5pc0J1c3l9XG4gICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIHt0aGlzLnByb3BzLnBvc3QuaXNfbGlrZWQgPyBcIs6Vzr3OtM65zrHPhs6tz4HOv868zrHOuVwiIDogXCLOlc66zrTOrs67z4nPg863IM61zr3OtM65zrHPhs6tz4HOv869z4TOv8+CXCJ9XG4gICAgICA8L2J1dHRvbj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIExpa2VzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RhbC5zaG93KDxMaWtlc01vZGFsIHBvc3Q9e3RoaXMucHJvcHMucG9zdH0gLz4pXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgaGFzTGlrZXMgPSAodGhpcy5wcm9wcy5wb3N0Lmxhc3RfbGlrZXMgfHwgW10pLmxlbmd0aCA+IDBcbiAgICBpZiAoIXRoaXMucHJvcHMucG9zdC5hY2wuY2FuX3NlZV9saWtlcyB8fCAhaGFzTGlrZXMpIHJldHVybiBudWxsXG5cbiAgICBpZiAodGhpcy5wcm9wcy5wb3N0LmFjbC5jYW5fc2VlX2xpa2VzID09PSAyKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rIGJ0bi1zbSBwdWxsLWxlZnQgaGlkZGVuLXhzXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICB7Z2V0TGlrZXNNZXNzYWdlKHRoaXMucHJvcHMubGlrZXMsIHRoaXMucHJvcHMubGFzdExpa2VzKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICApXG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxwIGNsYXNzTmFtZT1cInB1bGwtbGVmdCBoaWRkZW4teHNcIj5cbiAgICAgICAge2dldExpa2VzTWVzc2FnZSh0aGlzLnByb3BzLmxpa2VzLCB0aGlzLnByb3BzLmxhc3RMaWtlcyl9XG4gICAgICA8L3A+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBMaWtlc0NvbXBhY3QgZXh0ZW5kcyBMaWtlcyB7XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBoYXNMaWtlcyA9ICh0aGlzLnByb3BzLnBvc3QubGFzdF9saWtlcyB8fCBbXSkubGVuZ3RoID4gMFxuICAgIGlmICghdGhpcy5wcm9wcy5wb3N0LmFjbC5jYW5fc2VlX2xpa2VzIHx8ICFoYXNMaWtlcykgcmV0dXJuIG51bGxcblxuICAgIGlmICh0aGlzLnByb3BzLnBvc3QuYWNsLmNhbl9zZWVfbGlrZXMgPT09IDIpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmsgYnRuLXNtIGxpa2VzLWNvbXBhY3QgcHVsbC1sZWZ0IHZpc2libGUteHMtYmxvY2tcIlxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5mYXZvcml0ZTwvc3Bhbj5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5saWtlc31cbiAgICAgICAgPC9idXR0b24+XG4gICAgICApXG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxwIGNsYXNzTmFtZT1cImxpa2VzLWNvbXBhY3QgcHVsbC1sZWZ0IHZpc2libGUteHMtYmxvY2tcIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmZhdm9yaXRlPC9zcGFuPlxuICAgICAgICB7dGhpcy5wcm9wcy5saWtlc31cbiAgICAgIDwvcD5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldExpa2VzTWVzc2FnZShsaWtlcywgdXNlcnMpIHtcbiAgY29uc3QgdXNlcm5hbWVzID0gdXNlcnMuc2xpY2UoMCwgMykubWFwKHUgPT4gdS51c2VybmFtZSlcblxuICBpZiAodXNlcm5hbWVzLmxlbmd0aCA9PT0gMSkge1xuICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgIFwiJSh1c2VyKXMgzrXOvc60zrnOsc+Gzq3Pgc61z4TOsc65XCIsXG4gICAgICB7XG4gICAgICAgIHVzZXI6IHVzZXJuYW1lc1swXVxuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG4gIH1cblxuICBjb25zdCBoaWRkZW5MaWtlcyA9IGxpa2VzIC0gdXNlcm5hbWVzLmxlbmd0aFxuXG4gIGNvbnN0IG90aGVyVXNlcnMgPSB1c2VybmFtZXMuc2xpY2UoMCwgLTEpLmpvaW4oXCIsIFwiKVxuICBjb25zdCBsYXN0VXNlciA9IHVzZXJuYW1lcy5zbGljZSgtMSlbMF1cblxuICBjb25zdCB1c2VybmFtZXNMaXN0ID0gaW50ZXJwb2xhdGUoXG4gICAgXCIlKHVzZXJzKXMgzrrOsc65ICUobGFzdF91c2VyKXNcIixcbiAgICB7XG4gICAgICB1c2Vyczogb3RoZXJVc2VycyxcbiAgICAgIGxhc3RfdXNlcjogbGFzdFVzZXJcbiAgICB9LFxuICAgIHRydWVcbiAgKVxuXG4gIGlmIChoaWRkZW5MaWtlcyA9PT0gMCkge1xuICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgIFwizp8gz4fPgc6uz4PPhM63z4IgJSh1c2VycylzIM61zr3OtM65zrHPhs6tz4HOtc+EzrHOuVwiLFxuICAgICAge1xuICAgICAgICB1c2VyczogdXNlcm5hbWVzTGlzdFxuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG4gIH1cblxuICBsZXQgbWVzc2FnZSA9IFwizp8gz4fPgc6uz4PPhM63z4IgJSh1c2VycylzIM66zrHOuSAlKGxpa2VzKXMgzqzOu867zr/OuSDPh8+Bzq7Pg8+EzrXPgiDOtc69zrTOuc6xz4bOrc+Bzr/Ovc+EzrHOuVwiXG4gIGlmIChoaWRkZW5MaWtlcyA9PT0gMSkge1xuICAgIG1lc3NhZ2UgPSBcIs6fIM+Hz4HOrs+Dz4TOt8+CICUodXNlcnMpcyDOus6xzrkgJShsaWtlcylzIM6szrvOu86/z4Igz4fPgc6uz4PPhM63z4IgzrXOvc60zrnOsc+Gzq3Pgc6/zr3PhM6xzrlcIlxuICB9XG5cbiAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgIG1lc3NhZ2UsXG4gICAge1xuICAgICAgdXNlcnM6IHVzZXJuYW1lcy5qb2luKFwiLCBcIiksXG4gICAgICBsaWtlczogaGlkZGVuTGlrZXNcbiAgICB9LFxuICAgIHRydWVcbiAgKVxufVxuXG5leHBvcnQgY2xhc3MgUmVwbHkgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIHBvc3Rpbmcub3Blbih7XG4gICAgICBtb2RlOiBcIlJFUExZXCIsXG5cbiAgICAgIGNvbmZpZzogdGhpcy5wcm9wcy50aHJlYWQuYXBpLmVkaXRvcixcbiAgICAgIHN1Ym1pdDogdGhpcy5wcm9wcy50aHJlYWQuYXBpLnBvc3RzLmluZGV4LFxuXG4gICAgICBjb250ZXh0OiB7XG4gICAgICAgIHJlcGx5OiB0aGlzLnByb3BzLnBvc3QuaWRcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnBvc3QuYWNsLmNhbl9yZXBseSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeSBidG4tc20gcHVsbC1yaWdodFwiXG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICA+XG4gICAgICAgICAge1wizqDPgc6/z4PPhs6/z4HOrFwifVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEVkaXQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIHBvc3Rpbmcub3Blbih7XG4gICAgICBtb2RlOiBcIkVESVRcIixcblxuICAgICAgY29uZmlnOiB0aGlzLnByb3BzLnBvc3QuYXBpLmVkaXRvcixcbiAgICAgIHN1Ym1pdDogdGhpcy5wcm9wcy5wb3N0LmFwaS5pbmRleFxuICAgIH0pXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucG9zdC5hY2wuY2FuX2VkaXQpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJoaWRkZW4teHMgYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLXJpZ2h0XCJcbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgID5cbiAgICAgICAgICB7XCLOlc+AzrXOvs61z4HOs86xz4POr86xXCJ9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQ29udHJvbHMgZnJvbSBcIi4vY29udHJvbHNcIlxuaW1wb3J0IFNlbGVjdCBmcm9tIFwiLi9zZWxlY3RcIlxuaW1wb3J0IFBvc3RDaGFuZ2Vsb2cgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3Bvc3QtY2hhbmdlbG9nXCJcbmltcG9ydCBtb2RhbCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL21vZGFsXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3QtaGVhZGluZ1wiPlxuICAgICAgPFVucmVhZExhYmVsIHsuLi5wcm9wc30gLz5cbiAgICAgIDxVbnJlYWRDb21wYWN0IHsuLi5wcm9wc30gLz5cbiAgICAgIDxQb3N0ZWRPbiB7Li4ucHJvcHN9IC8+XG4gICAgICA8UG9zdGVkT25Db21wYWN0IHsuLi5wcm9wc30gLz5cbiAgICAgIDxQb3N0RWRpdHMgey4uLnByb3BzfSAvPlxuICAgICAgPFBvc3RFZGl0c0NvbXBhY3RzIHsuLi5wcm9wc30gLz5cbiAgICAgIDxQcm90ZWN0ZWRMYWJlbCB7Li4ucHJvcHN9IC8+XG4gICAgICA8U2VsZWN0IHsuLi5wcm9wc30gLz5cbiAgICAgIDxDb250cm9scyB7Li4ucHJvcHN9IC8+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFVucmVhZExhYmVsKHByb3BzKSB7XG4gIGlmIChwcm9wcy5wb3N0LmlzX3JlYWQpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8c3BhbiBjbGFzc05hbWU9XCJsYWJlbCBsYWJlbC11bnJlYWQgaGlkZGVuLXhzXCI+e1wizp3Orc6xIM+Az4HOv8+Dz4bOv8+BzqxcIn08L3NwYW4+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFVucmVhZENvbXBhY3QocHJvcHMpIHtcbiAgaWYgKHByb3BzLnBvc3QuaXNfcmVhZCkgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxzcGFuIGNsYXNzTmFtZT1cImxhYmVsIGxhYmVsLXVucmVhZCB2aXNpYmxlLXhzLWlubGluZS1ibG9ja1wiPlxuICAgICAge1wizp3Orc6xXCJ9XG4gICAgPC9zcGFuPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQb3N0ZWRPbihwcm9wcykge1xuICBjb25zdCB0b29sdGlwID0gaW50ZXJwb2xhdGUoXG4gICAgXCLOlM63zrzOv8+DzrnOtc+NzrjOt866zrUgJShwb3N0ZWRfb24pc1wiLFxuICAgIHtcbiAgICAgIHBvc3RlZF9vbjogcHJvcHMucG9zdC5wb3N0ZWRfb24uZm9ybWF0KFwiTEwsIExUXCIpXG4gICAgfSxcbiAgICB0cnVlXG4gIClcblxuICByZXR1cm4gKFxuICAgIDxhXG4gICAgICBocmVmPXtwcm9wcy5wb3N0LnVybC5pbmRleH1cbiAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGluayBwb3N0ZWQtb24gaGlkZGVuLXhzXCJcbiAgICAgIHRpdGxlPXt0b29sdGlwfVxuICAgID5cbiAgICAgIHtwcm9wcy5wb3N0LnBvc3RlZF9vbi5mcm9tTm93KCl9XG4gICAgPC9hPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQb3N0ZWRPbkNvbXBhY3QocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8YVxuICAgICAgaHJlZj17cHJvcHMucG9zdC51cmwuaW5kZXh9XG4gICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmsgcG9zdGVkLW9uIHZpc2libGUteHMtaW5saW5lLWJsb2NrXCJcbiAgICA+XG4gICAgICB7cHJvcHMucG9zdC5wb3N0ZWRfb24uZnJvbU5vdyh0cnVlKX1cbiAgICA8L2E+XG4gIClcbn1cblxuZXhwb3J0IGNsYXNzIFBvc3RFZGl0cyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kYWwuc2hvdyg8UG9zdENoYW5nZWxvZyBwb3N0PXt0aGlzLnByb3BzLnBvc3R9IC8+KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGlzSGlkZGVuID1cbiAgICAgIHRoaXMucHJvcHMucG9zdC5pc19oaWRkZW4gJiYgIXRoaXMucHJvcHMucG9zdC5hY2wuY2FuX3NlZV9oaWRkZW5cbiAgICBjb25zdCBpc1VuZWRpdGVkID0gdGhpcy5wcm9wcy5wb3N0LmVkaXRzID09PSAwXG4gICAgaWYgKGlzSGlkZGVuIHx8IGlzVW5lZGl0ZWQpIHJldHVybiBudWxsXG5cbiAgICBsZXQgdG9vbHRpcCA9IFwizpHPhc+Ezq4gzrcgz4DPgc6/z4PPhs6/z4HOrCDPhM+Bzr/PgM6/z4DOv865zq7OuM63zrrOtSAlKGVkaXRzKXMgz4bOv8+Bzq3PglwiXG4gICAgaWYgKHRoaXMucHJvcHMucG9zdC5lZGl0cyA9PT0gMSkge1xuICAgICAgdG9vbHRpcCA9IFwizpHPhc+Ezq4gzrcgz4DPgc6/z4PPhs6/z4HOrCDPhM+Bzr/PgM6/z4DOv865zq7OuM63zrrOtSAlKGVkaXRzKXMgz4bOv8+BzqxcIlxuICAgIH1cblxuICAgIGNvbnN0IHRpdGxlID0gaW50ZXJwb2xhdGUoXG4gICAgICB0b29sdGlwLFxuICAgICAge1xuICAgICAgICBlZGl0czogdGhpcy5wcm9wcy5wb3N0LmVkaXRzXG4gICAgICB9LFxuICAgICAgdHJ1ZVxuICAgIClcblxuICAgIGxldCBsYWJlbCA9IFwiz4TPgc6/z4DOv8+Azr/Ouc6uzrjOt866zrUgJShlZGl0cylzIM+Gzr/Pgc6tz4JcIlxuICAgIGlmICh0aGlzLnByb3BzLnBvc3QuZWRpdHMgPT09IDEpIHtcbiAgICAgIGxhYmVsID0gXCLPhM+Bzr/PgM6/z4DOv865zq7OuM63zrrOtSAlKGVkaXRzKXMgz4bOv8+BzqxcIlxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGluayBidG4tc2VlLWVkaXRzIGhpZGRlbi14c1wiXG4gICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cbiAgICAgICAgdGl0bGU9e3RpdGxlfVxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAge2ludGVycG9sYXRlKFxuICAgICAgICAgIGxhYmVsLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVkaXRzOiB0aGlzLnByb3BzLnBvc3QuZWRpdHNcbiAgICAgICAgICB9LFxuICAgICAgICAgIHRydWVcbiAgICAgICAgKX1cbiAgICAgIDwvYnV0dG9uPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUG9zdEVkaXRzQ29tcGFjdHMgZXh0ZW5kcyBQb3N0RWRpdHMge1xuICByZW5kZXIoKSB7XG4gICAgY29uc3QgaXNIaWRkZW4gPVxuICAgICAgdGhpcy5wcm9wcy5wb3N0LmlzX2hpZGRlbiAmJiAhdGhpcy5wcm9wcy5wb3N0LmFjbC5jYW5fc2VlX2hpZGRlblxuICAgIGNvbnN0IGlzVW5lZGl0ZWQgPSB0aGlzLnByb3BzLnBvc3QuZWRpdHMgPT09IDBcbiAgICBpZiAoaXNIaWRkZW4gfHwgaXNVbmVkaXRlZCkgcmV0dXJuIG51bGxcblxuICAgIGxldCBsYWJlbCA9IFwiJShlZGl0cylzIM+Ez4HOv8+Azr/PgM6/zrnOrs+DzrXOuc+CXCJcbiAgICBpZiAodGhpcy5wcm9wcy5wb3N0LmVkaXRzID09PSAxKSB7XG4gICAgICBsYWJlbCA9IFwiJShlZGl0cylzIM+Ez4HOv8+Azr/PgM6/zq/Ot8+DzrdcIlxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGluayBidG4tc2VlLWVkaXRzIHZpc2libGUteHMtaW5saW5lLWJsb2NrXCJcbiAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAge2ludGVycG9sYXRlKFxuICAgICAgICAgIGxhYmVsLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVkaXRzOiB0aGlzLnByb3BzLnBvc3QuZWRpdHNcbiAgICAgICAgICB9LFxuICAgICAgICAgIHRydWVcbiAgICAgICAgKX1cbiAgICAgIDwvYnV0dG9uPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUHJvdGVjdGVkTGFiZWwocHJvcHMpIHtcbiAgY29uc3QgcG9zdEF1dGhvciA9IHByb3BzLnBvc3QucG9zdGVyICYmIHByb3BzLnBvc3QucG9zdGVyLmlkID09PSBwcm9wcy51c2VyLmlkXG4gIGNvbnN0IGhhc0FjbCA9IHByb3BzLnBvc3QuYWNsLmNhbl9wcm90ZWN0XG4gIGNvbnN0IGlzVmlzaWJsZSA9XG4gICAgcHJvcHMudXNlci5pZCAmJiBwcm9wcy5wb3N0LmlzX3Byb3RlY3RlZCAmJiAocG9zdEF1dGhvciB8fCBoYXNBY2wpXG5cbiAgaWYgKCFpc1Zpc2libGUpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8c3BhblxuICAgICAgY2xhc3NOYW1lPVwibGFiZWwgbGFiZWwtcHJvdGVjdGVkIGhpZGRlbi14c1wiXG4gICAgICB0aXRsZT17XCLOkc+Fz4TOriDOtyDPgM+Bzr/Pg8+Gzr/Pgc6sIM61zq/Ovc6xzrkgz4DPgc6/z4PPhM6xz4TOtc+FzrzOrc69zrcgzrrOsc65IM60zrXOvSDOvM+Azr/Pgc61zq8gzr3OsSDPhM+Bzr/PgM6/z4DOv865zrfOuM61zq9cIn1cbiAgICA+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+bG9ja19vdXRsaW5lPC9zcGFuPlxuICAgICAge1wiz4DPgc6/z4PPhM6xz4TOtc+FzrzOrc69zrdcIn1cbiAgICA8L3NwYW4+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEF0dGFjaG1lbnRzIGZyb20gXCIuL2F0dGFjaG1lbnRzXCJcbmltcG9ydCBCb2R5IGZyb20gXCIuL2JvZHlcIlxuaW1wb3J0IHtcbiAgRmxhZ0Jlc3RBbnN3ZXIsXG4gIEZsYWdIaWRkZW4sXG4gIEZsYWdVbmFwcHJvdmVkLFxuICBGbGFnUHJvdGVjdGVkXG59IGZyb20gXCIuL2ZsYWdzXCJcbmltcG9ydCBGb290ZXIgZnJvbSBcIi4vZm9vdGVyXCJcbmltcG9ydCBIZWFkZXIgZnJvbSBcIi4vaGVhZGVyXCJcbmltcG9ydCBQb3N0U2lkZSBmcm9tIFwiLi9wb3N0LXNpZGVcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBsZXQgY2xhc3NOYW1lID0gXCJwb3N0XCJcbiAgaWYgKHByb3BzLnBvc3QuaXNEZWxldGVkKSB7XG4gICAgY2xhc3NOYW1lID0gXCJoaWRlXCJcbiAgfSBlbHNlIGlmIChwcm9wcy5wb3N0LmlzX2hpZGRlbiAmJiAhcHJvcHMucG9zdC5hY2wuY2FuX3NlZV9oaWRkZW4pIHtcbiAgICBjbGFzc05hbWUgPSBcInBvc3QgcG9zdC1oaWRkZW5cIlxuICB9XG5cbiAgaWYgKHByb3BzLnBvc3QucG9zdGVyICYmIHByb3BzLnBvc3QucG9zdGVyLnJhbmsuY3NzX2NsYXNzKSB7XG4gICAgY2xhc3NOYW1lICs9IFwiIHBvc3QtXCIgKyBwcm9wcy5wb3N0LnBvc3Rlci5yYW5rLmNzc19jbGFzc1xuICB9XG5cbiAgaWYgKCFwcm9wcy5wb3N0LmlzX3JlYWQpIHtcbiAgICBjbGFzc05hbWUgKz0gXCIgcG9zdC1uZXdcIlxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8bGkgaWQ9e1wicG9zdC1cIiArIHByb3BzLnBvc3QuaWR9IGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBwYW5lbC1wb3N0XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICA8UG9zdFNpZGUgey4uLnByb3BzfSAvPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgY29sLW1kLTlcIj5cbiAgICAgICAgICAgICAgPEhlYWRlciB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgICAgIDxGbGFnQmVzdEFuc3dlciB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgICAgIDxGbGFnVW5hcHByb3ZlZCB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgICAgIDxGbGFnUHJvdGVjdGVkIHsuLi5wcm9wc30gLz5cbiAgICAgICAgICAgICAgPEZsYWdIaWRkZW4gey4uLnByb3BzfSAvPlxuICAgICAgICAgICAgICA8Qm9keSB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgICAgIDxBdHRhY2htZW50cyB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgICAgIDxGb290ZXIgey4uLnByb3BzfSAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9saT5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQXZhdGFyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9hdmF0YXJcIlxuaW1wb3J0IENvbnRyb2xzIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvY29udHJvbHNcIlxuaW1wb3J0IFNlbGVjdCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L3NlbGVjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgcG9zdCwgdGhyZWFkIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMiBjb2wtbWQtMyBwb3N0LXNpZGUgcG9zdC1zaWRlLWFub255bW91c1wiPlxuICAgICAgPFNlbGVjdCBwb3N0PXtwb3N0fSB0aHJlYWQ9e3RocmVhZH0gLz5cbiAgICAgIDxDb250cm9scyBwb3N0PXtwb3N0fSB0aHJlYWQ9e3RocmVhZH0gLz5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWFcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1sZWZ0XCI+XG4gICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICA8QXZhdGFyIGNsYXNzTmFtZT1cInBvc3Rlci1hdmF0YXJcIiBzaXplPXsxMDB9IC8+XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1ib2R5XCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWVkaWEtaGVhZGluZyBpdGVtLXRpdGxlXCI+e3Bvc3QucG9zdGVyX25hbWV9PC9zcGFuPlxuXG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidXNlci10aXRsZSB1c2VyLXRpdGxlLWFub255bW91c1wiPlxuICAgICAgICAgICAge1wizpTOuc61zrPPgc6xzrzOvM6tzr3Ov8+CIM+Hz4HOrs+Dz4TOt8+CXCJ9XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IHRpdGxlLCByYW5rIH0pIHtcbiAgcmV0dXJuIHJhbmsuaXNfdGFiIHx8ICEhdGl0bGUgfHwgISFyYW5rLnRpdGxlXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBBbm9ueW1vdXMgZnJvbSBcIi4vYW5vbnltb3VzXCJcbmltcG9ydCBSZWdpc3RlcmVkIGZyb20gXCIuL3JlZ2lzdGVyZWRcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBpZiAocHJvcHMucG9zdC5wb3N0ZXIpIHtcbiAgICByZXR1cm4gPFJlZ2lzdGVyZWQgey4uLnByb3BzfSAvPlxuICB9XG5cbiAgcmV0dXJuIDxBbm9ueW1vdXMgey4uLnByb3BzfSAvPlxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQXZhdGFyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9hdmF0YXJcIlxuaW1wb3J0IENvbnRyb2xzIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvY29udHJvbHNcIlxuaW1wb3J0IFNlbGVjdCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L3NlbGVjdFwiXG5pbXBvcnQgVXNlclN0YXR1cywgeyBTdGF0dXNJY29uIH0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3VzZXItc3RhdHVzXCJcbmltcG9ydCBVc2VyUG9zdGNvdW50IGZyb20gXCIuL3VzZXItcG9zdGNvdW50XCJcbmltcG9ydCBVc2VyU3RhdHVzTGFiZWwgZnJvbSBcIi4vdXNlci1zdGF0dXNcIlxuaW1wb3J0IFVzZXJUaXRsZSBmcm9tIFwiLi91c2VyLXRpdGxlXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBwb3N0LCB0aHJlYWQgfSkge1xuICBjb25zdCB7IHBvc3RlciB9ID0gcG9zdFxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgY29sLW1kLTMgcG9zdC1zaWRlIHBvc3Qtc2lkZS1yZWdpc3RlcmVkXCI+XG4gICAgICA8U2VsZWN0IHBvc3Q9e3Bvc3R9IHRocmVhZD17dGhyZWFkfSAvPlxuICAgICAgPENvbnRyb2xzIHBvc3Q9e3Bvc3R9IHRocmVhZD17dGhyZWFkfSAvPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWxlZnRcIj5cbiAgICAgICAgICA8YSBocmVmPXtwb3N0ZXIudXJsfT5cbiAgICAgICAgICAgIDxBdmF0YXIgY2xhc3NOYW1lPVwicG9zdGVyLWF2YXRhclwiIHNpemU9ezEwMH0gdXNlcj17cG9zdGVyfSAvPlxuICAgICAgICAgIDwvYT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEtYm9keVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEtaGVhZGluZ1wiPlxuICAgICAgICAgICAgPGEgY2xhc3NOYW1lPVwiaXRlbS10aXRsZVwiIGhyZWY9e3Bvc3Rlci51cmx9PlxuICAgICAgICAgICAgICB7cG9zdGVyLnVzZXJuYW1lfVxuICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgPFVzZXJTdGF0dXMgc3RhdHVzPXtwb3N0ZXIuc3RhdHVzfT5cbiAgICAgICAgICAgICAgPFN0YXR1c0ljb24gc3RhdHVzPXtwb3N0ZXIuc3RhdHVzfSAvPlxuICAgICAgICAgICAgPC9Vc2VyU3RhdHVzPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPFVzZXJUaXRsZSByYW5rPXtwb3N0ZXIucmFua30gdGl0bGU9e3Bvc3Rlci50aXRsZX0gLz5cblxuICAgICAgICAgIDxVc2VyU3RhdHVzTGFiZWwgcG9zdGVyPXtwb3N0ZXJ9IC8+XG4gICAgICAgICAgPFVzZXJQb3N0Y291bnQgcG9zdGVyPXtwb3N0ZXJ9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IGhhc1Zpc2libGVUaXRsZSBmcm9tIFwiLi9oYXMtdmlzaWJsZS10aXRsZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgcG9zdGVyIH0pIHtcbiAgbGV0IG1lc3NhZ2UgPSBcIiUocG9zdHMpcyDPgM+Bzr/Pg8+Gzr/Pgc6tz4JcIlxuICBpZiAocG9zdGVyLnBvc3RzID09PSAxKSB7XG4gICAgbWVzc2FnZSA9IFwiJShwb3N0cylzIM+Az4HOv8+Dz4bOv8+BzqxcIlxuICB9XG5cbiAgbGV0IGNsYXNzTmFtZSA9IFwidXNlci1wb3N0Y291bnRcIlxuICBpZiAoaGFzVmlzaWJsZVRpdGxlKHBvc3RlcikpIHtcbiAgICBjbGFzc05hbWUgKz0gXCIgaGlkZGVuLXhzIGhpZGRlbi1zbVwiXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxzcGFuIGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgIHtpbnRlcnBvbGF0ZShcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAge1xuICAgICAgICAgIHBvc3RzOiBwb3N0ZXIucG9zdHNcbiAgICAgICAgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKX1cbiAgICA8L3NwYW4+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IFVzZXJTdGF0dXMsIHsgU3RhdHVzTGFiZWwgfSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdXNlci1zdGF0dXNcIlxuaW1wb3J0IGhhc1Zpc2libGVUaXRsZSBmcm9tIFwiLi9oYXMtdmlzaWJsZS10aXRsZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgcG9zdGVyIH0pIHtcbiAgbGV0IGNsYXNzTmFtZSA9IFwiaGlkZGVuLXhzXCJcbiAgaWYgKGhhc1Zpc2libGVUaXRsZShwb3N0ZXIpKSB7XG4gICAgY2xhc3NOYW1lICs9IFwiIGhpZGRlbi1zbVwiXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxzcGFuIGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgIDxVc2VyU3RhdHVzIHN0YXR1cz17cG9zdGVyLnN0YXR1c30+XG4gICAgICAgIDxTdGF0dXNMYWJlbCBzdGF0dXM9e3Bvc3Rlci5zdGF0dXN9IHVzZXI9e3Bvc3Rlcn0gLz5cbiAgICAgIDwvVXNlclN0YXR1cz5cbiAgICA8L3NwYW4+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IHJhbmssIHRpdGxlIH0pIHtcbiAgbGV0IHVzZXJUaXRsZSA9IHRpdGxlIHx8IHJhbmsudGl0bGVcbiAgaWYgKCF1c2VyVGl0bGUgJiYgcmFuay5pc190YWIpIHtcbiAgICB1c2VyVGl0bGUgPSByYW5rLm5hbWVcbiAgfVxuXG4gIGlmICghdXNlclRpdGxlKSByZXR1cm4gbnVsbFxuXG4gIGxldCBjbGFzc05hbWUgPSBcInVzZXItdGl0bGVcIlxuICBpZiAocmFuay5jc3NfY2xhc3MpIHtcbiAgICBjbGFzc05hbWUgKz0gXCIgdXNlci10aXRsZS1cIiArIHJhbmsuY3NzX2NsYXNzXG4gIH1cblxuICBpZiAocmFuay5pc190YWIpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICAgIDxhIGhyZWY9e3JhbmsudXJsfT57dXNlclRpdGxlfTwvYT5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxuXG4gIHJldHVybiA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lfT57dXNlclRpdGxlfTwvZGl2PlxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQXZhdGFyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9hdmF0YXJcIlxuaW1wb3J0ICogYXMgcmFuZG9tIGZyb20gXCJtaXNhZ28vdXRpbHMvcmFuZG9tXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8bGkgY2xhc3NOYW1lPVwicG9zdFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwb3N0LWJvcmRlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3QtYXZhdGFyXCI+XG4gICAgICAgICAgPEF2YXRhciBzaXplPVwiMTAwXCIgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1ib2R5XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbCBwYW5lbC1kZWZhdWx0IHBhbmVsLXBvc3RcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtaGVhZGluZyBwb3N0LWhlYWRpbmdcIj5cbiAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiByYW5kb20uaW50KDMwLCAxMDApICsgXCJweFwiIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHJhbmRvbS5pbnQoMzAsIDEwMCkgKyBcInB4XCIgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keVwiPlxuICAgICAgICAgICAgICA8YXJ0aWNsZSBjbGFzc05hbWU9XCJtaXNhZ28tbWFya3VwXCI+XG4gICAgICAgICAgICAgICAgPHBcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCg1MCwgMTAwKSArIFwiJVwiIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDxwXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHJhbmRvbS5pbnQoNTAsIDEwMCkgKyBcIiVcIiB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICA8cFxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiByYW5kb20uaW50KDUwLCAxMDApICsgXCIlXCIgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgIDwvYXJ0aWNsZT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvbGk+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0ICogYXMgcG9zdHMgZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9wb3N0c1wiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5wcm9wcy5wb3N0LmlzU2VsZWN0ZWQpIHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHBvc3RzLmRlc2VsZWN0KHRoaXMucHJvcHMucG9zdCkpXG4gICAgfSBlbHNlIHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHBvc3RzLnNlbGVjdCh0aGlzLnByb3BzLnBvc3QpKVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoXG4gICAgICAhKHRoaXMucHJvcHMudGhyZWFkLmFjbC5jYW5fbWVyZ2VfcG9zdHMgfHwgaXNWaXNpYmxlKHRoaXMucHJvcHMucG9zdC5hY2wpKVxuICAgICkge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwdWxsLXJpZ2h0IGhpZGRlbi14c1wiPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1pY29uXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICB7dGhpcy5wcm9wcy5wb3N0LmlzU2VsZWN0ZWRcbiAgICAgICAgICAgICAgPyBcImNoZWNrX2JveFwiXG4gICAgICAgICAgICAgIDogXCJjaGVja19ib3hfb3V0bGluZV9ibGFua1wifVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVmlzaWJsZShhY2wpIHtcbiAgcmV0dXJuIChcbiAgICBhY2wuY2FuX2FwcHJvdmUgfHxcbiAgICBhY2wuY2FuX2hpZGUgfHxcbiAgICBhY2wuY2FuX3Byb3RlY3QgfHxcbiAgICBhY2wuY2FuX3VuaGlkZSB8fFxuICAgIGFjbC5jYW5fZGVsZXRlIHx8XG4gICAgYWNsLmNhbl9tb3ZlXG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0ICogYXMgcG9zdCBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3Bvc3RcIlxuaW1wb3J0ICogYXMgdGhyZWFkIGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvdGhyZWFkXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgLypcbiAgU3VwZXIgbmFpdmUgYW5kIGRlLWZhY3RvIHBsYWNlaG9sZGVyIGltcGxlbWVudGF0aW9uIGZvciByZWFkaW5nIHBvc3RzIG9uIHNjcm9sbFxuICAqL1xuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wb3N0LmlzX3JlYWQpIHJldHVybiAvLyBkb24ndCByZWdpc3RlciByZWFkIHRyYWNrZXJcblxuICAgICQodGhpcy5kb2N1bWVudE5vZGUpLndheXBvaW50KHtcbiAgICAgIGhhbmRsZXI6IGRpcmVjdGlvbiA9PiB7XG4gICAgICAgIGlmIChkaXJlY3Rpb24gIT09IFwiZG93blwiIHx8IHRoaXMucHJvcHMucG9zdC5pc19yZWFkKSByZXR1cm5cblxuICAgICAgICAvLyBhZnRlciAxNTAwbXMgcnVuIGZsYWcgcG9zdCBhcyByZWFkIGxvZ2ljXG4gICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAvLyBjaGVjayBpZiBwb3N0J3MgYm90dG9tIGVkZ2UgaXMgc3RpbGwgaW4gdmlld3BvcnRcbiAgICAgICAgICBjb25zdCBib3VuZGluZ0NsaWVudFJlY3QgPSB0aGlzLmRvY3VtZW50Tm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgICAgICAgIGNvbnN0IG9mZnNldEJvdHRvbSA9XG4gICAgICAgICAgICBib3VuZGluZ0NsaWVudFJlY3QuaGVpZ2h0ICsgYm91bmRpbmdDbGllbnRSZWN0LnRvcFxuICAgICAgICAgIGNvbnN0IGNsaWVudEhlaWdodCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHRcblxuICAgICAgICAgIGlmIChvZmZzZXRCb3R0b20gPCA1KSByZXR1cm4gLy8gc2Nyb2xsZWQgcGFzdCB0aGUgcG9zdFxuICAgICAgICAgIGlmIChvZmZzZXRCb3R0b20gPiBjbGllbnRIZWlnaHQpIHJldHVybiAvLyBzY3JvbGxlZCBiYWNrIHVwXG5cbiAgICAgICAgICAvLyBtYXJrIHBvc3QgYXMgcmVhZFxuICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKFxuICAgICAgICAgICAgcG9zdC5wYXRjaCh0aGlzLnByb3BzLnBvc3QsIHtcbiAgICAgICAgICAgICAgaXNfcmVhZDogdHJ1ZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICApXG5cbiAgICAgICAgICAvLyBjYWxsIEFQSSB0byBsZXQgaXQga25vdyB3ZSBoYXZlIHVucmVhZCBwb3N0XG4gICAgICAgICAgYWpheC5wb3N0KHRoaXMucHJvcHMucG9zdC5hcGkucmVhZCkudGhlbihcbiAgICAgICAgICAgIGRhdGEgPT4ge1xuICAgICAgICAgICAgICBzdG9yZS5kaXNwYXRjaChcbiAgICAgICAgICAgICAgICB0aHJlYWQudXBkYXRlKHRoaXMucHJvcHMudGhyZWFkLCB7XG4gICAgICAgICAgICAgICAgICBpc19yZWFkOiBkYXRhLnRocmVhZF9pc19yZWFkXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICAgICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApXG4gICAgICAgIH0sIDEwMDApXG4gICAgICB9LFxuICAgICAgb2Zmc2V0OiBcImJvdHRvbS1pbi12aWV3XCJcbiAgICB9KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT17dGhpcy5wcm9wcy5jbGFzc05hbWV9XG4gICAgICAgIHJlZj17bm9kZSA9PiB7XG4gICAgICAgICAgdGhpcy5kb2N1bWVudE5vZGUgPSBub2RlXG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgbW9tZW50IGZyb20gXCJtb21lbnRcIlxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgUGFuZWxMb2FkZXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3BhbmVsLWxvYWRlclwiXG5pbXBvcnQgUGFuZWxNZXNzYWdlIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9wYW5lbC1tZXNzYWdlXCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgcG9sbHMgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wb2xsc1wiXG5pbXBvcnQgdGl0bGUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wYWdlLXRpdGxlXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgaWYgKG1pc2Fnby5oYXMoXCJQUk9GSUxFX0JBTlwiKSkge1xuICAgICAgdGhpcy5pbml0V2l0aFByZWxvYWRlZERhdGEobWlzYWdvLnBvcChcIlBST0ZJTEVfQkFOXCIpKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmluaXRXaXRob3V0UHJlbG9hZGVkRGF0YSgpXG4gICAgfVxuXG4gICAgdGhpcy5zdGFydFBvbGxpbmcocHJvcHMucHJvZmlsZS5hcGkuYmFuKVxuICB9XG5cbiAgaW5pdFdpdGhQcmVsb2FkZWREYXRhKGJhbikge1xuICAgIGlmIChiYW4uZXhwaXJlc19vbikge1xuICAgICAgYmFuLmV4cGlyZXNfb24gPSBtb21lbnQoYmFuLmV4cGlyZXNfb24pXG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0xvYWRlZDogdHJ1ZSxcbiAgICAgIGJhblxuICAgIH0pXG4gIH1cblxuICBpbml0V2l0aG91dFByZWxvYWRlZERhdGEoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0xvYWRlZDogZmFsc2VcbiAgICB9KVxuICB9XG5cbiAgc3RhcnRQb2xsaW5nKGFwaSkge1xuICAgIHBvbGxzLnN0YXJ0KHtcbiAgICAgIHBvbGw6IFwiYmFuLWRldGFpbHNcIixcbiAgICAgIHVybDogYXBpLFxuICAgICAgZnJlcXVlbmN5OiA5MCAqIDEwMDAsXG4gICAgICB1cGRhdGU6IHRoaXMudXBkYXRlLFxuICAgICAgZXJyb3I6IHRoaXMuZXJyb3JcbiAgICB9KVxuICB9XG5cbiAgdXBkYXRlID0gYmFuID0+IHtcbiAgICBpZiAoYmFuLmV4cGlyZXNfb24pIHtcbiAgICAgIGJhbi5leHBpcmVzX29uID0gbW9tZW50KGJhbi5leHBpcmVzX29uKVxuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgICBlcnJvcjogbnVsbCxcblxuICAgICAgYmFuXG4gICAgfSlcbiAgfVxuXG4gIGVycm9yID0gZXJyb3IgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgICBlcnJvcjogZXJyb3IuZGV0YWlsLFxuICAgICAgYmFuOiBudWxsXG4gICAgfSlcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRpdGxlLnNldCh7XG4gICAgICB0aXRsZTogXCLOoM67zrfPgc6/z4bOv8+Bzq/Otc+CIM+Dz4fOtc+EzrnOus6sIM68zrUgz4TOv869IM6xz4DOv866zrvOtc65z4POvM+MXCIsXG4gICAgICBwYXJlbnQ6IHRoaXMucHJvcHMucHJvZmlsZS51c2VybmFtZVxuICAgIH0pXG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBwb2xscy5zdG9wKFwiYmFuLWRldGFpbHNcIilcbiAgfVxuXG4gIGdldFVzZXJNZXNzYWdlKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmJhbi51c2VyX21lc3NhZ2UpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keSBiYW4tbWVzc2FnZSBiYW4tdXNlci1tZXNzYWdlXCI+XG4gICAgICAgICAgPGg0PntcIs6czq7Ovc+FzrzOsSDPgM6/z4UgzrLOu86tz4DOtc65IM6/IM+Hz4HOrs+Dz4TOt8+CXCJ9PC9oND5cbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJsZWFkXCJcbiAgICAgICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7XG4gICAgICAgICAgICAgIF9faHRtbDogdGhpcy5zdGF0ZS5iYW4udXNlcl9tZXNzYWdlLmh0bWxcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG5cbiAgZ2V0U3RhZmZNZXNzYWdlKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmJhbi5zdGFmZl9tZXNzYWdlKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHkgYmFuLW1lc3NhZ2UgYmFuLXN0YWZmLW1lc3NhZ2VcIj5cbiAgICAgICAgICA8aDQ+e1wizpzOrs69z4XOvM6xIM+Azr/PhSDOss67zq3PgM6/z4XOvSDOv865IM60zrnOsc+HzrXOuc+BzrnPg8+Ezq3PglwifTwvaDQ+XG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwibGVhZFwiXG4gICAgICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17e1xuICAgICAgICAgICAgICBfX2h0bWw6IHRoaXMuc3RhdGUuYmFuLnN0YWZmX21lc3NhZ2UuaHRtbFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICBnZXRFeHBpcmF0aW9uTWVzc2FnZSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5iYW4uZXhwaXJlc19vbikge1xuICAgICAgaWYgKHRoaXMuc3RhdGUuYmFuLmV4cGlyZXNfb24uaXNBZnRlcihtb21lbnQoKSkpIHtcbiAgICAgICAgbGV0IHRpdGxlID0gaW50ZXJwb2xhdGUoXG4gICAgICAgICAgXCLOnyDOsc+Azr/Ous67zrXOuc+DzrzPjM+CIM67zq7Os861zrkgz4PPhM65z4IgJShleHBpcmVzX29uKXNcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBleHBpcmVzX29uOiB0aGlzLnN0YXRlLmJhbi5leHBpcmVzX29uLmZvcm1hdChcIkxMLCBMVFwiKVxuICAgICAgICAgIH0sXG4gICAgICAgICAgdHJ1ZVxuICAgICAgICApXG5cbiAgICAgICAgbGV0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShcbiAgICAgICAgICBcIs6fIM6xz4DOv866zrvOtc65z4POvM+Mz4IgzrvOrs6zzrXOuSAlKGV4cGlyZXNfb24pc1wiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGV4cGlyZXNfb246IHRoaXMuc3RhdGUuYmFuLmV4cGlyZXNfb24uZnJvbU5vdygpXG4gICAgICAgICAgfSxcbiAgICAgICAgICB0cnVlXG4gICAgICAgIClcblxuICAgICAgICByZXR1cm4gPGFiYnIgdGl0bGU9e3RpdGxlfT57bWVzc2FnZX08L2FiYnI+XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gXCLOnyDOsc+Azr/Ous67zrXOuc+DzrzPjM+CIM6tz4fOtc65IM67zq7Ovs61zrlcIlxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICAgIFwizp8gzrHPgM6/zrrOu861zrnPg868z4zPgiDPhM6/z4Ugz4fPgc6uz4PPhM63ICUodXNlcm5hbWUpcyDOtc6vzr3Osc65IM68z4zOvc65zrzOv8+CXCIsXG4gICAgICAgIHtcbiAgICAgICAgICB1c2VybmFtZTogdGhpcy5wcm9wcy5wcm9maWxlLnVzZXJuYW1lXG4gICAgICAgIH0sXG4gICAgICAgIHRydWVcbiAgICAgIClcbiAgICB9XG4gIH1cblxuICBnZXRQYW5lbEJvZHkoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuYmFuKSB7XG4gICAgICBpZiAoT2JqZWN0LmtleXModGhpcy5zdGF0ZS5iYW4pLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICB7dGhpcy5nZXRVc2VyTWVzc2FnZSgpfVxuICAgICAgICAgICAge3RoaXMuZ2V0U3RhZmZNZXNzYWdlKCl9XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keSBiYW4tZXhwaXJlc1wiPlxuICAgICAgICAgICAgICA8aDQ+e1wizqTOrc67zr/PgiDOsc+Azr/Ous67zrXOuc+DzrzOv8+NXCJ9PC9oND5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPnt0aGlzLmdldEV4cGlyYXRpb25NZXNzYWdlKCl9PC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxQYW5lbE1lc3NhZ2VcbiAgICAgICAgICAgICAgbWVzc2FnZT17XCLOnyDPh8+Bzq7Pg8+EzrfPgiDOtM61zr0gzq3Ph861zrkgzrHPgM6/zrrOu861zrnPg8+EzrXOr1wifVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5lcnJvcikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8UGFuZWxNZXNzYWdlIGljb249XCJlcnJvcl9vdXRsaW5lXCIgbWVzc2FnZT17dGhpcy5zdGF0ZS5lcnJvcn0gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPFBhbmVsTG9hZGVyIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcm9maWxlLWJhbi1kZXRhaWxzXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtaGVhZGluZ1wiPlxuICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInBhbmVsLXRpdGxlXCI+e1wizqDOu863z4HOv8+Gzr/Pgc6vzrXPgiDPg8+HzrXPhM65zrrOrCDOvM61IM+Ezr/OvSDOsc+Azr/Ous67zrXOuc+DzrzPjFwifTwvaDM+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7dGhpcy5nZXRQYW5lbEJvZHkoKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGlzQXV0aGVudGljYXRlZCwgcHJvZmlsZSB9KSB7XG4gIGxldCBtZXNzYWdlID0gbnVsbFxuICBpZiAoaXNBdXRoZW50aWNhdGVkKSB7XG4gICAgbWVzc2FnZSA9IFwizpTOtSDOvM6/zrnPgc6szrbOtc+DzrHOuSDPhM6xIM+Dz4TOv865z4fOtc6vzrEgz4POv8+FIM68zrUgzqzOu867zr/Phc+CIM+Hz4HOrs+Dz4TOtc+CXCJcbiAgfSBlbHNlIHtcbiAgICBtZXNzYWdlID0gaW50ZXJwb2xhdGUoXG4gICAgICBcIs6fIM+Hz4HOrs+Dz4TOt8+CICUodXNlcm5hbWUpcyDOtM61IM68zr/Ouc+BzqzOts61z4TOsc65IM+EzrEgz4PPhM6/zrnPh861zq/OsSDPhM6/z4UgzrzOtSDOrM67zrvOv8+Fz4Igz4fPgc6uz4PPhM61z4JcIixcbiAgICAgIHtcbiAgICAgICAgdXNlcm5hbWU6IHByb2ZpbGUudXNlcm5hbWVcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRlZmF1bHRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keSB0ZXh0LWNlbnRlciBsZWFkXCI+e21lc3NhZ2V9PC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGh0bWwsIHRleHQsIHVybCB9KSB7XG4gIGlmIChodG1sKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sLXN0YXRpYyBjb2wtbWQtOVwiXG4gICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogaHRtbCB9fVxuICAgICAgLz5cbiAgICApXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sLXN0YXRpYyBjb2wtbWQtOVwiPlxuICAgICAgPFNhZmVWYWx1ZSB0ZXh0PXt0ZXh0fSB1cmw9e3VybH0gLz5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gU2FmZVZhbHVlKHsgdGV4dCwgdXJsIH0pIHtcbiAgaWYgKHVybCkge1xuICAgIHJldHVybiAoXG4gICAgICA8cD5cbiAgICAgICAgPGEgaHJlZj17dXJsfSB0YXJnZXQ9XCJfYmxhbmtcIiByZWw9XCJub2ZvbGxvd1wiPlxuICAgICAgICAgIHt0ZXh0IHx8IHVybH1cbiAgICAgICAgPC9hPlxuICAgICAgPC9wPlxuICAgIClcbiAgfVxuXG4gIGlmICh0ZXh0KSB7XG4gICAgcmV0dXJuIDxwPnt0ZXh0fTwvcD5cbiAgfVxuXG4gIHJldHVybiBudWxsXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBGaWVsZFZhbHVlIGZyb20gXCIuL2ZpZWxkLXZhbHVlXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIj5cbiAgICAgIDxzdHJvbmcgY2xhc3NOYW1lPVwiY29udHJvbC1sYWJlbCBjb2wtbWQtM1wiPntwcm9wcy5uYW1lfTo8L3N0cm9uZz5cbiAgICAgIDxGaWVsZFZhbHVlIHsuLi5wcm9wc30gLz5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgRm9ybSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZWRpdC1kZXRhaWxzXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBhcGksIGRpc3BsYXksIG9uQ2FuY2VsLCBvblN1Y2Nlc3MgfSkge1xuICBpZiAoIWRpc3BsYXkpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIDxGb3JtIGFwaT17YXBpfSBvbkNhbmNlbD17b25DYW5jZWx9IG9uU3VjY2Vzcz17b25TdWNjZXNzfSAvPlxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgRmllbGQgZnJvbSBcIi4vZmllbGRcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGZpZWxkcywgbmFtZSB9KSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbCBwYW5lbC1kZWZhdWx0IHBhbmVsLXByb2ZpbGUtZGV0YWlscy1ncm91cFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1oZWFkaW5nXCI+XG4gICAgICAgIDxoMyBjbGFzc05hbWU9XCJwYW5lbC10aXRsZVwiPntuYW1lfTwvaDM+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0taG9yaXpvbnRhbFwiPlxuICAgICAgICAgIHtmaWVsZHMubWFwKCh7IGZpZWxkbmFtZSwgaHRtbCwgbmFtZSwgdGV4dCwgdXJsIH0pID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxGaWVsZFxuICAgICAgICAgICAgICAgIGtleT17ZmllbGRuYW1lfVxuICAgICAgICAgICAgICAgIG5hbWU9e25hbWV9XG4gICAgICAgICAgICAgICAgaHRtbD17aHRtbH1cbiAgICAgICAgICAgICAgICB0ZXh0PXt0ZXh0fVxuICAgICAgICAgICAgICAgIHVybD17dXJsfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKVxuICAgICAgICAgIH0pfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBFbXB0eU1lc3NhZ2UgZnJvbSBcIi4vZW1wdHktbWVzc2FnZVwiXG5pbXBvcnQgR3JvdXAgZnJvbSBcIi4vZ3JvdXBcIlxuaW1wb3J0IExvYWRlciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvbG9hZGVyXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oe1xuICBkaXNwbGF5LFxuICBncm91cHMsXG4gIGlzQXV0aGVudGljYXRlZCxcbiAgbG9hZGluZyxcbiAgcHJvZmlsZVxufSkge1xuICBpZiAoIWRpc3BsYXkpIHJldHVybiBudWxsXG5cbiAgaWYgKGxvYWRpbmcpIHtcbiAgICByZXR1cm4gPExvYWRlciAvPlxuICB9XG5cbiAgaWYgKCFncm91cHMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIDxFbXB0eU1lc3NhZ2UgaXNBdXRoZW50aWNhdGVkPXtpc0F1dGhlbnRpY2F0ZWR9IHByb2ZpbGU9e3Byb2ZpbGV9IC8+XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXY+XG4gICAgICB7Z3JvdXBzLm1hcCgoZ3JvdXAsIGkpID0+IHtcbiAgICAgICAgcmV0dXJuIDxHcm91cCBmaWVsZHM9e2dyb3VwLmZpZWxkc30ga2V5PXtpfSBuYW1lPXtncm91cC5uYW1lfSAvPlxuICAgICAgfSl9XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IG9uRWRpdCwgc2hvd0VkaXRCdXR0b24gfSkge1xuICByZXR1cm4gKFxuICAgIDxkaXY+XG4gICAgICA8bmF2IGNsYXNzTmFtZT1cInRvb2xiYXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS04IGNvbC1tZC0xMFwiPlxuICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cIm1kLW1hcmdpbi10b3Atbm9cIj57XCLOo8+Ezr/Ouc+HzrXOr86xXCJ9PC9oMz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8RWRpdEJ1dHRvbiBvbkVkaXQ9e29uRWRpdH0gc2hvd0VkaXRCdXR0b249e3Nob3dFZGl0QnV0dG9ufSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvbmF2PlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBFZGl0QnV0dG9uKHsgb25FZGl0LCBzaG93RWRpdEJ1dHRvbiB9KSB7XG4gIGlmICghc2hvd0VkaXRCdXR0b24pIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS00IGNvbC1tZC0yXCI+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tb3V0bGluZSBidG4tYmxvY2tcIlxuICAgICAgICBvbkNsaWNrPXtvbkVkaXR9XG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICB7XCLOkc67zrvOsc6zzq5cIn1cbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBGb3JtIGZyb20gXCIuL2Zvcm1cIlxuaW1wb3J0IEdyb3Vwc0xpc3QgZnJvbSBcIi4vZ3JvdXBzLWxpc3RcIlxuaW1wb3J0IEhlYWRlciBmcm9tIFwiLi9oZWFkZXJcIlxuaW1wb3J0IFByb2ZpbGVEZXRhaWxzRGF0YSBmcm9tIFwibWlzYWdvL2RhdGEvcHJvZmlsZS1kZXRhaWxzXCJcbmltcG9ydCB7IGxvYWQgYXMgbG9hZERldGFpbHMgfSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3Byb2ZpbGUtZGV0YWlsc1wiXG5pbXBvcnQgdGl0bGUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wYWdlLXRpdGxlXCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGVkaXRpbmc6IGZhbHNlXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGl0bGUuc2V0KHtcbiAgICAgIHRpdGxlOiBcIs6jz4TOv865z4fOtc6vzrFcIixcbiAgICAgIHBhcmVudDogdGhpcy5wcm9wcy5wcm9maWxlLnVzZXJuYW1lXG4gICAgfSlcbiAgfVxuXG4gIG9uQ2FuY2VsID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBlZGl0aW5nOiBmYWxzZSB9KVxuICB9XG5cbiAgb25FZGl0ID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBlZGl0aW5nOiB0cnVlIH0pXG4gIH1cblxuICBvblN1Y2Nlc3MgPSBuZXdEZXRhaWxzID0+IHtcbiAgICBjb25zdCB7IGRpc3BhdGNoLCBpc0F1dGhlbnRpY2F0ZWQsIHByb2ZpbGUgfSA9IHRoaXMucHJvcHNcblxuICAgIGxldCBtZXNzYWdlID0gbnVsbFxuICAgIGlmIChpc0F1dGhlbnRpY2F0ZWQpIHtcbiAgICAgIG1lc3NhZ2UgPSBcIs6kzrEgz4PPhM6/zrnPh861zq/OsSDPg86/z4UgzrHOvc6xzr3Otc+OzrjOt866zrHOvSDOtc+AzrnPhM+Fz4fPjs+CIVwiXG4gICAgfSBlbHNlIHtcbiAgICAgIG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShcbiAgICAgICAgXCLOpM6xIM+Dz4TOv865z4fOtc6vzrEgz4TOv8+FIM+Hz4HOrs+Dz4TOtyAlKHVzZXJuYW1lKXMgzrHOvc6xzr3Otc+OzrjOt866zrHOvSDOtc+AzrnPhM+Fz4fPjs+CIVwiLFxuICAgICAgICB7XG4gICAgICAgICAgdXNlcm5hbWU6IHByb2ZpbGUudXNlcm5hbWVcbiAgICAgICAgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKVxuICAgIH1cblxuICAgIHNuYWNrYmFyLmluZm8obWVzc2FnZSlcbiAgICBkaXNwYXRjaChsb2FkRGV0YWlscyhuZXdEZXRhaWxzKSlcbiAgICB0aGlzLnNldFN0YXRlKHsgZWRpdGluZzogZmFsc2UgfSlcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGRpc3BhdGNoLCBpc0F1dGhlbnRpY2F0ZWQsIHByb2ZpbGUsIHByb2ZpbGVEZXRhaWxzIH0gPSB0aGlzLnByb3BzXG4gICAgY29uc3QgbG9hZGluZyA9IHByb2ZpbGVEZXRhaWxzLmlkICE9PSBwcm9maWxlLmlkXG5cbiAgICByZXR1cm4gKFxuICAgICAgPFByb2ZpbGVEZXRhaWxzRGF0YVxuICAgICAgICBkYXRhPXtwcm9maWxlRGV0YWlsc31cbiAgICAgICAgZGlzcGF0Y2g9e2Rpc3BhdGNofVxuICAgICAgICB1c2VyPXtwcm9maWxlfVxuICAgICAgPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInByb2ZpbGUtZGV0YWlsc1wiPlxuICAgICAgICAgIDxIZWFkZXJcbiAgICAgICAgICAgIG9uRWRpdD17dGhpcy5vbkVkaXR9XG4gICAgICAgICAgICBzaG93RWRpdEJ1dHRvbj17ISFwcm9maWxlRGV0YWlscy5lZGl0ICYmICF0aGlzLnN0YXRlLmVkaXRpbmd9XG4gICAgICAgICAgLz5cbiAgICAgICAgICA8R3JvdXBzTGlzdFxuICAgICAgICAgICAgZGlzcGxheT17IXRoaXMuc3RhdGUuZWRpdGluZ31cbiAgICAgICAgICAgIGdyb3Vwcz17cHJvZmlsZURldGFpbHMuZ3JvdXBzfVxuICAgICAgICAgICAgaXNBdXRoZW50aWNhdGVkPXtpc0F1dGhlbnRpY2F0ZWR9XG4gICAgICAgICAgICBsb2FkaW5nPXtsb2FkaW5nfVxuICAgICAgICAgICAgcHJvZmlsZT17cHJvZmlsZX1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxGb3JtXG4gICAgICAgICAgICBhcGk9e3Byb2ZpbGUuYXBpLmVkaXRfZGV0YWlsc31cbiAgICAgICAgICAgIGRpc3BhdGNoPXtkaXNwYXRjaH1cbiAgICAgICAgICAgIGRpc3BsYXk9e3RoaXMuc3RhdGUuZWRpdGluZ31cbiAgICAgICAgICAgIG9uQ2FuY2VsPXt0aGlzLm9uQ2FuY2VsfVxuICAgICAgICAgICAgb25TdWNjZXNzPXt0aGlzLm9uU3VjY2Vzc31cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvUHJvZmlsZURldGFpbHNEYXRhPlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgUm91dGUgZnJvbSBcIi4vcm91dGVcIlxuXG5leHBvcnQgZnVuY3Rpb24gVGhyZWFkcyhwcm9wcykge1xuICBsZXQgZW1wdHlNZXNzYWdlID0gbnVsbFxuICBpZiAocHJvcHMudXNlci5pZCA9PT0gcHJvcHMucHJvZmlsZS5pZCkge1xuICAgIGVtcHR5TWVzc2FnZSA9IFwizpTOtc69IM6tz4fOtc65z4IgzrTOt868zr/Pg865zrXPjc+DzrXOuSDOus6xzrzOr86xIM6xzrPOs861zrvOr86xXCJcbiAgfSBlbHNlIHtcbiAgICBlbXB0eU1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShcbiAgICAgIFwizp8gz4fPgc6uz4PPhM63z4IgJSh1c2VybmFtZSlzIM60zrXOvSDOrc+HzrXOuSDOtM63zrzOv8+DzrnOtc+Nz4POtc65IM66zrHOvM6vzrEgzrHOs86zzrXOu86vzrFcIixcbiAgICAgIHtcbiAgICAgICAgdXNlcm5hbWU6IHByb3BzLnByb2ZpbGUudXNlcm5hbWVcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuICB9XG5cbiAgbGV0IGhlYWRlciA9IG51bGxcbiAgaWYgKCFwcm9wcy5wb3N0cy5pc0xvYWRlZCkge1xuICAgIGhlYWRlciA9IFwizqbOv8+Bz4TPjs69zrXOuS4uLlwiXG4gIH0gZWxzZSBpZiAocHJvcHMucHJvZmlsZS5pZCA9PT0gcHJvcHMudXNlci5pZCkge1xuICAgIGxldCBtZXNzYWdlID0gXCLOiM+HzrXOuc+CIM60zrfOvM6/z4POuc61z43Pg861zrkgJSh0aHJlYWRzKXMgzrHOs86zzrXOu86vzrXPglwiXG4gICAgaWYgKHByb3BzLnByb2ZpbGUudGhyZWFkcyA9PT0gMSkge1xuICAgICAgbWVzc2FnZSA9IFwizojPh861zrnPgiDOtM63zrzOv8+DzrnOtc+Nz4POtc65ICUodGhyZWFkcylzIM6xzrPOs861zrvOr86xXCJcbiAgICB9XG5cbiAgICBoZWFkZXIgPSBpbnRlcnBvbGF0ZShcbiAgICAgIG1lc3NhZ2UsXG4gICAgICB7XG4gICAgICAgIHRocmVhZHM6IHByb3BzLnByb2ZpbGUudGhyZWFkc1xuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG4gIH0gZWxzZSB7XG4gICAgbGV0IG1lc3NhZ2UgPSBcIs6fIM+Hz4HOrs+Dz4TOt8+CICUodXNlcm5hbWUpcyDOrc+HzrXOuSDOtM63zrzOv8+DzrnOtc+Nz4POtc65ICUodGhyZWFkcylzIM6xzrPOs861zrvOr861z4JcIlxuICAgIGlmIChwcm9wcy5wcm9maWxlLnRocmVhZHMgPT09IDEpIHtcbiAgICAgIG1lc3NhZ2UgPSBcIs6fIM+Hz4HOrs+Dz4TOt8+CICUodXNlcm5hbWUpcyDOrc+HzrXOuSDOtM63zrzOv8+DzrnOtc+Nz4POtc65ICUodGhyZWFkcylzIM6xzrPOs861zrvOr86xXCJcbiAgICB9XG5cbiAgICBoZWFkZXIgPSBpbnRlcnBvbGF0ZShcbiAgICAgIG1lc3NhZ2UsXG4gICAgICB7XG4gICAgICAgIHVzZXJuYW1lOiBwcm9wcy5wcm9maWxlLnVzZXJuYW1lLFxuICAgICAgICB0aHJlYWRzOiBwcm9wcy5wcm9maWxlLnRocmVhZHNcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8Um91dGVcbiAgICAgIGFwaT17cHJvcHMucHJvZmlsZS5hcGkudGhyZWFkc31cbiAgICAgIGVtcHR5TWVzc2FnZT17ZW1wdHlNZXNzYWdlfVxuICAgICAgaGVhZGVyPXtoZWFkZXJ9XG4gICAgICB0aXRsZT17XCLOkc6zzrPOtc67zq/Otc+CXCJ9XG4gICAgICB7Li4ucHJvcHN9XG4gICAgLz5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUG9zdHMocHJvcHMpIHtcbiAgbGV0IGVtcHR5TWVzc2FnZSA9IG51bGxcbiAgaWYgKHByb3BzLnVzZXIuaWQgPT09IHByb3BzLnByb2ZpbGUuaWQpIHtcbiAgICBlbXB0eU1lc3NhZ2UgPSBcIs6UzrXOvSDOrc+HzrXOuc+CIM66zqzOvc61zrkgzrrOsc68zq/OsSDPgM+Bzr/Pg8+Gzr/Pgc6sXCJcbiAgfSBlbHNlIHtcbiAgICBlbXB0eU1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShcbiAgICAgIFwizp8gz4fPgc6uz4PPhM63z4IgJSh1c2VybmFtZSlzIM60zrXOvSDOrc+HzrXOuSDOus6szr3Otc65IM66zrHOvM6vzrEgz4DPgc6/z4PPhs6/z4HOrFwiLFxuICAgICAge1xuICAgICAgICB1c2VybmFtZTogcHJvcHMucHJvZmlsZS51c2VybmFtZVxuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG4gIH1cblxuICBsZXQgaGVhZGVyID0gbnVsbFxuICBpZiAoIXByb3BzLnBvc3RzLmlzTG9hZGVkKSB7XG4gICAgaGVhZGVyID0gXCLOps6/z4HPhM+Ozr3Otc65Li4uXCJcbiAgfSBlbHNlIGlmIChwcm9wcy5wcm9maWxlLmlkID09PSBwcm9wcy51c2VyLmlkKSB7XG4gICAgbGV0IG1lc3NhZ2UgPSBcIs6Iz4fOtc65z4IgzrrOrM69zrXOuSAlKHBvc3RzKXMgz4DPgc6/z4PPhs6/z4HOrc+CXCJcbiAgICBpZiAocHJvcHMucHJvZmlsZS5wb3N0cyA9PT0gMSkge1xuICAgICAgbWVzc2FnZSA9IFwizojPh861zrnPgiDOus6szr3Otc65ICUocG9zdHMpcyDPgM+Bzr/Pg8+Gzr/Pgc6sXCJcbiAgICB9XG5cbiAgICBoZWFkZXIgPSBpbnRlcnBvbGF0ZShcbiAgICAgIG1lc3NhZ2UsXG4gICAgICB7XG4gICAgICAgIHBvc3RzOiBwcm9wcy5wcm9maWxlLnBvc3RzXG4gICAgICB9LFxuICAgICAgdHJ1ZVxuICAgIClcbiAgfSBlbHNlIHtcbiAgICBsZXQgbWVzc2FnZSA9IFwizp8gz4fPgc6uz4PPhM63z4IgJSh1c2VybmFtZSlzIM6tz4fOtc65IM66zqzOvc61zrkgJShwb3N0cylzIM+Az4HOv8+Dz4bOv8+Bzq3PglwiXG4gICAgaWYgKHByb3BzLnByb2ZpbGUucG9zdHMgPT09IDEpIHtcbiAgICAgIG1lc3NhZ2UgPSBcIs6fIM+Hz4HOrs+Dz4TOt8+CICUodXNlcm5hbWUpcyDOrc+HzrXOuSDOus6szr3Otc65ICUocG9zdHMpcyDPgM+Bzr/Pg8+Gzr/Pgc6sXCJcbiAgICB9XG5cbiAgICBoZWFkZXIgPSBpbnRlcnBvbGF0ZShcbiAgICAgIG1lc3NhZ2UsXG4gICAgICB7XG4gICAgICAgIHVzZXJuYW1lOiBwcm9wcy5wcm9maWxlLnVzZXJuYW1lLFxuICAgICAgICBwb3N0czogcHJvcHMucHJvZmlsZS5wb3N0c1xuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxSb3V0ZVxuICAgICAgYXBpPXtwcm9wcy5wcm9maWxlLmFwaS5wb3N0c31cbiAgICAgIGVtcHR5TWVzc2FnZT17ZW1wdHlNZXNzYWdlfVxuICAgICAgaGVhZGVyPXtoZWFkZXJ9XG4gICAgICB0aXRsZT17XCLOoM+Bzr/Pg8+Gzr/Pgc6tz4JcIn1cbiAgICAgIHsuLi5wcm9wc31cbiAgICAvPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBQb3N0RmVlZCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvcG9zdC1mZWVkXCJcbmltcG9ydCBCdXR0b24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2J1dHRvblwiXG5pbXBvcnQgKiBhcyBwb3N0cyBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3Bvc3RzXCJcbmltcG9ydCB0aXRsZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3BhZ2UtdGl0bGVcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2VcbiAgICB9XG4gIH1cblxuICBsb2FkSXRlbXMoc3RhcnQgPSAwKSB7XG4gICAgYWpheFxuICAgICAgLmdldCh0aGlzLnByb3BzLmFwaSwge1xuICAgICAgICBzdGFydDogc3RhcnQgfHwgMFxuICAgICAgfSlcbiAgICAgIC50aGVuKFxuICAgICAgICBkYXRhID0+IHtcbiAgICAgICAgICBpZiAoc3RhcnQgPT09IDApIHtcbiAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKHBvc3RzLmxvYWQoZGF0YSkpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKHBvc3RzLmFwcGVuZChkYXRhKSlcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGlzTG9hZGluZzogZmFsc2VcbiAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgaXNMb2FkaW5nOiBmYWxzZVxuICAgICAgICAgIH0pXG5cbiAgICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgICAgIH1cbiAgICAgIClcbiAgfVxuXG4gIGxvYWRNb3JlID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNMb2FkaW5nOiB0cnVlXG4gICAgfSlcblxuICAgIHRoaXMubG9hZEl0ZW1zKHRoaXMucHJvcHMucG9zdHMubmV4dClcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRpdGxlLnNldCh7XG4gICAgICB0aXRsZTogdGhpcy5wcm9wcy50aXRsZSxcbiAgICAgIHBhcmVudDogdGhpcy5wcm9wcy5wcm9maWxlLnVzZXJuYW1lXG4gICAgfSlcblxuICAgIHRoaXMubG9hZEl0ZW1zKClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcm9maWxlLWZlZWRcIj5cbiAgICAgICAgPG5hdiBjbGFzc05hbWU9XCJ0b29sYmFyXCI+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRvb2xiYXItbGVmdFwiPnt0aGlzLnByb3BzLmhlYWRlcn08L2gzPlxuICAgICAgICA8L25hdj5cbiAgICAgICAgPEZlZWRcbiAgICAgICAgICBpc0xvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgIGxvYWRNb3JlPXt0aGlzLmxvYWRNb3JlfVxuICAgICAgICAgIHsuLi50aGlzLnByb3BzfVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBGZWVkKHByb3BzKSB7XG4gIGlmICghcHJvcHMucG9zdHMucmVzdWx0cy5sZW5ndGgpIHtcbiAgICByZXR1cm4gPHAgY2xhc3NOYW1lPVwibGVhZFwiPntwcm9wcy5lbXB0eU1lc3NhZ2V9PC9wPlxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2PlxuICAgICAgPFBvc3RGZWVkXG4gICAgICAgIGlzUmVhZHk9e3Byb3BzLnBvc3RzLmlzTG9hZGVkfVxuICAgICAgICBwb3N0cz17cHJvcHMucG9zdHMucmVzdWx0c31cbiAgICAgICAgcG9zdGVyPXtwcm9wcy5wcm9maWxlfVxuICAgICAgLz5cbiAgICAgIDxMb2FkTW9yZUJ1dHRvblxuICAgICAgICBpc0xvYWRpbmc9e3Byb3BzLmlzTG9hZGluZ31cbiAgICAgICAgbG9hZE1vcmU9e3Byb3BzLmxvYWRNb3JlfVxuICAgICAgICBuZXh0PXtwcm9wcy5wb3N0cy5uZXh0fVxuICAgICAgLz5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTG9hZE1vcmVCdXR0b24ocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy5uZXh0KSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlci1tb3JlXCI+XG4gICAgICA8QnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tb3V0bGluZVwiXG4gICAgICAgIGxvYWRpbmc9e3Byb3BzLmlzTG9hZGluZ31cbiAgICAgICAgb25DbGljaz17cHJvcHMubG9hZE1vcmV9XG4gICAgICA+XG4gICAgICAgIHtcIs6gz4HOv86yzr/Ou86uIM+AzrHOu86xzrnPjM+EzrXPgc63z4IgzrTPgc6xz4PPhM63z4HOuc+Mz4TOt8+EzrHPglwifVxuICAgICAgPC9CdXR0b24+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uXCJcbmltcG9ydCB7IHBhdGNoIH0gZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9wcm9maWxlXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgfVxuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnByb2ZpbGUuaXNfZm9sbG93ZWQpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmNsYXNzTmFtZSArIFwiIGJ0bi1kZWZhdWx0IGJ0bi1mb2xsb3dpbmdcIlxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5jbGFzc05hbWUgKyBcIiBidG4tZGVmYXVsdCBidG4tZm9sbG93XCJcbiAgICB9XG4gIH1cblxuICBnZXRJY29uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnByb2ZpbGUuaXNfZm9sbG93ZWQpIHtcbiAgICAgIHJldHVybiBcImZhdm9yaXRlXCJcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwiZmF2b3JpdGVfYm9yZGVyXCJcbiAgICB9XG4gIH1cblxuICBnZXRMYWJlbCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wcm9maWxlLmlzX2ZvbGxvd2VkKSB7XG4gICAgICByZXR1cm4gXCLOkc66zr/Ou86/z4XOuM61zq/PglwiXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcIs6RzrrOv867zr/Pjc64zrfPg861XCJcbiAgICB9XG4gIH1cblxuICBhY3Rpb24gPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0xvYWRpbmc6IHRydWVcbiAgICB9KVxuXG4gICAgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5pc19mb2xsb3dlZCkge1xuICAgICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICAgIHBhdGNoKHtcbiAgICAgICAgICBpc19mb2xsb3dlZDogZmFsc2UsXG4gICAgICAgICAgZm9sbG93ZXJzOiB0aGlzLnByb3BzLnByb2ZpbGUuZm9sbG93ZXJzIC0gMVxuICAgICAgICB9KVxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICBzdG9yZS5kaXNwYXRjaChcbiAgICAgICAgcGF0Y2goe1xuICAgICAgICAgIGlzX2ZvbGxvd2VkOiB0cnVlLFxuICAgICAgICAgIGZvbGxvd2VyczogdGhpcy5wcm9wcy5wcm9maWxlLmZvbGxvd2VycyArIDFcbiAgICAgICAgfSlcbiAgICAgIClcbiAgICB9XG5cbiAgICBhamF4LnBvc3QodGhpcy5wcm9wcy5wcm9maWxlLmFwaS5mb2xsb3cpLnRoZW4oXG4gICAgICBkYXRhID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXNMb2FkaW5nOiBmYWxzZVxuICAgICAgICB9KVxuXG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKHBhdGNoKGRhdGEpKVxuICAgICAgfSxcbiAgICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGlzTG9hZGluZzogZmFsc2VcbiAgICAgICAgfSlcbiAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgICAgfVxuICAgIClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPEJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9XG4gICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgb25DbGljaz17dGhpcy5hY3Rpb259XG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj57dGhpcy5nZXRJY29uKCl9PC9zcGFuPlxuICAgICAgICB7dGhpcy5nZXRMYWJlbCgpfVxuICAgICAgPC9CdXR0b24+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBCdXR0b24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2J1dHRvblwiXG5pbXBvcnQgU2VhcmNoIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9xdWljay1zZWFyY2hcIlxuaW1wb3J0IFVzZXJzTGlzdCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdXNlcnMtbGlzdFwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IHsgaHlkcmF0ZSwgYXBwZW5kIH0gZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy91c2Vyc1wiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuaW1wb3J0IHRpdGxlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvcGFnZS10aXRsZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc2V0U3BlY2lhbFByb3BzKClcblxuICAgIGlmIChtaXNhZ28uaGFzKHRoaXMuUFJFTE9BREVEX0RBVEFfS0VZKSkge1xuICAgICAgdGhpcy5pbml0V2l0aFByZWxvYWRlZERhdGEobWlzYWdvLnBvcCh0aGlzLlBSRUxPQURFRF9EQVRBX0tFWSkpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaW5pdFdpdGhvdXRQcmVsb2FkZWREYXRhKClcbiAgICB9XG4gIH1cblxuICBzZXRTcGVjaWFsUHJvcHMoKSB7XG4gICAgdGhpcy5QUkVMT0FERURfREFUQV9LRVkgPSBcIlBST0ZJTEVfRk9MTE9XRVJTXCJcbiAgICB0aGlzLlRJVExFID0gXCLOkc66zr/Ou86/z4XOuM6/z43OvVwiXG4gICAgdGhpcy5BUElfRklMVEVSID0gXCJmb2xsb3dlcnNcIlxuICB9XG5cbiAgaW5pdFdpdGhQcmVsb2FkZWREYXRhKGRhdGEpIHtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgICBpc0J1c3k6IGZhbHNlLFxuXG4gICAgICBzZWFyY2g6IFwiXCIsXG5cbiAgICAgIGNvdW50OiBkYXRhLmNvdW50LFxuICAgICAgbW9yZTogZGF0YS5tb3JlLFxuXG4gICAgICBwYWdlOiBkYXRhLnBhZ2UsXG4gICAgICBwYWdlczogZGF0YS5wYWdlc1xuICAgIH1cblxuICAgIHN0b3JlLmRpc3BhdGNoKGh5ZHJhdGUoZGF0YS5yZXN1bHRzKSlcbiAgfVxuXG4gIGluaXRXaXRob3V0UHJlbG9hZGVkRGF0YSgpIHtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkZWQ6IGZhbHNlLFxuICAgICAgaXNCdXN5OiBmYWxzZSxcblxuICAgICAgc2VhcmNoOiBcIlwiLFxuXG4gICAgICBjb3VudDogMCxcbiAgICAgIG1vcmU6IDAsXG5cbiAgICAgIHBhZ2U6IDEsXG4gICAgICBwYWdlczogMVxuICAgIH1cblxuICAgIHRoaXMubG9hZFVzZXJzKClcbiAgfVxuXG4gIGxvYWRVc2VycyhwYWdlID0gMSwgc2VhcmNoID0gbnVsbCkge1xuICAgIGNvbnN0IGFwaVVybCA9IHRoaXMucHJvcHMucHJvZmlsZS5hcGlbdGhpcy5BUElfRklMVEVSXVxuXG4gICAgYWpheFxuICAgICAgLmdldChcbiAgICAgICAgYXBpVXJsLFxuICAgICAgICB7XG4gICAgICAgICAgc2VhcmNoOiBzZWFyY2gsXG4gICAgICAgICAgcGFnZTogcGFnZSB8fCAxXG4gICAgICAgIH0sXG4gICAgICAgIFwidXNlci1cIiArIHRoaXMuQVBJX0ZJTFRFUlxuICAgICAgKVxuICAgICAgLnRoZW4oXG4gICAgICAgIGRhdGEgPT4ge1xuICAgICAgICAgIGlmIChwYWdlID09PSAxKSB7XG4gICAgICAgICAgICBzdG9yZS5kaXNwYXRjaChoeWRyYXRlKGRhdGEucmVzdWx0cykpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKGFwcGVuZChkYXRhLnJlc3VsdHMpKVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgICAgICAgICBpc0J1c3k6IGZhbHNlLFxuXG4gICAgICAgICAgICBjb3VudDogZGF0YS5jb3VudCxcbiAgICAgICAgICAgIG1vcmU6IGRhdGEubW9yZSxcblxuICAgICAgICAgICAgcGFnZTogZGF0YS5wYWdlLFxuICAgICAgICAgICAgcGFnZXM6IGRhdGEucGFnZXNcbiAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICAgICAgfVxuICAgICAgKVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGl0bGUuc2V0KHtcbiAgICAgIHRpdGxlOiB0aGlzLlRJVExFLFxuICAgICAgcGFyZW50OiB0aGlzLnByb3BzLnByb2ZpbGUudXNlcm5hbWVcbiAgICB9KVxuICB9XG5cbiAgbG9hZE1vcmUgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0J1c3k6IHRydWVcbiAgICB9KVxuXG4gICAgdGhpcy5sb2FkVXNlcnModGhpcy5zdGF0ZS5wYWdlICsgMSwgdGhpcy5zdGF0ZS5zZWFyY2gpXG4gIH1cblxuICBzZWFyY2ggPSBldiA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0xvYWRlZDogZmFsc2UsXG4gICAgICBpc0J1c3k6IHRydWUsXG5cbiAgICAgIHNlYXJjaDogZXYudGFyZ2V0LnZhbHVlLFxuXG4gICAgICBjb3VudDogMCxcbiAgICAgIG1vcmU6IDAsXG5cbiAgICAgIHBhZ2U6IDEsXG4gICAgICBwYWdlczogMVxuICAgIH0pXG5cbiAgICB0aGlzLmxvYWRVc2VycygxLCBldi50YXJnZXQudmFsdWUpXG4gIH1cblxuICBnZXRMYWJlbCgpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUuaXNMb2FkZWQpIHtcbiAgICAgIHJldHVybiBcIs6mzr/Pgc+Ez47Ovc61zrkuLi5cIlxuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5zZWFyY2gpIHtcbiAgICAgIGxldCBtZXNzYWdlID0gXCLOks+Bzq3OuM63zrrOsc69ICUodXNlcnMpcyDPh8+Bzq7Pg8+EzrXPglwiXG4gICAgICBpZiAodGhpcy5zdGF0ZS5jb3VudCA9PT0gMSkge1xuICAgICAgICBtZXNzYWdlID0gXCLOks+Bzq3OuM63zrrOtSAlKHVzZXJzKXMgz4fPgc6uz4PPhM63z4JcIlxuICAgICAgfVxuXG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHtcbiAgICAgICAgICB1c2VyczogdGhpcy5zdGF0ZS5jb3VudFxuICAgICAgICB9LFxuICAgICAgICB0cnVlXG4gICAgICApXG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnByb2ZpbGUuaWQgPT09IHRoaXMucHJvcHMudXNlci5pZCkge1xuICAgICAgbGV0IG1lc3NhZ2UgPSBcIs6jzrUgzrHOus6/zrvOv8+FzrjOv8+Nzr0gJSh1c2VycylzIM+Hz4HOrs+Dz4TOtc+CXCJcbiAgICAgIGlmICh0aGlzLnN0YXRlLmNvdW50ID09PSAxKSB7XG4gICAgICAgIG1lc3NhZ2UgPSBcIs6jzrUgzrHOus6/zrvOv8+FzrjOtc6vICUodXNlcnMpcyDPh8+Bzq7Pg8+EzrfPglwiXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAge1xuICAgICAgICAgIHVzZXJzOiB0aGlzLnN0YXRlLmNvdW50XG4gICAgICAgIH0sXG4gICAgICAgIHRydWVcbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IG1lc3NhZ2UgPSBcIs6kzr8gz4fPgc6uz4PPhM63ICUodXNlcm5hbWUpcyDPhM6/zr0gzrHOus6/zrvOv8+FzrjOv8+Nzr0gJSh1c2VycylzIM+Hz4HOrs+Dz4TOtc+CXCJcbiAgICAgIGlmICh0aGlzLnN0YXRlLmNvdW50ID09PSAxKSB7XG4gICAgICAgIG1lc3NhZ2UgPSBcIs6kzr8gz4fPgc6uz4PPhM63ICUodXNlcm5hbWUpcyDPhM6/zr0gzrHOus6/zrvOv8+FzrjOtc6vICUodXNlcnMpcyDPh8+Bzq7Pg8+EzrfPglwiXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAge1xuICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLnByb3BzLnByb2ZpbGUudXNlcm5hbWUsXG4gICAgICAgICAgdXNlcnM6IHRoaXMuc3RhdGUuY291bnRcbiAgICAgICAgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKVxuICAgIH1cbiAgfVxuXG4gIGdldEVtcHR5TWVzc2FnZSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5zZWFyY2gpIHtcbiAgICAgIHJldHVybiBcIs6XIM6xzr3Osc62zq7PhM63z4POtyDOtM61zr0gzrXPgM6tz4PPhM+BzrXPiM61IM66zrHOvc6tzr3OsSDPh8+Bzq7Pg8+EzrcuLi5cIlxuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy51c2VyLmlkID09PSB0aGlzLnByb3BzLnByb2ZpbGUuaWQpIHtcbiAgICAgIHJldHVybiBcIs6UzrUgz4POtSDOsc66zr/Ou86/z4XOuM61zq8gzrrOsc69zq3Ovc6xz4Igz4fPgc6uz4PPhM63z4JcIlxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICAgIFwizqTOvyDPh8+Bzq7Pg8+EzrcgJSh1c2VybmFtZSlzIM60zrXOvSDPhM6/zr0gzrHOus6/zrvOv8+FzrjOtc6vIM66zrHOvc6tzr3Osc+CIM6szrvOu86/z4Igz4fPgc6uz4PPhM63z4JcIixcbiAgICAgICAge1xuICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLnByb3BzLnByb2ZpbGUudXNlcm5hbWVcbiAgICAgICAgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKVxuICAgIH1cbiAgfVxuXG4gIGdldE1vcmVCdXR0b24oKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLm1vcmUpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlci1tb3JlXCI+XG4gICAgICAgIDxCdXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLW91dGxpbmVcIlxuICAgICAgICAgIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNCdXN5fVxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMubG9hZE1vcmV9XG4gICAgICAgID5cbiAgICAgICAgICB7aW50ZXJwb2xhdGUoXCIoJShtb3JlKXMpIM+AzrXPgc65z4PPg8+Mz4TOtc+Bzr/OuVwiLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBtb3JlOiB0aGlzLnN0YXRlLm1vcmVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0cnVlXG4gICAgICAgICAgKX1cbiAgICAgICAgPC9CdXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cblxuICBnZXRMaXN0Qm9keSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5pc0xvYWRlZCAmJiB0aGlzLnN0YXRlLmNvdW50ID09PSAwKSB7XG4gICAgICByZXR1cm4gPHAgY2xhc3NOYW1lPVwibGVhZFwiPnt0aGlzLmdldEVtcHR5TWVzc2FnZSgpfTwvcD5cbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdj5cbiAgICAgICAgPFVzZXJzTGlzdFxuICAgICAgICAgIGNvbHM9ezN9XG4gICAgICAgICAgaXNSZWFkeT17dGhpcy5zdGF0ZS5pc0xvYWRlZH1cbiAgICAgICAgICB1c2Vycz17dGhpcy5wcm9wcy51c2Vyc31cbiAgICAgICAgLz5cblxuICAgICAgICB7dGhpcy5nZXRNb3JlQnV0dG9uKCl9XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgcmV0dXJuIFwicHJvZmlsZS1cIiArIHRoaXMuQVBJX0ZJTFRFUlxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX0+XG4gICAgICAgIDxuYXYgY2xhc3NOYW1lPVwidG9vbGJhclwiPlxuICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0b29sYmFyLWxlZnRcIj57dGhpcy5nZXRMYWJlbCgpfTwvaDM+XG5cbiAgICAgICAgICA8U2VhcmNoXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ0b29sYmFyLXJpZ2h0XCJcbiAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnNlYXJjaH1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLnNlYXJjaH1cbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtcIs6Rzr3Osc62zq7PhM63z4POtyDPh8+BzrfPg8+Ez47OvS4uLlwifVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvbmF2PlxuXG4gICAgICAgIHt0aGlzLmdldExpc3RCb2R5KCl9XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEZvbGxvd2VycyBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvcHJvZmlsZS9mb2xsb3dlcnNcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvbGxvd2VycyB7XG4gIHNldFNwZWNpYWxQcm9wcygpIHtcbiAgICB0aGlzLlBSRUxPQURFRF9EQVRBX0tFWSA9IFwiUFJPRklMRV9GT0xMT1dTXCJcbiAgICBpZiAodGhpcy5wcm9wcy5wcm9maWxlLmlkID09PSB0aGlzLnByb3BzLnVzZXIuaWQpIHtcbiAgICAgIHRoaXMuVElUTEUgPSBcIs6RzrrOv867zr/Phc64zrXOr8+CXCJcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5USVRMRSA9IFwizpHOus6/zrvOv8+FzrjOtc6vXCJcbiAgICB9XG4gICAgdGhpcy5BUElfRklMVEVSID0gXCJmb2xsb3dzXCJcbiAgfVxuXG4gIGdldExhYmVsKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5pc0xvYWRlZCkge1xuICAgICAgcmV0dXJuIFwizqbOv8+Bz4TPjs69zrXOuS4uLlwiXG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLnNlYXJjaCkge1xuICAgICAgbGV0IG1lc3NhZ2UgPSBcIs6Sz4HOrc64zrfOus6xzr0gJSh1c2VycylzIM+Hz4HOrs+Dz4TOtc+CXCJcbiAgICAgIGlmICh0aGlzLnN0YXRlLmNvdW50ID09PSAxKSB7XG4gICAgICAgIG1lc3NhZ2UgPSBcIs6Sz4HOrc64zrfOus61ICUodXNlcnMpcyDPh8+Bzq7Pg8+EzrfPglwiXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAge1xuICAgICAgICAgIHVzZXJzOiB0aGlzLnN0YXRlLmNvdW50XG4gICAgICAgIH0sXG4gICAgICAgIHRydWVcbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5pZCA9PT0gdGhpcy5wcm9wcy51c2VyLmlkKSB7XG4gICAgICBsZXQgbWVzc2FnZSA9IFwizpHOus6/zrvOv8+FzrjOtc6vz4IgJSh1c2VycylzIM+Hz4HOrs+Dz4TOtc+CXCJcbiAgICAgIGlmICh0aGlzLnN0YXRlLmNvdW50ID09PSAxKSB7XG4gICAgICAgIG1lc3NhZ2UgPSBcIs6RzrrOv867zr/Phc64zrXOr8+CICUodXNlcnMpcyDPh8+Bzq7Pg8+EzrdcIlxuICAgICAgfVxuXG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHtcbiAgICAgICAgICB1c2VyczogdGhpcy5zdGF0ZS5jb3VudFxuICAgICAgICB9LFxuICAgICAgICB0cnVlXG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBtZXNzYWdlID0gXCLOnyDPh8+Bzq7Pg8+EzrfPgiAlKHVzZXJuYW1lKXMgzrHOus6/zrvOv8+FzrjOtc6vICUodXNlcnMpcyDPh8+Bzq7Pg8+EzrXPglwiXG4gICAgICBpZiAodGhpcy5zdGF0ZS5jb3VudCA9PT0gMSkge1xuICAgICAgICBtZXNzYWdlID0gXCLOnyDPh8+Bzq7Pg8+EzrfPgiAlKHVzZXJuYW1lKXMgzrHOus6/zrvOv8+FzrjOtc6vICUodXNlcnMpcyDPh8+Bzq7Pg8+EzrdcIlxuICAgICAgfVxuXG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHtcbiAgICAgICAgICB1c2VybmFtZTogdGhpcy5wcm9wcy5wcm9maWxlLnVzZXJuYW1lLFxuICAgICAgICAgIHVzZXJzOiB0aGlzLnN0YXRlLmNvdW50XG4gICAgICAgIH0sXG4gICAgICAgIHRydWVcbiAgICAgIClcbiAgICB9XG4gIH1cblxuICBnZXRFbXB0eU1lc3NhZ2UoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuc2VhcmNoKSB7XG4gICAgICByZXR1cm4gXCLOlyDOsc69zrHOts6uz4TOt8+DzrcgzrTOtc69IM61z4DOrc+Dz4TPgc61z4jOtSDOus6xzr3Orc69zrEgz4fPgc6uz4PPhM63Li4uXCJcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMudXNlci5pZCA9PT0gdGhpcy5wcm9wcy5wcm9maWxlLmlkKSB7XG4gICAgICByZXR1cm4gXCLOlM61zr0gzrHOus6/zrvOv8+FzrjOtc6vz4IgzrrOsc69zq3Ovc6xIM+Hz4HOrs+Dz4TOt1wiXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShcIs6fIM+Hz4HOrs+Dz4TOt8+CICUodXNlcm5hbWUpcyDOtM61zr0gzrHOus6/zrvOv8+FzrjOtc6vIM66zrHOvc6tzr3OsSDPh8+Bzq7Pg8+EzrdcIixcbiAgICAgICAge1xuICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLnByb3BzLnByb2ZpbGUudXNlcm5hbWVcbiAgICAgICAgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKVxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQXZhdGFyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9hdmF0YXJcIlxuaW1wb3J0IEZvbGxvd0J1dHRvbiBmcm9tIFwiLi9mb2xsb3ctYnV0dG9uXCJcbmltcG9ydCBNZXNzYWdlQnV0dG9uIGZyb20gXCIuL21lc3NhZ2UtYnV0dG9uXCJcbmltcG9ydCBNb2RlcmF0aW9uTmF2IGZyb20gXCIuL21vZGVyYXRpb24vbmF2XCJcbmltcG9ydCB7IENvbXBhY3ROYXYgfSBmcm9tIFwiLi9uYXZzXCJcbmltcG9ydCBTdGF0dXMsIHsgU3RhdHVzSWNvbiwgU3RhdHVzTGFiZWwgfSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdXNlci1zdGF0dXNcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldFVzZXJTdGF0dXMoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9XCJ1c2VyLXN0YXR1cy1kaXNwbGF5XCI+XG4gICAgICAgIDxTdGF0dXMgdXNlcj17dGhpcy5wcm9wcy5wcm9maWxlfSBzdGF0dXM9e3RoaXMucHJvcHMucHJvZmlsZS5zdGF0dXN9PlxuICAgICAgICAgIDxTdGF0dXNJY29uXG4gICAgICAgICAgICB1c2VyPXt0aGlzLnByb3BzLnByb2ZpbGV9XG4gICAgICAgICAgICBzdGF0dXM9e3RoaXMucHJvcHMucHJvZmlsZS5zdGF0dXN9XG4gICAgICAgICAgLz5cbiAgICAgICAgICA8U3RhdHVzTGFiZWxcbiAgICAgICAgICAgIHVzZXI9e3RoaXMucHJvcHMucHJvZmlsZX1cbiAgICAgICAgICAgIHN0YXR1cz17dGhpcy5wcm9wcy5wcm9maWxlLnN0YXR1c31cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInN0YXR1cy1sYWJlbFwiXG4gICAgICAgICAgLz5cbiAgICAgICAgPC9TdGF0dXM+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxuXG4gIGdldFVzZXJSYW5rKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnByb2ZpbGUucmFuay5pc190YWIpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxsaSBjbGFzc05hbWU9XCJ1c2VyLXJhbmtcIj5cbiAgICAgICAgICA8YSBocmVmPXt0aGlzLnByb3BzLnByb2ZpbGUucmFuay51cmx9IGNsYXNzTmFtZT1cIml0ZW0tdGl0bGVcIj5cbiAgICAgICAgICAgIHt0aGlzLnByb3BzLnByb2ZpbGUucmFuay5uYW1lfVxuICAgICAgICAgIDwvYT5cbiAgICAgICAgPC9saT5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGxpIGNsYXNzTmFtZT1cInVzZXItcmFua1wiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIml0ZW0tdGl0bGVcIj57dGhpcy5wcm9wcy5wcm9maWxlLnJhbmsubmFtZX08L3NwYW4+XG4gICAgICAgIDwvbGk+XG4gICAgICApXG4gICAgfVxuICB9XG5cbiAgZ2V0VXNlclRpdGxlKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnByb2ZpbGUudGl0bGUpIHtcbiAgICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPVwidXNlci10aXRsZVwiPnt0aGlzLnByb3BzLnByb2ZpbGUudGl0bGV9PC9saT5cbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5yYW5rLnRpdGxlKSB7XG4gICAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cInVzZXItdGl0bGVcIj57dGhpcy5wcm9wcy5wcm9maWxlLnJhbmsudGl0bGV9PC9saT5cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICBnZXRKb2luZWRPbigpIHtcbiAgICBsZXQgdGl0bGUgPSBpbnRlcnBvbGF0ZShcbiAgICAgIFwizojOs865zr3OtSDOvM6tzrvOv8+CICUoam9pbmVkX29uKXNcIixcbiAgICAgIHtcbiAgICAgICAgam9pbmVkX29uOiB0aGlzLnByb3BzLnByb2ZpbGUuam9pbmVkX29uLmZvcm1hdChcIkxMLCBMVFwiKVxuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG5cbiAgICBsZXQgYWdlID0gaW50ZXJwb2xhdGUoXG4gICAgICBcIs6IzrPOuc69zrUgzrzOrc67zr/PgiAlKGpvaW5lZF9vbilzXCIsXG4gICAgICB7XG4gICAgICAgIGpvaW5lZF9vbjogdGhpcy5wcm9wcy5wcm9maWxlLmpvaW5lZF9vbi5mcm9tTm93KClcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9XCJ1c2VyLWpvaW5lZC1vblwiPlxuICAgICAgICA8YWJiciB0aXRsZT17dGl0bGV9PnthZ2V9PC9hYmJyPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cblxuICBnZXRFbWFpbCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wcm9maWxlLmVtYWlsKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8bGkgY2xhc3NOYW1lPVwidXNlci1lbWFpbFwiPlxuICAgICAgICAgIDxhIGhyZWY9e1wibWFpbHRvOlwiICsgdGhpcy5wcm9wcy5wcm9maWxlLmVtYWlsfSBjbGFzc05hbWU9XCJpdGVtLXRpdGxlXCI+XG4gICAgICAgICAgICB7dGhpcy5wcm9wcy5wcm9maWxlLmVtYWlsfVxuICAgICAgICAgIDwvYT5cbiAgICAgICAgPC9saT5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICBnZXRGb2xsb3dCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5hY2wuY2FuX2ZvbGxvdykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPEZvbGxvd0J1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tYmxvY2sgYnRuLW91dGxpbmVcIlxuICAgICAgICAgIHByb2ZpbGU9e3RoaXMucHJvcHMucHJvZmlsZX1cbiAgICAgICAgLz5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICBnZXRNb2RlcmF0aW9uQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnByb2ZpbGUuYWNsLmNhbl9tb2RlcmF0ZSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidG4tZ3JvdXAgYnRuLWdyb3VwLWp1c3RpZmllZFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnRuLWdyb3VwXCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tbW9kZXJhdGUgYnRuLW91dGxpbmUgZHJvcGRvd24tdG9nZ2xlXCJcbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgIGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIlxuICAgICAgICAgICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXG4gICAgICAgICAgICAgIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj50b25hbGl0eTwvc3Bhbj5cbiAgICAgICAgICAgICAge1wizpTOuc6xz4fOtc6vz4HOuc+DzrdcIn1cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPE1vZGVyYXRpb25OYXYgcHJvZmlsZT17dGhpcy5wcm9wcy5wcm9maWxlfSAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgY2FuRm9sbG93ID0gdGhpcy5wcm9wcy5wcm9maWxlLmFjbC5jYW5fZm9sbG93XG4gICAgY29uc3QgY2FuTW9kZXJhdGUgPSB0aGlzLnByb3BzLnByb2ZpbGUuYWNsLmNhbl9tb2RlcmF0ZVxuXG4gICAgY29uc3QgaXNQcm9maWxlT3duZXIgPSB0aGlzLnByb3BzLnVzZXIuaWQgPT09IHRoaXMucHJvcHMucHJvZmlsZS5pZFxuICAgIGNvbnN0IGNhbk1lc3NhZ2UgPVxuICAgICAgIWlzUHJvZmlsZU93bmVyICYmIHRoaXMucHJvcHMudXNlci5hY2wuY2FuX3N0YXJ0X3ByaXZhdGVfdGhyZWFkc1xuXG4gICAgbGV0IGNvbHMgPSAwXG4gICAgaWYgKGNhbkZvbGxvdykgY29scyArPSAxXG4gICAgaWYgKGNhbk1vZGVyYXRlKSBjb2xzICs9IDFcbiAgICBpZiAoY2FuTWVzc2FnZSkgY29scyArPSAxXG5cbiAgICBjb25zdCBjb2xzV2lkdGggPSBjb2xzID8gMiAqIGNvbHMgKyAxIDogMFxuXG4gICAgbGV0IGhlYWRlckNsYXNzTmFtZSA9IFwicGFnZS1oZWFkZXJcIlxuICAgIGlmICh0aGlzLnByb3BzLnByb2ZpbGUucmFuay5jc3NfY2xhc3MpIHtcbiAgICAgIGhlYWRlckNsYXNzTmFtZSArPVxuICAgICAgICBcIiBwYWdlLWhlYWRlci1yYW5rLVwiICsgdGhpcy5wcm9wcy5wcm9maWxlLnJhbmsuY3NzX2NsYXNzXG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS1oZWFkZXItYmdcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e2hlYWRlckNsYXNzTmFtZX0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICAgIDxJc0Rpc2FibGVkTWVzc2FnZVxuICAgICAgICAgICAgICBpc0FjdGl2ZT17dGhpcy5wcm9wcy5wcm9maWxlLmlzX2FjdGl2ZX1cbiAgICAgICAgICAgICAgaXNEZWxldGluZ0FjY291bnQ9e3RoaXMucHJvcHMucHJvZmlsZS5pc19kZWxldGluZ19hY2NvdW50fVxuICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtOSBjb2wtbWQtb2Zmc2V0LTNcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e1wiY29sLXNtLVwiICsgKDEyIC0gY29sc1dpZHRoKX0+XG4gICAgICAgICAgICAgICAgICAgIDxBdmF0YXJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1c2VyLWF2YXRhciB1c2VyLWF2YXRhci1zbVwiXG4gICAgICAgICAgICAgICAgICAgICAgdXNlcj17dGhpcy5wcm9wcy5wcm9maWxlfVxuICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCIxMDBcIlxuICAgICAgICAgICAgICAgICAgICAgIHNpemUyeD1cIjIwMFwiXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDxoMT57dGhpcy5wcm9wcy5wcm9maWxlLnVzZXJuYW1lfTwvaDE+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIHshIWNvbHMgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17XCJjb2wtc20tXCIgKyBjb2xzV2lkdGh9PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IHhzLW1hcmdpbi10b3Agc20tbWFyZ2luLXRvcFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgeyEhY2FuTWVzc2FnZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtnZXRDb2xTdHlsZShjb2xzLCAwKX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPE1lc3NhZ2VCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLW91dGxpbmVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZmlsZT17dGhpcy5wcm9wcy5wcm9maWxlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcj17dGhpcy5wcm9wcy51c2VyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHshIWNhbkZvbGxvdyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtnZXRDb2xTdHlsZShjb2xzLCAxKX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuZ2V0Rm9sbG93QnV0dG9uKCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHshIWNhbk1vZGVyYXRlICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2dldENvbFN0eWxlKGNvbHMsIDIpfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5nZXRNb2RlcmF0aW9uQnV0dG9uKCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGVhZGVyLXN0YXRzXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTkgY29sLW1kLW9mZnNldC0zXCI+XG4gICAgICAgICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC1pbmxpbmVcIj5cbiAgICAgICAgICAgICAgICAgICAge3RoaXMuZ2V0VXNlclN0YXR1cygpfVxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5nZXRVc2VyUmFuaygpfVxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5nZXRVc2VyVGl0bGUoKX1cbiAgICAgICAgICAgICAgICAgICAge3RoaXMuZ2V0Sm9pbmVkT24oKX1cbiAgICAgICAgICAgICAgICAgICAge3RoaXMuZ2V0RW1haWwoKX1cbiAgICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8Q29tcGFjdE5hdlxuICAgICAgICAgICAgYmFzZVVybD17dGhpcy5wcm9wcy5iYXNlVXJsfVxuICAgICAgICAgICAgcGFnZXM9e3RoaXMucHJvcHMucGFnZXN9XG4gICAgICAgICAgICBwcm9maWxlPXt0aGlzLnByb3BzLnByb2ZpbGV9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIElzRGlzYWJsZWRNZXNzYWdlKHsgaXNBY3RpdmUsIGlzRGVsZXRpbmdBY2NvdW50IH0pIHtcbiAgaWYgKGlzQWN0aXZlICE9PSBmYWxzZSAmJiBpc0RlbGV0aW5nQWNjb3VudCAhPT0gdHJ1ZSkgcmV0dXJuIG51bGxcblxuICBsZXQgbWVzc2FnZSA9IG51bGxcbiAgaWYgKGlzRGVsZXRpbmdBY2NvdW50KSB7XG4gICAgbWVzc2FnZSA9IFwizpHPhc+Ez4zPgiDOvyDPh8+Bzq7Pg8+EzrfPgiDOrc+HzrXOuSDOtM65zrHOs8+BzqzPiM61zrkgz4TOvyDOu86/zrPOsc+BzrnOsc+DzrzPjCDPhM6/z4VcIlxuICB9IGVsc2Uge1xuICAgIG1lc3NhZ2UgPSBcIs6fIM67zr/Os86xz4HOuc6xz4POvM+Mz4IgzrHPhc+Ezr/PjSDPhM6/z4Ugz4fPgc6uz4PPhM63IM6tz4fOtc65IM6xz4DOtc69zrXPgc6zzr/PgM6/zrnOt864zrXOryDOsc+Az4wgz4TOvyDOtM65zrHPh861zrnPgc65z4PPhM6uIM+EzrfPgiDPg861zrvOr860zrHPglwiXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiYWxlcnQgYWxlcnQtZGFuZ2VyXCI+XG4gICAgICA8cD57bWVzc2FnZX08L3A+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENvbFN0eWxlKGNvbHMsIGNvbCkge1xuICBsZXQgY29sU3R5bGUgPSBcIlwiXG5cbiAgaWYgKGNvbHMgPT09IDEpIHtcbiAgICBjb2xTdHlsZSA9IFwiY29sLXhzLTEyXCJcbiAgfVxuXG4gIGlmIChjb2xzID09PSAyKSB7XG4gICAgY29sU3R5bGUgPSBcImNvbC14cy02IGNvbC1zbS02XCJcbiAgfVxuXG4gIGlmIChjb2xzID09PSAzKSB7XG4gICAgaWYgKGNvbCA9PT0gMikge1xuICAgICAgY29sU3R5bGUgPSBcImNvbC14cy0xMiBjb2wtc20tNCB4cy1tYXJnaW4tdG9wXCJcbiAgICB9IGVsc2Uge1xuICAgICAgY29sU3R5bGUgKz0gXCJjb2wteHMtNiBjb2wtc20tNFwiXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNvbFN0eWxlXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBwb3N0aW5nIGZyb20gXCJtaXNhZ28vc2VydmljZXMvcG9zdGluZ1wiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ29cIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgcG9zdGluZy5vcGVuKHtcbiAgICAgIG1vZGU6IFwiU1RBUlRfUFJJVkFURVwiLFxuICAgICAgc3VibWl0OiBtaXNhZ28uZ2V0KFwiUFJJVkFURV9USFJFQURTX0FQSVwiKSxcblxuICAgICAgdG86IFt0aGlzLnByb3BzLnByb2ZpbGVdXG4gICAgfSlcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBjYW5NZXNzYWdlID0gdGhpcy5wcm9wcy51c2VyLmFjbC5jYW5fc3RhcnRfcHJpdmF0ZV90aHJlYWRzXG4gICAgY29uc3QgaXNQcm9maWxlT3duZXIgPSB0aGlzLnByb3BzLnVzZXIuaWQgPT09IHRoaXMucHJvcHMucHJvZmlsZS5pZFxuXG4gICAgaWYgKCFjYW5NZXNzYWdlIHx8IGlzUHJvZmlsZU93bmVyKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxidXR0b25cbiAgICAgICAgY2xhc3NOYW1lPXt0aGlzLnByb3BzLmNsYXNzTmFtZX1cbiAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNvbW1lbnQ8L3NwYW4+XG4gICAgICAgIHtcIs6czq7Ovc+FzrzOsVwifVxuICAgICAgPC9idXR0b24+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBCdXR0b24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2J1dHRvblwiXG5pbXBvcnQgRm9ybSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybVwiXG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwXCJcbmltcG9ydCBMb2FkZXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL21vZGFsLWxvYWRlclwiXG5pbXBvcnQgWWVzTm9Td2l0Y2ggZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3llcy1uby1zd2l0Y2hcIlxuaW1wb3J0IE1vZGFsTWVzc2FnZSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvbW9kYWwtbWVzc2FnZVwiXG5pbXBvcnQgeyB1cGRhdGVBdmF0YXIgfSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3VzZXJzXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkZWQ6IGZhbHNlLFxuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgIGVycm9yOiBudWxsLFxuXG4gICAgICBpc19hdmF0YXJfbG9ja2VkOiBcIlwiLFxuICAgICAgYXZhdGFyX2xvY2tfdXNlcl9tZXNzYWdlOiBcIlwiLFxuICAgICAgYXZhdGFyX2xvY2tfc3RhZmZfbWVzc2FnZTogXCJcIlxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGFqYXguZ2V0KHRoaXMucHJvcHMucHJvZmlsZS5hcGkubW9kZXJhdGVfYXZhdGFyKS50aGVuKFxuICAgICAgb3B0aW9ucyA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGlzTG9hZGVkOiB0cnVlLFxuXG4gICAgICAgICAgaXNfYXZhdGFyX2xvY2tlZDogb3B0aW9ucy5pc19hdmF0YXJfbG9ja2VkLFxuICAgICAgICAgIGF2YXRhcl9sb2NrX3VzZXJfbWVzc2FnZTogb3B0aW9ucy5hdmF0YXJfbG9ja191c2VyX21lc3NhZ2UgfHwgXCJcIixcbiAgICAgICAgICBhdmF0YXJfbG9ja19zdGFmZl9tZXNzYWdlOiBvcHRpb25zLmF2YXRhcl9sb2NrX3N0YWZmX21lc3NhZ2UgfHwgXCJcIlxuICAgICAgICB9KVxuICAgICAgfSxcbiAgICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGlzTG9hZGVkOiB0cnVlLFxuICAgICAgICAgIGVycm9yOiByZWplY3Rpb24uZGV0YWlsXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgKVxuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKHRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5lcnJvcih0aGlzLnZhbGlkYXRlKCkudXNlcm5hbWVbMF0pXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy5wcm9maWxlLmFwaS5tb2RlcmF0ZV9hdmF0YXIsIHtcbiAgICAgIGlzX2F2YXRhcl9sb2NrZWQ6IHRoaXMuc3RhdGUuaXNfYXZhdGFyX2xvY2tlZCxcbiAgICAgIGF2YXRhcl9sb2NrX3VzZXJfbWVzc2FnZTogdGhpcy5zdGF0ZS5hdmF0YXJfbG9ja191c2VyX21lc3NhZ2UsXG4gICAgICBhdmF0YXJfbG9ja19zdGFmZl9tZXNzYWdlOiB0aGlzLnN0YXRlLmF2YXRhcl9sb2NrX3N0YWZmX21lc3NhZ2VcbiAgICB9KVxuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhhcGlSZXNwb25zZSkge1xuICAgIHN0b3JlLmRpc3BhdGNoKHVwZGF0ZUF2YXRhcih0aGlzLnByb3BzLnByb2ZpbGUsIGFwaVJlc3BvbnNlLmF2YXRhcl9oYXNoKSlcbiAgICBzbmFja2Jhci5zdWNjZXNzKFwizp/OuSDOtc+AzrnOu86/zrPOrc+CIM61zrnOus+Mzr3Osc+CIM6szrvOu86xzr7Osc69IM61z4DOuc+Ez4XPh8+Oz4IhXCIpXG4gIH1cblxuICBnZXRGb3JtQm9keSgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG4gICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgbGFiZWw9e1wizprOu861zq/OtM+JzrzOsSDOtc65zrrPjM69zrHPglwifVxuICAgICAgICAgICAgaGVscFRleHQ9e1xuICAgICAgICAgICAgICBcIs6kzr8gzrrOu861zq/OtM+JzrzOsSDOsc+AzrHOs86/z4HOtc+NzrXOuSDOsc67zrvOsc6zzq4gzrHPgM+MIM+Ezr8gz4fPgc6uz4PPhM63IM66zrHOuSDOtc+AzrnOss6szrvOtc65IM+Ezrcgz4fPgc6uz4POtyDPgM+Bzr/Ous6xzrjOv8+BzrnPg868zq3Ovc63z4IgzrXOuc66z4zOvc6xz4JcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yPVwiaWRfaXNfYXZhdGFyX2xvY2tlZFwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPFllc05vU3dpdGNoXG4gICAgICAgICAgICAgIGlkPVwiaWRfaXNfYXZhdGFyX2xvY2tlZFwiXG4gICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgaWNvbk9uPVwibG9ja19vdXRsaW5lXCJcbiAgICAgICAgICAgICAgaWNvbk9mZj1cImxvY2tfb3BlblwiXG4gICAgICAgICAgICAgIGxhYmVsT249e1wizpHPgM6xzrPPjM+BzrXPhc+DzrcgzrHOu867zrHOs86uz4IgzrXOuc66z4zOvc6xz4IgzrHPgM+MIM+Ezr8gz4fPgc6uz4PPhM63XCJ9XG4gICAgICAgICAgICAgIGxhYmVsT2ZmPXtcIs6Vz4DOuc+Ez4HOrc+AzrXPhM6xzrkgzrcgzrHOu867zrHOs86uIM61zrnOus+Mzr3Osc+CIM6xz4DPjCDPhM6/IM+Hz4HOrs+Dz4TOt1wifVxuICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoXCJpc19hdmF0YXJfbG9ja2VkXCIpfVxuICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5pc19hdmF0YXJfbG9ja2VkfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L0Zvcm1Hcm91cD5cblxuICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgIGxhYmVsPXtcIs6czq7Ovc+FzrzOsSDPh8+Bzq7Pg8+EzrdcIn1cbiAgICAgICAgICAgIGhlbHBUZXh0PXtcbiAgICAgICAgICAgICAgXCLOoM+Bzr/Osc65z4HOtc+EzrnOus+MIM68zq7Ovc+FzrzOsSDPgM6/z4UgzrXOvs63zrPOtc6vIM+Dz4TOvyDPh8+Bzq7Pg8+Ezrcgz4TOt869IM6xz4DOsc6zz4zPgc61z4XPg863IM6xzrvOu86xzrPOrs+CIM61zrnOus+Mzr3Osc+CXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvcj1cImlkX2F2YXRhcl9sb2NrX3VzZXJfbWVzc2FnZVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgICAgIGlkPVwiaWRfYXZhdGFyX2xvY2tfdXNlcl9tZXNzYWdlXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgcm93cz1cIjRcIlxuICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcImF2YXRhcl9sb2NrX3VzZXJfbWVzc2FnZVwiKX1cbiAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuYXZhdGFyX2xvY2tfdXNlcl9tZXNzYWdlfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L0Zvcm1Hcm91cD5cblxuICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgIGxhYmVsPXtcIs6czq7Ovc+FzrzOsSDOtM65zrHPh861zrnPgc65z4PPhM+Ozr1cIn1cbiAgICAgICAgICAgIGhlbHBUZXh0PXtcbiAgICAgICAgICAgICAgXCLOoM+Bzr/Otc+BzrHOuc+EzrnOus+MIM68zq7Ovc+FzrzOsSDPgM6/z4UgzrXOvs63zrPOtc6vIM+Dz4TOv8+Fz4IgzrTOuc6xz4fOtc65z4HOuc+Dz4TOrc+CIM+EzrfOvSDOsc+AzrHOs8+Mz4HOtc+Fz4POtyDOsc67zrvOsc6zzq7PgiDOtc65zrrPjM69zrHPglwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3I9XCJpZF9hdmF0YXJfbG9ja19zdGFmZl9tZXNzYWdlXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICAgICAgaWQ9XCJpZF9hdmF0YXJfbG9ja19zdGFmZl9tZXNzYWdlXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgcm93cz1cIjRcIlxuICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcImF2YXRhcl9sb2NrX3N0YWZmX21lc3NhZ2VcIil9XG4gICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmF2YXRhcl9sb2NrX3N0YWZmX21lc3NhZ2V9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiXG4gICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAge1wizprOu861zq/Pg865zrzOv1wifVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwiYnRuLXByaW1hcnlcIiBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ30+XG4gICAgICAgICAgICB7XCLOkc+Azr/OuM6uzrrOtc+Fz4POtyDOsc67zrvOsc6zz47OvVwifVxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZm9ybT5cbiAgICApXG4gIH1cblxuICBnZXRNb2RhbEJvZHkoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuZXJyb3IpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxNb2RhbE1lc3NhZ2UgaWNvbj1cInJlbW92ZV9jaXJjbGVfb3V0bGluZVwiIG1lc3NhZ2U9e3RoaXMuc3RhdGUuZXJyb3J9IC8+XG4gICAgICApXG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmlzTG9hZGVkKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRGb3JtQm9keSgpXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiA8TG9hZGVyIC8+XG4gICAgfVxuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmVycm9yKSB7XG4gICAgICByZXR1cm4gXCJtb2RhbC1kaWFsb2cgbW9kYWwtbWVzc2FnZSBtb2RhbC1hdmF0YXItY29udHJvbHNcIlxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCJtb2RhbC1kaWFsb2cgbW9kYWwtYXZhdGFyLWNvbnRyb2xzXCJcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfSByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNsb3NlXCJcbiAgICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtcIs6azrvOtc6vz4POuc68zr9cIn1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e1wizpXPgM65zrvOv86zzq3PgiDOtc65zrrPjM69zrHPglwifTwvaDQ+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAge3RoaXMuZ2V0TW9kYWxCb2R5KCl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBCdXR0b24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2J1dHRvblwiXG5pbXBvcnQgRm9ybSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybVwiXG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwXCJcbmltcG9ydCBMb2FkZXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL21vZGFsLWxvYWRlclwiXG5pbXBvcnQgTW9kYWxNZXNzYWdlIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9tb2RhbC1tZXNzYWdlXCJcbmltcG9ydCB7IGFkZE5hbWVDaGFuZ2UgfSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3VzZXJuYW1lLWhpc3RvcnlcIlxuaW1wb3J0IHsgdXBkYXRlVXNlcm5hbWUgfSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3VzZXJzXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5pbXBvcnQgKiBhcyB2YWxpZGF0b3JzIGZyb20gXCJtaXNhZ28vdXRpbHMvdmFsaWRhdG9yc1wiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkZWQ6IGZhbHNlLFxuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgIGVycm9yOiBudWxsLFxuXG4gICAgICB1c2VybmFtZTogXCJcIixcbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgdXNlcm5hbWU6IFt2YWxpZGF0b3JzLnVzZXJuYW1lQ29udGVudCgpXVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGFqYXguZ2V0KHRoaXMucHJvcHMucHJvZmlsZS5hcGkubW9kZXJhdGVfdXNlcm5hbWUpLnRoZW4oXG4gICAgICAoKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGlzTG9hZGVkOiB0cnVlXG4gICAgICAgIH0pXG4gICAgICB9LFxuICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgICAgICAgZXJyb3I6IHJlamVjdGlvbi5kZXRhaWxcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICApXG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBpZiAodGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKHRoaXMudmFsaWRhdGUoKS51c2VybmFtZVswXSlcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdCh0aGlzLnByb3BzLnByb2ZpbGUuYXBpLm1vZGVyYXRlX3VzZXJuYW1lLCB7XG4gICAgICB1c2VybmFtZTogdGhpcy5zdGF0ZS51c2VybmFtZVxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKGFwaVJlc3BvbnNlKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICB1c2VybmFtZTogXCJcIlxuICAgIH0pXG5cbiAgICBzdG9yZS5kaXNwYXRjaChcbiAgICAgIGFkZE5hbWVDaGFuZ2UoYXBpUmVzcG9uc2UsIHRoaXMucHJvcHMucHJvZmlsZSwgdGhpcy5wcm9wcy51c2VyKVxuICAgIClcbiAgICBzdG9yZS5kaXNwYXRjaChcbiAgICAgIHVwZGF0ZVVzZXJuYW1lKHRoaXMucHJvcHMucHJvZmlsZSwgYXBpUmVzcG9uc2UudXNlcm5hbWUsIGFwaVJlc3BvbnNlLnNsdWcpXG4gICAgKVxuXG4gICAgc25hY2tiYXIuc3VjY2VzcyhcIs6kzr8gz4zOvc6/zrzOsSDPh8+Bzq7Pg8+EzrcgzqzOu867zrHOvs61IM61z4DOuc+Ez4XPh8+Oz4IhXCIpXG4gIH1cblxuICBnZXRGb3JtQm9keSgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG4gICAgICAgICAgPEZvcm1Hcm91cCBsYWJlbD17XCLOnc6tzr8gz4zOvc6/zrzOsSDPh8+Bzq7Pg8+EzrdcIn0gZm9yPVwiaWRfdXNlcm5hbWVcIj5cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgIGlkPVwiaWRfdXNlcm5hbWVcIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcInVzZXJuYW1lXCIpfVxuICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS51c2VybmFtZX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiXG4gICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICB7XCLOkc66z43Pgc+Jz4POt1wifVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwiYnRuLXByaW1hcnlcIiBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ30+XG4gICAgICAgICAgICB7XCLOkc67zrvOsc6zzq5cIn1cbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Zvcm0+XG4gICAgKVxuICB9XG5cbiAgZ2V0TW9kYWxCb2R5KCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmVycm9yKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8TW9kYWxNZXNzYWdlIGljb249XCJyZW1vdmVfY2lyY2xlX291dGxpbmVcIiBtZXNzYWdlPXt0aGlzLnN0YXRlLmVycm9yfSAvPlxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5pc0xvYWRlZCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0Rm9ybUJvZHkoKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gPExvYWRlciAvPlxuICAgIH1cbiAgfVxuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5lcnJvcikge1xuICAgICAgcmV0dXJuIFwibW9kYWwtZGlhbG9nIG1vZGFsLW1lc3NhZ2UgbW9kYWwtcmVuYW1lLXVzZXJcIlxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCJtb2RhbC1kaWFsb2cgbW9kYWwtcmVuYW1lLXVzZXJcIlxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9IHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2xvc2VcIlxuICAgICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICAgIGFyaWEtbGFiZWw9e1wizprOu861zq/Pg865zrzOv1wifVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57XCLOkc67zrvOsc6zzq4gzr/Ovc+MzrzOsc+Ezr/PgiDPh8+Bzq7Pg8+EzrdcIn08L2g0PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHt0aGlzLmdldE1vZGFsQm9keSgpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQnV0dG9uIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9idXR0b25cIlxuaW1wb3J0IEZvcm0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm1cIlxuaW1wb3J0IEZvcm1Hcm91cCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cFwiXG5pbXBvcnQgTG9hZGVyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9tb2RhbC1sb2FkZXJcIlxuaW1wb3J0IE1vZGFsTWVzc2FnZSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvbW9kYWwtbWVzc2FnZVwiXG5pbXBvcnQgWWVzTm9Td2l0Y2ggZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3llcy1uby1zd2l0Y2hcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgcG9sbHMgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wb2xsc1wiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkZWQ6IGZhbHNlLFxuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgIGlzRGVsZXRlZDogZmFsc2UsXG4gICAgICBlcnJvcjogbnVsbCxcblxuICAgICAgY291bnRkb3duOiA1LFxuICAgICAgY29uZmlybTogZmFsc2UsXG5cbiAgICAgIHdpdGhfY29udGVudDogZmFsc2VcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBhamF4LmdldCh0aGlzLnByb3BzLnByb2ZpbGUuYXBpLmRlbGV0ZSkudGhlbihcbiAgICAgICgpID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXNMb2FkZWQ6IHRydWVcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLmNvdW50ZG93bigpXG4gICAgICB9LFxuICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgICAgICAgZXJyb3I6IHJlamVjdGlvbi5kZXRhaWxcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICApXG4gIH1cblxuICBjb3VudGRvd24gPSAoKSA9PiB7XG4gICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuc3RhdGUuY291bnRkb3duID4gMSkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBjb3VudGRvd246IHRoaXMuc3RhdGUuY291bnRkb3duIC0gMVxuICAgICAgICB9KVxuICAgICAgICB0aGlzLmNvdW50ZG93bigpXG4gICAgICB9IGVsc2UgaWYgKCF0aGlzLnN0YXRlLmNvbmZpcm0pIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgY29uZmlybTogdHJ1ZVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0sIDEwMDApXG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy5wcm9maWxlLmFwaS5kZWxldGUsIHtcbiAgICAgIHdpdGhfY29udGVudDogdGhpcy5zdGF0ZS53aXRoX2NvbnRlbnRcbiAgICB9KVxuICB9XG5cbiAgaGFuZGxlU3VjY2VzcygpIHtcbiAgICBwb2xscy5zdG9wKFwidXNlci1wcm9maWxlXCIpXG5cbiAgICBpZiAodGhpcy5zdGF0ZS53aXRoX2NvbnRlbnQpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0RlbGV0ZWQ6IGludGVycG9sYXRlKFxuICAgICAgICAgICAgXCLOnyDOu86/zrPOsc+BzrnOsc+DzrzPjM+CIM+Ezr/PhSDPh8+Bzq7Pg8+EzrcgJSh1c2VybmFtZSlzIM6tz4fOtc65IM60zrnOsc6zz4HOsc+GzrXOryDPhM61zrvOtc6vz4nPglwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLnByb3BzLnByb2ZpbGUudXNlcm5hbWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIHRydWVcbiAgICAgICAgKVxuICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzRGVsZXRlZDogaW50ZXJwb2xhdGUoXG4gICAgICAgICAgICBcIs6fIM67zr/Os86xz4HOuc6xz4POvM+Mz4Igz4TOv8+FIM+Hz4HOrs+Dz4TOtyAlKHVzZXJuYW1lKXMgzq3Ph861zrkgzrTOuc6xzrPPgc6xz4bOtc6vIM66zrHOuSDOtyDOtM+BzrHPg8+EzrfPgc65z4zPhM63z4TOrCDPhM6/z4UgzrjOsSDOtc6vzr3Osc65IM66z4HPhc68zrzOrc69zrdcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICB1c2VybmFtZTogdGhpcy5wcm9wcy5wcm9maWxlLnVzZXJuYW1lXG4gICAgICAgICAgfSxcbiAgICAgICAgICB0cnVlXG4gICAgICAgIClcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgZ2V0QnV0dG9uTGFiZWwoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuY29uZmlybSkge1xuICAgICAgcmV0dXJuIGludGVycG9sYXRlKFwizpTOuc6xzrPPgc6xz4bOriDPhM6/z4Ugz4fPgc6uz4PPhM63ICUodXNlcm5hbWUpc1wiLFxuICAgICAgICB7XG4gICAgICAgICAgdXNlcm5hbWU6IHRoaXMucHJvcHMucHJvZmlsZS51c2VybmFtZVxuICAgICAgICB9LFxuICAgICAgICB0cnVlXG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShcIs6gzrHPgc6xzrrOsc67z44gz4DOtc+Bzq/OvM61zr3OtS4uLiAoJShjb3VudGRvd24pcylcIixcbiAgICAgICAge1xuICAgICAgICAgIGNvdW50ZG93bjogdGhpcy5zdGF0ZS5jb3VudGRvd25cbiAgICAgICAgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKVxuICAgIH1cbiAgfVxuXG4gIGdldEZvcm0oKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgICAgIDxGb3JtR3JvdXAgbGFiZWw9e1wizpTPgc6xz4PPhM63z4HOuc+Mz4TOt8+EzrEgz4fPgc6uz4PPhM63XCJ9IGZvcj1cImlkX3dpdGhfY29udGVudFwiPlxuICAgICAgICAgICAgPFllc05vU3dpdGNoXG4gICAgICAgICAgICAgIGlkPVwiaWRfd2l0aF9jb250ZW50XCJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICBsYWJlbE9uPXtcIs6UzrnOsc6zz4HOsc+Gzq4gzrzOsc62zq8gzrzOtSDPhM6/IM67zr/Os86xz4HOuc6xz4POvM+MXCJ9XG4gICAgICAgICAgICAgIGxhYmVsT2ZmPXtcIs6az4HPjc+IzrnOvM6/IM68zrXPhM6sIM+EzrcgzrTOuc6xzrPPgc6xz4bOriDPhM6/z4UgzrvOv86zzrHPgc65zrHPg868zr/PjVwifVxuICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoXCJ3aXRoX2NvbnRlbnRcIil9XG4gICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLndpdGhfY29udGVudH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICB7XCLOkc66z43Pgc+Jz4POt1wifVxuICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLWRhbmdlclwiXG4gICAgICAgICAgICBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgIGRpc2FibGVkPXshdGhpcy5zdGF0ZS5jb25maXJtfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHt0aGlzLmdldEJ1dHRvbkxhYmVsKCl9XG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9mb3JtPlxuICAgIClcbiAgfVxuXG4gIGdldERlbGV0ZWRCb2R5KCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWljb25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+aW5mb19vdXRsaW5lPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+e3RoaXMuc3RhdGUuaXNEZWxldGVkfTwvcD5cbiAgICAgICAgICA8cD5cbiAgICAgICAgICAgIDxhIGhyZWY9e21pc2Fnby5nZXQoXCJVU0VSU19MSVNUX1VSTFwiKX0+XG4gICAgICAgICAgICAgIHtcIs6Vz4DOuc+Dz4TPgc6/z4bOriDPg8+EzrcgzrvOr8+Dz4TOsSDPh8+BzrfPg8+Ez47OvVwifVxuICAgICAgICAgICAgPC9hPlxuICAgICAgICAgIDwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cblxuICBnZXRNb2RhbEJvZHkoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuZXJyb3IpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxNb2RhbE1lc3NhZ2UgaWNvbj1cInJlbW92ZV9jaXJjbGVfb3V0bGluZVwiIG1lc3NhZ2U9e3RoaXMuc3RhdGUuZXJyb3J9IC8+XG4gICAgICApXG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmlzTG9hZGVkKSB7XG4gICAgICBpZiAodGhpcy5zdGF0ZS5pc0RlbGV0ZWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGVsZXRlZEJvZHkoKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Rm9ybSgpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiA8TG9hZGVyIC8+XG4gICAgfVxuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmVycm9yIHx8IHRoaXMuc3RhdGUuaXNEZWxldGVkKSB7XG4gICAgICByZXR1cm4gXCJtb2RhbC1kaWFsb2cgbW9kYWwtbWVzc2FnZSBtb2RhbC1kZWxldGUtYWNjb3VudFwiXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcIm1vZGFsLWRpYWxvZyBtb2RhbC1kZWxldGUtYWNjb3VudFwiXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX0gcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjbG9zZVwiXG4gICAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgYXJpYS1sYWJlbD17XCLOms67zrXOr8+DzrnOvM6/XCJ9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntcIs6UzrnOsc6zz4HOsc+Gzq4gzrvOv86zzrHPgc65zrHPg868zr/PjSDPh8+Bzq7Pg8+EzrdcIn08L2g0PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHt0aGlzLmdldE1vZGFsQm9keSgpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcInJlYWN0LXJlZHV4XCJcbmltcG9ydCBBdmF0YXJDb250cm9scyBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvcHJvZmlsZS9tb2RlcmF0aW9uL2F2YXRhci1jb250cm9sc1wiXG5pbXBvcnQgQ2hhbmdlVXNlcm5hbWUgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3Byb2ZpbGUvbW9kZXJhdGlvbi9jaGFuZ2UtdXNlcm5hbWVcIlxuaW1wb3J0IERlbGV0ZUFjY291bnQgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3Byb2ZpbGUvbW9kZXJhdGlvbi9kZWxldGUtYWNjb3VudFwiXG5pbXBvcnQgbW9kYWwgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9tb2RhbFwiXG5cbmxldCBzZWxlY3QgPSBmdW5jdGlvbihzdG9yZSkge1xuICByZXR1cm4ge1xuICAgIHRpY2s6IHN0b3JlLnRpY2ssXG4gICAgdXNlcjogc3RvcmUuYXV0aCxcbiAgICBwcm9maWxlOiBzdG9yZS5wcm9maWxlXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzaG93QXZhdGFyRGlhbG9nID0gKCkgPT4ge1xuICAgIG1vZGFsLnNob3coY29ubmVjdChzZWxlY3QpKEF2YXRhckNvbnRyb2xzKSlcbiAgfVxuXG4gIGdldEF2YXRhckJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wcm9maWxlLmFjbC5jYW5fbW9kZXJhdGVfYXZhdGFyKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8bGk+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgICAgb25DbGljaz17dGhpcy5zaG93QXZhdGFyRGlhbG9nfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5wb3J0cmFpdDwvc3Bhbj5cbiAgICAgICAgICAgIHtcIs6Vz4DOuc67zr/Os86tz4IgzrXOuc66z4zOvc6xz4JcIn1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9saT5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICBzaG93UmVuYW1lRGlhbG9nID0gKCkgPT4ge1xuICAgIG1vZGFsLnNob3coY29ubmVjdChzZWxlY3QpKENoYW5nZVVzZXJuYW1lKSlcbiAgfVxuXG4gIGdldFJlbmFtZUJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wcm9maWxlLmFjbC5jYW5fcmVuYW1lKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8bGk+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgICAgb25DbGljaz17dGhpcy5zaG93UmVuYW1lRGlhbG9nfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jcmVkaXRfY2FyZDwvc3Bhbj5cbiAgICAgICAgICAgIHtcIs6RzrvOu86xzrPOriDPjM69zr/OvM6xIM+Hz4HOrs+Dz4TOt1wifVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2xpPlxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIHNob3dEZWxldGVEaWFsb2cgPSAoKSA9PiB7XG4gICAgbW9kYWwuc2hvdyhjb25uZWN0KHNlbGVjdCkoRGVsZXRlQWNjb3VudCkpXG4gIH1cblxuICBnZXREZWxldGVCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5hY2wuY2FuX2RlbGV0ZSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGxpPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuc2hvd0RlbGV0ZURpYWxvZ31cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2xlYXI8L3NwYW4+XG4gICAgICAgICAgICB7XCLOlM65zrHOs8+BzrHPhs6uIM67zr/Os86xz4HOuc6xz4POvM6/z41cIn1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9saT5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDx1bFxuICAgICAgICBjbGFzc05hbWU9XCJkcm9wZG93bi1tZW51IGRyb3Bkb3duLW1lbnUtcmlnaHQgc3RpY2stdG8tYm90dG9tXCJcbiAgICAgICAgcm9sZT1cIm1lbnVcIlxuICAgICAgPlxuICAgICAgICB7dGhpcy5nZXRBdmF0YXJCdXR0b24oKX1cbiAgICAgICAge3RoaXMuZ2V0UmVuYW1lQnV0dG9uKCl9XG4gICAgICAgIHt0aGlzLmdldERlbGV0ZUJ1dHRvbigpfVxuICAgICAgPC91bD5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgTGluayB9IGZyb20gXCJyZWFjdC1yb3V0ZXJcIlxuaW1wb3J0IExpIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9saVwiXG5cbmV4cG9ydCBjbGFzcyBTaWRlTmF2IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImxpc3QtZ3JvdXAgbmF2LXNpZGVcIj5cbiAgICAgICAge3RoaXMucHJvcHMucGFnZXMubWFwKHBhZ2UgPT4ge1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8TGlua1xuICAgICAgICAgICAgICB0bz17dGhpcy5wcm9wcy5iYXNlVXJsICsgcGFnZS5jb21wb25lbnQgKyBcIi9cIn1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibGlzdC1ncm91cC1pdGVtXCJcbiAgICAgICAgICAgICAgYWN0aXZlQ2xhc3NOYW1lPVwiYWN0aXZlXCJcbiAgICAgICAgICAgICAga2V5PXtwYWdlLmNvbXBvbmVudH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPntwYWdlLmljb259PC9zcGFuPlxuICAgICAgICAgICAgICB7cGFnZS5uYW1lfVxuICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgIClcbiAgICAgICAgfSl9XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIENvbXBhY3ROYXYocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UtdGFicyBoaWRkZW4tbWQgaGlkZGVuLWxnXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICA8dWwgY2xhc3NOYW1lPVwibmF2IG5hdi1waWxsc1wiIHJvbGU9XCJtZW51XCI+XG4gICAgICAgICAge3Byb3BzLnBhZ2VzLm1hcChwYWdlID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxMaVxuICAgICAgICAgICAgICAgIHBhdGg9e3Byb3BzLmJhc2VVcmwgKyBwYWdlLmNvbXBvbmVudCArIFwiL1wifVxuICAgICAgICAgICAgICAgIGtleT17cGFnZS5jb21wb25lbnR9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8TGlua1xuICAgICAgICAgICAgICAgICAgdG89e3Byb3BzLmJhc2VVcmwgKyBwYWdlLmNvbXBvbmVudCArIFwiL1wifVxuICAgICAgICAgICAgICAgICAgb25DbGljaz17cHJvcHMuaGlkZU5hdn1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+e3BhZ2UuaWNvbn08L3NwYW4+XG4gICAgICAgICAgICAgICAgICB7cGFnZS5uYW1lfVxuICAgICAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgICAgPC9MaT5cbiAgICAgICAgICAgIClcbiAgICAgICAgICB9KX1cbiAgICAgICAgPC91bD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIlxuaW1wb3J0IEJhbkRldGFpbHMgZnJvbSBcIi4vYmFuLWRldGFpbHNcIlxuaW1wb3J0IERldGFpbHMgZnJvbSBcIi4vZGV0YWlsc1wiXG5pbXBvcnQgeyBQb3N0cywgVGhyZWFkcyB9IGZyb20gXCIuL2ZlZWRcIlxuaW1wb3J0IEZvbGxvd2VycyBmcm9tIFwiLi9mb2xsb3dlcnNcIlxuaW1wb3J0IEZvbGxvd3MgZnJvbSBcIi4vZm9sbG93c1wiXG5pbXBvcnQgVXNlcm5hbWVIaXN0b3J5IGZyb20gXCIuL3VzZXJuYW1lLWhpc3RvcnlcIlxuaW1wb3J0IEhlYWRlciBmcm9tIFwiLi9oZWFkZXJcIlxuaW1wb3J0IE1vZGVyYXRpb25OYXYgZnJvbSBcIi4vbW9kZXJhdGlvbi9uYXZcIlxuaW1wb3J0IHsgU2lkZU5hdiwgQ29tcGFjdE5hdiB9IGZyb20gXCIuL25hdnNcIlxuaW1wb3J0IEF2YXRhciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyXCJcbmltcG9ydCBXaXRoRHJvcGRvd24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3dpdGgtZHJvcGRvd25cIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvXCJcbmltcG9ydCB7IGh5ZHJhdGUgfSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3Byb2ZpbGVcIlxuaW1wb3J0IHBvbGxzIGZyb20gXCJtaXNhZ28vc2VydmljZXMvcG9sbHNcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFdpdGhEcm9wZG93biB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXJ0UG9sbGluZyhwcm9wcy5wcm9maWxlLmFwaS5pbmRleClcbiAgfVxuXG4gIHN0YXJ0UG9sbGluZyhhcGkpIHtcbiAgICBwb2xscy5zdGFydCh7XG4gICAgICBwb2xsOiBcInVzZXItcHJvZmlsZVwiLFxuICAgICAgdXJsOiBhcGksXG4gICAgICBmcmVxdWVuY3k6IDkwICogMTAwMCxcbiAgICAgIHVwZGF0ZTogdGhpcy51cGRhdGVcbiAgICB9KVxuICB9XG5cbiAgdXBkYXRlID0gZGF0YSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2goaHlkcmF0ZShkYXRhKSlcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBiYXNlVXJsID0gbWlzYWdvLmdldChcIlBST0ZJTEVcIikudXJsXG4gICAgY29uc3QgcGFnZXMgPSBtaXNhZ28uZ2V0KFwiUFJPRklMRV9QQUdFU1wiKVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZSBwYWdlLXVzZXItcHJvZmlsZVwiPlxuICAgICAgICA8SGVhZGVyXG4gICAgICAgICAgYmFzZVVybD17YmFzZVVybH1cbiAgICAgICAgICBwYWdlcz17cGFnZXN9XG4gICAgICAgICAgcHJvZmlsZT17dGhpcy5wcm9wcy5wcm9maWxlfVxuICAgICAgICAgIHRvZ2dsZU5hdj17dGhpcy50b2dnbGVOYXZ9XG4gICAgICAgICAgdG9nZ2xlTW9kZXJhdGlvbj17dGhpcy50b2dnbGVNb2RlcmF0aW9ufVxuICAgICAgICAgIHVzZXI9e3RoaXMucHJvcHMudXNlcn1cbiAgICAgICAgLz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMyBoaWRkZW4teHMgaGlkZGVuLXNtXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJvZmlsZS1zaWRlLWF2YXRhclwiPlxuICAgICAgICAgICAgICAgIDxBdmF0YXIgdXNlcj17dGhpcy5wcm9wcy5wcm9maWxlfSBzaXplPVwiNDAwXCIgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgPFNpZGVOYXZcbiAgICAgICAgICAgICAgICBiYXNlVXJsPXtiYXNlVXJsfVxuICAgICAgICAgICAgICAgIHBhZ2VzPXtwYWdlc31cbiAgICAgICAgICAgICAgICBwcm9maWxlPXt0aGlzLnByb3BzLnByb2ZpbGV9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTlcIj57dGhpcy5wcm9wcy5jaGlsZHJlbn08L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdChzdG9yZSkge1xuICByZXR1cm4ge1xuICAgIGlzQXV0aGVudGljYXRlZDogc3RvcmUuYXV0aC51c2VyLmlkID09PSBzdG9yZS5wcm9maWxlLmlkLFxuXG4gICAgdGljazogc3RvcmUudGljay50aWNrLFxuICAgIHVzZXI6IHN0b3JlLmF1dGgudXNlcixcbiAgICB1c2Vyczogc3RvcmUudXNlcnMsXG4gICAgcG9zdHM6IHN0b3JlLnBvc3RzLFxuICAgIHByb2ZpbGU6IHN0b3JlLnByb2ZpbGUsXG4gICAgcHJvZmlsZURldGFpbHM6IHN0b3JlW1wicHJvZmlsZS1kZXRhaWxzXCJdLFxuICAgIFwidXNlcm5hbWUtaGlzdG9yeVwiOiBzdG9yZVtcInVzZXJuYW1lLWhpc3RvcnlcIl1cbiAgfVxufVxuXG5jb25zdCBDT01QT05FTlRTID0ge1xuICBwb3N0czogUG9zdHMsXG4gIHRocmVhZHM6IFRocmVhZHMsXG4gIGZvbGxvd2VyczogRm9sbG93ZXJzLFxuICBmb2xsb3dzOiBGb2xsb3dzLFxuICBkZXRhaWxzOiBEZXRhaWxzLFxuICBcInVzZXJuYW1lLWhpc3RvcnlcIjogVXNlcm5hbWVIaXN0b3J5LFxuICBcImJhbi1kZXRhaWxzXCI6IEJhbkRldGFpbHNcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhdGhzKCkge1xuICBsZXQgcGF0aHMgPSBbXVxuICBtaXNhZ28uZ2V0KFwiUFJPRklMRV9QQUdFU1wiKS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICBwYXRocy5wdXNoKFxuICAgICAgT2JqZWN0LmFzc2lnbih7fSwgaXRlbSwge1xuICAgICAgICBwYXRoOiBtaXNhZ28uZ2V0KFwiUFJPRklMRVwiKS51cmwgKyBpdGVtLmNvbXBvbmVudCArIFwiL1wiLFxuICAgICAgICBjb21wb25lbnQ6IGNvbm5lY3Qoc2VsZWN0KShDT01QT05FTlRTW2l0ZW0uY29tcG9uZW50XSlcbiAgICAgIH0pXG4gICAgKVxuICB9KVxuXG4gIHJldHVybiBwYXRoc1xufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQnV0dG9uIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9idXR0b25cIlxuaW1wb3J0IFNlYXJjaCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvcXVpY2stc2VhcmNoXCJcbmltcG9ydCBVc2VybmFtZUhpc3RvcnkgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3VzZXJuYW1lLWhpc3Rvcnkvcm9vdFwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IHsgaHlkcmF0ZSwgYXBwZW5kIH0gZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy91c2VybmFtZS1oaXN0b3J5XCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5pbXBvcnQgdGl0bGUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wYWdlLXRpdGxlXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgaWYgKG1pc2Fnby5oYXMoXCJQUk9GSUxFX05BTUVfSElTVE9SWVwiKSkge1xuICAgICAgdGhpcy5pbml0V2l0aFByZWxvYWRlZERhdGEobWlzYWdvLnBvcChcIlBST0ZJTEVfTkFNRV9ISVNUT1JZXCIpKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmluaXRXaXRob3V0UHJlbG9hZGVkRGF0YSgpXG4gICAgfVxuICB9XG5cbiAgaW5pdFdpdGhQcmVsb2FkZWREYXRhKGRhdGEpIHtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgICBpc0J1c3k6IGZhbHNlLFxuXG4gICAgICBzZWFyY2g6IFwiXCIsXG5cbiAgICAgIGNvdW50OiBkYXRhLmNvdW50LFxuICAgICAgbW9yZTogZGF0YS5tb3JlLFxuXG4gICAgICBwYWdlOiBkYXRhLnBhZ2UsXG4gICAgICBwYWdlczogZGF0YS5wYWdlc1xuICAgIH1cblxuICAgIHN0b3JlLmRpc3BhdGNoKGh5ZHJhdGUoZGF0YS5yZXN1bHRzKSlcbiAgfVxuXG4gIGluaXRXaXRob3V0UHJlbG9hZGVkRGF0YSgpIHtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkZWQ6IGZhbHNlLFxuICAgICAgaXNCdXN5OiBmYWxzZSxcblxuICAgICAgc2VhcmNoOiBcIlwiLFxuXG4gICAgICBjb3VudDogMCxcbiAgICAgIG1vcmU6IDAsXG5cbiAgICAgIHBhZ2U6IDEsXG4gICAgICBwYWdlczogMVxuICAgIH1cblxuICAgIHRoaXMubG9hZENoYW5nZXMoKVxuICB9XG5cbiAgbG9hZENoYW5nZXMocGFnZSA9IDEsIHNlYXJjaCA9IG51bGwpIHtcbiAgICBhamF4XG4gICAgICAuZ2V0KFxuICAgICAgICBtaXNhZ28uZ2V0KFwiVVNFUk5BTUVfQ0hBTkdFU19BUElcIiksXG4gICAgICAgIHtcbiAgICAgICAgICB1c2VyOiB0aGlzLnByb3BzLnByb2ZpbGUuaWQsXG4gICAgICAgICAgc2VhcmNoOiBzZWFyY2gsXG4gICAgICAgICAgcGFnZTogcGFnZSB8fCAxXG4gICAgICAgIH0sXG4gICAgICAgIFwic2VhcmNoLXVzZXJuYW1lLWhpc3RvcnlcIlxuICAgICAgKVxuICAgICAgLnRoZW4oXG4gICAgICAgIGRhdGEgPT4ge1xuICAgICAgICAgIGlmIChwYWdlID09PSAxKSB7XG4gICAgICAgICAgICBzdG9yZS5kaXNwYXRjaChoeWRyYXRlKGRhdGEucmVzdWx0cykpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKGFwcGVuZChkYXRhLnJlc3VsdHMpKVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgICAgICAgICBpc0J1c3k6IGZhbHNlLFxuXG4gICAgICAgICAgICBjb3VudDogZGF0YS5jb3VudCxcbiAgICAgICAgICAgIG1vcmU6IGRhdGEubW9yZSxcblxuICAgICAgICAgICAgcGFnZTogZGF0YS5wYWdlLFxuICAgICAgICAgICAgcGFnZXM6IGRhdGEucGFnZXNcbiAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICAgICAgfVxuICAgICAgKVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGl0bGUuc2V0KHtcbiAgICAgIHRpdGxlOiBcIs6Zz4PPhM6/z4HOuc66z4wgzr/Ovc+MzrzOsc+Ezr/PgiDPh8+Bzq7Pg8+EzrdcIixcbiAgICAgIHBhcmVudDogdGhpcy5wcm9wcy5wcm9maWxlLnVzZXJuYW1lXG4gICAgfSlcbiAgfVxuXG4gIGxvYWRNb3JlID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNCdXN5OiB0cnVlXG4gICAgfSlcblxuICAgIHRoaXMubG9hZENoYW5nZXModGhpcy5zdGF0ZS5wYWdlICsgMSwgdGhpcy5zdGF0ZS5zZWFyY2gpXG4gIH1cblxuICBzZWFyY2ggPSBldiA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0xvYWRlZDogZmFsc2UsXG4gICAgICBpc0J1c3k6IHRydWUsXG5cbiAgICAgIHNlYXJjaDogZXYudGFyZ2V0LnZhbHVlLFxuXG4gICAgICBjb3VudDogMCxcbiAgICAgIG1vcmU6IDAsXG5cbiAgICAgIHBhZ2U6IDEsXG4gICAgICBwYWdlczogMVxuICAgIH0pXG5cbiAgICB0aGlzLmxvYWRDaGFuZ2VzKDEsIGV2LnRhcmdldC52YWx1ZSlcbiAgfVxuXG4gIGdldExhYmVsKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5pc0xvYWRlZCkge1xuICAgICAgcmV0dXJuIFwizqbOv8+Bz4TPjs69zrXOuS4uLlwiXG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLnNlYXJjaCkge1xuICAgICAgbGV0IG1lc3NhZ2UgPSBcIs6Sz4HOrc64zrfOus6xzr0gJShjaGFuZ2VzKXMgzrHOu867zrHOs86tz4Igzr/Ovc+MzrzOsc+Ezr/PgiDPh8+Bzq7Pg8+EzrdcIlxuICAgICAgaWYgKHRoaXMuc3RhdGUuY291bnQgPT09IDEpIHtcbiAgICAgICAgbWVzc2FnZSA9IFwizpLPgc6tzrjOt866zrUgJShjaGFuZ2VzKXMgzrHOu867zrHOs86uIM6/zr3PjM68zrHPhM6/z4Igz4fPgc6uz4PPhM63XCJcbiAgICAgIH1cbiAgICAgIFxuXG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHtcbiAgICAgICAgICBjaGFuZ2VzOiB0aGlzLnN0YXRlLmNvdW50XG4gICAgICAgIH0sXG4gICAgICAgIHRydWVcbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5pZCA9PT0gdGhpcy5wcm9wcy51c2VyLmlkKSB7XG4gICAgICBsZXQgbWVzc2FnZSA9IFwizqTOvyDPjM69zr/OvM6xIM+Hz4HOrs+Dz4TOtyDPg86/z4Ugzq3Ph861zrkgzrHOu867zqzOvs61zrkgJShjaGFuZ2VzKXMgz4bOv8+Bzq3PglwiXG4gICAgICBpZiAodGhpcy5zdGF0ZS5jb3VudCA9PT0gMSkge1xuICAgICAgICBtZXNzYWdlID0gXCLOpM6/IM+Mzr3Ov868zrEgz4fPgc6uz4PPhM63IM+Dzr/PhSDOrc+HzrXOuSDOsc67zrvOrM6+zrXOuSAlKGNoYW5nZXMpcyDPhs6/z4HOrFwiXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAge1xuICAgICAgICAgIGNoYW5nZXM6IHRoaXMuc3RhdGUuY291bnRcbiAgICAgICAgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgbWVzc2FnZSA9IFwizqTOvyDPjM69zr/OvM6xIM+Hz4HOrs+Dz4TOtyDPhM6/z4UgJSh1c2VybmFtZSlzIM6tz4fOtc65IM6xzrvOu86szr7Otc65ICUoY2hhbmdlcylzIM+Gzr/Pgc6tz4JcIlxuICAgICAgaWYgKHRoaXMuc3RhdGUuY291bnQgPT09IDEpIHtcbiAgICAgICAgbWVzc2FnZSA9IFwizqTOvyDPjM69zr/OvM6xIM+Hz4HOrs+Dz4TOtyDPhM6/z4UgJSh1c2VybmFtZSlzIM6tz4fOtc65IM6xzrvOu86szr7Otc65ICUoY2hhbmdlcylzIM+Gzr/Pgc6sXCJcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICB7XG4gICAgICAgICAgdXNlcm5hbWU6IHRoaXMucHJvcHMucHJvZmlsZS51c2VybmFtZSxcbiAgICAgICAgICBjaGFuZ2VzOiB0aGlzLnN0YXRlLmNvdW50XG4gICAgICAgIH0sXG4gICAgICAgIHRydWVcbiAgICAgIClcbiAgICB9XG4gIH1cblxuICBnZXRFbXB0eU1lc3NhZ2UoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuc2VhcmNoKSB7XG4gICAgICByZXR1cm4gXCLOlyDOsc69zrHOts6uz4TOt8+DzrcgzrTOtc69IM61z4DOrc+Dz4TPgc61z4jOtSDOus6xzrzOr86xIM6xzrvOu86xzrPOriDOv869z4zOvM6xz4TOv8+CIM+Hz4HOrs+Dz4TOt1wiXG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnVzZXIuaWQgPT09IHRoaXMucHJvcHMucHJvZmlsZS5pZCkge1xuICAgICAgcmV0dXJuIFwizpTOtc69IM6tz4fOtc65z4IgzrHOu867zqzOvs61zrkgz4DOv8+Ezq0gz4TOvyDPjM69zr/OvM6xIM+Hz4HOrs+Dz4TOtyDPg86/z4VcIlxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoXCLOpM6/IM+Mzr3Ov868zrEgz4fPgc6uz4PPhM63IM+Ezr/PhSAlKHVzZXJuYW1lKXMgzrTOtc69IM6tz4fOtc65IM6xzrvOu86szr7Otc65IM+Azr/PhM6tXCIsXG4gICAgICAgIHtcbiAgICAgICAgICB1c2VybmFtZTogdGhpcy5wcm9wcy5wcm9maWxlLnVzZXJuYW1lXG4gICAgICAgIH0sXG4gICAgICAgIHRydWVcbiAgICAgIClcbiAgICB9XG4gIH1cblxuICBnZXRNb3JlQnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5tb3JlKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZXItbW9yZVwiPlxuICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgICBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzQnVzeX1cbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLmxvYWRNb3JlfVxuICAgICAgICA+XG4gICAgICAgICAge2ludGVycG9sYXRlKFxuICAgICAgICAgICAgXCLOoM6xzrvOsc65z4zPhM61z4HOsSAoJShtb3JlKXMpXCIsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG1vcmU6IHRoaXMuc3RhdGUubW9yZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRydWVcbiAgICAgICAgICApfVxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcm9maWxlLXVzZXJuYW1lLWhpc3RvcnlcIj5cbiAgICAgICAgPG5hdiBjbGFzc05hbWU9XCJ0b29sYmFyXCI+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRvb2xiYXItbGVmdFwiPnt0aGlzLmdldExhYmVsKCl9PC9oMz5cblxuICAgICAgICAgIDxTZWFyY2hcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInRvb2xiYXItcmlnaHRcIlxuICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuc2VhcmNofVxuICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuc2VhcmNofVxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9e1wizpHOvc6xzrbOrs+EzrfPg863IM65z4PPhM6/z4HOuc66zr/PjS4uLlwifVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvbmF2PlxuXG4gICAgICAgIDxVc2VybmFtZUhpc3RvcnlcbiAgICAgICAgICBpc0xvYWRlZD17dGhpcy5zdGF0ZS5pc0xvYWRlZH1cbiAgICAgICAgICBlbXB0eU1lc3NhZ2U9e3RoaXMuZ2V0RW1wdHlNZXNzYWdlKCl9XG4gICAgICAgICAgY2hhbmdlcz17dGhpcy5wcm9wc1tcInVzZXJuYW1lLWhpc3RvcnlcIl19XG4gICAgICAgIC8+XG5cbiAgICAgICAge3RoaXMuZ2V0TW9yZUJ1dHRvbigpfVxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuY2xhc3NOYW1lKSB7XG4gICAgICByZXR1cm4gXCJmb3JtLXNlYXJjaCBcIiArIHRoaXMucHJvcHMuY2xhc3NOYW1lXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcImZvcm0tc2VhcmNoXCJcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfT5cbiAgICAgICAgPGlucHV0XG4gICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgdmFsdWU9e3RoaXMucHJvcHMudmFsdWV9XG4gICAgICAgICAgb25DaGFuZ2U9e3RoaXMucHJvcHMub25DaGFuZ2V9XG4gICAgICAgICAgcGxhY2Vob2xkZXI9e3RoaXMucHJvcHMucGxhY2Vob2xkZXIgfHwgXCLOkc69zrHOts6uz4TOt8+DzrcuLi5cIn1cbiAgICAgICAgLz5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnNlYXJjaDwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgTG9hZGVyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9sb2FkZXJcIlxuaW1wb3J0IFJlZ2lzdGVyRm9ybSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvcmVnaXN0ZXIuanNcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBjYXB0Y2hhIGZyb20gXCJtaXNhZ28vc2VydmljZXMvY2FwdGNoYVwiXG5pbXBvcnQgbW9kYWwgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9tb2RhbFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgaXNMb2FkZWQ6IGZhbHNlLFxuXG4gICAgICBjcml0ZXJpYTogbnVsbFxuICAgIH1cbiAgfVxuXG4gIHNob3dSZWdpc3RlckZvcm0gPSAoKSA9PiB7XG4gICAgaWYgKG1pc2Fnby5nZXQoXCJTRVRUSU5HU1wiKS5hY2NvdW50X2FjdGl2YXRpb24gPT09IFwiY2xvc2VkXCIpIHtcbiAgICAgIHNuYWNrYmFyLmluZm8oXCLOn865IM69zq3Otc+CIM61zrPOs8+BzrHPhs6tz4IgzrXOr869zrHOuSDPgM+Bzr/Pg8+Jz4HOuc69zqwgzrrOu861zrnPg868zq3Ovc61z4JcIilcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuaXNMb2FkZWQpIHtcbiAgICAgIG1vZGFsLnNob3coPFJlZ2lzdGVyRm9ybSBjcml0ZXJpYT17dGhpcy5zdGF0ZS5jcml0ZXJpYX0gLz4pXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0xvYWRpbmc6IHRydWUgfSlcblxuICAgICAgUHJvbWlzZS5hbGwoW1xuICAgICAgICBjYXB0Y2hhLmxvYWQoKSxcbiAgICAgICAgYWpheC5nZXQobWlzYWdvLmdldChcIkFVVEhfQ1JJVEVSSUFfQVBJXCIpKVxuICAgICAgXSkudGhlbihcbiAgICAgICAgcmVzdWx0ID0+IHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICAgICAgICBpc0xvYWRlZDogdHJ1ZSxcbiAgICAgICAgICAgIGNyaXRlcmlhOiByZXN1bHRbMV1cbiAgICAgICAgICB9KVxuXG4gICAgICAgICAgbW9kYWwuc2hvdyg8UmVnaXN0ZXJGb3JtIGNyaXRlcmlhPXtyZXN1bHRbMV19IC8+KVxuICAgICAgICB9LFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzTG9hZGluZzogZmFsc2UgfSlcblxuICAgICAgICAgIHNuYWNrYmFyLmVycm9yKFxuICAgICAgICAgICAgXCLOlyDOtc6zzrPPgc6xz4bOriDOtc6vzr3Osc65IM+Az4HOv8+Dz4nPgc65zr3OrCDOvM63IM60zrnOsc64zq3Pg865zrzOtyEgzqDPgc6/z4PPgM6szrjOt8+DzrUgzrHPgc6zz4zPhM61z4HOsVwiXG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIHJldHVybiB0aGlzLnByb3BzLmNsYXNzTmFtZSArICh0aGlzLnN0YXRlLmlzTG9hZGluZyA/IFwiIGJ0bi1sb2FkaW5nXCIgOiBcIlwiKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT17XCJidG4gXCIgKyB0aGlzLmdldENsYXNzTmFtZSgpfVxuICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgIG9uQ2xpY2s9e3RoaXMuc2hvd1JlZ2lzdGVyRm9ybX1cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIHtcIs6VzrPOs8+BzrHPhs6uXCJ9XG4gICAgICAgIHt0aGlzLnN0YXRlLmlzTG9hZGluZyA/IDxMb2FkZXIgLz4gOiBudWxsfVxuICAgICAgPC9idXR0b24+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBCdXR0b24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2J1dHRvblwiXG5pbXBvcnQgRm9ybSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybVwiXG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwXCJcbmltcG9ydCBQYXNzd29yZFN0cmVuZ3RoIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9wYXNzd29yZC1zdHJlbmd0aFwiXG5pbXBvcnQgUmVnaXN0ZXJMZWdhbEZvb3Rub3RlIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9SZWdpc3RlckxlZ2FsRm9vdG5vdGVcIlxuaW1wb3J0IFN0YXJ0U29jaWFsQXV0aCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvU3RhcnRTb2NpYWxBdXRoXCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnb1wiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IGF1dGggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hdXRoXCJcbmltcG9ydCBjYXB0Y2hhIGZyb20gXCJtaXNhZ28vc2VydmljZXMvY2FwdGNoYVwiXG5pbXBvcnQgbW9kYWwgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9tb2RhbFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc2hvd0Jhbm5lZFBhZ2UgZnJvbSBcIm1pc2Fnby91dGlscy9iYW5uZWQtcGFnZVwiXG5pbXBvcnQgKiBhcyB2YWxpZGF0b3JzIGZyb20gXCJtaXNhZ28vdXRpbHMvdmFsaWRhdG9yc1wiXG5cbmV4cG9ydCBjbGFzcyBSZWdpc3RlckZvcm0gZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIGNvbnN0IHsgdXNlcm5hbWUsIHBhc3N3b3JkIH0gPSB0aGlzLnByb3BzLmNyaXRlcmlhXG5cbiAgICBsZXQgcGFzc3dvcmRNaW5MZW5ndGggPSAwXG4gICAgcGFzc3dvcmQuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgIGlmIChpdGVtLm5hbWUgPT09IFwiTWluaW11bUxlbmd0aFZhbGlkYXRvclwiKSB7XG4gICAgICAgIHBhc3N3b3JkTWluTGVuZ3RoID0gaXRlbS5taW5fbGVuZ3RoXG4gICAgICB9XG4gICAgfSlcblxuICAgIGNvbnN0IGZvcm1WYWxpZGF0b3JzID0ge1xuICAgICAgdXNlcm5hbWU6IFtcbiAgICAgICAgdmFsaWRhdG9ycy51c2VybmFtZUNvbnRlbnQoKSxcbiAgICAgICAgdmFsaWRhdG9ycy51c2VybmFtZU1pbkxlbmd0aCh1c2VybmFtZS5taW5fbGVuZ3RoKSxcbiAgICAgICAgdmFsaWRhdG9ycy51c2VybmFtZU1heExlbmd0aCh1c2VybmFtZS5tYXhfbGVuZ3RoKVxuICAgICAgXSxcbiAgICAgIGVtYWlsOiBbdmFsaWRhdG9ycy5lbWFpbCgpXSxcbiAgICAgIHBhc3N3b3JkOiBbdmFsaWRhdG9ycy5wYXNzd29yZE1pbkxlbmd0aChwYXNzd29yZE1pbkxlbmd0aCldLFxuICAgICAgY2FwdGNoYTogY2FwdGNoYS52YWxpZGF0b3IoKVxuICAgIH1cblxuICAgIGlmICghIW1pc2Fnby5nZXQoXCJURVJNU19PRl9TRVJWSUNFX0lEXCIpKSB7XG4gICAgICBmb3JtVmFsaWRhdG9ycy50ZXJtc09mU2VydmljZSA9IFt2YWxpZGF0b3JzLnJlcXVpcmVkVGVybXNPZlNlcnZpY2UoKV1cbiAgICB9XG5cbiAgICBpZiAoISFtaXNhZ28uZ2V0KFwiUFJJVkFDWV9QT0xJQ1lfSURcIikpIHtcbiAgICAgIGZvcm1WYWxpZGF0b3JzLnByaXZhY3lQb2xpY3kgPSBbdmFsaWRhdG9ycy5yZXF1aXJlZFByaXZhY3lQb2xpY3koKV1cbiAgICB9XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcblxuICAgICAgdXNlcm5hbWU6IFwiXCIsXG4gICAgICBlbWFpbDogXCJcIixcbiAgICAgIHBhc3N3b3JkOiBcIlwiLFxuICAgICAgY2FwdGNoYTogXCJcIixcblxuICAgICAgdGVybXNPZlNlcnZpY2U6IG51bGwsXG4gICAgICBwcml2YWN5UG9saWN5OiBudWxsLFxuXG4gICAgICB2YWxpZGF0b3JzOiBmb3JtVmFsaWRhdG9ycyxcbiAgICAgIGVycm9yczoge31cbiAgICB9XG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBpZiAodGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKFwizpcgz4bPjM+BzrzOsSDPgM61z4HOuc6tz4fOtc65IM67zqzOuM63IVwiKVxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGVycm9yczogdGhpcy52YWxpZGF0ZSgpXG4gICAgICB9KVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wb3N0KG1pc2Fnby5nZXQoXCJVU0VSU19BUElcIiksIHtcbiAgICAgIHVzZXJuYW1lOiB0aGlzLnN0YXRlLnVzZXJuYW1lLFxuICAgICAgZW1haWw6IHRoaXMuc3RhdGUuZW1haWwsXG4gICAgICBwYXNzd29yZDogdGhpcy5zdGF0ZS5wYXNzd29yZCxcbiAgICAgIGNhcHRjaGE6IHRoaXMuc3RhdGUuY2FwdGNoYSxcbiAgICAgIHRlcm1zX29mX3NlcnZpY2U6IHRoaXMuc3RhdGUudGVybXNPZlNlcnZpY2UsXG4gICAgICBwcml2YWN5X3BvbGljeTogdGhpcy5zdGF0ZS5wcml2YWN5UG9saWN5XG4gICAgfSlcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MoYXBpUmVzcG9uc2UpIHtcbiAgICB0aGlzLnByb3BzLmNhbGxiYWNrKGFwaVJlc3BvbnNlKVxuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGVycm9yczogT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5zdGF0ZS5lcnJvcnMsIHJlamVjdGlvbilcbiAgICAgIH0pXG5cbiAgICAgIGlmIChyZWplY3Rpb24uX19hbGxfXyAmJiByZWplY3Rpb24uX19hbGxfXy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5fX2FsbF9fWzBdKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IoXCLOlyDPhs+Mz4HOvM6xIM+AzrXPgc65zq3Ph861zrkgzrvOrM64zrchXCIpXG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDMgJiYgcmVqZWN0aW9uLmJhbikge1xuICAgICAgc2hvd0Jhbm5lZFBhZ2UocmVqZWN0aW9uLmJhbilcbiAgICAgIG1vZGFsLmhpZGUoKVxuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgfVxuICB9XG5cbiAgaGFuZGxlUHJpdmFjeVBvbGljeUNoYW5nZSA9IGV2ZW50ID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZVxuICAgIHRoaXMuaGFuZGxlVG9nZ2xlQWdyZWVtZW50KFwicHJpdmFjeVBvbGljeVwiLCB2YWx1ZSlcbiAgfVxuXG4gIGhhbmRsZVRlcm1zT2ZTZXJ2aWNlQ2hhbmdlID0gZXZlbnQgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gZXZlbnQudGFyZ2V0LnZhbHVlXG4gICAgdGhpcy5oYW5kbGVUb2dnbGVBZ3JlZW1lbnQoXCJ0ZXJtc09mU2VydmljZVwiLCB2YWx1ZSlcbiAgfVxuXG4gIGhhbmRsZVRvZ2dsZUFncmVlbWVudCA9IChhZ3JlZW1lbnQsIHZhbHVlKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSgocHJldlN0YXRlLCBwcm9wcykgPT4ge1xuICAgICAgaWYgKHByZXZTdGF0ZVthZ3JlZW1lbnRdID09PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IGVycm9ycyA9IHsgLi4ucHJldlN0YXRlLmVycm9ycywgW2FncmVlbWVudF06IG51bGwgfVxuICAgICAgICByZXR1cm4geyBlcnJvcnMsIFthZ3JlZW1lbnRdOiB2YWx1ZSB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHZhbGlkYXRvciA9IHRoaXMuc3RhdGUudmFsaWRhdG9yc1thZ3JlZW1lbnRdWzBdXG4gICAgICBjb25zdCBlcnJvcnMgPSB7IC4uLnByZXZTdGF0ZS5lcnJvcnMsIFthZ3JlZW1lbnRdOiBbdmFsaWRhdG9yKG51bGwpXSB9XG4gICAgICByZXR1cm4geyBlcnJvcnMsIFthZ3JlZW1lbnRdOiBudWxsIH1cbiAgICB9KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZyBtb2RhbC1yZWdpc3RlclwiIHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2xvc2VcIlxuICAgICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICAgIGFyaWEtbGFiZWw9e1wizprOu861zq/Pg865zrzOv1wifVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57XCLOlc6zzrPPgc6xz4bOrlwifTwvaDQ+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidHlwZVwiIHN0eWxlPXt7IGRpc3BsYXk6IFwibm9uZVwiIH19IC8+XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cInBhc3N3b3JkXCIgc3R5bGU9e3sgZGlzcGxheTogXCJub25lXCIgfX0gLz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgICAgICAgICA8U3RhcnRTb2NpYWxBdXRoXG4gICAgICAgICAgICAgICAgYnV0dG9uQ2xhc3NOYW1lPVwiY29sLXhzLTEyIGNvbC1zbS02XCJcbiAgICAgICAgICAgICAgICBidXR0b25MYWJlbD17XCLOo8+Nzr3OtM61z4POtyDOvM6tz4PPiSAlKHNpdGUpc1wifVxuICAgICAgICAgICAgICAgIGZvcm1MYWJlbD17XCLOlyDOtM63zrzOuc6/z4XPgc6zzq/OsSDOu86/zrPOsc+BzrnOsc+DzrzOv8+NOlwifVxuICAgICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgICAgICBsYWJlbD17XCLOjM69zr/OvM6xIM+Hz4HOrs+Dz4TOt1wifVxuICAgICAgICAgICAgICAgIGZvcj1cImlkX3VzZXJuYW1lXCJcbiAgICAgICAgICAgICAgICB2YWxpZGF0aW9uPXt0aGlzLnN0YXRlLmVycm9ycy51c2VybmFtZX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgaWQ9XCJpZF91c2VybmFtZVwiXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgYXJpYS1kZXNjcmliZWRieT1cImlkX3VzZXJuYW1lX3N0YXR1c1wiXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoXCJ1c2VybmFtZVwiKX1cbiAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnVzZXJuYW1lfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuXG4gICAgICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgICAgICBsYWJlbD17XCJFbWFpbFwifVxuICAgICAgICAgICAgICAgIGZvcj1cImlkX2VtYWlsXCJcbiAgICAgICAgICAgICAgICB2YWxpZGF0aW9uPXt0aGlzLnN0YXRlLmVycm9ycy5lbWFpbH1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgaWQ9XCJpZF9lbWFpbFwiXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgYXJpYS1kZXNjcmliZWRieT1cImlkX2VtYWlsX3N0YXR1c1wiXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoXCJlbWFpbFwiKX1cbiAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmVtYWlsfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuXG4gICAgICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgICAgICBsYWJlbD17XCLOms+JzrTOuc66z4zPgiDPgM+Bz4zPg86yzrHPg863z4JcIn1cbiAgICAgICAgICAgICAgICBmb3I9XCJpZF9wYXNzd29yZFwiXG4gICAgICAgICAgICAgICAgdmFsaWRhdGlvbj17dGhpcy5zdGF0ZS5lcnJvcnMucGFzc3dvcmR9XG4gICAgICAgICAgICAgICAgZXh0cmE9e1xuICAgICAgICAgICAgICAgICAgPFBhc3N3b3JkU3RyZW5ndGhcbiAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ9e3RoaXMuc3RhdGUucGFzc3dvcmR9XG4gICAgICAgICAgICAgICAgICAgIGlucHV0cz17W3RoaXMuc3RhdGUudXNlcm5hbWUsIHRoaXMuc3RhdGUuZW1haWxdfVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJwYXNzd29yZFwiXG4gICAgICAgICAgICAgICAgICBpZD1cImlkX3Bhc3N3b3JkXCJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICBhcmlhLWRlc2NyaWJlZGJ5PVwiaWRfcGFzc3dvcmRfc3RhdHVzXCJcbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcInBhc3N3b3JkXCIpfVxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUucGFzc3dvcmR9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG5cbiAgICAgICAgICAgICAge2NhcHRjaGEuY29tcG9uZW50KHtcbiAgICAgICAgICAgICAgICBmb3JtOiB0aGlzXG4gICAgICAgICAgICAgIH0pfVxuXG4gICAgICAgICAgICAgIDxSZWdpc3RlckxlZ2FsRm9vdG5vdGVcbiAgICAgICAgICAgICAgICBlcnJvcnM9e3RoaXMuc3RhdGUuZXJyb3JzfVxuICAgICAgICAgICAgICAgIHByaXZhY3lQb2xpY3k9e3RoaXMuc3RhdGUucHJpdmFjeVBvbGljeX1cbiAgICAgICAgICAgICAgICB0ZXJtc09mU2VydmljZT17dGhpcy5zdGF0ZS50ZXJtc09mU2VydmljZX1cbiAgICAgICAgICAgICAgICBvblByaXZhY3lQb2xpY3lDaGFuZ2U9e3RoaXMuaGFuZGxlUHJpdmFjeVBvbGljeUNoYW5nZX1cbiAgICAgICAgICAgICAgICBvblRlcm1zT2ZTZXJ2aWNlQ2hhbmdlPXt0aGlzLmhhbmRsZVRlcm1zT2ZTZXJ2aWNlQ2hhbmdlfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge1wizpHOus+Nz4HPic+DzrdcIn1cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwiYnRuLXByaW1hcnlcIiBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ30+XG4gICAgICAgICAgICAgICAge1wizpXOs86zz4HOsc+Gzq4gzrvOv86zzrHPgc65zrHPg868zr/PjVwifVxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFJlZ2lzdGVyQ29tcGxldGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRMZWFkKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmFjdGl2YXRpb24gPT09IFwidXNlclwiKSB7XG4gICAgICByZXR1cm4gXCIlKHVzZXJuYW1lKXMsIM6/IM67zr/Os86xz4HOuc6xz4POvM+Mz4Igz4POv8+FIM6tz4fOtc65IM60zrfOvM65zr/Phc+BzrPOt864zrXOrywgzrHOu867zqwgz4DPgc6tz4DOtc65IM69zrEgz4TOv869IM61zr3Otc+BzrPOv8+Azr/Ouc6uz4POtc65z4Igz4DPgc65zr0gz4PPhc69zrTOtc64zrXOr8+CIVwiXG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLmFjdGl2YXRpb24gPT09IFwiYWRtaW5cIikge1xuICAgICAgcmV0dXJuIFwiJSh1c2VybmFtZSlzLCDOvyDOu86/zrPOsc+BzrnOsc+DzrzPjM+CIM+Dzr/PhSDOrc+HzrXOuSDOtM63zrzOuc6/z4XPgc6zzrfOuM61zq8sIM6xzrvOu86sIM+Az4HOrc+AzrXOuSDOvc6xIM6zzq/Ovc61zrkgzrXPgM6xzrvOrs64zrXPhc+Dzrcgz4TPic69IM+Dz4TOv865z4fOtc6vz4nOvSDPgM+BzrnOvSDPg8+Fzr3OtM61zrjOtc6vz4IhXCJcbiAgICB9XG4gIH1cblxuICBnZXRTdWJzY3JpcHQoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuYWN0aXZhdGlvbiA9PT0gXCJ1c2VyXCIpIHtcbiAgICAgIHJldHVybiBcIs6Iz4fOv8+FzrzOtSDPg8+EzrXOr867zrXOuSDOrc69zrEgZW1haWwgz4PPhM6/ICUoZW1haWwpcyDPgM6/z4Ugz4DPgc6tz4DOtc65IM69zrEgzrrOrM69zrXOuc+CIM66zrvOuc66IM6zzrnOsSDOvc6xIM61zr3Otc+BzrPOv8+Azr/Ouc6uz4POtc65z4Igz4TOvyDOu86/zrPOsc+BzrnOsc+DzrzPjCDPg86/z4UuXCJcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuYWN0aXZhdGlvbiA9PT0gXCJhZG1pblwiKSB7XG4gICAgICByZXR1cm4gXCLOmM6xIM+Dz4TOtc6vzrvOv8+FzrzOtSDOrc69zrEgZW1haWwgz4PPhM6/ICUoZW1haWwpcywgz4zPhM6xzr0gzr/Ou86/zrrOu863z4HPic64zrXOryDOtyDOtM65zrHOtM65zrrOsc+Dzq/OsS5cIlxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdlxuICAgICAgICBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2cgbW9kYWwtbWVzc2FnZSBtb2RhbC1yZWdpc3RlclwiXG4gICAgICAgIHJvbGU9XCJkb2N1bWVudFwiXG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjbG9zZVwiXG4gICAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgYXJpYS1sYWJlbD17XCLOms67zrXOr8+DzrnOvM6/XCJ9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntcIs6fzrvOv866zrvOrs+Bz4nPg863IM61zrPOs8+BzrHPhs6uz4JcIn08L2g0PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWljb25cIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmluZm9fb3V0bGluZTwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICAgICAgICAgIHtpbnRlcnBvbGF0ZShcbiAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0TGVhZCgpLFxuICAgICAgICAgICAgICAgICAgeyB1c2VybmFtZTogdGhpcy5wcm9wcy51c2VybmFtZSB9LFxuICAgICAgICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgICAge2ludGVycG9sYXRlKFxuICAgICAgICAgICAgICAgICAgdGhpcy5nZXRTdWJzY3JpcHQoKSxcbiAgICAgICAgICAgICAgICAgIHsgZW1haWw6IHRoaXMucHJvcHMuZW1haWwgfSxcbiAgICAgICAgICAgICAgICAgIHRydWVcbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIlxuICAgICAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtcIs6fzppcIn1cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGNvbXBsZXRlOiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIGNvbXBsZXRlUmVnaXN0cmF0aW9uID0gYXBpUmVzcG9uc2UgPT4ge1xuICAgIGlmIChhcGlSZXNwb25zZS5hY3RpdmF0aW9uID09PSBcImFjdGl2ZVwiKSB7XG4gICAgICBtb2RhbC5oaWRlKClcbiAgICAgIGF1dGguc2lnbkluKGFwaVJlc3BvbnNlKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgY29tcGxldGU6IGFwaVJlc3BvbnNlXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5jb21wbGV0ZSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPFJlZ2lzdGVyQ29tcGxldGVcbiAgICAgICAgICBhY3RpdmF0aW9uPXt0aGlzLnN0YXRlLmNvbXBsZXRlLmFjdGl2YXRpb259XG4gICAgICAgICAgZW1haWw9e3RoaXMuc3RhdGUuY29tcGxldGUuZW1haWx9XG4gICAgICAgICAgdXNlcm5hbWU9e3RoaXMuc3RhdGUuY29tcGxldGUudXNlcm5hbWV9XG4gICAgICAgIC8+XG4gICAgICApXG4gICAgfVxuXG4gICAgcmV0dXJuIDxSZWdpc3RlckZvcm0gY2FsbGJhY2s9e3RoaXMuY29tcGxldGVSZWdpc3RyYXRpb259IHsuLi50aGlzLnByb3BzfSAvPlxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgQnV0dG9uIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9idXR0b25cIlxuaW1wb3J0IEZvcm0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm1cIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCAqIGFzIHZhbGlkYXRvcnMgZnJvbSBcIm1pc2Fnby91dGlscy92YWxpZGF0b3JzXCJcbmltcG9ydCBzaG93QmFubmVkUGFnZSBmcm9tIFwibWlzYWdvL3V0aWxzL2Jhbm5lZC1wYWdlXCJcblxuZXhwb3J0IGNsYXNzIFJlcXVlc3RMaW5rRm9ybSBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG5cbiAgICAgIGVtYWlsOiBcIlwiLFxuXG4gICAgICB2YWxpZGF0b3JzOiB7XG4gICAgICAgIGVtYWlsOiBbdmFsaWRhdG9ycy5lbWFpbCgpXVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGlmICh0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuZXJyb3IoXCLOks6szrvOtSDOrc6zzrrPhc+BzrcgzrTOuc61z43OuM+Fzr3Pg863IGVtYWlsIVwiKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wb3N0KG1pc2Fnby5nZXQoXCJTRU5EX0FDVElWQVRJT05fQVBJXCIpLCB7XG4gICAgICBlbWFpbDogdGhpcy5zdGF0ZS5lbWFpbFxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKGFwaVJlc3BvbnNlKSB7XG4gICAgdGhpcy5wcm9wcy5jYWxsYmFjayhhcGlSZXNwb25zZSlcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChbXCJhbHJlYWR5X2FjdGl2ZVwiLCBcImluYWN0aXZlX2FkbWluXCJdLmluZGV4T2YocmVqZWN0aW9uLmNvZGUpID4gLTEpIHtcbiAgICAgIHNuYWNrYmFyLmluZm8ocmVqZWN0aW9uLmRldGFpbClcbiAgICB9IGVsc2UgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMyAmJiByZWplY3Rpb24uYmFuKSB7XG4gICAgICBzaG93QmFubmVkUGFnZShyZWplY3Rpb24uYmFuKVxuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIndlbGwgd2VsbC1mb3JtIHdlbGwtZm9ybS1yZXF1ZXN0LWFjdGl2YXRpb24tbGlua1wiPlxuICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS1ncm91cFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250cm9sLWlucHV0XCI+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtcIs6XIM60zrnOtc+NzrjPhc69z4POtyBlbWFpbCDPg86/z4VcIn1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KFwiZW1haWxcIil9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuZW1haWx9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5IGJ0bi1ibG9ja1wiXG4gICAgICAgICAgICBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7XCLOkc+Azr/Pg8+Ezr/Ou86uIM+Dz4XOvc60zq3Pg868zr/PhVwifVxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8L2Zvcm0+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIExpbmtTZW50IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0TWVzc2FnZSgpIHtcbiAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICBcIs6fIM+Dz43Ovc60zrXPg868zr/PgiDOtc69zrXPgc6zzr/PgM6/zq/Ot8+DzrfPgiDOtc+Dz4TOrM67zrXOuSDPg8+Ezr8gJShlbWFpbClzXCIsXG4gICAgICB7XG4gICAgICAgIGVtYWlsOiB0aGlzLnByb3BzLnVzZXIuZW1haWxcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIndlbGwgd2VsbC1mb3JtIHdlbGwtZm9ybS1yZXF1ZXN0LWFjdGl2YXRpb24tbGluayB3ZWxsLWRvbmVcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkb25lLW1lc3NhZ2VcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtaWNvblwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNoZWNrPC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1ib2R5XCI+XG4gICAgICAgICAgICA8cD57dGhpcy5nZXRNZXNzYWdlKCl9PC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeSBidG4tYmxvY2tcIlxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnByb3BzLmNhbGxiYWNrfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtcIs6Rz4DOv8+Dz4TOv867zq4gzrrOsc65zr3Ov8+Nz4HOuc6/z4Ugz4PPhc69zrTOrc+DzrzOv8+FXCJ9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBjb21wbGV0ZTogZmFsc2VcbiAgICB9XG4gIH1cblxuICBjb21wbGV0ZSA9IGFwaVJlc3BvbnNlID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGNvbXBsZXRlOiBhcGlSZXNwb25zZVxuICAgIH0pXG4gIH1cblxuICByZXNldCA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGNvbXBsZXRlOiBmYWxzZVxuICAgIH0pXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuY29tcGxldGUpIHtcbiAgICAgIHJldHVybiA8TGlua1NlbnQgdXNlcj17dGhpcy5zdGF0ZS5jb21wbGV0ZX0gY2FsbGJhY2s9e3RoaXMucmVzZXR9IC8+XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiA8UmVxdWVzdExpbmtGb3JtIGNhbGxiYWNrPXt0aGlzLmNvbXBsZXRlfSAvPlxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgUmVhY3RET00gZnJvbSBcInJlYWN0LWRvbVwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uXCJcbmltcG9ydCBGb3JtIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgKiBhcyB2YWxpZGF0b3JzIGZyb20gXCJtaXNhZ28vdXRpbHMvdmFsaWRhdG9yc1wiXG5pbXBvcnQgc2hvd0Jhbm5lZFBhZ2UgZnJvbSBcIm1pc2Fnby91dGlscy9iYW5uZWQtcGFnZVwiXG5cbmV4cG9ydCBjbGFzcyBSZXF1ZXN0UmVzZXRGb3JtIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcblxuICAgICAgZW1haWw6IFwiXCIsXG5cbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgZW1haWw6IFt2YWxpZGF0b3JzLmVtYWlsKCldXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKHRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihcIs6SzqzOu861IM6tzrPOus+Fz4HOtyDOtM65zrXPjc64z4XOvc+DzrcgZW1haWwhXCIpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QobWlzYWdvLmdldChcIlNFTkRfUEFTU1dPUkRfUkVTRVRfQVBJXCIpLCB7XG4gICAgICBlbWFpbDogdGhpcy5zdGF0ZS5lbWFpbFxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKGFwaVJlc3BvbnNlKSB7XG4gICAgdGhpcy5wcm9wcy5jYWxsYmFjayhhcGlSZXNwb25zZSlcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChbXCJpbmFjdGl2ZV91c2VyXCIsIFwiaW5hY3RpdmVfYWRtaW5cIl0uaW5kZXhPZihyZWplY3Rpb24uY29kZSkgPiAtMSkge1xuICAgICAgdGhpcy5wcm9wcy5zaG93SW5hY3RpdmVQYWdlKHJlamVjdGlvbilcbiAgICB9IGVsc2UgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMyAmJiByZWplY3Rpb24uYmFuKSB7XG4gICAgICBzaG93QmFubmVkUGFnZShyZWplY3Rpb24uYmFuKVxuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIndlbGwgd2VsbC1mb3JtIHdlbGwtZm9ybS1yZXF1ZXN0LXBhc3N3b3JkLXJlc2V0XCI+XG4gICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRyb2wtaW5wdXRcIj5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e1wizpcgzrTOuc61z43OuM+Fzr3Pg863IGVtYWlsIM+Dzr/PhVwifVxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoXCJlbWFpbFwiKX1cbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5lbWFpbH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLXByaW1hcnkgYnRuLWJsb2NrXCJcbiAgICAgICAgICAgIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtcIs6Rz4DOv8+Dz4TOv867zq4gz4PPhc69zrTOrc+DzrzOv8+FXCJ9XG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTGlua1NlbnQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRNZXNzYWdlKCkge1xuICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgIFwizp8gz4PPjc69zrTOtc+DzrzOv8+CIM6zzrnOsSDOsc69zqzOus+EzrfPg863IM66z4nOtM65zrrOv8+NIM+Az4HPjM+DzrLOsc+DzrfPgiDOtc+Dz4TOrM67zrXOuSDPg8+Ezr8gJShlbWFpbClzXCIsXG4gICAgICB7XG4gICAgICAgIGVtYWlsOiB0aGlzLnByb3BzLnVzZXIuZW1haWxcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIndlbGwgd2VsbC1mb3JtIHdlbGwtZm9ybS1yZXF1ZXN0LXBhc3N3b3JkLXJlc2V0IHdlbGwtZG9uZVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRvbmUtbWVzc2FnZVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2hlY2s8L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgICAgIDxwPnt0aGlzLmdldE1lc3NhZ2UoKX08L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnkgYnRuLWJsb2NrXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucHJvcHMuY2FsbGJhY2t9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge1wiUmVxdWVzdCBhbm90aGVyIGxpbmtcIn1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEFjY291bnRJbmFjdGl2ZVBhZ2UgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRBY3RpdmF0ZUJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5hY3RpdmF0aW9uID09PSBcImluYWN0aXZlX3VzZXJcIikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPHA+XG4gICAgICAgICAgPGEgaHJlZj17bWlzYWdvLmdldChcIlJFUVVFU1RfQUNUSVZBVElPTl9VUkxcIil9PlxuICAgICAgICAgICAge1wizpXOvc61z4HOs86/z4DOv86vzrfPg863IM67zr/Os86xz4HOuc6xz4POvM6/z41cIn1cbiAgICAgICAgICA8L2E+XG4gICAgICAgIDwvcD5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZSBwYWdlLW1lc3NhZ2UgcGFnZS1tZXNzYWdlLWluZm8gcGFnZS1mb3Jnb3R0ZW4tcGFzc3dvcmQtaW5hY3RpdmVcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtcGFuZWxcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5pbmZvX291dGxpbmU8L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPntcIs6fIM67zr/Os86xz4HOuc6xz4POvM+Mz4Igz4POv8+FIM61zq/Ovc6xzrkgzrHPgM61zr3Otc+BzrPOv8+Azr/Ouc63zrzOrc69zr/PgiFcIn08L3A+XG4gICAgICAgICAgICAgIDxwPnt0aGlzLnByb3BzLm1lc3NhZ2V9PC9wPlxuICAgICAgICAgICAgICB7dGhpcy5nZXRBY3RpdmF0ZUJ1dHRvbigpfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBjb21wbGV0ZTogZmFsc2VcbiAgICB9XG4gIH1cblxuICBjb21wbGV0ZSA9IGFwaVJlc3BvbnNlID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGNvbXBsZXRlOiBhcGlSZXNwb25zZVxuICAgIH0pXG4gIH1cblxuICByZXNldCA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGNvbXBsZXRlOiBmYWxzZVxuICAgIH0pXG4gIH1cblxuICBzaG93SW5hY3RpdmVQYWdlKGFwaVJlc3BvbnNlKSB7XG4gICAgUmVhY3RET00ucmVuZGVyKFxuICAgICAgPEFjY291bnRJbmFjdGl2ZVBhZ2VcbiAgICAgICAgYWN0aXZhdGlvbj17YXBpUmVzcG9uc2UuY29kZX1cbiAgICAgICAgbWVzc2FnZT17YXBpUmVzcG9uc2UuZGV0YWlsfVxuICAgICAgLz4sXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBhZ2UtbW91bnRcIilcbiAgICApXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuY29tcGxldGUpIHtcbiAgICAgIHJldHVybiA8TGlua1NlbnQgY2FsbGJhY2s9e3RoaXMucmVzZXR9IHVzZXI9e3RoaXMuc3RhdGUuY29tcGxldGV9IC8+XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxSZXF1ZXN0UmVzZXRGb3JtXG4gICAgICAgIGNhbGxiYWNrPXt0aGlzLmNvbXBsZXRlfVxuICAgICAgICBzaG93SW5hY3RpdmVQYWdlPXt0aGlzLnNob3dJbmFjdGl2ZVBhZ2V9XG4gICAgICAvPlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgUmVhY3RET00gZnJvbSBcInJlYWN0LWRvbVwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uXCJcbmltcG9ydCBGb3JtIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtXCJcbmltcG9ydCBTaWduSW5Nb2RhbCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvc2lnbi1pbi5qc1wiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IGF1dGggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hdXRoXCJcbmltcG9ydCBtb2RhbCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL21vZGFsXCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBzaG93QmFubmVkUGFnZSBmcm9tIFwibWlzYWdvL3V0aWxzL2Jhbm5lZC1wYWdlXCJcblxuZXhwb3J0IGNsYXNzIFJlc2V0UGFzc3dvcmRGb3JtIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcblxuICAgICAgcGFzc3dvcmQ6IFwiXCJcbiAgICB9XG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5wYXNzd29yZC50cmltKCkubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihcIs6SzqzOu861IM66zrHOuc69zr/Pjc+BzrnOvyDOus+JzrTOuc66z4wgz4DPgc+Mz4POss6xz4POt8+CIVwiKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wb3N0KG1pc2Fnby5nZXQoXCJDSEFOR0VfUEFTU1dPUkRfQVBJXCIpLCB7XG4gICAgICBwYXNzd29yZDogdGhpcy5zdGF0ZS5wYXNzd29yZFxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKGFwaVJlc3BvbnNlKSB7XG4gICAgdGhpcy5wcm9wcy5jYWxsYmFjayhhcGlSZXNwb25zZSlcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDMgJiYgcmVqZWN0aW9uLmJhbikge1xuICAgICAgc2hvd0Jhbm5lZFBhZ2UocmVqZWN0aW9uLmJhbilcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3ZWxsIHdlbGwtZm9ybSB3ZWxsLWZvcm0tcmVzZXQtcGFzc3dvcmRcIj5cbiAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udHJvbC1pbnB1dFwiPlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICB0eXBlPVwicGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e1wizpLOrM67zrUgzrrOsc65zr3Ov8+Nz4HOuc6/IM66z4nOtM65zrrPjCDPgM+Bz4zPg86yzrHPg863z4JcIn1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KFwicGFzc3dvcmRcIil9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUucGFzc3dvcmR9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5IGJ0bi1ibG9ja1wiXG4gICAgICAgICAgICBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7XCLOhs67zrvOsc6+zrUgz4TOv869IM66z4nOtM65zrrPjCDPg86/z4VcIn1cbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQYXNzd29yZENoYW5nZWRQYWdlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0TWVzc2FnZSgpIHtcbiAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICBcIiUodXNlcm5hbWUpcywgzr8gzrrPic60zrnOus+Mz4Igz4DPgc+Mz4POss6xz4POrs+CIM+Dzr/PhSDOrc+HzrXOuSDOsc67zrvOrM6+zrXOuSDOtc+AzrnPhM+Fz4fPjs+CIVwiLFxuICAgICAge1xuICAgICAgICB1c2VybmFtZTogdGhpcy5wcm9wcy51c2VyLnVzZXJuYW1lXG4gICAgICB9LFxuICAgICAgdHJ1ZVxuICAgIClcbiAgfVxuXG4gIHNob3dTaWduSW4oKSB7XG4gICAgbW9kYWwuc2hvdyhTaWduSW5Nb2RhbClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlIHBhZ2UtbWVzc2FnZSBwYWdlLW1lc3NhZ2Utc3VjY2VzcyBwYWdlLWZvcmdvdHRlbi1wYXNzd29yZC1jaGFuZ2VkXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLXBhbmVsXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtaWNvblwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2hlY2s8L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPnt0aGlzLmdldE1lc3NhZ2UoKX08L3A+XG4gICAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIFwizpjOsSDPgM+Bzq3PgM61zrkgzr3OsSDPg8+Fzr3OtM61zrjOtc6vz4IgzrzOtSDPhM6/zr0gzrrOsc65zr3Ov8+Nz4HOuc6/IM+Dzr/PhSDOus+JzrTOuc66z4wgz4DPgc65zr0gz4PPhc69zrXPh86vz4POtc65z4IhXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnlcIlxuICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5zaG93U2lnbklufVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtcIs6jz43Ovc60zrXPg863XCJ9XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbXBsZXRlID0gYXBpUmVzcG9uc2UgPT4ge1xuICAgIGF1dGguc29mdFNpZ25PdXQoKVxuXG4gICAgLy8gbnVrZSBcInJlZGlyZWN0X3RvXCIgZmllbGQgc28gd2UgZG9uJ3QgZW5kXG4gICAgLy8gY29taW5nIGJhY2sgdG8gZXJyb3IgcGFnZSBhZnRlciBzaWduIGluXG4gICAgJCgnI2hpZGRlbi1sb2dpbi1mb3JtIGlucHV0W25hbWU9XCJyZWRpcmVjdF90b1wiXScpLnJlbW92ZSgpXG5cbiAgICBSZWFjdERPTS5yZW5kZXIoXG4gICAgICA8UGFzc3dvcmRDaGFuZ2VkUGFnZSB1c2VyPXthcGlSZXNwb25zZX0gLz4sXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBhZ2UtbW91bnRcIilcbiAgICApXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIDxSZXNldFBhc3N3b3JkRm9ybSBjYWxsYmFjaz17dGhpcy5jb21wbGV0ZX0gLz5cbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ29cIlxuaW1wb3J0IEZvcm0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm1cIlxuaW1wb3J0IHsgbG9hZCBhcyB1cGRhdGVQb3N0cyB9IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvcG9zdHNcIlxuaW1wb3J0IHsgdXBkYXRlIGFzIHVwZGF0ZVNlYXJjaCB9IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvc2VhcmNoXCJcbmltcG9ydCB7IGh5ZHJhdGUgYXMgdXBkYXRlVXNlcnMgfSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3VzZXJzXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcblxuICAgICAgcXVlcnk6IHByb3BzLnNlYXJjaC5xdWVyeVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGlmICh0aGlzLnN0YXRlLnF1ZXJ5Lmxlbmd0aCkge1xuICAgICAgdGhpcy5oYW5kbGVTdWJtaXQoKVxuICAgIH1cbiAgfVxuXG4gIG9uUXVlcnlDaGFuZ2UgPSBldmVudCA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZShcInF1ZXJ5XCIsIGV2ZW50LnRhcmdldC52YWx1ZSlcbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5xdWVyeS50cmltKCkubGVuZ3RoKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihcIs6gz4HOrc+AzrXOuSDOvc6xIM6yzqzOu861zrnPgiDPjM+Bzr/Phc+CIM6xzr3Osc62zq7PhM63z4POt8+CIVwiKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICB1cGRhdGVTZWFyY2goe1xuICAgICAgICBpc0xvYWRpbmc6IHRydWVcbiAgICAgIH0pXG4gICAgKVxuXG4gICAgcmV0dXJuIGFqYXguZ2V0KG1pc2Fnby5nZXQoXCJTRUFSQ0hfQVBJXCIpLCB7XG4gICAgICBxOiB0aGlzLnN0YXRlLnF1ZXJ5LnRyaW0oKVxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKHByb3ZpZGVycykge1xuICAgIHN0b3JlLmRpc3BhdGNoKFxuICAgICAgdXBkYXRlU2VhcmNoKHtcbiAgICAgICAgcXVlcnk6IHRoaXMuc3RhdGUucXVlcnkudHJpbSgpLFxuICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgICBwcm92aWRlcnNcbiAgICAgIH0pXG4gICAgKVxuXG4gICAgcHJvdmlkZXJzLmZvckVhY2gocHJvdmlkZXIgPT4ge1xuICAgICAgaWYgKHByb3ZpZGVyLmlkID09PSBcInVzZXJzXCIpIHtcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2godXBkYXRlVXNlcnMocHJvdmlkZXIucmVzdWx0cy5yZXN1bHRzKSlcbiAgICAgIH0gZWxzZSBpZiAocHJvdmlkZXIuaWQgPT09IFwidGhyZWFkc1wiKSB7XG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKHVwZGF0ZVBvc3RzKHByb3ZpZGVyLnJlc3VsdHMpKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG5cbiAgICBzdG9yZS5kaXNwYXRjaChcbiAgICAgIHVwZGF0ZVNlYXJjaCh7XG4gICAgICAgIGlzTG9hZGluZzogZmFsc2VcbiAgICAgIH0pXG4gICAgKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UtaGVhZGVyLWJnXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS1oZWFkZXIgcGFnZS1zZWFyY2gtZm9ybVwiPlxuICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyIGNvbC1tZC0zXCI+XG4gICAgICAgICAgICAgICAgICA8aDE+e1wizpHOvc6xzrbOrs+EzrfPg863XCJ9PC9oMT5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMiBjb2wtbWQtOVwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgeHMtbWFyZ2luLXRvcCBzbS1tYXJnaW4tdG9wXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyIGNvbC1zbS04IGNvbC1tZC05XCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuc2VhcmNoLmlzTG9hZGluZyB8fCB0aGlzLnN0YXRlLmlzTG9hZGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uUXVlcnlDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUucXVlcnl9XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgY29sLXNtLTQgY29sLW1kLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnkgYnRuLWJsb2NrIGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5zZWFyY2guaXNMb2FkaW5nIHx8IHRoaXMuc3RhdGUuaXNMb2FkaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAge1wizpHOvc6xzrbOrs+EzrfPg863XCJ9XG4gICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9mb3JtPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gXCJyZWFjdC1yZWR1eFwiXG5pbXBvcnQgU2VhcmNoVGhyZWFkcyBmcm9tIFwiLi90aHJlYWRzXCJcbmltcG9ydCBTZWFyY2hVc2VycyBmcm9tIFwiLi91c2Vyc1wiXG5cbmNvbnN0IGNvbXBvbmVudHMgPSB7XG4gIHRocmVhZHM6IFNlYXJjaFRocmVhZHMsXG4gIHVzZXJzOiBTZWFyY2hVc2Vyc1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0KHN0b3JlKSB7XG4gIHJldHVybiB7XG4gICAgcG9zdHM6IHN0b3JlLnBvc3RzLFxuICAgIHNlYXJjaDogc3RvcmUuc2VhcmNoLFxuICAgIHRpY2s6IHN0b3JlLnRpY2sudGljayxcbiAgICB1c2VyOiBzdG9yZS5hdXRoLnVzZXIsXG4gICAgdXNlcnM6IHN0b3JlLnVzZXJzXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvdmlkZXJzKSB7XG4gIHJldHVybiBwcm92aWRlcnMubWFwKHByb3ZpZGVyID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgcGF0aDogcHJvdmlkZXIudXJsLFxuICAgICAgY29tcG9uZW50OiBjb25uZWN0KHNlbGVjdCkoY29tcG9uZW50c1twcm92aWRlci5pZF0pLFxuICAgICAgcHJvdmlkZXI6IHByb3ZpZGVyXG4gICAgfVxuICB9KVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgU2VhcmNoRm9ybSBmcm9tIFwiLi9mb3JtXCJcbmltcG9ydCBTaWRlTmF2IGZyb20gXCIuL3NpZGVuYXZcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZSBwYWdlLXNlYXJjaFwiPlxuICAgICAgPFNlYXJjaEZvcm0gcHJvdmlkZXI9e3Byb3BzLnByb3ZpZGVyfSBzZWFyY2g9e3Byb3BzLnNlYXJjaH0gLz5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtM1wiPlxuICAgICAgICAgICAgPFNpZGVOYXYgcHJvdmlkZXJzPXtwcm9wcy5zZWFyY2gucHJvdmlkZXJzfSAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTlcIj5cbiAgICAgICAgICAgIHtwcm9wcy5jaGlsZHJlbn1cbiAgICAgICAgICAgIDxTZWFyY2hUaW1lIHByb3ZpZGVyPXtwcm9wcy5wcm92aWRlcn0gc2VhcmNoPXtwcm9wcy5zZWFyY2h9IC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFNlYXJjaFRpbWUocHJvcHMpIHtcbiAgbGV0IHRpbWUgPSBudWxsXG4gIHByb3BzLnNlYXJjaC5wcm92aWRlcnMuZm9yRWFjaChwID0+IHtcbiAgICBpZiAocC5pZCA9PT0gcHJvcHMucHJvdmlkZXIuaWQpIHtcbiAgICAgIHRpbWUgPSBwLnRpbWVcbiAgICB9XG4gIH0pXG5cbiAgaWYgKHRpbWUgPT09IG51bGwpIHJldHVybiBudWxsXG5cbiAgY29uc3QgY29weSA9IFwizpcgzrHOvc6xzrbOrs+EzrfPg863IM60zrnOrs+BzrrOtc+DzrUgJSh0aW1lKXMgzrTOtc+Fz4TOtc+Bz4zOu861z4DPhM6xXCJcblxuICByZXR1cm4gKFxuICAgIDxmb290ZXIgY2xhc3NOYW1lPVwic2VhcmNoLWZvb3RlclwiPlxuICAgICAgPHA+e2ludGVycG9sYXRlKGNvcHksIHsgdGltZSB9LCB0cnVlKX08L3A+XG4gICAgPC9mb290ZXI+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgTGluayB9IGZyb20gXCJyZWFjdC1yb3V0ZXJcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibGlzdC1ncm91cCBuYXYtc2lkZVwiPlxuICAgICAge3Byb3BzLnByb3ZpZGVycy5tYXAocHJvdmlkZXIgPT4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxMaW5rXG4gICAgICAgICAgICBhY3RpdmVDbGFzc05hbWU9XCJhY3RpdmVcIlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwibGlzdC1ncm91cC1pdGVtXCJcbiAgICAgICAgICAgIGtleT17cHJvdmlkZXIuaWR9XG4gICAgICAgICAgICB0bz17cHJvdmlkZXIudXJsfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj57cHJvdmlkZXIuaWNvbn08L3NwYW4+XG4gICAgICAgICAgICB7cHJvdmlkZXIubmFtZX1cbiAgICAgICAgICAgIDxCYWRnZSByZXN1bHRzPXtwcm92aWRlci5yZXN1bHRzfSAvPlxuICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgKVxuICAgICAgfSl9XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEJhZGdlKHByb3BzKSB7XG4gIGlmICghcHJvcHMucmVzdWx0cykgcmV0dXJuIG51bGxcblxuICBsZXQgY291bnQgPSBwcm9wcy5yZXN1bHRzLmNvdW50XG4gIGlmIChjb3VudCA+IDEwMDAwMDApIHtcbiAgICBjb3VudCA9IE1hdGguY2VpbChjb3VudCAvIDEwMDAwMDApICsgXCJLS1wiXG4gIH0gZWxzZSBpZiAoY291bnQgPiAxMDAwKSB7XG4gICAgY291bnQgPSBNYXRoLmNlaWwoY291bnQgLyAxMDAwKSArIFwiS1wiXG4gIH1cblxuICByZXR1cm4gPHNwYW4gY2xhc3NOYW1lPVwiYmFkZ2VcIj57Y291bnR9PC9zcGFuPlxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgU2VhcmNoUGFnZSBmcm9tIFwiLi4vcGFnZVwiXG5pbXBvcnQgUmVzdWx0cyBmcm9tIFwiLi9yZXN1bHRzXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8U2VhcmNoUGFnZSBwcm92aWRlcj17cHJvcHMucm91dGUucHJvdmlkZXJ9IHNlYXJjaD17cHJvcHMuc2VhcmNofT5cbiAgICAgIDxCbGFua3NsYXRlIHF1ZXJ5PXtwcm9wcy5zZWFyY2gucXVlcnl9IHBvc3RzPXtwcm9wcy5wb3N0c30+XG4gICAgICAgIDxSZXN1bHRzXG4gICAgICAgICAgcHJvdmlkZXI9e3Byb3BzLnJvdXRlLnByb3ZpZGVyfVxuICAgICAgICAgIHF1ZXJ5PXtwcm9wcy5zZWFyY2gucXVlcnl9XG4gICAgICAgICAgey4uLnByb3BzLnBvc3RzfVxuICAgICAgICAvPlxuICAgICAgPC9CbGFua3NsYXRlPlxuICAgIDwvU2VhcmNoUGFnZT5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gQmxhbmtzbGF0ZShwcm9wcykge1xuICBpZiAocHJvcHMucG9zdHMgJiYgcHJvcHMucG9zdHMuY291bnQpIHJldHVybiBwcm9wcy5jaGlsZHJlblxuXG4gIGlmIChwcm9wcy5xdWVyeS5sZW5ndGgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICB7XCLOms6xzrzOr86xIM6xzrPOs861zrvOr86xIM60zrUgzrLPgc6tzrjOt866zrUuLi5cIn1cbiAgICAgIDwvcD5cbiAgICApXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgIHtcIs6SzqzOu861IM+Ezr/Phc67zqzPh865z4PPhM6/zr0gzrTPjc6/IM+HzrHPgc6xzrrPhM6uz4HOtc+CLi4uXCJ9XG4gICAgPC9wPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBQb3N0RmVlZCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvcG9zdC1mZWVkXCJcbmltcG9ydCBCdXR0b24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2J1dHRvblwiXG5pbXBvcnQgTWlzYWdvTWFya3VwIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9taXNhZ28tbWFya3VwXCJcbmltcG9ydCB7XG4gIHVwZGF0ZSBhcyB1cGRhdGVQb3N0cyxcbiAgYXBwZW5kIGFzIGFwcGVuZFBvc3RzXG59IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvcG9zdHNcIlxuaW1wb3J0IHsgdXBkYXRlUHJvdmlkZXIgfSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3NlYXJjaFwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXY+XG4gICAgICA8UG9zdEZlZWQgaXNSZWFkeT17dHJ1ZX0gcG9zdHM9e3Byb3BzLnJlc3VsdHN9IC8+XG4gICAgICA8TG9hZE1vcmUgey4uLnByb3BzfSAvPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBjbGFzcyBMb2FkTW9yZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICB1cGRhdGVQb3N0cyh7XG4gICAgICAgIGlzQnVzeTogdHJ1ZVxuICAgICAgfSlcbiAgICApXG5cbiAgICBhamF4XG4gICAgICAuZ2V0KHRoaXMucHJvcHMucHJvdmlkZXIuYXBpLCB7XG4gICAgICAgIHE6IHRoaXMucHJvcHMucXVlcnksXG4gICAgICAgIHBhZ2U6IHRoaXMucHJvcHMubmV4dFxuICAgICAgfSlcbiAgICAgIC50aGVuKFxuICAgICAgICBwcm92aWRlcnMgPT4ge1xuICAgICAgICAgIHByb3ZpZGVycy5mb3JFYWNoKHByb3ZpZGVyID0+IHtcbiAgICAgICAgICAgIGlmIChwcm92aWRlci5pZCAhPT0gXCJ0aHJlYWRzXCIpIHJldHVyblxuICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goYXBwZW5kUG9zdHMocHJvdmlkZXIucmVzdWx0cykpXG4gICAgICAgICAgICBzdG9yZS5kaXNwYXRjaCh1cGRhdGVQcm92aWRlcihwcm92aWRlcikpXG4gICAgICAgICAgfSlcblxuICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKFxuICAgICAgICAgICAgdXBkYXRlUG9zdHMoe1xuICAgICAgICAgICAgICBpc0J1c3k6IGZhbHNlXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIClcbiAgICAgICAgfSxcbiAgICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG5cbiAgICAgICAgICBzdG9yZS5kaXNwYXRjaChcbiAgICAgICAgICAgIHVwZGF0ZVBvc3RzKHtcbiAgICAgICAgICAgICAgaXNCdXN5OiBmYWxzZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICApXG4gICAgICAgIH1cbiAgICAgIClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMubW9yZSkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2VyLW1vcmVcIj5cbiAgICAgICAgPEJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tb3V0bGluZVwiXG4gICAgICAgICAgbG9hZGluZz17dGhpcy5wcm9wcy5pc0J1c3l9XG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICA+XG4gICAgICAgICAge1wizqDOtc+BzrnPg8+Dz4zPhM61z4HOtc+CXCJ9XG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBTZWFyY2hQYWdlIGZyb20gXCIuLi9wYWdlXCJcbmltcG9ydCBVc2Vyc0xpc3QgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3VzZXJzLWxpc3RcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxTZWFyY2hQYWdlIHByb3ZpZGVyPXtwcm9wcy5yb3V0ZS5wcm92aWRlcn0gc2VhcmNoPXtwcm9wcy5zZWFyY2h9PlxuICAgICAgPEJsYW5rc2xhdGUgcXVlcnk9e3Byb3BzLnNlYXJjaC5xdWVyeX0gdXNlcnM9e3Byb3BzLnVzZXJzfT5cbiAgICAgICAgPFVzZXJzTGlzdCBjb2xzPXszfSBpc1JlYWR5PXt0cnVlfSB1c2Vycz17cHJvcHMudXNlcnN9IC8+XG4gICAgICA8L0JsYW5rc2xhdGU+XG4gICAgPC9TZWFyY2hQYWdlPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBCbGFua3NsYXRlKHByb3BzKSB7XG4gIGlmIChwcm9wcy51c2Vycy5sZW5ndGgpIHJldHVybiBwcm9wcy5jaGlsZHJlblxuXG4gIGlmIChwcm9wcy5xdWVyeS5sZW5ndGgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICB7XCLOms6xzr3Orc69zrHPgiDPh8+Bzq7Pg8+EzrfPgiDOtM61IM6yz4HOrc64zrfOus61Li4uXCJ9XG4gICAgICA8L3A+XG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICB7XCLOks6szrvOtSDPhM6/z4XOu86sz4fOuc+Dz4TOv869IM60z43OvyDPh86xz4HOsc66z4TOrs+BzrXPgi4uLlwifVxuICAgIDwvcD5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0Q2hvaWNlKCkge1xuICAgIGxldCBjaG9pY2UgPSBudWxsXG4gICAgdGhpcy5wcm9wcy5jaG9pY2VzLm1hcChpdGVtID0+IHtcbiAgICAgIGlmIChpdGVtLnZhbHVlID09PSB0aGlzLnByb3BzLnZhbHVlKSB7XG4gICAgICAgIGNob2ljZSA9IGl0ZW1cbiAgICAgIH1cbiAgICB9KVxuICAgIHJldHVybiBjaG9pY2VcbiAgfVxuXG4gIGdldEljb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q2hvaWNlKCkuaWNvblxuICB9XG5cbiAgZ2V0TGFiZWwoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q2hvaWNlKCkubGFiZWxcbiAgfVxuXG4gIGNoYW5nZSA9IHZhbHVlID0+IHtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgdGhpcy5wcm9wcy5vbkNoYW5nZSh7XG4gICAgICAgIHRhcmdldDoge1xuICAgICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJidG4tZ3JvdXAgYnRuLXNlbGVjdC1ncm91cFwiPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1zZWxlY3QgZHJvcGRvd24tdG9nZ2xlXCJcbiAgICAgICAgICBpZD17dGhpcy5wcm9wcy5pZCB8fCBudWxsfVxuICAgICAgICAgIGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIlxuICAgICAgICAgIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCJcbiAgICAgICAgICBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIlxuICAgICAgICAgIGFyaWEtZGVzY3JpYmVkYnk9e3RoaXMucHJvcHNbXCJhcmlhLWRlc2NyaWJlZGJ5XCJdIHx8IG51bGx9XG4gICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWQgfHwgZmFsc2V9XG4gICAgICAgID5cbiAgICAgICAgICA8SWNvbiBpY29uPXt0aGlzLmdldEljb24oKX0gLz5cbiAgICAgICAgICB7dGhpcy5nZXRMYWJlbCgpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPHVsIGNsYXNzTmFtZT1cImRyb3Bkb3duLW1lbnVcIj5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5jaG9pY2VzLm1hcCgoaXRlbSwgaSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPGxpIGtleT17aX0+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tbGlua1wiXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmNoYW5nZShpdGVtLnZhbHVlKX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8SWNvbiBpY29uPXtpdGVtLmljb259IC8+XG4gICAgICAgICAgICAgICAgICB7aXRlbS5sYWJlbH1cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgIClcbiAgICAgICAgICB9KX1cbiAgICAgICAgPC91bD5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gSWNvbih7IGljb24gfSkge1xuICBpZiAoIWljb24pIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj57aWNvbn08L3NwYW4+XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgQnV0dG9uIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9idXR0b25cIlxuaW1wb3J0IEZvcm0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm1cIlxuaW1wb3J0IFN0YXJ0U29jaWFsQXV0aCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvU3RhcnRTb2NpYWxBdXRoXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgbW9kYWwgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9tb2RhbFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc2hvd0Jhbm5lZFBhZ2UgZnJvbSBcIm1pc2Fnby91dGlscy9iYW5uZWQtcGFnZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgIHNob3dBY3RpdmF0aW9uOiBmYWxzZSxcblxuICAgICAgdXNlcm5hbWU6IFwiXCIsXG4gICAgICBwYXNzd29yZDogXCJcIixcblxuICAgICAgdmFsaWRhdG9yczoge1xuICAgICAgICB1c2VybmFtZTogW10sXG4gICAgICAgIHBhc3N3b3JkOiBbXVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKFwizqPPhc68z4DOu86uz4HPic+DzrUgzrrOsc65IM+EzrEgzrTPjc6/IVwiKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wb3N0KG1pc2Fnby5nZXQoXCJBVVRIX0FQSVwiKSwge1xuICAgICAgdXNlcm5hbWU6IHRoaXMuc3RhdGUudXNlcm5hbWUsXG4gICAgICBwYXNzd29yZDogdGhpcy5zdGF0ZS5wYXNzd29yZFxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKCkge1xuICAgIGxldCBmb3JtID0gJChcIiNoaWRkZW4tbG9naW4tZm9ybVwiKVxuXG4gICAgZm9ybS5hcHBlbmQoJzxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJ1c2VybmFtZVwiIC8+JylcbiAgICBmb3JtLmFwcGVuZCgnPGlucHV0IHR5cGU9XCJwYXNzd29yZFwiIG5hbWU9XCJwYXNzd29yZFwiIC8+JylcblxuICAgIC8vIGZpbGwgb3V0IGZvcm0gd2l0aCB1c2VyIGNyZWRlbnRpYWxzIGFuZCBzdWJtaXQgaXQsIHRoaXMgd2lsbCB0ZWxsXG4gICAgLy8gTWlzYWdvIHRvIHJlZGlyZWN0IHVzZXIgYmFjayB0byByaWdodCBwYWdlLCBhbmQgd2lsbCB0cmlnZ2VyIGJyb3dzZXInc1xuICAgIC8vIGtleSByaW5nIGZlYXR1cmVcbiAgICBmb3JtLmZpbmQoJ2lucHV0W3R5cGU9XCJoaWRkZW5cIl0nKS52YWwoYWpheC5nZXRDc3JmVG9rZW4oKSlcbiAgICBmb3JtLmZpbmQoJ2lucHV0W25hbWU9XCJyZWRpcmVjdF90b1wiXScpLnZhbCh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUpXG4gICAgZm9ybS5maW5kKCdpbnB1dFtuYW1lPVwidXNlcm5hbWVcIl0nKS52YWwodGhpcy5zdGF0ZS51c2VybmFtZSlcbiAgICBmb3JtLmZpbmQoJ2lucHV0W25hbWU9XCJwYXNzd29yZFwiXScpLnZhbCh0aGlzLnN0YXRlLnBhc3N3b3JkKVxuICAgIGZvcm0uc3VibWl0KClcblxuICAgIC8vIGtlZXAgZm9ybSBsb2FkaW5nXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0xvYWRpbmc6IHRydWVcbiAgICB9KVxuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgaWYgKHJlamVjdGlvbi5jb2RlID09PSBcImluYWN0aXZlX2FkbWluXCIpIHtcbiAgICAgICAgc25hY2tiYXIuaW5mbyhyZWplY3Rpb24uZGV0YWlsKVxuICAgICAgfSBlbHNlIGlmIChyZWplY3Rpb24uY29kZSA9PT0gXCJpbmFjdGl2ZV91c2VyXCIpIHtcbiAgICAgICAgc25hY2tiYXIuaW5mbyhyZWplY3Rpb24uZGV0YWlsKVxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBzaG93QWN0aXZhdGlvbjogdHJ1ZVxuICAgICAgICB9KVxuICAgICAgfSBlbHNlIGlmIChyZWplY3Rpb24uY29kZSA9PT0gXCJiYW5uZWRcIikge1xuICAgICAgICBzaG93QmFubmVkUGFnZShyZWplY3Rpb24uZGV0YWlsKVxuICAgICAgICBtb2RhbC5oaWRlKClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWwpXG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDMgJiYgcmVqZWN0aW9uLmJhbikge1xuICAgICAgc2hvd0Jhbm5lZFBhZ2UocmVqZWN0aW9uLmJhbilcbiAgICAgIG1vZGFsLmhpZGUoKVxuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgfVxuICB9XG5cbiAgZ2V0QWN0aXZhdGlvbkJ1dHRvbigpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUuc2hvd0FjdGl2YXRpb24pIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGFcbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1zdWNjZXNzIGJ0bi1ibG9ja1wiXG4gICAgICAgIGhyZWY9e21pc2Fnby5nZXQoXCJSRVFVRVNUX0FDVElWQVRJT05fVVJMXCIpfVxuICAgICAgPlxuICAgICAgICB7XCLOlc69zrXPgc6zzr/PgM6/zq/Ot8+DzrcgzrvOv86zzrHPgc65zrHPg868zr/PjVwifVxuICAgICAgPC9hPlxuICAgIClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2cgbW9kYWwtc20gbW9kYWwtc2lnbi1pblwiIHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtcIs6azrvOtc6vz4POuc68zr9cIn1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2xvc2VcIlxuICAgICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57XCLOo8+Nzr3OtM61z4POt1wifTwvaDQ+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgICAgICAgICA8U3RhcnRTb2NpYWxBdXRoXG4gICAgICAgICAgICAgICAgYnV0dG9uTGFiZWw9e1wizqPPjc69zrTOtc+Dzrcgz4PPhM6/ICUoc2l0ZSlzXCJ9XG4gICAgICAgICAgICAgICAgZm9ybUxhYmVsPXtcIs6JIM+Hz4HOt8+DzrnOvM6/z4DOv86vzrfPg861IM+Ezr8gzrvOv86zzrHPgc65zrHPg868z4wgz4POv8+FOlwifVxuICAgICAgICAgICAgICAgIGxhYmVsQ2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIlxuICAgICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS1ncm91cFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udHJvbC1pbnB1dFwiPlxuICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbCBpbnB1dC1sZ1wiXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgaWQ9XCJpZF91c2VybmFtZVwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcInVzZXJuYW1lXCIpfVxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17XCLOjM69zr/OvM6xIM+Hz4HOrs+Dz4TOtyDOriBlbWFpbFwifVxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnVzZXJuYW1lfVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250cm9sLWlucHV0XCI+XG4gICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sIGlucHV0LWxnXCJcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICBpZD1cImlkX3Bhc3N3b3JkXCJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KFwicGFzc3dvcmRcIil9XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtcIs6az4nOtM65zrrPjM+CIM+Az4HPjM+DzrLOsc+DzrfPglwifVxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwicGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5wYXNzd29yZH1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICAgICAgICB7dGhpcy5nZXRBY3RpdmF0aW9uQnV0dG9uKCl9XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tcHJpbWFyeSBidG4tYmxvY2tcIlxuICAgICAgICAgICAgICAgIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge1wizqPPjc69zrTOtc+DzrdcIn1cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9ja1wiXG4gICAgICAgICAgICAgICAgaHJlZj17bWlzYWdvLmdldChcIkZPUkdPVFRFTl9QQVNTV09SRF9VUkxcIil9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7XCLOns6tz4fOsc+DzrXPgiDPhM6/zr0gzrrPic60zrnOus+MIM+Az4HPjM+DzrLOsc+Dzq7PgiDPg86/z4U7XCJ9XG4gICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5jb25zdCBUWVBFU19DTEFTU0VTID0ge1xuICBpbmZvOiBcImFsZXJ0LWluZm9cIixcbiAgc3VjY2VzczogXCJhbGVydC1zdWNjZXNzXCIsXG4gIHdhcm5pbmc6IFwiYWxlcnQtd2FybmluZ1wiLFxuICBlcnJvcjogXCJhbGVydC1kYW5nZXJcIlxufVxuXG5leHBvcnQgY2xhc3MgU25hY2tiYXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRTbmFja2JhckNsYXNzKCkge1xuICAgIGxldCBzbmFja2JhckNsYXNzID0gXCJhbGVydHMtc25hY2tiYXJcIlxuICAgIGlmICh0aGlzLnByb3BzLmlzVmlzaWJsZSkge1xuICAgICAgc25hY2tiYXJDbGFzcyArPSBcIiBpblwiXG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyQ2xhc3MgKz0gXCIgb3V0XCJcbiAgICB9XG4gICAgcmV0dXJuIHNuYWNrYmFyQ2xhc3NcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e3RoaXMuZ2V0U25hY2tiYXJDbGFzcygpfT5cbiAgICAgICAgPHAgY2xhc3NOYW1lPXtcImFsZXJ0IFwiICsgVFlQRVNfQ0xBU1NFU1t0aGlzLnByb3BzLnR5cGVdfT5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5tZXNzYWdlfVxuICAgICAgICA8L3A+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdChzdGF0ZSkge1xuICByZXR1cm4gc3RhdGUuc25hY2tiYXJcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEhlYWRlciBmcm9tIFwiLi9oZWFkZXJcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvXCJcblxuY29uc3QgQ29tcGxldGUgPSAoeyBhY3RpdmF0aW9uLCBiYWNrZW5kX25hbWUsIHVzZXJuYW1lIH0pID0+IHtcbiAgbGV0IGljb24gPSBcIlwiXG4gIGxldCBtZXNzYWdlID0gXCJcIlxuICBpZiAoYWN0aXZhdGlvbiA9PT0gXCJ1c2VyXCIpIHtcbiAgICBtZXNzYWdlID0gXCIlKHVzZXJuYW1lKXMsIM6/IM67zr/Os86xz4HOuc6xz4POvM+Mz4Igz4POv8+FIM6tz4fOtc65IM60zrfOvM65zr/Phc+BzrPOt864zrXOrywgzrHOu867zqwgz4DPgc6tz4DOtc65IM69zrEgz4TOv869IM61zr3Otc+BzrPOv8+Azr/Ouc6uz4POtc65z4JcIlxuICB9IGVsc2UgaWYgKGFjdGl2YXRpb24gPT09IFwiYWRtaW5cIikge1xuICAgIG1lc3NhZ2UgPSBcIiUodXNlcm5hbWUpcywgzr8gzrvOv86zzrHPgc65zrHPg868z4zPgiDPg86/z4Ugzq3Ph861zrkgzrTOt868zrnOv8+Fz4HOs863zrjOtc6vLCDOsc67zrvOrCDOvyDOtM65zrHPh861zrnPgc65z4PPhM6uz4Igz4DPgc6tz4DOtc65IM69zrEgzrrOrM69zrXOuSDOtc+AzrnOss61zrLOsc6vz4nPg863IM+Ez4nOvSDPg8+Ezr/Ouc+HzrXOr8+Jzr0gzrrOsc65IM69zrEgz4TOv869IM61zr3Otc+BzrPOv8+Azr/Ouc6uz4POtc65XCJcbiAgfSBlbHNlIHtcbiAgICBtZXNzYWdlID0gXCIlKHVzZXJuYW1lKXMsIM6/IM67zr/Os86xz4HOuc6xz4POvM+Mz4Igz4POv8+FIM6tz4fOtc65IM61zr3Otc+BzrPOv8+Azr/Ouc63zrjOtc6vIM66zrHOuSDOrc+HzrXOuc+CIM+Dz4XOvc60zrXOuM61zq9cIlxuICB9XG5cbiAgaWYgKGFjdGl2YXRpb24gPT09IFwiYWN0aXZlXCIpIHtcbiAgICBpY29uID0gXCJjaGVja1wiXG4gIH0gZWxzZSB7XG4gICAgaWNvbiA9IFwiaW5mb19vdXRsaW5lXCJcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlIHBhZ2Utc29jaWFsLWF1dGggcGFnZS1zb2NpYWwtc2F1dGgtcmVnaXN0ZXJcIj5cbiAgICAgIDxIZWFkZXIgYmFja2VuZE5hbWU9e2JhY2tlbmRfbmFtZX0gLz5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtNiBjb2wtbWQtb2Zmc2V0LTNcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBwYW5lbC1mb3JtXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtaGVhZGluZ1wiPlxuICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJwYW5lbC10aXRsZVwiPlxuICAgICAgICAgICAgICAgICAge1wizpXPgM65z4TPhc+Hzq7PgiDOtc6zzrPPgc6xz4bOriFcIn1cbiAgICAgICAgICAgICAgICA8L2gzPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5IHBhbmVsLW1lc3NhZ2UtYm9keVwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+e2ljb259PC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1ib2R5XCI+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAgICAgICAgICAgIHtpbnRlcnBvbGF0ZShtZXNzYWdlLCB7IHVzZXJuYW1lIH0sIHRydWUpfVxuICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiaGVscC1ibG9ja1wiPlxuICAgICAgICAgICAgICAgICAgICA8YVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiXG4gICAgICAgICAgICAgICAgICAgICAgaHJlZj17bWlzYWdvLmdldChcIk1JU0FHT19QQVRIXCIpfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAge1wizpXPgM65z4PPhM+Bzr/Phs6uIM+Dz4TOt869IM6xz4HPh865zrrOriDPg861zrvOr860zrFcIn1cbiAgICAgICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbXBsZXRlXG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuY29uc3QgSGVhZGVyID0gKHsgYmFja2VuZE5hbWUgfSkgPT4ge1xuICBjb25zdCBwYWdlVGl0bGVUcGwgPSBcIs6jz4XOvc60zq3Pg86/z4UgzrzOrc+Dz4kgJShiYWNrZW5kKXNcIlxuICBjb25zdCBwYWdlVGl0bGUgPSBpbnRlcnBvbGF0ZShwYWdlVGl0bGVUcGwsIHsgYmFja2VuZDogYmFja2VuZE5hbWUgfSwgdHJ1ZSlcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS1oZWFkZXItYmdcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS1oZWFkZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICA8aDE+e3BhZ2VUaXRsZX08L2gxPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IEhlYWRlclxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgUmVnaXN0ZXIgZnJvbSBcIi4vcmVnaXN0ZXJcIlxuaW1wb3J0IENvbXBsZXRlIGZyb20gXCIuL2NvbXBsZXRlXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU29jaWFsQXV0aCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgc3RlcDogcHJvcHMuc3RlcCxcblxuICAgICAgYWN0aXZhdGlvbjogcHJvcHMuYWN0aXZhdGlvbiB8fCBcIlwiLFxuICAgICAgZW1haWw6IHByb3BzLmVtYWlsIHx8IFwiXCIsXG4gICAgICB1c2VybmFtZTogcHJvcHMudXNlcm5hbWUgfHwgXCJcIlxuICAgIH1cbiAgfVxuXG4gIGhhbmRsZVJlZ2lzdHJhdGlvbkNvbXBsZXRlID0gKHsgYWN0aXZhdGlvbiwgZW1haWwsIHN0ZXAsIHVzZXJuYW1lIH0pID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHsgYWN0aXZhdGlvbiwgZW1haWwsIHN0ZXAsIHVzZXJuYW1lIH0pXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBiYWNrZW5kX25hbWUsIHVybCB9ID0gdGhpcy5wcm9wc1xuICAgIGNvbnN0IHsgYWN0aXZhdGlvbiwgZW1haWwsIHN0ZXAsIHVzZXJuYW1lIH0gPSB0aGlzLnN0YXRlXG5cbiAgICBpZiAoc3RlcCA9PT0gXCJyZWdpc3RlclwiKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8UmVnaXN0ZXJcbiAgICAgICAgICBiYWNrZW5kX25hbWU9e2JhY2tlbmRfbmFtZX1cbiAgICAgICAgICBlbWFpbD17ZW1haWx9XG4gICAgICAgICAgdXJsPXt1cmx9XG4gICAgICAgICAgdXNlcm5hbWU9e3VzZXJuYW1lfVxuICAgICAgICAgIG9uUmVnaXN0cmF0aW9uQ29tcGxldGU9e3RoaXMuaGFuZGxlUmVnaXN0cmF0aW9uQ29tcGxldGV9XG4gICAgICAgIC8+XG4gICAgICApXG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxDb21wbGV0ZVxuICAgICAgICBhY3RpdmF0aW9uPXthY3RpdmF0aW9ufVxuICAgICAgICBiYWNrZW5kX25hbWU9e2JhY2tlbmRfbmFtZX1cbiAgICAgICAgZW1haWw9e2VtYWlsfVxuICAgICAgICB1cmw9e3VybH1cbiAgICAgICAgdXNlcm5hbWU9e3VzZXJuYW1lfVxuICAgICAgLz5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvXCJcbmltcG9ydCBSZWdpc3RlckxlZ2FsRm9vdG5vdGUgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL1JlZ2lzdGVyTGVnYWxGb290bm90ZVwiXG5pbXBvcnQgQnV0dG9uIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9idXR0b25cIlxuaW1wb3J0IEZvcm0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm1cIlxuaW1wb3J0IEZvcm1Hcm91cCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cFwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0ICogYXMgdmFsaWRhdG9ycyBmcm9tIFwibWlzYWdvL3V0aWxzL3ZhbGlkYXRvcnNcIlxuaW1wb3J0IEhlYWRlciBmcm9tIFwiLi9oZWFkZXJcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZWdpc3RlciBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgY29uc3QgZm9ybVZhbGlkYXRvcnMgPSB7XG4gICAgICBlbWFpbDogW3ZhbGlkYXRvcnMuZW1haWwoKV0sXG4gICAgICB1c2VybmFtZTogW3ZhbGlkYXRvcnMudXNlcm5hbWVDb250ZW50KCldXG4gICAgfVxuXG4gICAgaWYgKCEhbWlzYWdvLmdldChcIlRFUk1TX09GX1NFUlZJQ0VfSURcIikpIHtcbiAgICAgIGZvcm1WYWxpZGF0b3JzLnRlcm1zT2ZTZXJ2aWNlID0gW3ZhbGlkYXRvcnMucmVxdWlyZWRUZXJtc09mU2VydmljZSgpXVxuICAgIH1cblxuICAgIGlmICghIW1pc2Fnby5nZXQoXCJQUklWQUNZX1BPTElDWV9JRFwiKSkge1xuICAgICAgZm9ybVZhbGlkYXRvcnMucHJpdmFjeVBvbGljeSA9IFt2YWxpZGF0b3JzLnJlcXVpcmVkUHJpdmFjeVBvbGljeSgpXVxuICAgIH1cblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBlbWFpbDogcHJvcHMuZW1haWwgfHwgXCJcIixcbiAgICAgIGVtYWlsUHJvdGVjdGVkOiAhIXByb3BzLmVtYWlsLFxuICAgICAgdXNlcm5hbWU6IHByb3BzLnVzZXJuYW1lIHx8IFwiXCIsXG5cbiAgICAgIHRlcm1zT2ZTZXJ2aWNlOiBudWxsLFxuICAgICAgcHJpdmFjeVBvbGljeTogbnVsbCxcblxuICAgICAgdmFsaWRhdG9yczogZm9ybVZhbGlkYXRvcnMsXG4gICAgICBlcnJvcnM6IHt9LFxuXG4gICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgfVxuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgdGhpcy52YWxpZGF0ZSgpXG4gICAgbGV0IGxlbmd0aHMgPSBbXG4gICAgICB0aGlzLnN0YXRlLmVtYWlsLnRyaW0oKS5sZW5ndGgsXG4gICAgICB0aGlzLnN0YXRlLnVzZXJuYW1lLnRyaW0oKS5sZW5ndGhcbiAgICBdXG5cbiAgICBpZiAobGVuZ3Rocy5pbmRleE9mKDApICE9PSAtMSkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoXCLOo8+FzrzPgM67zq7Pgc+Jz4POtSDPjM67zrEgz4TOsSDPgM61zrTOr86xIVwiKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgY29uc3QgeyB2YWxpZGF0b3JzIH0gPSB0aGlzLnN0YXRlXG5cbiAgICBjb25zdCBjaGVja1Rlcm1zT2ZTZXJ2aWNlID0gISFtaXNhZ28uZ2V0KFwiVEVSTVNfT0ZfU0VSVklDRV9JRFwiKVxuICAgIGlmIChjaGVja1Rlcm1zT2ZTZXJ2aWNlICYmIHRoaXMuc3RhdGUudGVybXNPZlNlcnZpY2UgPT09IG51bGwpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKHZhbGlkYXRvcnMudGVybXNPZlNlcnZpY2VbMF0obnVsbCkpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBjb25zdCBjaGVja1ByaXZhY3lQb2xpY3kgPSAhIW1pc2Fnby5nZXQoXCJQUklWQUNZX1BPTElDWV9JRFwiKVxuICAgIGlmIChjaGVja1ByaXZhY3lQb2xpY3kgJiYgdGhpcy5zdGF0ZS5wcml2YWN5UG9saWN5ID09PSBudWxsKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcih2YWxpZGF0b3JzLnByaXZhY3lQb2xpY3lbMF0obnVsbCkpXG4gICAgICBzbmFja2Jhci5lcnJvcihcIs6gz4HOrc+AzrXOuSDOvc6xIM6xz4DOv860zrXPh8+EzrXOr8+CIM+EzrfOvSDPgM6/zrvOuc+EzrnOus6uIM+Az4HOv8+Dz4TOsc+Dzq/Osc+CIM60zrXOtM6/zrzOrc69z4nOvSFcIilcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy51cmwsIHtcbiAgICAgIGVtYWlsOiB0aGlzLnN0YXRlLmVtYWlsLFxuICAgICAgdXNlcm5hbWU6IHRoaXMuc3RhdGUudXNlcm5hbWUsXG4gICAgICB0ZXJtc19vZl9zZXJ2aWNlOiB0aGlzLnN0YXRlLnRlcm1zT2ZTZXJ2aWNlLFxuICAgICAgcHJpdmFjeV9wb2xpY3k6IHRoaXMuc3RhdGUucHJpdmFjeVBvbGljeVxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKHJlc3BvbnNlKSB7XG4gICAgY29uc3QgeyBvblJlZ2lzdHJhdGlvbkNvbXBsZXRlIH0gPSB0aGlzLnByb3BzXG4gICAgb25SZWdpc3RyYXRpb25Db21wbGV0ZShyZXNwb25zZSlcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSAyMDApIHtcbiAgICAgIC8vIFdlJ3ZlIGVudGVyZWQgXCJlcnJvcmVkXCIgc3RhdGUgYmVjYXVzZSByZXNwb25zZSBpcyBIVE1MIGluc3RlYWQgb2YgZXhwdGVjdGVkIEpTT05cbiAgICAgIGNvbnN0IHsgb25SZWdpc3RyYXRpb25Db21wbGV0ZSB9ID0gdGhpcy5wcm9wc1xuICAgICAgY29uc3QgeyB1c2VybmFtZSB9ID0gdGhpcy5zdGF0ZVxuICAgICAgb25SZWdpc3RyYXRpb25Db21wbGV0ZSh7IGFjdGl2YXRpb246IFwiYWN0aXZlXCIsIHN0ZXA6IFwiZG9uZVwiLCB1c2VybmFtZSB9KVxuICAgIH0gZWxzZSBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBjb25zdCBzdGF0ZVVwZGF0ZSA9IHsgZXJyb3JzOiByZWplY3Rpb24gfVxuICAgICAgaWYgKHJlamVjdGlvbi5lbWFpbCkge1xuICAgICAgICBzdGF0ZVVwZGF0ZS5lbWFpbFByb3RlY3RlZCA9IGZhbHNlXG4gICAgICB9XG4gICAgICB0aGlzLnNldFN0YXRlKHN0YXRlVXBkYXRlKVxuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgfVxuICB9XG5cbiAgaGFuZGxlUHJpdmFjeVBvbGljeUNoYW5nZSA9IGV2ZW50ID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZVxuICAgIHRoaXMuaGFuZGxlVG9nZ2xlQWdyZWVtZW50KFwicHJpdmFjeVBvbGljeVwiLCB2YWx1ZSlcbiAgfVxuXG4gIGhhbmRsZVRlcm1zT2ZTZXJ2aWNlQ2hhbmdlID0gZXZlbnQgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gZXZlbnQudGFyZ2V0LnZhbHVlXG4gICAgdGhpcy5oYW5kbGVUb2dnbGVBZ3JlZW1lbnQoXCJ0ZXJtc09mU2VydmljZVwiLCB2YWx1ZSlcbiAgfVxuXG4gIGhhbmRsZVRvZ2dsZUFncmVlbWVudCA9IChhZ3JlZW1lbnQsIHZhbHVlKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSgocHJldlN0YXRlLCBwcm9wcykgPT4ge1xuICAgICAgaWYgKHByZXZTdGF0ZVthZ3JlZW1lbnRdID09PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IGVycm9ycyA9IHsgLi4ucHJldlN0YXRlLmVycm9ycywgW2FncmVlbWVudF06IG51bGwgfVxuICAgICAgICByZXR1cm4geyBlcnJvcnMsIFthZ3JlZW1lbnRdOiB2YWx1ZSB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHZhbGlkYXRvciA9IHRoaXMuc3RhdGUudmFsaWRhdG9yc1thZ3JlZW1lbnRdWzBdXG4gICAgICBjb25zdCBlcnJvcnMgPSB7IC4uLnByZXZTdGF0ZS5lcnJvcnMsIFthZ3JlZW1lbnRdOiBbdmFsaWRhdG9yKG51bGwpXSB9XG4gICAgICByZXR1cm4geyBlcnJvcnMsIFthZ3JlZW1lbnRdOiBudWxsIH1cbiAgICB9KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgYmFja2VuZF9uYW1lIH0gPSB0aGlzLnByb3BzXG4gICAgY29uc3QgeyBlbWFpbCwgZW1haWxQcm90ZWN0ZWQsIHVzZXJuYW1lLCBpc0xvYWRpbmcgfSA9IHRoaXMuc3RhdGVcblxuICAgIGxldCBlbWFpbEhlbHBUZXh0ID0gbnVsbFxuICAgIGlmIChlbWFpbFByb3RlY3RlZCkge1xuICAgICAgY29uc3QgZW1haWxIZWxwVGV4dFRwbCA9IFwizqTOvyBlbWFpbCDPg86/z4Ugzq3Ph861zrkgzrXPgM65zrLOtc6yzrHOuc+JzrjOtc6vIM6xz4DPjCAlKGJhY2tlbmQpcy5cIlxuICAgICAgZW1haWxIZWxwVGV4dCA9IGludGVycG9sYXRlKFxuICAgICAgICBlbWFpbEhlbHBUZXh0VHBsLFxuICAgICAgICB7IGJhY2tlbmQ6IGJhY2tlbmRfbmFtZSB9LFxuICAgICAgICB0cnVlXG4gICAgICApXG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZSBwYWdlLXNvY2lhbC1hdXRoIHBhZ2Utc29jaWFsLXNhdXRoLXJlZ2lzdGVyXCI+XG4gICAgICAgIDxIZWFkZXIgYmFja2VuZE5hbWU9e2JhY2tlbmRfbmFtZX0gLz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtNiBjb2wtbWQtb2Zmc2V0LTNcIj5cbiAgICAgICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRlZmF1bHQgcGFuZWwtZm9ybVwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1oZWFkaW5nXCI+XG4gICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJwYW5lbC10aXRsZVwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtcIs6jz4XOvM+AzrvOrs+Bz4nPg861IM+EzrEgz4PPhM6/zrnPh861zq/OsSDPg86/z4VcIn1cbiAgICAgICAgICAgICAgICAgICAgPC9oMz5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5XCI+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgICAgICAgICAgICBmb3I9XCJpZF91c2VybmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgbGFiZWw9e1wizozOvc6/zrzOsSDPh8+Bzq7Pg8+EzrdcIn1cbiAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uPXt0aGlzLnN0YXRlLmVycm9ycy51c2VybmFtZX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJpZF91c2VybmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcInVzZXJuYW1lXCIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3VzZXJuYW1lfVxuICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgICAgICAgICAgICAgZm9yPVwiaWRfZW1haWxcIlxuICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPXtcIkVtYWlsXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgaGVscFRleHQ9e2VtYWlsSGVscFRleHR9XG4gICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbj17XG4gICAgICAgICAgICAgICAgICAgICAgICBlbWFpbFByb3RlY3RlZCA/IG51bGwgOiB0aGlzLnN0YXRlLmVycm9ycy5lbWFpbFxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImVtYWlsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkPVwiaWRfZW1haWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc0xvYWRpbmcgfHwgZW1haWxQcm90ZWN0ZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoXCJlbWFpbFwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtlbWFpbH1cbiAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgICAgICAgICAgICAgPFJlZ2lzdGVyTGVnYWxGb290bm90ZVxuICAgICAgICAgICAgICAgICAgICAgIGVycm9ycz17dGhpcy5zdGF0ZS5lcnJvcnN9XG4gICAgICAgICAgICAgICAgICAgICAgcHJpdmFjeVBvbGljeT17dGhpcy5zdGF0ZS5wcml2YWN5UG9saWN5fVxuICAgICAgICAgICAgICAgICAgICAgIHRlcm1zT2ZTZXJ2aWNlPXt0aGlzLnN0YXRlLnRlcm1zT2ZTZXJ2aWNlfVxuICAgICAgICAgICAgICAgICAgICAgIG9uUHJpdmFjeVBvbGljeUNoYW5nZT17dGhpcy5oYW5kbGVQcml2YWN5UG9saWN5Q2hhbmdlfVxuICAgICAgICAgICAgICAgICAgICAgIG9uVGVybXNPZlNlcnZpY2VDaGFuZ2U9e3RoaXMuaGFuZGxlVGVybXNPZlNlcnZpY2VDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtZm9vdGVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tcHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICB7XCLOo8+Nzr3OtM61z4POt1wifVxuICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS1icmVhZGNydW1ic1wiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgPG9sIGNsYXNzTmFtZT1cImJyZWFkY3J1bWIgaGlkZGVuLXhzXCI+XG4gICAgICAgICAge3Byb3BzLnBhdGgubWFwKGl0ZW0gPT4ge1xuICAgICAgICAgICAgcmV0dXJuIDxCcmVhZGNydW1iIGtleT17aXRlbS5pZH0gbm9kZT17aXRlbX0gLz5cbiAgICAgICAgICB9KX1cbiAgICAgICAgPC9vbD5cbiAgICAgICAgPEdvQmFjayB7Li4ucHJvcHN9IC8+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gQnJlYWRjcnVtYihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxsaT5cbiAgICAgIDxhIGhyZWY9e3Byb3BzLm5vZGUudXJsLmluZGV4fT57cHJvcHMubm9kZS5uYW1lfTwvYT5cbiAgICA8L2xpPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBHb0JhY2socHJvcHMpIHtcbiAgY29uc3QgbGFzdEl0ZW0gPSBwcm9wcy5wYXRoW3Byb3BzLnBhdGgubGVuZ3RoIC0gMV1cblxuICByZXR1cm4gKFxuICAgIDxhIGhyZWY9e2xhc3RJdGVtLnVybC5pbmRleH0gY2xhc3NOYW1lPVwiZ28tYmFjay1zbSB2aXNpYmxlLXhzLWJsb2NrXCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2hldnJvbl9sZWZ0PC9zcGFuPlxuICAgICAge2xhc3RJdGVtLm5hbWV9XG4gICAgPC9hPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBCcmVhZGNydW1icyBmcm9tIFwiLi9icmVhZGNydW1ic1wiXG5pbXBvcnQgeyBpc01vZGVyYXRpb25WaXNpYmxlLCBNb2RlcmF0aW9uQ29udHJvbHMgfSBmcm9tIFwiLi4vbW9kZXJhdGlvbi90aHJlYWRcIlxuaW1wb3J0IFN0YXRzIGZyb20gXCIuL3N0YXRzXCJcbmltcG9ydCBGb3JtIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtXCJcbmltcG9ydCB7IGdldFRpdGxlVmFsaWRhdG9ycyB9IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9wb3N0aW5nL3V0aWxzL3ZhbGlkYXRvcnNcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcbmltcG9ydCAqIGFzIHRocmVhZCBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3RocmVhZFwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNFZGl0aW5nOiBmYWxzZSxcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG5cbiAgICAgIHRpdGxlOiBwcm9wcy50aHJlYWQudGl0bGUsXG5cbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgdGl0bGU6IGdldFRpdGxlVmFsaWRhdG9ycygpXG4gICAgICB9LFxuICAgICAgZXJyb3JzOiB7fVxuICAgIH1cbiAgfVxuXG4gIG9uQ2hhbmdlID0gZXZlbnQgPT4ge1xuICAgIHRoaXMuY2hhbmdlVmFsdWUoXCJ0aXRsZVwiLCBldmVudC50YXJnZXQudmFsdWUpXG4gIH1cblxuICBvbkVkaXQgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0VkaXRpbmc6IHRydWVcbiAgICB9KVxuICB9XG5cbiAgb25DYW5jZWwgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICB0aXRsZTogdGhpcy5wcm9wcy50aHJlYWQudGl0bGUsXG5cbiAgICAgIGlzRWRpdGluZzogZmFsc2VcbiAgICB9KVxuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLnRpdGxlLnRyaW0oKS5sZW5ndGgpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKFwizqDPgc6tz4DOtc65IM69zrEgzrLOrM67zrXOuc+CIM+Ezq/PhM67zr8gzrHOs86zzrXOu86vzrHPgiFcIilcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGNvbnN0IGVycm9ycyA9IHRoaXMudmFsaWRhdGUoKVxuXG4gICAgaWYgKGVycm9ycy50aXRsZSkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZXJyb3JzLnRpdGxlWzBdKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucGF0Y2godGhpcy5wcm9wcy50aHJlYWQuYXBpLmluZGV4LCBbXG4gICAgICB7IG9wOiBcInJlcGxhY2VcIiwgcGF0aDogXCJ0aXRsZVwiLCB2YWx1ZTogdGhpcy5zdGF0ZS50aXRsZSB9XG4gICAgXSlcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MoZGF0YSkge1xuICAgIHN0b3JlLmRpc3BhdGNoKHRocmVhZC51cGRhdGUoZGF0YSkpXG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzRWRpdGluZzogZmFsc2VcbiAgICB9KVxuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbFswXSlcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHRocmVhZCwgdXNlciB9ID0gdGhpcy5wcm9wc1xuICAgIGNvbnN0IHNob3dNb2RlcmF0aW9uID0gISF1c2VyLmlkICYmIGlzTW9kZXJhdGlvblZpc2libGUodGhyZWFkKVxuXG4gICAgaWYgKHRoaXMuc3RhdGUuaXNFZGl0aW5nKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UtaGVhZGVyXCI+XG4gICAgICAgICAgPEJyZWFkY3J1bWJzIHBhdGg9e3RocmVhZC5wYXRofSAvPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyB4cy1tYXJnaW4tdG9wIHRpdGxlLWVkaXQtZm9ybVwiPlxuICAgICAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTYgY29sLW1kLTZcIj5cbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnRpdGxlfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNoYW5nZX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tNiBjb2wtbWQtNFwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgeHMtbWFyZ2luLXRvcC1oYWxmIHNtLW1hcmdpbi10b3Atbm8gbWQtbWFyZ2luLXRvcC1ub1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy02XCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi1ibG9jayBidG4tb3V0bGluZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17XCLOkc67zrvOsc6zzq4gz4TOr8+EzrvOv8+FXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAge1wizpHPgM6/zrjOrs66zrXPhc+DzrdcIn1cbiAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTZcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25DYW5jZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17XCLOkc66z43Pgc+Jz4POt1wifVxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAge1wizpHOus+Nz4HPic+DzrdcIn1cbiAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9mb3JtPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPFN0YXRzIHRocmVhZD17dGhyZWFkfSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKHVzZXIuaWQgJiYgdGhyZWFkLmFjbC5jYW5fZWRpdCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlLWhlYWRlclwiPlxuICAgICAgICAgIDxCcmVhZGNydW1icyBwYXRoPXt0aHJlYWQucGF0aH0gLz5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17XG4gICAgICAgICAgICAgICAgICBzaG93TW9kZXJhdGlvbiA/IFwiY29sLXNtLTkgY29sLW1kLThcIiA6IFwiY29sLXNtLTEwIGNvbC1tZC0xMFwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGgxPnt0aHJlYWQudGl0bGV9PC9oMT5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e1xuICAgICAgICAgICAgICAgICAgc2hvd01vZGVyYXRpb24gPyBcImNvbC1zbS0zIGNvbC1tZC00XCIgOiBcImNvbC1zbS0zIGNvbC1tZC0yXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyB4cy1tYXJnaW4tdG9wIG1kLW1hcmdpbi10b3Atbm9cIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzaG93TW9kZXJhdGlvbiA/IFwiY29sLXhzLTZcIiA6IFwiY29sLXhzLTEyXCJ9PlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4tb3V0bGluZVwiXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5vbkVkaXR9XG4gICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e1wizpHOu867zrHOs86uIM+Ezq/PhM67zr/PhVwifVxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmVkaXQ8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaGlkZGVuLXNtXCI+e1wizpHOu867zrHOs86uXCJ9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAge3Nob3dNb2RlcmF0aW9uICYmIDxNb2RlcmF0aW9uIHsuLi50aGlzLnByb3BzfSAvPn1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8U3RhdHMgdGhyZWFkPXt0aHJlYWR9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAoc2hvd01vZGVyYXRpb24pIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS1oZWFkZXJcIj5cbiAgICAgICAgICA8QnJlYWRjcnVtYnMgcGF0aD17dGhyZWFkLnBhdGh9IC8+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTkgY29sLW1kLTEwXCI+XG4gICAgICAgICAgICAgICAgPGgxPnt0aHJlYWQudGl0bGV9PC9oMT5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTMgY29sLW1kLTJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyB4cy1tYXJnaW4tdG9wIG1kLW1hcmdpbi10b3Atbm9cIj5cbiAgICAgICAgICAgICAgICAgIDxNb2RlcmF0aW9uIGlzU2luZ2xlPXt0cnVlfSB7Li4udGhpcy5wcm9wc30gLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8U3RhdHMgdGhyZWFkPXt0aHJlYWR9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKVxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UtaGVhZGVyXCI+XG4gICAgICAgIDxCcmVhZGNydW1icyBwYXRoPXt0aHJlYWQucGF0aH0gLz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICA8aDE+e3RocmVhZC50aXRsZX08L2gxPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPFN0YXRzIHRocmVhZD17dGhyZWFkfSAvPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBNb2RlcmF0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e3Byb3BzLmlzU2luZ2xlID8gXCJjb2wteHMtMTJcIiA6IFwiY29sLXhzLTZcIn0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ0bi1ncm91cCBidG4tZ3JvdXAtanVzdGlmaWVkXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnRuLWdyb3VwXCI+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgYXJpYS1leHBhbmRlZD1cImZhbHNlXCJcbiAgICAgICAgICAgIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tb3V0bGluZSBkcm9wZG93bi10b2dnbGVcIlxuICAgICAgICAgICAgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiXG4gICAgICAgICAgICBkaXNhYmxlZD17cHJvcHMudGhyZWFkLmlzQnVzeX1cbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5zZXR0aW5nczwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17cHJvcHMuaXNTaW5nbGUgPyBcIlwiIDogXCJoaWRkZW4tc21cIn0+XG4gICAgICAgICAgICAgIHtcIs6UzrnOsc+HzrXOr8+BzrnPg863XCJ9XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPE1vZGVyYXRpb25Db250cm9sc1xuICAgICAgICAgICAgcG9zdHM9e3Byb3BzLnBvc3RzfVxuICAgICAgICAgICAgdGhyZWFkPXtwcm9wcy50aHJlYWR9XG4gICAgICAgICAgICB1c2VyPXtwcm9wcy51c2VyfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IGVzY2FwZUh0bWwgZnJvbSBcIm1pc2Fnby91dGlscy9lc2NhcGUtaHRtbFwiXG5cbmNvbnN0IExBU1RfUE9TVEVSX1VSTCA9ICc8YSBocmVmPVwiJSh1cmwpc1wiIGNsYXNzPVwicG9zdGVyLXRpdGxlXCI+JSh1c2VyKXM8L2E+J1xuY29uc3QgTEFTVF9QT1NURVJfU1BBTiA9ICc8c3BhbiBjbGFzcz1cInBvc3Rlci10aXRsZVwiPiUodXNlcilzPC9zcGFuPidcbmNvbnN0IExBU1RfUkVQTFkgPVxuICAnPGFiYnIgY2xhc3M9XCJsYXN0LXRpdGxlXCIgdGl0bGU9XCIlKGFic29sdXRlKXNcIj4lKHJlbGF0aXZlKXM8L2FiYnI+J1xuXG5leHBvcnQgZnVuY3Rpb24gV2VpZ2h0KHByb3BzKSB7XG4gIGlmIChwcm9wcy50aHJlYWQud2VpZ2h0ID09IDIpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGxpIGNsYXNzTmFtZT1cInRocmVhZC1waW5uZWQtZ2xvYmFsbHlcIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmJvb2ttYXJrPC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uLWxlZ2VuZFwiPntcIs6gz4HOv8+JzrjOt868zq3Ovc63IM+DzrUgz4zOu863IM+Ezrcgz4POtc67zq/OtM6xXCJ9PC9zcGFuPlxuICAgICAgPC9saT5cbiAgICApXG4gIH0gZWxzZSBpZiAocHJvcHMudGhyZWFkLndlaWdodCA9PSAxKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9XCJ0aHJlYWQtcGlubmVkLWxvY2FsbHlcIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmJvb2ttYXJrX2JvcmRlcjwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbi1sZWdlbmRcIj57XCLOoM+Bzr/Pic64zrfOvM6tzr3OtyDPg861IM6xz4XPhM6uIM+EzrfOvSDOus6xz4TOt86zzr/Pgc6vzrFcIn08L3NwYW4+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBVbmFwcHJvdmVkKHByb3BzKSB7XG4gIGlmIChwcm9wcy50aHJlYWQuaXNfdW5hcHByb3ZlZCkge1xuICAgIHJldHVybiAoXG4gICAgICA8bGkgY2xhc3NOYW1lPVwidGhyZWFkLXVuYXBwcm92ZWRcIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnJlbW92ZV9jaXJjbGU8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImljb24tbGVnZW5kXCI+e1wizpzOtyDOtc6zzrrOtc66z4HOuc68zq3Ovc63XCJ9PC9zcGFuPlxuICAgICAgPC9saT5cbiAgICApXG4gIH0gZWxzZSBpZiAocHJvcHMudGhyZWFkLmhhc191bmFwcHJvdmVkX3Bvc3RzKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9XCJ0aHJlYWQtdW5hcHByb3ZlZC1wb3N0c1wiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+cmVtb3ZlX2NpcmNsZV9vdXRsaW5lPC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uLWxlZ2VuZFwiPntcIs6czrcgzrXOs866zrXOus+BzrnOvM6tzr3Otc+CIM+Az4HOv8+Dz4bOv8+Bzq3PglwifTwvc3Bhbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIElzSGlkZGVuKHByb3BzKSB7XG4gIGlmIChwcm9wcy50aHJlYWQuaXNfaGlkZGVuKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9XCJ0aHJlYWQtaGlkZGVuXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj52aXNpYmlsaXR5X29mZjwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbi1sZWdlbmRcIj57XCLOms+Bz4XOvM68zq3Ovc63XCJ9PC9zcGFuPlxuICAgICAgPC9saT5cbiAgICApXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gSXNDbG9zZWQocHJvcHMpIHtcbiAgaWYgKHByb3BzLnRocmVhZC5pc19jbG9zZWQpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGxpIGNsYXNzTmFtZT1cInRocmVhZC1jbG9zZWRcIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmxvY2tfb3V0bGluZTwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbi1sZWdlbmRcIj57XCLOms67zrXOuc+Dz4TOriDOs865zrEgzrrOsc65zr3Ov8+Nz4HOuc61z4Igz4DPgc6/z4PPhs6/z4HOrc+CXCJ9PC9zcGFuPlxuICAgICAgPC9saT5cbiAgICApXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUmVwbGllcyhwcm9wcykge1xuICAgIGxldCBtZXNzYWdlID0gXCIlKHJlcGxpZXMpcyDPgM+Bzr/Pg8+Gzr/Pgc6tz4JcIlxuICBpZiAocHJvcHMudGhyZWFkLnJlcGxpZXMgPT09IDEpIHtcbiAgICBtZXNzYWdlID0gXCIlKHJlcGxpZXMpcyDPgM+Bzr/Pg8+Gzr/Pgc6sXCJcbiAgfVxuXG4gIGNvbnN0IGxlZ2VuZCA9IGludGVycG9sYXRlKG1lc3NhZ2UsIHsgcmVwbGllczogcHJvcHMudGhyZWFkLnJlcGxpZXMgfSwgdHJ1ZSlcblxuICByZXR1cm4gKFxuICAgIDxsaSBjbGFzc05hbWU9XCJ0aHJlYWQtcmVwbGllc1wiPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmZvcnVtPC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbi1sZWdlbmRcIj57bGVnZW5kfTwvc3Bhbj5cbiAgICA8L2xpPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBMYXN0UmVwbHkocHJvcHMpIHtcbiAgbGV0IHVzZXIgPSBudWxsXG4gIGlmIChwcm9wcy50aHJlYWQudXJsLmxhc3RfcG9zdGVyKSB7XG4gICAgdXNlciA9IGludGVycG9sYXRlKFxuICAgICAgTEFTVF9QT1NURVJfVVJMLFxuICAgICAge1xuICAgICAgICB1cmw6IGVzY2FwZUh0bWwocHJvcHMudGhyZWFkLnVybC5sYXN0X3Bvc3RlciksXG4gICAgICAgIHVzZXI6IGVzY2FwZUh0bWwocHJvcHMudGhyZWFkLmxhc3RfcG9zdGVyX25hbWUpXG4gICAgICB9LFxuICAgICAgdHJ1ZVxuICAgIClcbiAgfSBlbHNlIHtcbiAgICB1c2VyID0gaW50ZXJwb2xhdGUoXG4gICAgICBMQVNUX1BPU1RFUl9TUEFOLFxuICAgICAge1xuICAgICAgICB1c2VyOiBlc2NhcGVIdG1sKHByb3BzLnRocmVhZC5sYXN0X3Bvc3Rlcl9uYW1lKVxuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG4gIH1cblxuICBjb25zdCBkYXRlID0gaW50ZXJwb2xhdGUoXG4gICAgTEFTVF9SRVBMWSxcbiAgICB7XG4gICAgICBhYnNvbHV0ZTogZXNjYXBlSHRtbChwcm9wcy50aHJlYWQubGFzdF9wb3N0X29uLmZvcm1hdChcIkxMTFwiKSksXG4gICAgICByZWxhdGl2ZTogZXNjYXBlSHRtbChwcm9wcy50aHJlYWQubGFzdF9wb3N0X29uLmZyb21Ob3coKSlcbiAgICB9LFxuICAgIHRydWVcbiAgKVxuXG4gIGNvbnN0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShcbiAgICBlc2NhcGVIdG1sKFwiz4TOtc67zrXPhc+EzrHOr86xIM60zrfOvM6/z4POr861z4XPg863IM6xz4DPjCAlKHVzZXIpcyAlKGRhdGUpc1wiKSxcbiAgICB7XG4gICAgICBkYXRlLFxuICAgICAgdXNlclxuICAgIH0sXG4gICAgdHJ1ZVxuICApXG5cbiAgcmV0dXJuIChcbiAgICA8bGlcbiAgICAgIGNsYXNzTmFtZT1cInRocmVhZC1sYXN0LXJlcGx5XCJcbiAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogbWVzc2FnZSB9fVxuICAgIC8+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImhlYWRlci1zdGF0c1wiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtaW5saW5lXCI+XG4gICAgICAgICAgPFdlaWdodCB0aHJlYWQ9e3Byb3BzLnRocmVhZH0gLz5cbiAgICAgICAgICA8VW5hcHByb3ZlZCB0aHJlYWQ9e3Byb3BzLnRocmVhZH0gLz5cbiAgICAgICAgICA8SXNIaWRkZW4gdGhyZWFkPXtwcm9wcy50aHJlYWR9IC8+XG4gICAgICAgICAgPElzQ2xvc2VkIHRocmVhZD17cHJvcHMudGhyZWFkfSAvPlxuICAgICAgICAgIDxSZXBsaWVzIHRocmVhZD17cHJvcHMudGhyZWFkfSAvPlxuICAgICAgICAgIDxMYXN0UmVwbHkgdGhyZWFkPXtwcm9wcy50aHJlYWR9IC8+XG4gICAgICAgIDwvdWw+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IG1vbWVudCBmcm9tIFwibW9tZW50XCJcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0ICogYXMgcG9zdCBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3Bvc3RcIlxuaW1wb3J0ICogYXMgcG9zdHMgZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9wb3N0c1wiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IG1vZGFsIGZyb20gXCJtaXNhZ28vc2VydmljZXMvbW9kYWxcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuaW1wb3J0IEVycm9yc0xpc3QgZnJvbSBcIi4vZXJyb3JzLWxpc3RcIlxuXG5leHBvcnQgZnVuY3Rpb24gYXBwcm92ZShwcm9wcykge1xuICBjb25zdCB7IHNlbGVjdGlvbiB9ID0gcHJvcHNcblxuICBjb25zdCBvcHMgPSBbeyBvcDogXCJyZXBsYWNlXCIsIHBhdGg6IFwiaXMtdW5hcHByb3ZlZFwiLCB2YWx1ZTogZmFsc2UgfV1cblxuICBjb25zdCBuZXdTdGF0ZSA9IHNlbGVjdGlvbi5tYXAocG9zdCA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBwb3N0LmlkLFxuICAgICAgaXNfdW5hcHByb3ZlZDogZmFsc2VcbiAgICB9XG4gIH0pXG5cbiAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHNlbGVjdGlvbi5tYXAocG9zdCA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBwb3N0LmlkLFxuICAgICAgaXNfdW5hcHByb3ZlZDogcG9zdC5pc191bmFwcHJvdmVkXG4gICAgfVxuICB9KVxuXG4gIHBhdGNoKHByb3BzLCBvcHMsIG5ld1N0YXRlLCBwcmV2aW91c1N0YXRlKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJvdGVjdChwcm9wcykge1xuICBjb25zdCB7IHNlbGVjdGlvbiB9ID0gcHJvcHNcblxuICBjb25zdCBvcHMgPSBbeyBvcDogXCJyZXBsYWNlXCIsIHBhdGg6IFwiaXMtcHJvdGVjdGVkXCIsIHZhbHVlOiB0cnVlIH1dXG5cbiAgY29uc3QgbmV3U3RhdGUgPSBzZWxlY3Rpb24ubWFwKHBvc3QgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBpZDogcG9zdC5pZCxcbiAgICAgIGlzX3Byb3RlY3RlZDogdHJ1ZVxuICAgIH1cbiAgfSlcblxuICBjb25zdCBwcmV2aW91c1N0YXRlID0gc2VsZWN0aW9uLm1hcChwb3N0ID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHBvc3QuaWQsXG4gICAgICBpc19wcm90ZWN0ZWQ6IHBvc3QuaXNfcHJvdGVjdGVkXG4gICAgfVxuICB9KVxuXG4gIHBhdGNoKHByb3BzLCBvcHMsIG5ld1N0YXRlLCBwcmV2aW91c1N0YXRlKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5wcm90ZWN0KHByb3BzKSB7XG4gIGNvbnN0IHsgc2VsZWN0aW9uIH0gPSBwcm9wc1xuXG4gIGNvbnN0IG9wcyA9IFt7IG9wOiBcInJlcGxhY2VcIiwgcGF0aDogXCJpcy1wcm90ZWN0ZWRcIiwgdmFsdWU6IGZhbHNlIH1dXG5cbiAgY29uc3QgbmV3U3RhdGUgPSBzZWxlY3Rpb24ubWFwKHBvc3QgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBpZDogcG9zdC5pZCxcbiAgICAgIGlzX3Byb3RlY3RlZDogZmFsc2VcbiAgICB9XG4gIH0pXG5cbiAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHNlbGVjdGlvbi5tYXAocG9zdCA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBwb3N0LmlkLFxuICAgICAgaXNfcHJvdGVjdGVkOiBwb3N0LmlzX3Byb3RlY3RlZFxuICAgIH1cbiAgfSlcblxuICBwYXRjaChwcm9wcywgb3BzLCBuZXdTdGF0ZSwgcHJldmlvdXNTdGF0ZSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhpZGUocHJvcHMpIHtcbiAgY29uc3QgeyBzZWxlY3Rpb24gfSA9IHByb3BzXG5cbiAgY29uc3Qgb3BzID0gW3sgb3A6IFwicmVwbGFjZVwiLCBwYXRoOiBcImlzLWhpZGRlblwiLCB2YWx1ZTogdHJ1ZSB9XVxuXG4gIGNvbnN0IG5ld1N0YXRlID0gc2VsZWN0aW9uLm1hcChwb3N0ID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHBvc3QuaWQsXG4gICAgICBpc19oaWRkZW46IHRydWUsXG4gICAgICBoaWRkZW5fb246IG1vbWVudCgpLFxuICAgICAgaGlkZGVuX2J5X25hbWU6IHByb3BzLnVzZXIudXNlcm5hbWUsXG4gICAgICB1cmw6IE9iamVjdC5hc3NpZ24ocG9zdC51cmwsIHtcbiAgICAgICAgaGlkZGVuX2J5OiBwcm9wcy51c2VyLnVybFxuICAgICAgfSlcbiAgICB9XG4gIH0pXG5cbiAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHNlbGVjdGlvbi5tYXAocG9zdCA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBwb3N0LmlkLFxuICAgICAgaXNfaGlkZGVuOiBwb3N0LmlzX2hpZGRlbixcbiAgICAgIGhpZGRlbl9vbjogcG9zdC5oaWRkZW5fb24sXG4gICAgICBoaWRkZW5fYnlfbmFtZTogcG9zdC5oaWRkZW5fYnlfbmFtZSxcbiAgICAgIHVybDogcG9zdC51cmxcbiAgICB9XG4gIH0pXG5cbiAgcGF0Y2gocHJvcHMsIG9wcywgbmV3U3RhdGUsIHByZXZpb3VzU3RhdGUpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1bmhpZGUocHJvcHMpIHtcbiAgY29uc3QgeyBzZWxlY3Rpb24gfSA9IHByb3BzXG5cbiAgY29uc3Qgb3BzID0gW3sgb3A6IFwicmVwbGFjZVwiLCBwYXRoOiBcImlzLWhpZGRlblwiLCB2YWx1ZTogZmFsc2UgfV1cblxuICBjb25zdCBuZXdTdGF0ZSA9IHNlbGVjdGlvbi5tYXAocG9zdCA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBwb3N0LmlkLFxuICAgICAgaXNfaGlkZGVuOiBmYWxzZSxcbiAgICAgIGhpZGRlbl9vbjogbW9tZW50KCksXG4gICAgICBoaWRkZW5fYnlfbmFtZTogcHJvcHMudXNlci51c2VybmFtZSxcbiAgICAgIHVybDogT2JqZWN0LmFzc2lnbihwb3N0LnVybCwge1xuICAgICAgICBoaWRkZW5fYnk6IHByb3BzLnVzZXIudXJsXG4gICAgICB9KVxuICAgIH1cbiAgfSlcblxuICBjb25zdCBwcmV2aW91c1N0YXRlID0gc2VsZWN0aW9uLm1hcChwb3N0ID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHBvc3QuaWQsXG4gICAgICBpc19oaWRkZW46IHBvc3QuaXNfaGlkZGVuLFxuICAgICAgaGlkZGVuX29uOiBwb3N0LmhpZGRlbl9vbixcbiAgICAgIGhpZGRlbl9ieV9uYW1lOiBwb3N0LmhpZGRlbl9ieV9uYW1lLFxuICAgICAgdXJsOiBwb3N0LnVybFxuICAgIH1cbiAgfSlcblxuICBwYXRjaChwcm9wcywgb3BzLCBuZXdTdGF0ZSwgcHJldmlvdXNTdGF0ZSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhdGNoKHByb3BzLCBvcHMsIG5ld1N0YXRlLCBwcmV2aW91c1N0YXRlKSB7XG4gIGNvbnN0IHsgc2VsZWN0aW9uLCB0aHJlYWQgfSA9IHByb3BzXG5cbiAgLy8gcGF0Y2ggc2VsZWN0ZWQgaXRlbXNcbiAgbmV3U3RhdGUuZm9yRWFjaChpdGVtID0+IHtcbiAgICBwb3N0LnBhdGNoKGl0ZW0sIGl0ZW0pXG4gIH0pXG5cbiAgLy8gZGVzZWxlY3QgYWxsIHRoZSB0aGluZ3NcbiAgc3RvcmUuZGlzcGF0Y2gocG9zdHMuZGVzZWxlY3RBbGwoKSlcblxuICAvLyBjYWxsIGFqYXhcbiAgY29uc3QgZGF0YSA9IHtcbiAgICBvcHMsXG5cbiAgICBpZHM6IHNlbGVjdGlvbi5tYXAocG9zdCA9PiB7XG4gICAgICByZXR1cm4gcG9zdC5pZFxuICAgIH0pXG4gIH1cblxuICBhamF4LnBhdGNoKHRocmVhZC5hcGkucG9zdHMuaW5kZXgsIGRhdGEpLnRoZW4oXG4gICAgZGF0YSA9PiB7XG4gICAgICBkYXRhLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2goaXRlbSwgaXRlbSkpXG4gICAgICB9KVxuICAgIH0sXG4gICAgcmVqZWN0aW9uID0+IHtcbiAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzICE9PSA0MDApIHtcbiAgICAgICAgLy8gcm9sbGJhY2sgYWxsXG4gICAgICAgIHByZXZpb3VzU3RhdGUuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKGl0ZW0sIGl0ZW0pKVxuICAgICAgICB9KVxuICAgICAgICByZXR1cm4gc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgICAgfVxuXG4gICAgICBsZXQgZXJyb3JzID0gW11cbiAgICAgIGxldCByb2xsYmFjayA9IFtdXG5cbiAgICAgIHJlamVjdGlvbi5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICBpZiAoaXRlbS5kZXRhaWwpIHtcbiAgICAgICAgICBlcnJvcnMucHVzaChpdGVtKVxuICAgICAgICAgIHJvbGxiYWNrLnB1c2goaXRlbS5pZClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKGl0ZW0sIGl0ZW0pKVxuICAgICAgICB9XG5cbiAgICAgICAgcHJldmlvdXNTdGF0ZS5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICAgIGlmIChyb2xsYmFjay5pbmRleE9mKGl0ZW0pICE9PSAtMSkge1xuICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChpdGVtLCBpdGVtKSlcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICB9KVxuXG4gICAgICBsZXQgcG9zdHMgPSB7fVxuICAgICAgc2VsZWN0aW9uLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgIHBvc3RzW2l0ZW0uaWRdID0gaXRlbVxuICAgICAgfSlcblxuICAgICAgbW9kYWwuc2hvdyg8RXJyb3JzTGlzdCBlcnJvcnM9e2Vycm9yc30gcG9zdHM9e3Bvc3RzfSAvPilcbiAgICB9XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlKHByb3BzKSB7XG4gIGxldCBjb25maXJtZWQgPSBjb25maXJtKFxuICAgICAgXCLOlc6vz4POsc65IM+Dzq/Os86/z4XPgc6/z4Igz4zPhM65IM64zq3Ou861zrnPgiDOvc6xIM+Dz4XOs8+Hz4nOvc61z43Pg861zrnPgiDPhM65z4Igz4PPhc6zzrrOtc66z4HOuc68zq3Ovc61z4Igz4DPgc6/z4PPhs6/z4HOrc+COyDOkc+Fz4TOriDOtyDOtc69zq3Pgc6zzrXOuc6xIM60zrXOvSDOtc6vzr3Osc65IM6xzr3Osc+Dz4TPgc6tz4jOuc68zrchXCJcbiAgKVxuICBpZiAoIWNvbmZpcm1lZCkge1xuICAgIHJldHVyblxuICB9XG5cbiAgcHJvcHMuc2VsZWN0aW9uLnNsaWNlKDEpLm1hcChzZWxlY3Rpb24gPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKFxuICAgICAgcG9zdC5wYXRjaChzZWxlY3Rpb24sIHtcbiAgICAgICAgaXNEZWxldGVkOiB0cnVlXG4gICAgICB9KVxuICAgIClcbiAgfSlcblxuICBhamF4XG4gICAgLnBvc3QocHJvcHMudGhyZWFkLmFwaS5wb3N0cy5tZXJnZSwge1xuICAgICAgcG9zdHM6IHByb3BzLnNlbGVjdGlvbi5tYXAocG9zdCA9PiBwb3N0LmlkKVxuICAgIH0pXG4gICAgLnRoZW4oXG4gICAgICBkYXRhID0+IHtcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChkYXRhLCBwb3N0Lmh5ZHJhdGUoZGF0YSkpKVxuICAgICAgfSxcbiAgICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3BzLnNlbGVjdGlvbi5zbGljZSgxKS5tYXAoc2VsZWN0aW9uID0+IHtcbiAgICAgICAgICBzdG9yZS5kaXNwYXRjaChcbiAgICAgICAgICAgIHBvc3QucGF0Y2goc2VsZWN0aW9uLCB7XG4gICAgICAgICAgICAgIGlzRGVsZXRlZDogZmFsc2VcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIClcblxuICBzdG9yZS5kaXNwYXRjaChwb3N0cy5kZXNlbGVjdEFsbCgpKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlKHByb3BzKSB7XG4gIGxldCBjb25maXJtZWQgPSBjb25maXJtKFxuICAgICAgXCLOlc6vz4POsc65IM+Dzq/Os86/z4XPgc6/z4Igz4zPhM65IM64zq3Ou861zrnPgiDOvc6xIM60zrnOsc6zz4HOrM+IzrXOuc+CIM+EzrnPgiDOtc+AzrnOu861zrPOvM6tzr3Otc+CIM+Az4HOv8+Dz4bOv8+Bzq3PgjsgzpHPhc+Ezq4gzrcgzrXOvc6tz4HOs861zrnOsSDOtM61zr0gzrXOr869zrHOuSDOsc69zrHPg8+Ez4HOrc+IzrnOvM63IVwiXG4gIClcbiAgaWYgKCFjb25maXJtZWQpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIHByb3BzLnNlbGVjdGlvbi5tYXAoc2VsZWN0aW9uID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaChcbiAgICAgIHBvc3QucGF0Y2goc2VsZWN0aW9uLCB7XG4gICAgICAgIGlzRGVsZXRlZDogdHJ1ZVxuICAgICAgfSlcbiAgICApXG4gIH0pXG5cbiAgY29uc3QgaWRzID0gcHJvcHMuc2VsZWN0aW9uLm1hcChwb3N0ID0+IHtcbiAgICByZXR1cm4gcG9zdC5pZFxuICB9KVxuXG4gIGFqYXguZGVsZXRlKHByb3BzLnRocmVhZC5hcGkucG9zdHMuaW5kZXgsIGlkcykudGhlbihcbiAgICAoKSA9PiB7XG4gICAgICByZXR1cm5cbiAgICB9LFxuICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWwpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgICB9XG5cbiAgICAgIHByb3BzLnNlbGVjdGlvbi5tYXAoc2VsZWN0aW9uID0+IHtcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICAgICAgcG9zdC5wYXRjaChzZWxlY3Rpb24sIHtcbiAgICAgICAgICAgIGlzRGVsZXRlZDogZmFsc2VcbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICB9KVxuICAgIH1cbiAgKVxuXG4gIHN0b3JlLmRpc3BhdGNoKHBvc3RzLmRlc2VsZWN0QWxsKCkpXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBtb2RhbCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL21vZGFsXCJcbmltcG9ydCAqIGFzIG1vZGVyYXRpb24gZnJvbSBcIi4vYWN0aW9uc1wiXG5pbXBvcnQgTW92ZU1vZGFsIGZyb20gXCIuL21vdmVcIlxuaW1wb3J0IFNwbGl0TW9kYWwgZnJvbSBcIi4vc3BsaXRcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDx1bCBjbGFzc05hbWU9XCJkcm9wZG93bi1tZW51XCI+XG4gICAgICA8QXBwcm92ZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8TWVyZ2Ugey4uLnByb3BzfSAvPlxuICAgICAgPE1vdmUgey4uLnByb3BzfSAvPlxuICAgICAgPFNwbGl0IHsuLi5wcm9wc30gLz5cbiAgICAgIDxQcm90ZWN0IHsuLi5wcm9wc30gLz5cbiAgICAgIDxVbnByb3RlY3Qgey4uLnByb3BzfSAvPlxuICAgICAgPFVuaGlkZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8SGlkZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8RGVsZXRlIHsuLi5wcm9wc30gLz5cbiAgICA8L3VsPlxuICApXG59XG5cbmV4cG9ydCBjbGFzcyBBcHByb3ZlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RlcmF0aW9uLmFwcHJvdmUodGhpcy5wcm9wcylcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBpc1Zpc2libGUgPSB0aGlzLnByb3BzLnNlbGVjdGlvbi5maW5kKHBvc3QgPT4ge1xuICAgICAgcmV0dXJuIHBvc3QuYWNsLmNhbl9hcHByb3ZlICYmIHBvc3QuaXNfdW5hcHByb3ZlZFxuICAgIH0pXG5cbiAgICBpZiAoIWlzVmlzaWJsZSkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmRvbmU8L3NwYW4+XG4gICAgICAgICAge1wizojOs866z4HOuc+DzrdcIn1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTWVyZ2UgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGVyYXRpb24ubWVyZ2UodGhpcy5wcm9wcylcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBpc1Zpc2libGUgPVxuICAgICAgdGhpcy5wcm9wcy5zZWxlY3Rpb24ubGVuZ3RoID4gMSAmJlxuICAgICAgdGhpcy5wcm9wcy5zZWxlY3Rpb24uZmluZChwb3N0ID0+IHtcbiAgICAgICAgcmV0dXJuIHBvc3QuYWNsLmNhbl9tZXJnZVxuICAgICAgfSlcblxuICAgIGlmICghaXNWaXNpYmxlKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2FsbF9tZXJnZTwvc3Bhbj5cbiAgICAgICAgICB7XCLOo8+FzrPPh8+Ozr3Otc+Fz4POt1wifVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNb3ZlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RhbC5zaG93KDxNb3ZlTW9kYWwgey4uLnRoaXMucHJvcHN9IC8+KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGlzVmlzaWJsZSA9IHRoaXMucHJvcHMuc2VsZWN0aW9uLmZpbmQocG9zdCA9PiB7XG4gICAgICByZXR1cm4gcG9zdC5hY2wuY2FuX21vdmVcbiAgICB9KVxuXG4gICAgaWYgKCFpc1Zpc2libGUpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9PlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5hcnJvd19mb3J3YXJkPC9zcGFuPlxuICAgICAgICAgIHtcIs6czrXPhM6xzrrOr869zrfPg863XCJ9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNwbGl0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RhbC5zaG93KDxTcGxpdE1vZGFsIHsuLi50aGlzLnByb3BzfSAvPilcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBpc1Zpc2libGUgPSB0aGlzLnByb3BzLnNlbGVjdGlvbi5maW5kKHBvc3QgPT4ge1xuICAgICAgcmV0dXJuIHBvc3QuYWNsLmNhbl9tb3ZlXG4gICAgfSlcblxuICAgIGlmICghaXNWaXNpYmxlKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2FsbF9zcGxpdDwvc3Bhbj5cbiAgICAgICAgICB7XCLOlM65zrHPh8+Jz4HOuc+DzrzPjM+CXCJ9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFByb3RlY3QgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGVyYXRpb24ucHJvdGVjdCh0aGlzLnByb3BzKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGlzVmlzaWJsZSA9IHRoaXMucHJvcHMuc2VsZWN0aW9uLmZpbmQocG9zdCA9PiB7XG4gICAgICByZXR1cm4gIXBvc3QuaXNfcHJvdGVjdGVkICYmIHBvc3QuYWNsLmNhbl9wcm90ZWN0XG4gICAgfSlcblxuICAgIGlmICghaXNWaXNpYmxlKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+bG9ja19vdXRsaW5lPC9zcGFuPlxuICAgICAgICAgIHtcIs6azrvOtc6vzrTPic68zrFcIn1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVW5wcm90ZWN0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RlcmF0aW9uLnVucHJvdGVjdCh0aGlzLnByb3BzKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGlzVmlzaWJsZSA9IHRoaXMucHJvcHMuc2VsZWN0aW9uLmZpbmQocG9zdCA9PiB7XG4gICAgICByZXR1cm4gcG9zdC5pc19wcm90ZWN0ZWQgJiYgcG9zdC5hY2wuY2FuX3Byb3RlY3RcbiAgICB9KVxuXG4gICAgaWYgKCFpc1Zpc2libGUpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9PlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5sb2NrX29wZW48L3NwYW4+XG4gICAgICAgICAge1wizp7Otc66zrvOtc6vzrTPic68zrFcIn1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgSGlkZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kZXJhdGlvbi5oaWRlKHRoaXMucHJvcHMpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgaXNWaXNpYmxlID0gdGhpcy5wcm9wcy5zZWxlY3Rpb24uZmluZChwb3N0ID0+IHtcbiAgICAgIHJldHVybiBwb3N0LmFjbC5jYW5faGlkZSAmJiAhcG9zdC5pc19oaWRkZW5cbiAgICB9KVxuXG4gICAgaWYgKCFpc1Zpc2libGUpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9PlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj52aXNpYmlsaXR5X29mZjwvc3Bhbj5cbiAgICAgICAgICB7XCLOms+Bz43PiM65zrzOv1wifVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBVbmhpZGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGVyYXRpb24udW5oaWRlKHRoaXMucHJvcHMpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgaXNWaXNpYmxlID0gdGhpcy5wcm9wcy5zZWxlY3Rpb24uZmluZChwb3N0ID0+IHtcbiAgICAgIHJldHVybiBwb3N0LmFjbC5jYW5fdW5oaWRlICYmIHBvc3QuaXNfaGlkZGVuXG4gICAgfSlcblxuICAgIGlmICghaXNWaXNpYmxlKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+dmlzaWJpbGl0eTwvc3Bhbj5cbiAgICAgICAgICB7XCLOlc68z4bOrM69zrnPg863XCJ9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIERlbGV0ZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kZXJhdGlvbi5yZW1vdmUodGhpcy5wcm9wcylcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBpc1Zpc2libGUgPSB0aGlzLnByb3BzLnNlbGVjdGlvbi5maW5kKHBvc3QgPT4ge1xuICAgICAgcmV0dXJuIHBvc3QuYWNsLmNhbl9kZWxldGVcbiAgICB9KVxuXG4gICAgaWYgKCFpc1Zpc2libGUpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9PlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jbGVhcjwvc3Bhbj5cbiAgICAgICAgICB7XCLOlM65zrHOs8+BzrHPhs6uXCJ9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGVycm9ycywgcG9zdHMgfSkge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nXCIgcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBhcmlhLWxhYmVsPXtcIs6azrvOtc6vz4POuc68zr9cIn1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImNsb3NlXCJcbiAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e1wizpTOuc6xz4fOtc6vz4HOuc+DzrdcIn08L2g0PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICAgICAge1wizpzOr86xIM6uIM+AzrXPgc65z4PPg8+Mz4TOtc+BzrXPgiDOsc6zzrPOtc67zq/Otc+CIM60zrXOvSDOrs+EzrHOvSDOtM+Fzr3Osc+Ez4zOvSDOvc6xIM6xzrvOu86xz4fOuM6/z43OvTpcIn1cbiAgICAgICAgICA8L3A+XG5cbiAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC11bnN0eWxlZCBsaXN0LWVycm9yZWQtaXRlbXNcIj5cbiAgICAgICAgICAgIHtlcnJvcnMubWFwKHBvc3QgPT4ge1xuICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxQb3N0RXJyb3JzXG4gICAgICAgICAgICAgICAgICBlcnJvcnM9e3Bvc3QuZGV0YWlsfVxuICAgICAgICAgICAgICAgICAga2V5PXtwb3N0LmlkfVxuICAgICAgICAgICAgICAgICAgcG9zdD17cG9zdHNbcG9zdC5pZF19XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfSl9XG4gICAgICAgICAgPC91bD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUG9zdEVycm9ycyh7IGVycm9ycywgcG9zdCB9KSB7XG4gIGNvbnN0IGhlYWRpbmcgPSBpbnRlcnBvbGF0ZShcbiAgICBcIiUodXNlcm5hbWUpcyDPg8+EzrnPgiAlKHBvc3RlZF9vbilzXCIsXG4gICAge1xuICAgICAgcG9zdGVkX29uOiBwb3N0LnBvc3RlZF9vbi5mb3JtYXQoXCJMTCwgTFRcIiksXG4gICAgICB1c2VybmFtZTogcG9zdC5wb3N0ZXJfbmFtZVxuICAgIH0sXG4gICAgdHJ1ZVxuICApXG5cbiAgcmV0dXJuIChcbiAgICA8bGk+XG4gICAgICA8aDU+e2hlYWRpbmd9OjwvaDU+XG4gICAgICB7ZXJyb3JzLm1hcCgoZXJyb3IsIGkpID0+IHtcbiAgICAgICAgcmV0dXJuIDxwIGtleT17aX0+e2Vycm9yfTwvcD5cbiAgICAgIH0pfVxuICAgIDwvbGk+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IERyb3Bkb3duIGZyb20gXCIuL2Ryb3Bkb3duXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy51c2VyLmlkIHx8ICFpc1Zpc2libGUocHJvcHMudGhyZWFkLCBwcm9wcy5wb3N0cy5yZXN1bHRzKSkge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBjb25zdCBzZWxlY3Rpb24gPSBwcm9wcy5wb3N0cy5yZXN1bHRzLmZpbHRlcihwb3N0ID0+IHtcbiAgICByZXR1cm4gcG9zdC5pc1NlbGVjdGVkXG4gIH0pXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImRyb3B1cFwiPlxuICAgICAgPGJ1dHRvblxuICAgICAgICBhcmlhLWV4cGFuZGVkPVwidHJ1ZVwiXG4gICAgICAgIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCJcbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGRyb3Bkb3duLXRvZ2dsZSBidG4tYmxvY2sgYnRuLW91dGxpbmVcIlxuICAgICAgICBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCJcbiAgICAgICAgZGlzYWJsZWQ9eyFzZWxlY3Rpb24ubGVuZ3RofVxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAge1wizpXPgM65zrvOv86zzq3PgiDOsc6zzrPOtc67zrnPjs69XCJ9XG4gICAgICA8L2J1dHRvbj5cbiAgICAgIDxEcm9wZG93biBzZWxlY3Rpb249e3NlbGVjdGlvbn0gey4uLnByb3BzfSAvPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1Zpc2libGUodGhyZWFkLCBwb3N0cykge1xuICBpZiAodGhyZWFkLmFjbC5jYW5fbWVyZ2VfcG9zdHMgJiYgcG9zdHMubGVuZ3RoID4gMSkge1xuICAgIC8vIGZhc3QgdGVzdDogc2hvdyBtb2RlcmF0aW9uIG1lbnUgaWYgd2UgY2FuIG1lcmdlIHBvc3RzXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIC8vIHNsb3cgdGVzdDogc2hvdyBtb2RlcmF0aW9uIGlmIGFueSBvZiBwb3N0cyBoYXMgbW9kZXJhdGlvbiBvcHRpb25zXG4gIGxldCB2aXNpYmxlID0gZmFsc2VcbiAgcG9zdHMuZm9yRWFjaChwb3N0ID0+IHtcbiAgICBpZiAoIXBvc3QuaXNfZXZlbnQpIHtcbiAgICAgIGNvbnN0IHNob3dNb2RlcmF0aW9uID1cbiAgICAgICAgKHBvc3QuYWNsLmNhbl9hcHByb3ZlICYmIHBvc3QuaXNfdW5hcHByb3ZlZCkgfHxcbiAgICAgICAgcG9zdC5hY2wuY2FuX2RlbGV0ZSB8fFxuICAgICAgICAoIXBvc3QuaXNfaGlkZGVuICYmIHBvc3QuYWNsLmNhbl9oaWRlKSB8fFxuICAgICAgICBwb3N0LmFjbC5jYW5fbW92ZSB8fFxuICAgICAgICBwb3N0LmFjbC5jYW5fbWVyZ2UgfHxcbiAgICAgICAgcG9zdC5hY2wuY2FuX3Byb3RlY3QgfHxcbiAgICAgICAgKHBvc3QuaXNfaGlkZGVuICYmIHBvc3QuYWNsLmNhbl91bmhpZGUpIHx8XG4gICAgICAgIHBvc3QuYWNsLmNhbl91bnByb3RlY3RcblxuICAgICAgaWYgKHNob3dNb2RlcmF0aW9uKSB7XG4gICAgICAgIHZpc2libGUgPSB0cnVlXG4gICAgICB9XG4gICAgfVxuICB9KVxuICByZXR1cm4gdmlzaWJsZVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQnV0dG9uIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9idXR0b25cIlxuaW1wb3J0IEZvcm0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm1cIlxuaW1wb3J0IEZvcm1Hcm91cCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cFwiXG5pbXBvcnQgKiBhcyBwb3N0IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvcG9zdFwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IG1vZGFsIGZyb20gXCJtaXNhZ28vc2VydmljZXMvbW9kYWxcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG5cbiAgICAgIHVybDogXCJcIixcblxuICAgICAgdmFsaWRhdG9yczoge1xuICAgICAgICB1cmw6IFtdXG4gICAgICB9LFxuICAgICAgZXJyb3JzOiB7fVxuICAgIH1cbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS51cmwudHJpbSgpLmxlbmd0aCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoXCLOoM+Bzq3PgM61zrkgzr3OsSDOss6szrvOtc65z4Igz4TOvyDPg8+Nzr3OtM61z4POvM6/IM6zzrnOsSDPhM63zr0gzqzOu867zrcgzrHOs86zzrXOu86vzrEhXCIpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wb3N0KHRoaXMucHJvcHMudGhyZWFkLmFwaS5wb3N0cy5tb3ZlLCB7XG4gICAgICBuZXdfdGhyZWFkOiB0aGlzLnN0YXRlLnVybCxcbiAgICAgIHBvc3RzOiB0aGlzLnByb3BzLnNlbGVjdGlvbi5tYXAocG9zdCA9PiBwb3N0LmlkKVxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKHN1Y2Nlc3MpIHtcbiAgICB0aGlzLnByb3BzLnNlbGVjdGlvbi5mb3JFYWNoKHNlbGVjdGlvbiA9PiB7XG4gICAgICBzdG9yZS5kaXNwYXRjaChcbiAgICAgICAgcG9zdC5wYXRjaChzZWxlY3Rpb24sIHtcbiAgICAgICAgICBpc0RlbGV0ZWQ6IHRydWVcbiAgICAgICAgfSlcbiAgICAgIClcbiAgICB9KVxuXG4gICAgbW9kYWwuaGlkZSgpXG5cbiAgICBzbmFja2Jhci5zdWNjZXNzKFwizp/OuSDOtc+AzrnOu861zrPOvM6tzr3Otc+CIM+Az4HOv8+Dz4bOv8+Bzq3PgiDOvM61z4TOsc66zrnOvc6uzrjOt866zrHOvSDPg8+EzrfOvSDOrM67zrvOtyDOsc6zzrPOtc67zq/OsVwiKVxuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbClcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgIH1cbiAgfVxuXG4gIG9uVXJsQ2hhbmdlID0gZXZlbnQgPT4ge1xuICAgIHRoaXMuY2hhbmdlVmFsdWUoXCJ1cmxcIiwgZXZlbnQudGFyZ2V0LnZhbHVlKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZ1wiIHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICAgICAgPE1vZGFsSGVhZGVyIC8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgICAgIGZvcj1cImlkX3VybFwiXG4gICAgICAgICAgICAgICAgbGFiZWw9e1wizqPPjc69zrTOtc+DzrzOv8+CIM+EzrfPgiDOsc6zzrPOtc67zq/Osc+CIM+Azr/PhSDOuM61z4Igzr3OsSDOvM61z4TOsc66zrnOvc6uz4POtc65z4Igz4TOuc+CIM+Az4HOv8+Dz4bOv8+Bzq3PglwifVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgaWQ9XCJpZF91cmxcIlxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25VcmxDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS51cmx9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZm9vdGVyXCI+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIlxuICAgICAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7XCLOkc66z43Pgc+Jz4POt1wifVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7XCLOnM61z4TOsc66zq/Ovc63z4POtyDPgM+Bzr/Pg8+Gzr/Pgc+Ozr1cIn1cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBNb2RhbEhlYWRlcihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGFyaWEtbGFiZWw9e1wizprOu861zq/Pg865zrzOv1wifVxuICAgICAgICBjbGFzc05hbWU9XCJjbG9zZVwiXG4gICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICA8L2J1dHRvbj5cbiAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntcIs6czrXPhM6xzrrOr869zrfPg863IM+Az4HOv8+Dz4bOv8+Bz47OvVwifTwvaDQ+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uXCJcbmltcG9ydCBGb3JtIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtXCJcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXBcIlxuaW1wb3J0IENhdGVnb3J5U2VsZWN0IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9jYXRlZ29yeS1zZWxlY3RcIlxuaW1wb3J0IE1vZGFsTG9hZGVyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9tb2RhbC1sb2FkZXJcIlxuaW1wb3J0IFNlbGVjdCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvc2VsZWN0XCJcbmltcG9ydCAqIGFzIHBvc3QgZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9wb3N0XCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgbW9kYWwgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9tb2RhbFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5pbXBvcnQgKiBhcyB2YWxpZGF0b3JzIGZyb20gXCJtaXNhZ28vdXRpbHMvdmFsaWRhdG9yc1wiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiA8UG9zdGluZ0NvbmZpZyB7Li4ucHJvcHN9IEZvcm09e01vZGVyYXRpb25Gb3JtfSAvPlxufVxuXG5leHBvcnQgY2xhc3MgUG9zdGluZ0NvbmZpZyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkZWQ6IGZhbHNlLFxuICAgICAgaXNFcnJvcjogZmFsc2UsXG5cbiAgICAgIGNhdGVnb3JpZXM6IFtdXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgYWpheC5nZXQobWlzYWdvLmdldChcIlRIUkVBRF9FRElUT1JfQVBJXCIpKS50aGVuKFxuICAgICAgZGF0YSA9PiB7XG4gICAgICAgIC8vIGh5ZHJhdGUgY2F0ZWdvcmllcywgZXh0cmFjdCBwb3N0aW5nIG9wdGlvbnNcbiAgICAgICAgY29uc3QgY2F0ZWdvcmllcyA9IGRhdGEubWFwKGl0ZW0gPT4ge1xuICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKGl0ZW0sIHtcbiAgICAgICAgICAgIGRpc2FibGVkOiBpdGVtLnBvc3QgPT09IGZhbHNlLFxuICAgICAgICAgICAgbGFiZWw6IGl0ZW0ubmFtZSxcbiAgICAgICAgICAgIHZhbHVlOiBpdGVtLmlkLFxuICAgICAgICAgICAgcG9zdDogaXRlbS5wb3N0XG4gICAgICAgICAgfSlcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpc0xvYWRlZDogdHJ1ZSxcbiAgICAgICAgICBjYXRlZ29yaWVzXG4gICAgICAgIH0pXG4gICAgICB9LFxuICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXNFcnJvcjogcmVqZWN0aW9uLmRldGFpbFxuICAgICAgICB9KVxuICAgICAgfVxuICAgIClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5pc0Vycm9yKSB7XG4gICAgICByZXR1cm4gPEVycm9yIG1lc3NhZ2U9e3RoaXMuc3RhdGUuaXNFcnJvcn0gLz5cbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuaXNMb2FkZWQpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxNb2RlcmF0aW9uRm9ybSB7Li4udGhpcy5wcm9wc30gY2F0ZWdvcmllcz17dGhpcy5zdGF0ZS5jYXRlZ29yaWVzfSAvPlxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gPExvYWRlciAvPlxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTW9kZXJhdGlvbkZvcm0gZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuXG4gICAgICB0aXRsZTogXCJcIixcbiAgICAgIGNhdGVnb3J5OiBudWxsLFxuICAgICAgY2F0ZWdvcmllczogcHJvcHMuY2F0ZWdvcmllcyxcbiAgICAgIHdlaWdodDogMCxcbiAgICAgIGlzX2hpZGRlbjogMCxcbiAgICAgIGlzX2Nsb3NlZDogZmFsc2UsXG5cbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgdGl0bGU6IFt2YWxpZGF0b3JzLnJlcXVpcmVkKCldXG4gICAgICB9LFxuXG4gICAgICBlcnJvcnM6IHt9XG4gICAgfVxuXG4gICAgdGhpcy5pc0hpZGRlbkNob2ljZXMgPSBbXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiAwLFxuICAgICAgICBpY29uOiBcInZpc2liaWxpdHlcIixcbiAgICAgICAgbGFiZWw6IFwizozPh865XCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiAxLFxuICAgICAgICBpY29uOiBcInZpc2liaWxpdHlfb2ZmXCIsXG4gICAgICAgIGxhYmVsOiBcIs6dzrHOuVwiXG4gICAgICB9XG4gICAgXVxuXG4gICAgdGhpcy5pc0Nsb3NlZENob2ljZXMgPSBbXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgICAgaWNvbjogXCJsb2NrX291dGxpbmVcIixcbiAgICAgICAgbGFiZWw6IFwizozPh865XCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICBpY29uOiBcImxvY2tcIixcbiAgICAgICAgbGFiZWw6IFwizp3Osc65XCJcbiAgICAgIH1cbiAgICBdXG5cbiAgICB0aGlzLmFjbCA9IHt9XG4gICAgdGhpcy5wcm9wcy5jYXRlZ29yaWVzLmZvckVhY2goY2F0ZWdvcnkgPT4ge1xuICAgICAgaWYgKGNhdGVnb3J5LnBvc3QpIHtcbiAgICAgICAgaWYgKCF0aGlzLnN0YXRlLmNhdGVnb3J5KSB7XG4gICAgICAgICAgdGhpcy5zdGF0ZS5jYXRlZ29yeSA9IGNhdGVnb3J5LmlkXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFjbFtjYXRlZ29yeS5pZF0gPSB7XG4gICAgICAgICAgY2FuX3Bpbl90aHJlYWRzOiBjYXRlZ29yeS5wb3N0LnBpbixcbiAgICAgICAgICBjYW5fY2xvc2VfdGhyZWFkczogY2F0ZWdvcnkucG9zdC5jbG9zZSxcbiAgICAgICAgICBjYW5faGlkZV90aHJlYWRzOiBjYXRlZ29yeS5wb3N0LmhpZGVcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBpZiAodGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKFwizpcgz4bPjM+BzrzOsSDPgM61z4HOuc6tz4fOtc65IM67zqzOuM63IVwiKVxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGVycm9yczogdGhpcy52YWxpZGF0ZSgpXG4gICAgICB9KVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wb3N0KHRoaXMucHJvcHMudGhyZWFkLmFwaS5wb3N0cy5zcGxpdCwge1xuICAgICAgdGl0bGU6IHRoaXMuc3RhdGUudGl0bGUsXG4gICAgICBjYXRlZ29yeTogdGhpcy5zdGF0ZS5jYXRlZ29yeSxcbiAgICAgIHdlaWdodDogdGhpcy5zdGF0ZS53ZWlnaHQsXG4gICAgICBpc19oaWRkZW46IHRoaXMuc3RhdGUuaXNfaGlkZGVuLFxuICAgICAgaXNfY2xvc2VkOiB0aGlzLnN0YXRlLmlzX2Nsb3NlZCxcbiAgICAgIHBvc3RzOiB0aGlzLnByb3BzLnNlbGVjdGlvbi5tYXAocG9zdCA9PiBwb3N0LmlkKVxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKGFwaVJlc3BvbnNlKSB7XG4gICAgdGhpcy5wcm9wcy5zZWxlY3Rpb24uZm9yRWFjaChzZWxlY3Rpb24gPT4ge1xuICAgICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICAgIHBvc3QucGF0Y2goc2VsZWN0aW9uLCB7XG4gICAgICAgICAgaXNEZWxldGVkOiB0cnVlXG4gICAgICAgIH0pXG4gICAgICApXG4gICAgfSlcblxuICAgIG1vZGFsLmhpZGUoKVxuXG4gICAgc25hY2tiYXIuc3VjY2VzcyhcIs6fzrkgzrXPgM65zrvOtc6zzrzOrc69zrXPgiDPgM+Bzr/Pg8+Gzr/Pgc6tz4IgzrTOuc6xz4fPic+Bzq/Pg8+EzrfOus6xzr0gz4POtSDOus6xzrnOvc6/z43Pgc65zrEgzrHOs86zzrXOu86vzrFcIilcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBlcnJvcnM6IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuc3RhdGUuZXJyb3JzLCByZWplY3Rpb24pXG4gICAgICB9KVxuICAgICAgc25hY2tiYXIuZXJyb3IoXCLOlyDPhs+Mz4HOvM6xIM+AzrXPgc65zq3Ph861zrkgzrvOrM64zrchXCIpXG4gICAgfSBlbHNlIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDMgJiYgQXJyYXkuaXNBcnJheShyZWplY3Rpb24pKSB7XG4gICAgICBtb2RhbC5zaG93KDxFcnJvcnNNb2RhbCBlcnJvcnM9e3JlamVjdGlvbn0gLz4pXG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICB9XG4gIH1cblxuICBvbkNhdGVnb3J5Q2hhbmdlID0gZXYgPT4ge1xuICAgIGNvbnN0IGNhdGVnb3J5SWQgPSBldi50YXJnZXQudmFsdWVcbiAgICBjb25zdCBuZXdTdGF0ZSA9IHtcbiAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeUlkXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuYWNsW2NhdGVnb3J5SWRdLmNhbl9waW5fdGhyZWFkcyA8IG5ld1N0YXRlLndlaWdodCkge1xuICAgICAgbmV3U3RhdGUud2VpZ2h0ID0gMFxuICAgIH1cblxuICAgIGlmICghdGhpcy5hY2xbY2F0ZWdvcnlJZF0uY2FuX2hpZGVfdGhyZWFkcykge1xuICAgICAgbmV3U3RhdGUuaXNfaGlkZGVuID0gMFxuICAgIH1cblxuICAgIGlmICghdGhpcy5hY2xbY2F0ZWdvcnlJZF0uY2FuX2Nsb3NlX3RocmVhZHMpIHtcbiAgICAgIG5ld1N0YXRlLmlzX2Nsb3NlZCA9IGZhbHNlXG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZShuZXdTdGF0ZSlcbiAgfVxuXG4gIGdldFdlaWdodENob2ljZXMoKSB7XG4gICAgY29uc3QgY2hvaWNlcyA9IFtcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgIGljb246IFwicmVtb3ZlXCIsXG4gICAgICAgIGxhYmVsOiBcIs6czrcgz4DPgc6/z4nOuM63zrzOrc69zrdcIlxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6IDEsXG4gICAgICAgIGljb246IFwiYm9va21hcmtfYm9yZGVyXCIsXG4gICAgICAgIGxhYmVsOiBcIs6gz4HOv8+JzrjOt868zq3Ovc63IM+DzrUgzrHPhc+Ezq4gz4TOt869IM66zrHPhM63zrPOv8+Bzq/OsVwiXG4gICAgICB9XG4gICAgXVxuXG4gICAgaWYgKHRoaXMuYWNsW3RoaXMuc3RhdGUuY2F0ZWdvcnldLmNhbl9waW5fdGhyZWFkcyA9PT0gMikge1xuICAgICAgY2hvaWNlcy5wdXNoKHtcbiAgICAgICAgdmFsdWU6IDIsXG4gICAgICAgIGljb246IFwiYm9va21hcmtcIixcbiAgICAgICAgbGFiZWw6IFwizqDPgc6/z4nOuM63zrzOrc69zrcgz4POtSDPjM67zrcgz4TOtyDPg861zrvOr860zrFcIlxuICAgICAgfSlcbiAgICB9XG5cbiAgICByZXR1cm4gY2hvaWNlc1xuICB9XG5cbiAgcmVuZGVyV2VpZ2h0RmllbGQoKSB7XG4gICAgaWYgKHRoaXMuYWNsW3RoaXMuc3RhdGUuY2F0ZWdvcnldLmNhbl9waW5fdGhyZWFkcykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgIGxhYmVsPXtcIs6SzrHOuM68z4zPgiDPgM+Bzr/Pjs64zrfPg863z4IgzrHOs86zzrXOu86vzrHPglwifVxuICAgICAgICAgIGZvcj1cImlkX3dlaWdodFwiXG4gICAgICAgICAgbGFiZWxDbGFzcz1cImNvbC1zbS00XCJcbiAgICAgICAgICBjb250cm9sQ2xhc3M9XCJjb2wtc20tOFwiXG4gICAgICAgID5cbiAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICBpZD1cImlkX3dlaWdodFwiXG4gICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoXCJ3ZWlnaHRcIil9XG4gICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS53ZWlnaHR9XG4gICAgICAgICAgICBjaG9pY2VzPXt0aGlzLmdldFdlaWdodENob2ljZXMoKX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICByZW5kZXJIaWRkZW5GaWVsZCgpIHtcbiAgICBpZiAodGhpcy5hY2xbdGhpcy5zdGF0ZS5jYXRlZ29yeV0uY2FuX2hpZGVfdGhyZWFkcykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgIGxhYmVsPXtcIs6az4HPjc+IzrnOvM6/IM6xzrPOs861zrvOr86xz4JcIn1cbiAgICAgICAgICBmb3I9XCJpZF9pc19oaWRkZW5cIlxuICAgICAgICAgIGxhYmVsQ2xhc3M9XCJjb2wtc20tNFwiXG4gICAgICAgICAgY29udHJvbENsYXNzPVwiY29sLXNtLThcIlxuICAgICAgICA+XG4gICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgaWQ9XCJpZF9pc19jbG9zZWRcIlxuICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KFwiaXNfaGlkZGVuXCIpfVxuICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuaXNfaGlkZGVufVxuICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5pc0hpZGRlbkNob2ljZXN9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyQ2xvc2VkRmllbGQoKSB7XG4gICAgaWYgKHRoaXMuYWNsW3RoaXMuc3RhdGUuY2F0ZWdvcnldLmNhbl9jbG9zZV90aHJlYWRzKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgbGFiZWw9e1wizprOu861zq/Pg865zrzOvyDOsc6zzrPOtc67zq/Osc+CXCJ9XG4gICAgICAgICAgZm9yPVwiaWRfaXNfY2xvc2VkXCJcbiAgICAgICAgICBsYWJlbENsYXNzPVwiY29sLXNtLTRcIlxuICAgICAgICAgIGNvbnRyb2xDbGFzcz1cImNvbC1zbS04XCJcbiAgICAgICAgPlxuICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgIGlkPVwiaWRfaXNfY2xvc2VkXCJcbiAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcImlzX2Nsb3NlZFwiKX1cbiAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmlzX2Nsb3NlZH1cbiAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuaXNDbG9zZWRDaG9pY2VzfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPE1vZGFsIGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZ1wiPlxuICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgICBsYWJlbD17XCLOpM6vz4TOu86/z4IgzrHOs86zzrXOu86vzrHPglwifVxuICAgICAgICAgICAgICBmb3I9XCJpZF90aXRsZVwiXG4gICAgICAgICAgICAgIGxhYmVsQ2xhc3M9XCJjb2wtc20tNFwiXG4gICAgICAgICAgICAgIGNvbnRyb2xDbGFzcz1cImNvbC1zbS04XCJcbiAgICAgICAgICAgICAgdmFsaWRhdGlvbj17dGhpcy5zdGF0ZS5lcnJvcnMudGl0bGV9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIGlkPVwiaWRfdGl0bGVcIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcInRpdGxlXCIpfVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnRpdGxlfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNsZWFyZml4XCIgLz5cblxuICAgICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgICBsYWJlbD17XCLOms6xz4TOt86zzr/Pgc6vzrFcIn1cbiAgICAgICAgICAgICAgZm9yPVwiaWRfY2F0ZWdvcnlcIlxuICAgICAgICAgICAgICBsYWJlbENsYXNzPVwiY29sLXNtLTRcIlxuICAgICAgICAgICAgICBjb250cm9sQ2xhc3M9XCJjb2wtc20tOFwiXG4gICAgICAgICAgICAgIHZhbGlkYXRpb249e3RoaXMuc3RhdGUuZXJyb3JzLmNhdGVnb3J5fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8Q2F0ZWdvcnlTZWxlY3RcbiAgICAgICAgICAgICAgICBpZD1cImlkX2NhdGVnb3J5XCJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNhdGVnb3J5Q2hhbmdlfVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmNhdGVnb3J5fVxuICAgICAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuc3RhdGUuY2F0ZWdvcmllc31cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjbGVhcmZpeFwiIC8+XG5cbiAgICAgICAgICAgIHt0aGlzLnJlbmRlcldlaWdodEZpZWxkKCl9XG4gICAgICAgICAgICB7dGhpcy5yZW5kZXJIaWRkZW5GaWVsZCgpfVxuICAgICAgICAgICAge3RoaXMucmVuZGVyQ2xvc2VkRmllbGQoKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIlxuICAgICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtcIs6RzrrPjc+Bz4nPg863XCJ9XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwiYnRuLXByaW1hcnlcIiBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ30+XG4gICAgICAgICAgICAgIHtcIs6UzrnOsc+Hz4nPgc65z4POvM+Mz4Igz4DPgc6/z4PPhs6/z4HPjs69XCJ9XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgPC9Nb2RhbD5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIExvYWRlcigpIHtcbiAgcmV0dXJuIChcbiAgICA8TW9kYWwgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nXCI+XG4gICAgICA8TW9kYWxMb2FkZXIgLz5cbiAgICA8L01vZGFsPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBFcnJvcihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxNb2RhbCBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2cgbW9kYWwtbWVzc2FnZVwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWljb25cIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmluZm9fb3V0bGluZTwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICAgIHtcIs6UzrXOvSDOvM+Azr/Pgc61zq/PgiDOvc6xIM68zrXPhM6xzrrOuc69zq7Pg861zrnPgiDPhM65z4IgzrXPgM65zrvOtc6zzrzOrc69zrXPgiDPgM+Bzr/Pg8+Gzr/Pgc6tz4IgzrHPhc+Ezq4gz4TOtyDPg8+EzrnOs868zq5cIn1cbiAgICAgICAgPC9wPlxuICAgICAgICA8cD57cHJvcHMubWVzc2FnZX08L3A+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIiB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAge1wizp/OmlwifVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvTW9kYWw+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE1vZGFsKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e3Byb3BzLmNsYXNzTmFtZX0gcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBhcmlhLWxhYmVsPXtcIs6azrvOtc6vz4POuc68zr9cIn1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImNsb3NlXCJcbiAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+XG4gICAgICAgICAgICB7XCLOlM65zrHPh8+Jz4HOuc+DzrzPjM+CIM+Az4HOv8+Dz4bOv8+Bz47OvSDPg861IM66zrHOuc69zr/Pjc+BzrnOsSDOsc6zzrPOtc67zq/OsVwifVxuICAgICAgICAgIDwvaDQ+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7cHJvcHMuY2hpbGRyZW59XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgTWVyZ2VNb2RhbCBmcm9tIFwiLi9tZXJnZVwiXG5pbXBvcnQgTW92ZU1vZGFsIGZyb20gXCIuL21vdmVcIlxuaW1wb3J0ICogYXMgdGhyZWFkIGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvdGhyZWFkXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgbW9kYWwgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9tb2RhbFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY2FsbEFwaSA9IChvcHMsIHN1Y2Nlc3NNZXNzYWdlKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2godGhyZWFkLmJ1c3koKSlcblxuICAgIC8vIGJ5IHRoZSBjaGFuY2UgdXBkYXRlIHRocmVhZCBhY2wgdG9vXG4gICAgb3BzLnB1c2goeyBvcDogXCJhZGRcIiwgcGF0aDogXCJhY2xcIiwgdmFsdWU6IHRydWUgfSlcblxuICAgIGFqYXgucGF0Y2godGhpcy5wcm9wcy50aHJlYWQuYXBpLmluZGV4LCBvcHMpLnRoZW4oXG4gICAgICBkYXRhID0+IHtcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2godGhyZWFkLnVwZGF0ZShkYXRhKSlcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2godGhyZWFkLnJlbGVhc2UoKSlcbiAgICAgICAgc25hY2tiYXIuc3VjY2VzcyhzdWNjZXNzTWVzc2FnZSlcbiAgICAgIH0sXG4gICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICBzdG9yZS5kaXNwYXRjaCh0aHJlYWQucmVsZWFzZSgpKVxuICAgICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbFswXSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApXG4gIH1cblxuICBwaW5HbG9iYWxseSA9ICgpID0+IHtcbiAgICB0aGlzLmNhbGxBcGkoXG4gICAgICBbXG4gICAgICAgIHtcbiAgICAgICAgICBvcDogXCJyZXBsYWNlXCIsXG4gICAgICAgICAgcGF0aDogXCJ3ZWlnaHRcIixcbiAgICAgICAgICB2YWx1ZTogMlxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgXCLOlyDOsc6zzrPOtc67zq/OsSDPgM+Bzr/Pic64zrXOr8+EzrHOuSDPg861IM+MzrvOtyDPhM63IM+DzrXOu86vzrTOsVwiXG4gICAgKVxuICB9XG5cbiAgcGluTG9jYWxseSA9ICgpID0+IHtcbiAgICB0aGlzLmNhbGxBcGkoXG4gICAgICBbXG4gICAgICAgIHtcbiAgICAgICAgICBvcDogXCJyZXBsYWNlXCIsXG4gICAgICAgICAgcGF0aDogXCJ3ZWlnaHRcIixcbiAgICAgICAgICB2YWx1ZTogMVxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgXCLOlyDOsc6zzrPOtc67zq/OsSDPgM+Bzr/Pic64zrXOr8+EzrHOuSDPg861IM6xz4XPhM6uIM+EzrfOvSDOus6xz4TOt86zzr/Pgc6vzrFcIlxuICAgIClcbiAgfVxuXG4gIHVucGluID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaShcbiAgICAgIFtcbiAgICAgICAge1xuICAgICAgICAgIG9wOiBcInJlcGxhY2VcIixcbiAgICAgICAgICBwYXRoOiBcIndlaWdodFwiLFxuICAgICAgICAgIHZhbHVlOiAwXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBcIs6XIM6xzrPOs861zrvOr86xIM60zrXOvSDPgM+Bzr/Pic64zrXOr8+EzrHOuSDPgM67zq3Ov869XCJcbiAgICApXG4gIH1cblxuICBhcHByb3ZlID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaShcbiAgICAgIFtcbiAgICAgICAge1xuICAgICAgICAgIG9wOiBcInJlcGxhY2VcIixcbiAgICAgICAgICBwYXRoOiBcImlzLXVuYXBwcm92ZWRcIixcbiAgICAgICAgICB2YWx1ZTogZmFsc2VcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIFwizpcgzrHOs86zzrXOu86vzrEgzrXOs866z4HOr864zrfOus61IM6zzrnOsSDOtM63zrzOv8+Dzq/Otc+Fz4POt1wiXG4gICAgKVxuICB9XG5cbiAgb3BlbiA9ICgpID0+IHtcbiAgICB0aGlzLmNhbGxBcGkoXG4gICAgICBbXG4gICAgICAgIHtcbiAgICAgICAgICBvcDogXCJyZXBsYWNlXCIsXG4gICAgICAgICAgcGF0aDogXCJpcy1jbG9zZWRcIixcbiAgICAgICAgICB2YWx1ZTogZmFsc2VcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIFwizpcgzrHOs86zzrXOu86vzrEgzqzOvc6/zrnOvs61IM6zzrnOsSDOus6xzrnOvc6/z43Pgc65zrXPgiDPgM+Bzr/Pg8+Gzr/Pgc6tz4JcIlxuICAgIClcbiAgfVxuXG4gIGNsb3NlID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaShcbiAgICAgIFtcbiAgICAgICAge1xuICAgICAgICAgIG9wOiBcInJlcGxhY2VcIixcbiAgICAgICAgICBwYXRoOiBcImlzLWNsb3NlZFwiLFxuICAgICAgICAgIHZhbHVlOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBcIs6XIM6xzrPOs861zrvOr86xIM6tzrrOu861zrnPg861IM6zzrnOsSDOus6xzrnOvc6/z43Pgc65zrXPgiDPgM+Bzr/Pg8+Gzr/Pgc6tz4JcIlxuICAgIClcbiAgfVxuXG4gIHVuaGlkZSA9ICgpID0+IHtcbiAgICB0aGlzLmNhbGxBcGkoXG4gICAgICBbXG4gICAgICAgIHtcbiAgICAgICAgICBvcDogXCJyZXBsYWNlXCIsXG4gICAgICAgICAgcGF0aDogXCJpcy1oaWRkZW5cIixcbiAgICAgICAgICB2YWx1ZTogZmFsc2VcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIFwizpcgzrHOs86zzrXOu86vzrEgzrjOsSDOtc68z4bOsc69zq/Ots61z4TOsc65IM+Ez47Pgc6xXCJcbiAgICApXG4gIH1cblxuICBoaWRlID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaShcbiAgICAgIFtcbiAgICAgICAge1xuICAgICAgICAgIG9wOiBcInJlcGxhY2VcIixcbiAgICAgICAgICBwYXRoOiBcImlzLWhpZGRlblwiLFxuICAgICAgICAgIHZhbHVlOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBcIs6XIM6xzrPOs861zrvOr86xIM64zrEgzrXOr869zrHOuSDOus+Bz4XOvM68zq3Ovc63IM6xz4DPjCDOtc60z44gzrrOsc65IM+Azq3Pgc6xXCJcbiAgICApXG4gIH1cblxuICBtb3ZlID0gKCkgPT4ge1xuICAgIG1vZGFsLnNob3coXG4gICAgICA8TW92ZU1vZGFsIHBvc3RzPXt0aGlzLnByb3BzLnBvc3RzfSB0aHJlYWQ9e3RoaXMucHJvcHMudGhyZWFkfSAvPlxuICAgIClcbiAgfVxuXG4gIG1lcmdlID0gKCkgPT4ge1xuICAgIG1vZGFsLnNob3coPE1lcmdlTW9kYWwgdGhyZWFkPXt0aGlzLnByb3BzLnRocmVhZH0gLz4pXG4gIH1cblxuICBkZWxldGUgPSAoKSA9PiB7XG4gICAgaWYgKCFjb25maXJtKFwizpXOr8+DzrHOuSDPg86vzrPOv8+Fz4HOv8+CIM+Mz4TOuSDOuM6tzrvOtc65z4Igzr3OsSDOtM65zrHOs8+BzqzPiM61zrnPgiDOsc+Fz4TOriDPhM63zr0gzrHOs86zzrXOu86vzrE7XCIpKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBzdG9yZS5kaXNwYXRjaCh0aHJlYWQuYnVzeSgpKVxuXG4gICAgYWpheC5kZWxldGUodGhpcy5wcm9wcy50aHJlYWQuYXBpLmluZGV4KS50aGVuKFxuICAgICAgZGF0YSA9PiB7XG4gICAgICAgIHNuYWNrYmFyLnN1Y2Nlc3MoXCLOlyDOsc6zzrPOtc67zq/OsSDOtM65zrHOs8+BzqzPhs63zrrOtSDOtc+AzrnPhM+Fz4fPjs+CXCIpXG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbiA9IHRoaXMucHJvcHMudGhyZWFkLmNhdGVnb3J5LnVybC5pbmRleFxuICAgICAgfSxcbiAgICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKHRocmVhZC5yZWxlYXNlKCkpXG4gICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICAgIH1cbiAgICApXG4gIH1cblxuICBnZXRQaW5HbG9iYWxseUJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWQud2VpZ2h0ID09PSAyKSByZXR1cm4gbnVsbFxuICAgIGlmICghdGhpcy5wcm9wcy50aHJlYWQuYWNsLmNhbl9waW5fZ2xvYmFsbHkpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLnBpbkdsb2JhbGx5fVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmJvb2ttYXJrPC9zcGFuPlxuICAgICAgICAgIHtcIs6gz4HOv8+OzrjOt8+Dzrcgz4POtSDPjM67zrcgz4TOtyDPg861zrvOr860zrFcIn1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxuXG4gIGdldFBpbkxvY2FsbHlCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudGhyZWFkLndlaWdodCA9PT0gMSkgcmV0dXJuIG51bGxcbiAgICBpZiAoIXRoaXMucHJvcHMudGhyZWFkLmFjbC5jYW5fcGluKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiXG4gICAgICAgICAgb25DbGljaz17dGhpcy5waW5Mb2NhbGx5fVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmJvb2ttYXJrX2JvcmRlcjwvc3Bhbj5cbiAgICAgICAgICB7XCLOoM+Bzr/Pjs64zrfPg863IM+DzrUgzrHPhc+Ezq4gz4TOt869IM66zrHPhM63zrPOv8+Bzq/OsVwifVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG5cbiAgZ2V0VW5waW5CdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudGhyZWFkLndlaWdodCA9PT0gMCkgcmV0dXJuIG51bGxcbiAgICBpZiAoIXRoaXMucHJvcHMudGhyZWFkLmFjbC5jYW5fcGluKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLnVucGlufSB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnBhbm9yYW1hX2Zpc2hfZXllPC9zcGFuPlxuICAgICAgICAgIHtcIs6kzq3Ou86/z4Igz4DPgc6/z47OuM63z4POt8+CXCJ9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cblxuICBnZXRNb3ZlQnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy50aHJlYWQuYWNsLmNhbl9tb3ZlKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm1vdmV9IHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+YXJyb3dfZm9yd2FyZDwvc3Bhbj5cbiAgICAgICAgICB7XCLOnM61z4TOsc66zq/Ovc63z4POt1wifVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG5cbiAgZ2V0TWVyZ2VCdXR0b24oKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnRocmVhZC5hY2wuY2FuX21lcmdlKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm1lcmdlfSB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNhbGxfbWVyZ2U8L3NwYW4+XG4gICAgICAgICAge1wizqPPhc6zz4fPjs69zrXPhc+DzrdcIn1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxuXG4gIGdldEFwcHJvdmVCdXR0b24oKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnRocmVhZC5pc191bmFwcHJvdmVkKSByZXR1cm4gbnVsbFxuICAgIGlmICghdGhpcy5wcm9wcy50aHJlYWQuYWNsLmNhbl9hcHByb3ZlKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLmFwcHJvdmV9IHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+ZG9uZTwvc3Bhbj5cbiAgICAgICAgICB7XCLOiM6zzrrPgc65z4POt1wifVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG5cbiAgZ2V0T3BlbkJ1dHRvbigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMudGhyZWFkLmlzX2Nsb3NlZCkgcmV0dXJuIG51bGxcbiAgICBpZiAoIXRoaXMucHJvcHMudGhyZWFkLmFjbC5jYW5fY2xvc2UpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub3Blbn0gdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5sb2NrX29wZW48L3NwYW4+XG4gICAgICAgICAge1wizobOvc6/zrnOs868zrEgzrPOuc6xIM+Az4HOv8+Dz4bOv8+Bzq3PglwifVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG5cbiAgZ2V0Q2xvc2VCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudGhyZWFkLmlzX2Nsb3NlZCkgcmV0dXJuIG51bGxcbiAgICBpZiAoIXRoaXMucHJvcHMudGhyZWFkLmFjbC5jYW5fY2xvc2UpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMuY2xvc2V9IHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+bG9ja19vdXRsaW5lPC9zcGFuPlxuICAgICAgICAgIHtcIs6azrvOtc6vz4POuc68zr8gzrPOuc6xIM+Az4HOv8+Dz4bOv8+Bzq3PglwifVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG5cbiAgZ2V0VW5oaWRlQnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy50aHJlYWQuaXNfaGlkZGVuKSByZXR1cm4gbnVsbFxuICAgIGlmICghdGhpcy5wcm9wcy50aHJlYWQuYWNsLmNhbl91bmhpZGUpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMudW5oaWRlfSB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnZpc2liaWxpdHk8L3NwYW4+XG4gICAgICAgICAge1wizpXOvM+GzqzOvc65z4POt1wifVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG5cbiAgZ2V0SGlkZUJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWQuaXNfaGlkZGVuKSByZXR1cm4gbnVsbFxuICAgIGlmICghdGhpcy5wcm9wcy50aHJlYWQuYWNsLmNhbl9oaWRlKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLmhpZGV9IHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+dmlzaWJpbGl0eV9vZmY8L3NwYW4+XG4gICAgICAgICAge1wizprPgc+Nz4jOuc68zr9cIn1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxuXG4gIGdldERlbGV0ZUJ1dHRvbigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMudGhyZWFkLmFjbC5jYW5fZGVsZXRlKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLmRlbGV0ZX0gdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jbGVhcjwvc3Bhbj5cbiAgICAgICAgICB7XCLOlM65zrHOs8+BzrHPhs6uXCJ9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDx1bCBjbGFzc05hbWU9XCJkcm9wZG93bi1tZW51IGRyb3Bkb3duLW1lbnUtcmlnaHQgc3RpY2stdG8tYm90dG9tXCI+XG4gICAgICAgIHt0aGlzLmdldFBpbkdsb2JhbGx5QnV0dG9uKCl9XG4gICAgICAgIHt0aGlzLmdldFBpbkxvY2FsbHlCdXR0b24oKX1cbiAgICAgICAge3RoaXMuZ2V0VW5waW5CdXR0b24oKX1cbiAgICAgICAge3RoaXMuZ2V0TW92ZUJ1dHRvbigpfVxuICAgICAgICB7dGhpcy5nZXRNZXJnZUJ1dHRvbigpfVxuICAgICAgICB7dGhpcy5nZXRBcHByb3ZlQnV0dG9uKCl9XG4gICAgICAgIHt0aGlzLmdldE9wZW5CdXR0b24oKX1cbiAgICAgICAge3RoaXMuZ2V0Q2xvc2VCdXR0b24oKX1cbiAgICAgICAge3RoaXMuZ2V0VW5oaWRlQnV0dG9uKCl9XG4gICAgICAgIHt0aGlzLmdldEhpZGVCdXR0b24oKX1cbiAgICAgICAge3RoaXMuZ2V0RGVsZXRlQnV0dG9uKCl9XG4gICAgICA8L3VsPlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IE1vZGVyYXRpb25Db250cm9scyBmcm9tIFwiLi9jb250cm9sc1wiXG5pbXBvcnQgaXNNb2RlcmF0aW9uVmlzaWJsZSBmcm9tIFwiLi9pcy12aXNpYmxlXCJcblxuZXhwb3J0IHsgTW9kZXJhdGlvbkNvbnRyb2xzLCBpc01vZGVyYXRpb25WaXNpYmxlIH1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHRocmVhZCkge1xuICByZXR1cm4gISEoXG4gICAgKHRocmVhZC5hY2wuY2FuX2FwcHJvdmUgJiYgdGhyZWFkLmlzX3VuYXBwcm92ZWQpIHx8XG4gICAgdGhyZWFkLmFjbC5jYW5fY2xvc2UgfHxcbiAgICB0aHJlYWQuYWNsLmNhbl9kZWxldGUgfHxcbiAgICB0aHJlYWQuYWNsLmNhbl9oaWRlIHx8XG4gICAgdGhyZWFkLmFjbC5jYW5fbW92ZSB8fFxuICAgIHRocmVhZC5hY2wuY2FuX21lcmdlIHx8XG4gICAgdGhyZWFkLmFjbC5jYW5fcGluIHx8XG4gICAgKHRocmVhZC5hY2wuY2FuX3Bpbl9nbG9iYWxseSAmJiB0aHJlYWQud2VpZ2h0ICE9PSAyKSB8fFxuICAgICh0aHJlYWQuYWNsLmNhbl91bmhpZGUgJiYgdGhyZWFkLmlzX2hpZGRlbilcbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgRm9ybSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybVwiXG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwXCJcbmltcG9ydCBNZXJnZUNvbmZsaWN0IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9tZXJnZS1jb25mbGljdFwiXG5pbXBvcnQgKiBhcyB0aHJlYWQgZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy90aHJlYWRcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBtb2RhbCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL21vZGFsXCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuXG4gICAgICB1cmw6IFwiXCIsXG5cbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgdXJsOiBbXVxuICAgICAgfSxcbiAgICAgIGVycm9yczoge31cbiAgICB9XG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUudXJsLnRyaW0oKS5sZW5ndGgpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKFwizqDPgc6tz4DOtc65IM69zrEgzrLOrM67zrXOuc+CIM+Ezr8gz4PPjc69zrTOtc+DzrzOvyDOs865zrEgz4TOt869IM6szrvOu863IM6xzrPOs861zrvOr86xIVwiKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgLy8gZnJlZXplIHRocmVhZFxuICAgIHN0b3JlLmRpc3BhdGNoKHRocmVhZC5idXN5KCkpXG5cbiAgICByZXR1cm4gYWpheC5wb3N0KHRoaXMucHJvcHMudGhyZWFkLmFwaS5tZXJnZSwge1xuICAgICAgb3RoZXJfdGhyZWFkOiB0aGlzLnN0YXRlLnVybFxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVTdWNjZXNzID0gc3VjY2VzcyA9PiB7XG4gICAgdGhpcy5oYW5kbGVTdWNjZXNzVW5tb3VudGVkKHN1Y2Nlc3MpXG5cbiAgICAvLyBrZWVwIGZvcm0gbG9hZGluZ1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNMb2FkaW5nOiB0cnVlXG4gICAgfSlcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3NVbm1vdW50ZWQgPSBzdWNjZXNzID0+IHtcbiAgICBzbmFja2Jhci5zdWNjZXNzKFwizpcgzrHOs86zzrXOu86vzrXPgiDOrc+Hzr/Phc69IM+Dz4XOs8+Hz4nOvc61z4XOuM61zq9cIilcbiAgICB3aW5kb3cubG9jYXRpb24gPSBzdWNjZXNzLnVybFxuICB9XG5cbiAgaGFuZGxlRXJyb3IgPSByZWplY3Rpb24gPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHRocmVhZC5yZWxlYXNlKCkpXG5cbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBpZiAocmVqZWN0aW9uLmJlc3RfYW5zd2VycyB8fCByZWplY3Rpb24ucG9sbHMpIHtcbiAgICAgICAgbW9kYWwuc2hvdyhcbiAgICAgICAgICA8TWVyZ2VDb25mbGljdFxuICAgICAgICAgICAgYXBpPXt0aGlzLnByb3BzLnRocmVhZC5hcGkubWVyZ2V9XG4gICAgICAgICAgICBiZXN0QW5zd2Vycz17cmVqZWN0aW9uLmJlc3RfYW5zd2Vyc31cbiAgICAgICAgICAgIGRhdGE9e3sgb3RoZXJfdGhyZWFkOiB0aGlzLnN0YXRlLnVybCB9fVxuICAgICAgICAgICAgcG9sbHM9e3JlamVjdGlvbi5wb2xsc31cbiAgICAgICAgICAgIG9uRXJyb3I9e3RoaXMuaGFuZGxlRXJyb3J9XG4gICAgICAgICAgICBvblN1Y2Nlc3M9e3RoaXMuaGFuZGxlU3VjY2Vzc1VubW91bnRlZH1cbiAgICAgICAgICAvPlxuICAgICAgICApXG4gICAgICB9IGVsc2UgaWYgKHJlamVjdGlvbi5iZXN0X2Fuc3dlcikge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uYmVzdF9hbnN3ZXJbMF0pXG4gICAgICB9IGVsc2UgaWYgKHJlamVjdGlvbi5wb2xsKSB7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5wb2xsWzBdKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbClcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgIH1cbiAgfVxuXG4gIG9uVXJsQ2hhbmdlID0gZXZlbnQgPT4ge1xuICAgIHRoaXMuY2hhbmdlVmFsdWUoXCJ1cmxcIiwgZXZlbnQudGFyZ2V0LnZhbHVlKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZ1wiIHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICAgICAgPE1vZGFsSGVhZGVyIC8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgICAgIGZvcj1cImlkX3VybFwiXG4gICAgICAgICAgICAgICAgbGFiZWw9e1wizqPPjc69zrTOtc+DzrzOv8+CIM6zzrnOsSDPhM63zr0gzrHOs86zzrXOu86vzrEgz4DOv8+FIM64zrXPgiDOvc6xIM+Dz4XOs8+Hz4nOvc61z43Pg861zrnPglwifVxuICAgICAgICAgICAgICAgIGhlbHBfdGV4dD17XCLOmM6xIM60zrnOsc6zz4HOsc+GzrXOryDOtyDPhM+Jz4HOuc69zq4gzrHOs86zzrXOu86vzrEgzrrOsc65IM64zrEgzrzOtc+EzrHPhs61z4HOuM6/z43OvSDPhM6xIM+AzrXPgc65zrXPh8+MzrzOtc69zqwgz4TOt8+CIM+DzrUgzrHPhc+Ezq4gz4PPhM6/IM+Dz43Ovc60zrXPg868zr9cIn1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZyB8fCB0aGlzLnByb3BzLnRocmVhZC5pc0J1c3l9XG4gICAgICAgICAgICAgICAgICBpZD1cImlkX3VybFwiXG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vblVybENoYW5nZX1cbiAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnVybH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiXG4gICAgICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtcIs6RzrrPjc+Bz4nPg863XCJ9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5XCJcbiAgICAgICAgICAgICAgICBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZyB8fCB0aGlzLnByb3BzLnRocmVhZC5pc0J1c3l9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7XCLOo8+FzrPPh8+Ozr3Otc+Fz4POtyDOsc6zzrPOtc67zq/Osc+CXCJ9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTW9kYWxIZWFkZXIocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgPGJ1dHRvblxuICAgICAgICBhcmlhLWxhYmVsPXtcIs6azrvOtc6vz4POuc68zr9cIn1cbiAgICAgICAgY2xhc3NOYW1lPVwiY2xvc2VcIlxuICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgPC9idXR0b24+XG4gICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj59e1wizqPPhc6zz4fPjs69zrXPhc+DzrcgzrHOs86zzrXOu86vzrHPglwifTwvaDQ+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEZvcm0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm1cIlxuaW1wb3J0IEZvcm1Hcm91cCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cFwiXG5pbXBvcnQgQ2F0ZWdvcnlTZWxlY3QgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2NhdGVnb3J5LXNlbGVjdFwiXG5pbXBvcnQgTW9kYWxMb2FkZXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL21vZGFsLWxvYWRlclwiXG5pbXBvcnQgKiBhcyBwb3N0cyBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3Bvc3RzXCJcbmltcG9ydCAqIGFzIHRocmVhZCBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3RocmVhZFwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ29cIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBtb2RhbCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL21vZGFsXCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc1JlYWR5OiBmYWxzZSxcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICBpc0Vycm9yOiBmYWxzZSxcblxuICAgICAgY2F0ZWdvcnk6IG51bGwsXG4gICAgICBjYXRlZ29yaWVzOiBbXVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGFqYXguZ2V0KG1pc2Fnby5nZXQoXCJUSFJFQURfRURJVE9SX0FQSVwiKSkudGhlbihcbiAgICAgIGRhdGEgPT4ge1xuICAgICAgICBsZXQgY2F0ZWdvcnkgPSBudWxsXG5cbiAgICAgICAgLy8gaHlkcmF0ZSBjYXRlZ29yaWVzLCBleHRyYWN0IHBvc3Rpbmcgb3B0aW9uc1xuICAgICAgICBjb25zdCBjYXRlZ29yaWVzID0gZGF0YS5tYXAoaXRlbSA9PiB7XG4gICAgICAgICAgLy8gcGljayBmaXJzdCBjYXRlZ29yeSB0aGF0IGFsbG93cyBwb3N0aW5nIGFuZCBpZiBpdCBtYXksIG92ZXJyaWRlIGl0IHdpdGggaW5pdGlhbCBvbmVcbiAgICAgICAgICBpZiAoaXRlbS5wb3N0ICE9PSBmYWxzZSAmJiAhY2F0ZWdvcnkpIHtcbiAgICAgICAgICAgIGNhdGVnb3J5ID0gaXRlbS5pZFxuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKGl0ZW0sIHtcbiAgICAgICAgICAgIGRpc2FibGVkOiBpdGVtLnBvc3QgPT09IGZhbHNlLFxuICAgICAgICAgICAgbGFiZWw6IGl0ZW0ubmFtZSxcbiAgICAgICAgICAgIHZhbHVlOiBpdGVtLmlkXG4gICAgICAgICAgfSlcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpc1JlYWR5OiB0cnVlLFxuXG4gICAgICAgICAgY2F0ZWdvcnksXG4gICAgICAgICAgY2F0ZWdvcmllc1xuICAgICAgICB9KVxuICAgICAgfSxcbiAgICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGlzRXJyb3I6IHJlamVjdGlvbi5kZXRhaWxcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICApXG4gIH1cblxuICBzZW5kKCkge1xuICAgIC8vIGZyZWV6ZSB0aHJlYWRcbiAgICBzdG9yZS5kaXNwYXRjaCh0aHJlYWQuYnVzeSgpKVxuXG4gICAgcmV0dXJuIGFqYXgucGF0Y2godGhpcy5wcm9wcy50aHJlYWQuYXBpLmluZGV4LCBbXG4gICAgICB7IG9wOiBcInJlcGxhY2VcIiwgcGF0aDogXCJjYXRlZ29yeVwiLCB2YWx1ZTogdGhpcy5zdGF0ZS5jYXRlZ29yeSB9XG4gICAgXSlcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MoKSB7XG4gICAgLy8gcmVmcmVzaCB0aHJlYWQgYW5kIGRpc3BsYXllZCBwb3N0c1xuICAgIGFqYXhcbiAgICAgIC5nZXQodGhpcy5wcm9wcy50aHJlYWQuYXBpLnBvc3RzLmluZGV4LCB7IHBhZ2U6IHRoaXMucHJvcHMucG9zdHMucGFnZSB9KVxuICAgICAgLnRoZW4oXG4gICAgICAgIGRhdGEgPT4ge1xuICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKHRocmVhZC5yZXBsYWNlKGRhdGEpKVxuICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKHBvc3RzLmxvYWQoZGF0YS5wb3N0X3NldCkpXG4gICAgICAgICAgc3RvcmUuZGlzcGF0Y2godGhyZWFkLnJlbGVhc2UoKSlcblxuICAgICAgICAgIHNuYWNrYmFyLnN1Y2Nlc3MoXCLOlyDOsc6zzrPOtc67zq/OsSDOvM61z4TOsc66zrnOvc6uzrjOt866zrVcIilcbiAgICAgICAgICBtb2RhbC5oaWRlKClcbiAgICAgICAgfSxcbiAgICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgICBzdG9yZS5kaXNwYXRjaCh0aHJlYWQucmVsZWFzZSgpKVxuICAgICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICAgICAgfVxuICAgICAgKVxuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbFswXSlcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgIH1cbiAgfVxuXG4gIG9uQ2F0ZWdvcnlDaGFuZ2UgPSBldmVudCA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZShcImNhdGVnb3J5XCIsIGV2ZW50LnRhcmdldC52YWx1ZSlcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5pc1JlYWR5KSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZ1wiIHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgPE1vZGFsSGVhZGVyIC8+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgICAgICAgICAgIDxGb3JtR3JvdXAgZm9yPVwiaWRfY2F0ZWdvcnlcIiBsYWJlbD17XCLOnc6tzrEgzrrOsc+EzrfOs86/z4HOr86xXCJ9PlxuICAgICAgICAgICAgICAgICAgPENhdGVnb3J5U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuc3RhdGUuY2F0ZWdvcmllc31cbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nIHx8IHRoaXMucHJvcHMudGhyZWFkLmlzQnVzeX1cbiAgICAgICAgICAgICAgICAgICAgaWQ9XCJpZF9jYXRlZ29yeVwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ2F0ZWdvcnlDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmNhdGVnb3J5fVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZm9vdGVyXCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtcIs6RzrrPjc+Bz4nPg863XCJ9XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nIHx8IHRoaXMucHJvcHMudGhyZWFkLmlzQnVzeX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7XCLOnM61z4TOsc66zq/Ovc63z4POtyDOsc6zzrPOtc67zq/Osc+CXCJ9XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9mb3JtPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuaXNFcnJvcikge1xuICAgICAgcmV0dXJuIDxNb2RhbE1lc3NhZ2UgbWVzc2FnZT17dGhpcy5zdGF0ZS5pc0Vycm9yfSAvPlxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gPE1vZGFsTG9hZGluZyAvPlxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTW9kYWxIZWFkZXIocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgPGJ1dHRvblxuICAgICAgICBhcmlhLWxhYmVsPXtcIs6azrvOtc6vz4POuc68zr9cIn1cbiAgICAgICAgY2xhc3NOYW1lPVwiY2xvc2VcIlxuICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgPC9idXR0b24+XG4gICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57XCLOnM61z4TOsc66zq/Ovc63z4POtyDOsc6zzrPOtc67zq/Osc+CXCJ9PC9oND5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTW9kYWxMb2FkaW5nKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2dcIiByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICA8TW9kYWxIZWFkZXIgLz5cbiAgICAgICAgPE1vZGFsTG9hZGVyIC8+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTW9kYWxNZXNzYWdlKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2cgbW9kYWwtbWVzc2FnZVwiIHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgIDxNb2RhbEhlYWRlciAvPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtaWNvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5pbmZvX291dGxpbmU8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtYm9keVwiPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAgICAgIHtcIs6UzrXOvSDOvM+Azr/Pgc61zq/PgiDOvc6xIM68zrXPhM6xzrrOuc69zq7Pg861zrnPgiDPhM63zr0gzrHOs86zzrXOu86vzrEgzrHPhc+Ezq4gz4TOtyDPg8+EzrnOs868zq5cIn1cbiAgICAgICAgICA8L3A+XG4gICAgICAgICAgPHA+e3Byb3BzLm1lc3NhZ2V9PC9wPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiXG4gICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICB7XCLOn86aXCJ9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgTGluayB9IGZyb20gXCJyZWFjdC1yb3V0ZXJcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxuYXYgY2xhc3NOYW1lPVwibWlzYWdvLXBhZ2luYXRpb24gcHVsbC1sZWZ0XCI+XG4gICAgICA8UGFnZXIgey4uLnByb3BzfSAvPlxuICAgICAgPE1vcmUgbW9yZT17cHJvcHMucG9zdHMubW9yZX0gLz5cbiAgICA8L25hdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUGFnZXIocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyByb3ctcGFnaW5hdG9yXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0zXCI+XG4gICAgICAgIDxGaXJzdFBhZ2Ugey4uLnByb3BzfSAvPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0zXCI+XG4gICAgICAgIDxQcmV2aW91c1BhZ2Ugey4uLnByb3BzfSAvPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0zXCI+XG4gICAgICAgIDxOZXh0UGFnZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTNcIj5cbiAgICAgICAgPExhc3RQYWdlIHsuLi5wcm9wc30gLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBGaXJzdFBhZ2UocHJvcHMpIHtcbiAgaWYgKHByb3BzLnBvc3RzLmlzTG9hZGVkICYmIHByb3BzLnBvc3RzLmZpcnN0KSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxMaW5rXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLW91dGxpbmUgYnRuLWljb25cIlxuICAgICAgICB0bz17cHJvcHMudGhyZWFkLnVybC5pbmRleH1cbiAgICAgICAgdGl0bGU9e1wizqDPgc+Oz4TOtyDPg861zrvOr860zrFcIn1cbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmZpcnN0X3BhZ2U8L3NwYW4+XG4gICAgICA8L0xpbms+XG4gICAgKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiAoXG4gICAgICA8c3BhblxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1vdXRsaW5lIGJ0bi1pY29uIGRpc2FibGVkXCJcbiAgICAgICAgdGl0bGU9e1wizqDPgc+Oz4TOtyDPg861zrvOr860zrFcIn1cbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmZpcnN0X3BhZ2U8L3NwYW4+XG4gICAgICA8L3NwYW4+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQcmV2aW91c1BhZ2UocHJvcHMpIHtcbiAgaWYgKHByb3BzLnBvc3RzLmlzTG9hZGVkICYmIHByb3BzLnBvc3RzLnBhZ2UgPiAxKSB7XG4gICAgbGV0IHByZXZpb3VzVXJsID0gXCJcIlxuICAgIGlmIChwcm9wcy5wb3N0cy5wcmV2aW91cykge1xuICAgICAgcHJldmlvdXNVcmwgPSBwcm9wcy5wb3N0cy5wcmV2aW91cyArIFwiL1wiXG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxMaW5rXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLW91dGxpbmUgYnRuLWljb25cIlxuICAgICAgICB0bz17cHJvcHMudGhyZWFkLnVybC5pbmRleCArIHByZXZpb3VzVXJsfVxuICAgICAgICB0aXRsZT17XCLOoM+Bzr/Ot86zzr/Pjc68zrXOvc63IM+DzrXOu86vzrTOsVwifVxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2hldnJvbl9sZWZ0PC9zcGFuPlxuICAgICAgPC9MaW5rPlxuICAgIClcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHNwYW5cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4tb3V0bGluZSBidG4taWNvbiBkaXNhYmxlZFwiXG4gICAgICAgIHRpdGxlPXtcIs6gz4HOv863zrPOv8+NzrzOtc69zrcgz4POtc67zq/OtM6xXCJ9XG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jaGV2cm9uX2xlZnQ8L3NwYW4+XG4gICAgICA8L3NwYW4+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBOZXh0UGFnZShwcm9wcykge1xuICBpZiAocHJvcHMucG9zdHMuaXNMb2FkZWQgJiYgcHJvcHMucG9zdHMubW9yZSkge1xuICAgIGxldCBuZXh0VXJsID0gXCJcIlxuICAgIGlmIChwcm9wcy5wb3N0cy5uZXh0KSB7XG4gICAgICBuZXh0VXJsID0gcHJvcHMucG9zdHMubmV4dCArIFwiL1wiXG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxMaW5rXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLW91dGxpbmUgYnRuLWljb25cIlxuICAgICAgICB0bz17cHJvcHMudGhyZWFkLnVybC5pbmRleCArIG5leHRVcmx9XG4gICAgICAgIHRpdGxlPXtcIs6Vz4DPjM68zrXOvc63IM+DzrXOu86vzrTOsVwifVxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2hldnJvbl9yaWdodDwvc3Bhbj5cbiAgICAgIDwvTGluaz5cbiAgICApXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxzcGFuXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLW91dGxpbmUgYnRuLWljb24gZGlzYWJsZWRcIlxuICAgICAgICB0aXRsZT17XCLOlc+Az4zOvM61zr3OtyDPg861zrvOr860zrFcIn1cbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNoZXZyb25fcmlnaHQ8L3NwYW4+XG4gICAgICA8L3NwYW4+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBMYXN0UGFnZShwcm9wcykge1xuICBpZiAocHJvcHMucG9zdHMuaXNMb2FkZWQgJiYgcHJvcHMucG9zdHMubGFzdCkge1xuICAgIHJldHVybiAoXG4gICAgICA8TGlua1xuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1vdXRsaW5lIGJ0bi1pY29uXCJcbiAgICAgICAgdG89e3Byb3BzLnRocmVhZC51cmwuaW5kZXggKyBwcm9wcy5wb3N0cy5sYXN0ICsgXCIvXCJ9XG4gICAgICAgIHRpdGxlPXtcIs6kzrXOu861z4XPhM6xzq/OsSDPg861zrvOr860zrFcIn1cbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmxhc3RfcGFnZTwvc3Bhbj5cbiAgICAgIDwvTGluaz5cbiAgICApXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxzcGFuXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLW91dGxpbmUgYnRuLWljb24gZGlzYWJsZWRcIlxuICAgICAgICB0aXRsZT17XCLOpM61zrvOtc+Fz4TOsc6vzrEgz4POtc67zq/OtM6xXCJ9XG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5sYXN0X3BhZ2U8L3NwYW4+XG4gICAgICA8L3NwYW4+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBNb3JlKHByb3BzKSB7XG4gIGxldCBtZXNzYWdlID0gbnVsbFxuICBpZiAocHJvcHMubW9yZSkge1xuICAgIG1lc3NhZ2UgPSBcIs6lz4DOrM+Bz4fOv8+Fzr0gzqzOu867zrXPgiAlKG1vcmUpcyDPgM+Bzr/Pg8+Gzr/Pgc6tz4IgzrPOuc6xIM6xz4XPhM6uIM+EzrfOvSDOsc6zzrPOtc67zq/OsS5cIlxuICAgIG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShtZXNzYWdlLCB7IG1vcmU6IHByb3BzLm1vcmUgfSwgdHJ1ZSlcbiAgfSBlbHNlIHtcbiAgICBtZXNzYWdlID0gXCLOlM61zr0gz4XPgM6sz4HPh86/z4XOvSDOrM67zrvOtc+CIM+Az4HOv8+Dz4bOv8+Bzq3PgiDOs865zrEgzrHPhc+Ezq4gz4TOt869IM6xzrPOs861zrvOr86xLlwiXG4gIH1cblxuICByZXR1cm4gPHA+e21lc3NhZ2V9PC9wPlxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGJ1dHRvblxuICAgICAgY2xhc3NOYW1lPXtwcm9wcy5jbGFzc05hbWUgfHwgXCJidG4gYnRuLXByaW1hcnkgYnRuLW91dGxpbmVcIn1cbiAgICAgIG9uQ2xpY2s9e3Byb3BzLm9uQ2xpY2t9XG4gICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICA+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2hhdDwvc3Bhbj5cbiAgICAgIHtcIs6gz4HOv8+Dz4bOv8+BzqxcIn1cbiAgICA8L2J1dHRvbj5cbiAgKVxufVxuIiwiaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gXCJyZWFjdC1yZWR1eFwiXG5pbXBvcnQgUm91dGUgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3RocmVhZC9yb3V0ZVwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0KHN0b3JlKSB7XG4gIHJldHVybiB7XG4gICAgcGFydGljaXBhbnRzOiBzdG9yZS5wYXJ0aWNpcGFudHMsXG4gICAgcG9sbDogc3RvcmUucG9sbCxcbiAgICBwb3N0czogc3RvcmUucG9zdHMsXG4gICAgdGhyZWFkOiBzdG9yZS50aHJlYWQsXG4gICAgdGljazogc3RvcmUudGljay50aWNrLFxuICAgIHVzZXI6IHN0b3JlLmF1dGgudXNlclxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXRocygpIHtcbiAgY29uc3QgdGhyZWFkID0gbWlzYWdvLmdldChcIlRIUkVBRFwiKVxuICBjb25zdCBiYXNlUGF0aCA9IHRocmVhZC51cmwuaW5kZXgucmVwbGFjZShcbiAgICB0aHJlYWQuc2x1ZyArIFwiLVwiICsgdGhyZWFkLnBrLFxuICAgIFwiOnNsdWdcIlxuICApXG5cbiAgcmV0dXJuIFtcbiAgICB7XG4gICAgICBwYXRoOiBiYXNlUGF0aCxcbiAgICAgIGNvbXBvbmVudDogY29ubmVjdChzZWxlY3QpKFJvdXRlKVxuICAgIH0sXG4gICAge1xuICAgICAgcGF0aDogYmFzZVBhdGggKyBcIjpwYWdlL1wiLFxuICAgICAgY29tcG9uZW50OiBjb25uZWN0KHNlbGVjdCkoUm91dGUpXG4gICAgfVxuICBdXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBQYXJ0aWNpcGFudHMgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3BhcnRpY2lwYW50c1wiXG5pbXBvcnQgeyBQb2xsIH0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3BvbGxcIlxuaW1wb3J0IFBvc3RzTGlzdCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvcG9zdHMtbGlzdFwiXG5pbXBvcnQgSGVhZGVyIGZyb20gXCIuL2hlYWRlclwiXG5pbXBvcnQgVG9vbGJhclRvcCBmcm9tIFwiLi90b29sYmFyLXRvcFwiXG5pbXBvcnQgVG9vbGJhckJvdHRvbSBmcm9tIFwiLi90b29sYmFyLWJvdHRvbVwiXG5pbXBvcnQgKiBhcyBwYXJ0aWNpcGFudHMgZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9wYXJ0aWNpcGFudHNcIlxuaW1wb3J0ICogYXMgcG9sbCBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3BvbGxcIlxuaW1wb3J0ICogYXMgcG9zdHMgZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9wb3N0c1wiXG5pbXBvcnQgKiBhcyB0aHJlYWQgZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy90aHJlYWRcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBwb2xscyBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3BvbGxzXCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBwb3N0aW5nIGZyb20gXCJtaXNhZ28vc2VydmljZXMvcG9zdGluZ1wiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5pbXBvcnQgdGl0bGUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wYWdlLXRpdGxlXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBpZiAodGhpcy5zaG91bGRGZXRjaERhdGEoKSkge1xuICAgICAgdGhpcy5mZXRjaERhdGEoKVxuICAgICAgdGhpcy5zZXRQYWdlVGl0bGUoKVxuICAgIH1cblxuICAgIHRoaXMuc3RhcnRQb2xsaW5nQXBpKClcbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICBpZiAodGhpcy5zaG91bGRGZXRjaERhdGEoKSkge1xuICAgICAgdGhpcy5mZXRjaERhdGEoKVxuICAgICAgdGhpcy5zdGFydFBvbGxpbmdBcGkoKVxuICAgICAgdGhpcy5zZXRQYWdlVGl0bGUoKVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHRoaXMuc3RvcFBvbGxpbmdBcGkoKVxuICB9XG5cbiAgc2hvdWxkRmV0Y2hEYXRhKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnBvc3RzLmlzTG9hZGVkKSB7XG4gICAgICBjb25zdCBwYWdlID0gKHRoaXMucHJvcHMucGFyYW1zLnBhZ2UgfHwgMSkgKiAxXG4gICAgICByZXR1cm4gcGFnZSAhPSB0aGlzLnByb3BzLnBvc3RzLnBhZ2VcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9XG5cbiAgZmV0Y2hEYXRhKCkge1xuICAgIHN0b3JlLmRpc3BhdGNoKHBvc3RzLnVubG9hZCgpKVxuXG4gICAgYWpheFxuICAgICAgLmdldChcbiAgICAgICAgdGhpcy5wcm9wcy50aHJlYWQuYXBpLnBvc3RzLmluZGV4LFxuICAgICAgICB7XG4gICAgICAgICAgcGFnZTogdGhpcy5wcm9wcy5wYXJhbXMucGFnZSB8fCAxXG4gICAgICAgIH0sXG4gICAgICAgIFwicG9zdHNcIlxuICAgICAgKVxuICAgICAgLnRoZW4oXG4gICAgICAgIGRhdGEgPT4ge1xuICAgICAgICAgIHRoaXMudXBkYXRlKGRhdGEpXG4gICAgICAgIH0sXG4gICAgICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgICAgICB9XG4gICAgICApXG4gIH1cblxuICBzdGFydFBvbGxpbmdBcGkoKSB7XG4gICAgcG9sbHMuc3RhcnQoe1xuICAgICAgcG9sbDogXCJ0aHJlYWQtcG9zdHNcIixcblxuICAgICAgdXJsOiB0aGlzLnByb3BzLnRocmVhZC5hcGkucG9zdHMuaW5kZXgsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHBhZ2U6IHRoaXMucHJvcHMucGFyYW1zLnBhZ2UgfHwgMVxuICAgICAgfSxcbiAgICAgIHVwZGF0ZTogdGhpcy51cGRhdGUsXG5cbiAgICAgIGZyZXF1ZW5jeTogMTIwICogMTAwMCxcbiAgICAgIGRlbGF5ZWQ6IHRydWVcbiAgICB9KVxuICB9XG5cbiAgc3RvcFBvbGxpbmdBcGkoKSB7XG4gICAgcG9sbHMuc3RvcChcInRocmVhZC1wb3N0c1wiKVxuICB9XG5cbiAgc2V0UGFnZVRpdGxlKCkge1xuICAgIHRpdGxlLnNldCh7XG4gICAgICB0aXRsZTogdGhpcy5wcm9wcy50aHJlYWQudGl0bGUsXG4gICAgICBwYXJlbnQ6IHRoaXMucHJvcHMudGhyZWFkLmNhdGVnb3J5Lm5hbWUsXG4gICAgICBwYWdlOiAodGhpcy5wcm9wcy5wYXJhbXMucGFnZSB8fCAxKSAqIDFcbiAgICB9KVxuICB9XG5cbiAgdXBkYXRlID0gZGF0YSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2godGhyZWFkLnJlcGxhY2UoZGF0YSkpXG4gICAgc3RvcmUuZGlzcGF0Y2gocG9zdHMubG9hZChkYXRhLnBvc3Rfc2V0KSlcblxuICAgIGlmIChkYXRhLnBhcnRpY2lwYW50cykge1xuICAgICAgc3RvcmUuZGlzcGF0Y2gocGFydGljaXBhbnRzLnJlcGxhY2UoZGF0YS5wYXJ0aWNpcGFudHMpKVxuICAgIH1cblxuICAgIGlmIChkYXRhLnBvbGwpIHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHBvbGwucmVwbGFjZShkYXRhLnBvbGwpKVxuICAgIH1cblxuICAgIHRoaXMuc2V0UGFnZVRpdGxlKClcbiAgfVxuXG4gIG9wZW5SZXBseUZvcm0gPSAoKSA9PiB7XG4gICAgcG9zdGluZy5vcGVuKHtcbiAgICAgIG1vZGU6IFwiUkVQTFlcIixcblxuICAgICAgY29uZmlnOiB0aGlzLnByb3BzLnRocmVhZC5hcGkuZWRpdG9yLFxuICAgICAgc3VibWl0OiB0aGlzLnByb3BzLnRocmVhZC5hcGkucG9zdHMuaW5kZXhcbiAgICB9KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGxldCBjbGFzc05hbWUgPSBcInBhZ2UgcGFnZS10aHJlYWRcIlxuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC5jYXRlZ29yeS5jc3NfY2xhc3MpIHtcbiAgICAgIGNsYXNzTmFtZSArPSBcIiBwYWdlLXRocmVhZC1cIiArIHRoaXMucHJvcHMudGhyZWFkLmNhdGVnb3J5LmNzc19jbGFzc1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlLWhlYWRlci1iZ1wiPlxuICAgICAgICAgIDxIZWFkZXIgey4uLnRoaXMucHJvcHN9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgIDxUb29sYmFyVG9wIG9wZW5SZXBseUZvcm09e3RoaXMub3BlblJlcGx5Rm9ybX0gey4uLnRoaXMucHJvcHN9IC8+XG4gICAgICAgICAgPFBvbGxcbiAgICAgICAgICAgIHBvbGw9e3RoaXMucHJvcHMucG9sbH1cbiAgICAgICAgICAgIHRocmVhZD17dGhpcy5wcm9wcy50aHJlYWR9XG4gICAgICAgICAgICB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9XG4gICAgICAgICAgLz5cbiAgICAgICAgICA8UGFydGljaXBhbnRzXG4gICAgICAgICAgICBwYXJ0aWNpcGFudHM9e3RoaXMucHJvcHMucGFydGljaXBhbnRzfVxuICAgICAgICAgICAgdGhyZWFkPXt0aGlzLnByb3BzLnRocmVhZH1cbiAgICAgICAgICAgIHVzZXI9e3RoaXMucHJvcHMudXNlcn1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxQb3N0c0xpc3Qgey4uLnRoaXMucHJvcHN9IC8+XG4gICAgICAgICAgPFRvb2xiYXJCb3R0b20gb3BlblJlcGx5Rm9ybT17dGhpcy5vcGVuUmVwbHlGb3JtfSB7Li4udGhpcy5wcm9wc30gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0ICogYXMgYWN0aW9ucyBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3RocmVhZFwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBpZiAoIXByb3BzLnVzZXIuaWQpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17cHJvcHMuY2xhc3NOYW1lfT5cbiAgICAgIDxidXR0b25cbiAgICAgICAgYXJpYS1leHBhbmRlZD1cInRydWVcIlxuICAgICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBkcm9wZG93bi10b2dnbGUgYnRuLWJsb2NrIGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiXG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAge2dldEljb24ocHJvcHMudGhyZWFkLnN1YnNjcmlwdGlvbil9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAge2dldExhYmVsKHByb3BzLnRocmVhZC5zdWJzY3JpcHRpb24pfVxuICAgICAgPC9idXR0b24+XG4gICAgICA8RHJvcGRvd24gey4uLnByb3BzfSAvPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRJY29uKHN1YnNjcmlwdGlvbikge1xuICBpZiAoc3Vic2NyaXB0aW9uID09PSB0cnVlKSB7XG4gICAgcmV0dXJuIFwic3RhclwiXG4gIH0gZWxzZSBpZiAoc3Vic2NyaXB0aW9uID09PSBmYWxzZSkge1xuICAgIHJldHVybiBcInN0YXJfaGFsZlwiXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIFwic3Rhcl9ib3JkZXJcIlxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRMYWJlbChzdWJzY3JpcHRpb24pIHtcbiAgaWYgKHN1YnNjcmlwdGlvbiA9PT0gdHJ1ZSkge1xuICAgIHJldHVybiBcIs6VzrnOtM6/z4DOv865zq7Pg861zrnPgiDOvM6tz4PPiSBlbWFpbFwiXG4gIH0gZWxzZSBpZiAoc3Vic2NyaXB0aW9uID09PSBmYWxzZSkge1xuICAgIHJldHVybiBcIs6Vzr3Otc+BzrPOrc+CIM61zrnOtM6/z4DOv865zq7Pg861zrnPglwiXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIFwizpHPgM61zr3Otc+BzrPOv8+Azr/Ouc63zrzOrc69zrXPgiDOtc65zrTOv8+Azr/Ouc6uz4POtc65z4JcIlxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBEcm9wZG93bihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDx1bCBjbGFzc05hbWU9e3Byb3BzLmRyb3Bkb3duQ2xhc3NOYW1lIHx8IFwiZHJvcGRvd24tbWVudSBzdGljay10by1ib3R0b21cIn0+XG4gICAgICA8RGlzYWJsZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8RW5hYmxlIHsuLi5wcm9wc30gLz5cbiAgICAgIDxFbWFpbCB7Li4ucHJvcHN9IC8+XG4gICAgPC91bD5cbiAgKVxufVxuXG5leHBvcnQgY2xhc3MgRGlzYWJsZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMucHJvcHMudGhyZWFkLnN1YnNjcmlwdGlvbiA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgdXBkYXRlKHRoaXMucHJvcHMudGhyZWFkLCBudWxsLCBcInVuc3Vic2NyaWJlXCIpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9PlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5zdGFyX2JvcmRlcjwvc3Bhbj5cbiAgICAgICAgICB7XCLOkc+AzrXOs86zz4HOsc+Gzq4gzrHPgM+MIM61zrnOtM6/z4DOv865zq7Pg861zrnPglwifVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBFbmFibGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC5zdWJzY3JpcHRpb24gPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICB1cGRhdGUodGhpcy5wcm9wcy50aHJlYWQsIGZhbHNlLCBcIm5vdGlmeVwiKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+c3Rhcl9oYWxmPC9zcGFuPlxuICAgICAgICAgIHtcIs6VzrPOs8+BzrHPhs6uIM+DzrUgzrXOuc60zr/PgM6/zrnOrs+DzrXOuc+CIM+Dz4TOtyDPg861zrvOr860zrFcIn1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRW1haWwgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC5zdWJzY3JpcHRpb24gPT09IHRydWUpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHVwZGF0ZSh0aGlzLnByb3BzLnRocmVhZCwgdHJ1ZSwgXCJlbWFpbFwiKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+c3Rhcjwvc3Bhbj5cbiAgICAgICAgICB7XCLOlc6zzrPPgc6xz4bOriDPg861IM61zrnOtM6/z4DOv865zq7Pg861zrnPgiDOvM6tz4PPiSBlbWFpbFwifVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGUodGhyZWFkLCBuZXdTdGF0ZSwgdmFsdWUpIHtcbiAgY29uc3Qgb2xkU3RhdGUgPSB7XG4gICAgc3Vic2NyaXB0aW9uOiB0aHJlYWQuc3Vic2NyaXB0aW9uXG4gIH1cblxuICBzdG9yZS5kaXNwYXRjaChcbiAgICBhY3Rpb25zLnVwZGF0ZSh7XG4gICAgICBzdWJzY3JpcHRpb246IG5ld1N0YXRlXG4gICAgfSlcbiAgKVxuXG4gIGFqYXhcbiAgICAucGF0Y2godGhyZWFkLmFwaS5pbmRleCwgW1xuICAgICAgeyBvcDogXCJyZXBsYWNlXCIsIHBhdGg6IFwic3Vic2NyaXB0aW9uXCIsIHZhbHVlOiB2YWx1ZSB9XG4gICAgXSlcbiAgICAudGhlbihcbiAgICAgIGZpbmFsU3RhdGUgPT4ge1xuICAgICAgICBzdG9yZS5kaXNwYXRjaChhY3Rpb25zLnVwZGF0ZShmaW5hbFN0YXRlKSlcbiAgICAgIH0sXG4gICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbFswXSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgICAgIH1cblxuICAgICAgICBzdG9yZS5kaXNwYXRjaChhY3Rpb25zLnVwZGF0ZShvbGRTdGF0ZSkpXG4gICAgICB9XG4gICAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyBQYWdlciwgTW9yZSB9IGZyb20gXCIuL3BhZ2luYXRvclwiXG5pbXBvcnQgUG9zdHNNb2RlcmF0aW9uIGZyb20gXCIuL21vZGVyYXRpb24vcG9zdHNcIlxuaW1wb3J0IFJlcGx5QnV0dG9uIGZyb20gXCIuL3JlcGx5LWJ1dHRvblwiXG5pbXBvcnQgU3Vic2NyaXB0aW9uU3dpdGNoIGZyb20gXCIuL3N1YnNjcmlwdGlvblwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgcm93LXRvb2xiYXJcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyIHRleHQtY2VudGVyIHZpc2libGUteHMtYmxvY2tcIj5cbiAgICAgICAgPE1vcmUgbW9yZT17cHJvcHMucG9zdHMubW9yZX0gLz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0b29sYmFyLXZlcnRpY2FsLXNwYWNlclwiIC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTdcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS00IGNvbC1tZC01XCI+XG4gICAgICAgICAgICA8UGFnZXIgey4uLnByb3BzfSAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTggY29sLW1kLTcgaGlkZGVuLXhzXCI+XG4gICAgICAgICAgICA8TW9yZSBtb3JlPXtwcm9wcy5wb3N0cy5tb3JlfSAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPE9wdGlvbnMgdmlzaWJsZT17ISFwcm9wcy51c2VyLmlkfT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0b29sYmFyLXZlcnRpY2FsLXNwYWNlciBoaWRkZW4tbWQgaGlkZGVuLWxnXCIgLz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICA8U3BhY2VyIHsuLi5wcm9wc30gLz5cbiAgICAgICAgICA8TW9kZXJhdGlvbiB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgPFN1YnNjcmlwdGlvbiB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgPFJlcGx5IHRocmVhZD17cHJvcHMudGhyZWFkfSBvbkNsaWNrPXtwcm9wcy5vcGVuUmVwbHlGb3JtfSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvT3B0aW9ucz5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gT3B0aW9ucyhwcm9wcykge1xuICBpZiAoIXByb3BzLnZpc2libGUpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTVcIj57cHJvcHMuY2hpbGRyZW59PC9kaXY+XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBNb2RlcmF0aW9uKHByb3BzKSB7XG4gIGlmICghcHJvcHMudXNlci5pZCkgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTQgaGlkZGVuLXhzXCI+XG4gICAgICA8UG9zdHNNb2RlcmF0aW9uIHsuLi5wcm9wc30gLz5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gU3Vic2NyaXB0aW9uKHByb3BzKSB7XG4gIGxldCB4c0NsYXNzID0gXCJjb2wteHMtNlwiXG4gIGlmICghcHJvcHMudGhyZWFkLmFjbC5jYW5fcmVwbHkpIHtcbiAgICB4c0NsYXNzID0gXCJjb2wteHMtMTJcIlxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17eHNDbGFzcyArIFwiIGNvbC1zbS00XCJ9PlxuICAgICAgPFN1YnNjcmlwdGlvblN3aXRjaFxuICAgICAgICBidG5DbGFzc05hbWU9XCJidG4tYmxvY2tcIlxuICAgICAgICBjbGFzc05hbWU9XCJkcm9wdXBcIlxuICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAvPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSZXBseShwcm9wcykge1xuICBpZiAoIXByb3BzLnRocmVhZC5hY2wuY2FuX3JlcGx5KSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtNiBjb2wtc20tNFwiPlxuICAgICAgPFJlcGx5QnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeSBidG4tYmxvY2sgYnRuLW91dGxpbmVcIlxuICAgICAgICBvbkNsaWNrPXtwcm9wcy5vbkNsaWNrfVxuICAgICAgLz5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gU3BhY2VyKHByb3BzKSB7XG4gIGlmIChwcm9wcy50aHJlYWQuYWNsLmNhbl9yZXBseSkgcmV0dXJuIG51bGxcblxuICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJoaWRkZW4teHMgaGlkZGVuLXNtIGNvbC1zbS00XCIgLz5cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IFJlcGx5QnV0dG9uIGZyb20gXCIuL3JlcGx5LWJ1dHRvblwiXG5pbXBvcnQgU3Vic2NyaXB0aW9uIGZyb20gXCIuL3N1YnNjcmlwdGlvblwiXG5pbXBvcnQgcG9zdGluZyBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3Bvc3RpbmdcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBjb25zdCBoaWRkZW5TcGVjaWFsT3B0aW9uID1cbiAgICAhcHJvcHMudGhyZWFkLmFjbC5jYW5fc3RhcnRfcG9sbCB8fCBwcm9wcy50aHJlYWQucG9sbFxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgcm93LXRvb2xiYXIgcm93LXRvb2xiYXItYm90dG9tLW1hcmdpblwiPlxuICAgICAgPEdvdG9NZW51IHsuLi5wcm9wc30gLz5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTkgY29sLW1kLTUgY29sLW1kLW9mZnNldC0yXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgPFNwYWNlciB2aXNpYmxlPXshcHJvcHMudXNlci5pZH0gLz5cbiAgICAgICAgICA8U3BhY2VyIHZpc2libGU9e2hpZGRlblNwZWNpYWxPcHRpb259IC8+XG4gICAgICAgICAgPFN1YnNjcmlwdGlvbk1lbnUgey4uLnByb3BzfSAvPlxuICAgICAgICAgIDxTdGFydFBvbGwgey4uLnByb3BzfSAvPlxuICAgICAgICAgIDxSZXBseSB7Li4ucHJvcHN9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEdvdG9NZW51KHByb3BzKSB7XG4gIGNvbnN0IHsgdXNlciB9ID0gcHJvcHNcblxuICBsZXQgY2xhc3NOYW1lID0gXCJjb2wteHMtMyBjb2wtc20tMyBjb2wtbWQtNVwiXG4gIGlmICh1c2VyLmlzX2Fub255bW91cykge1xuICAgIGNsYXNzTmFtZSA9IFwiY29sLXhzLTEyIGNvbC1zbS0zIGNvbC1tZC01XCJcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyBoaWRkZW4teHMgaGlkZGVuLXNtXCI+XG4gICAgICAgIDxHb3RvTGFzdCB0aHJlYWQ9e3Byb3BzLnRocmVhZH0gLz5cbiAgICAgICAgPEdvdG9OZXcgdGhyZWFkPXtwcm9wcy50aHJlYWR9IC8+XG4gICAgICAgIDxHb3RvQmVzdEFuc3dlciB0aHJlYWQ9e3Byb3BzLnRocmVhZH0gLz5cbiAgICAgICAgPEdvdG9VbmFwcHJvdmVkIHRocmVhZD17cHJvcHMudGhyZWFkfSAvPlxuICAgICAgPC9kaXY+XG4gICAgICA8Q29tcGFjdE9wdGlvbnMgey4uLnByb3BzfSAvPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBHb3RvTmV3KHByb3BzKSB7XG4gIGlmICghcHJvcHMudGhyZWFkLmlzX25ldykgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTRcIj5cbiAgICAgIDxhXG4gICAgICAgIGhyZWY9e3Byb3BzLnRocmVhZC51cmwubmV3X3Bvc3R9XG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLW91dGxpbmVcIlxuICAgICAgICB0aXRsZT17XCLOoM+Bz47PhM63IM69zq3OsSDPgM+Bzr/Pg8+Gzr/Pgc6sXCJ9XG4gICAgICA+XG4gICAgICAgIHtcIs6dzq3OsVwifVxuICAgICAgPC9hPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBHb3RvQmVzdEFuc3dlcihwcm9wcykge1xuICBpZiAoIXByb3BzLnRocmVhZC5iZXN0X2Fuc3dlcikge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTRcIj5cbiAgICAgIDxhXG4gICAgICAgIGhyZWY9e3Byb3BzLnRocmVhZC51cmwuYmVzdF9hbnN3ZXJ9XG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLW91dGxpbmVcIlxuICAgICAgICB0aXRsZT17XCLOlc+AzrnOu861zrPOvM6tzr3OtyDPgM+Bzr/Pg8+Gzr/Pgc6sXCJ9XG4gICAgICA+XG4gICAgICAgIHtcIs6Vz4DOuc+Ez4XPh86uz4Igz4DPgc6/z4PPhs6/z4HOrFwifVxuICAgICAgPC9hPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBHb3RvVW5hcHByb3ZlZChwcm9wcykge1xuICBpZiAoIXByb3BzLnRocmVhZC5oYXNfdW5hcHByb3ZlZF9wb3N0cyB8fCAhcHJvcHMudGhyZWFkLmFjbC5jYW5fYXBwcm92ZSkge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTRcIj5cbiAgICAgIDxhXG4gICAgICAgIGhyZWY9e3Byb3BzLnRocmVhZC51cmwudW5hcHByb3ZlZF9wb3N0fVxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgdGl0bGU9e1wizqDPgc+Oz4TOtyDOvM63IM61zrPOus61zrrPgc65zrzOrc69zrcgz4DPgc6/z4PPhs6/z4HOrFwifVxuICAgICAgPlxuICAgICAgICB7XCLOnM63IM61zrPOus61zrrPgc65zrzOrc69zrdcIn1cbiAgICAgIDwvYT5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gR290b0xhc3QocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS00XCI+XG4gICAgICA8YVxuICAgICAgICBocmVmPXtwcm9wcy50aHJlYWQudXJsLmxhc3RfcG9zdH1cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4tb3V0bGluZVwiXG4gICAgICAgIHRpdGxlPXtcIs6kzrXOu861z4XPhM6xzq/OsSDPgM+Bzr/Pg8+Gzr/Pgc6sXCJ9XG4gICAgICA+XG4gICAgICAgIHtcIs6kzrXOu861z4XPhM6xzq/OsVwifVxuICAgICAgPC9hPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBDb21wYWN0T3B0aW9ucyhwcm9wcykge1xuICBjb25zdCB7IHVzZXIgfSA9IHByb3BzXG4gIGlmICh1c2VyLmlzX2Fub255bW91cykge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInZpc2libGUteHMtYmxvY2sgdmlzaWJsZS1zbS1ibG9ja1wiPlxuICAgICAgICA8YVxuICAgICAgICAgIGhyZWY9e3Byb3BzLnRocmVhZC51cmwubGFzdF9wb3N0fVxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLW91dGxpbmVcIlxuICAgICAgICA+XG4gICAgICAgICAge1wizqTOtc67zrXPhc+EzrHOr86xIM+Az4HOv8+Dz4bOv8+BzqxcIn1cbiAgICAgICAgPC9hPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImRyb3Bkb3duIHZpc2libGUteHMtYmxvY2sgdmlzaWJsZS1zbS1ibG9ja1wiPlxuICAgICAgPGJ1dHRvblxuICAgICAgICBhcmlhLWV4cGFuZGVkPVwidHJ1ZVwiXG4gICAgICAgIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCJcbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGRyb3Bkb3duLXRvZ2dsZSBidG4tYmxvY2sgYnRuLW91dGxpbmVcIlxuICAgICAgICBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCJcbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5leHBhbmRfbW9yZTwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYnRuLXRleHQgaGlkZGVuLXhzXCI+e1wizpXPgM65zrvOv86zzq3PglwifTwvc3Bhbj5cbiAgICAgIDwvYnV0dG9uPlxuICAgICAgPHVsIGNsYXNzTmFtZT1cImRyb3Bkb3duLW1lbnVcIj5cbiAgICAgICAgPFN0YXJ0UG9sbENvbXBhY3Qgey4uLnByb3BzfSAvPlxuICAgICAgICA8R290b05ld0NvbXBhY3Qgey4uLnByb3BzfSAvPlxuICAgICAgICA8R290b1VuYXBwcm92ZWRDb21wYWN0IHsuLi5wcm9wc30gLz5cbiAgICAgICAgPEdvdG9MYXN0Q29tcGFjdCB7Li4ucHJvcHN9IC8+XG4gICAgICA8L3VsPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBHb3RvTmV3Q29tcGFjdChwcm9wcykge1xuICBpZiAoIXByb3BzLnRocmVhZC5pc19uZXcpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8bGk+XG4gICAgICA8YSBocmVmPXtwcm9wcy50aHJlYWQudXJsLm5ld19wb3N0fSBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIj5cbiAgICAgICAge1wizqDPgc+Oz4TOtyDOvc6tzrEgz4DPgc6/z4PPhs6/z4HOrFwifVxuICAgICAgPC9hPlxuICAgIDwvbGk+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEdvdG9VbmFwcHJvdmVkQ29tcGFjdChwcm9wcykge1xuICBpZiAoIXByb3BzLnRocmVhZC5oYXNfdW5hcHByb3ZlZF9wb3N0cyB8fCAhcHJvcHMudGhyZWFkLmFjbC5jYW5fYXBwcm92ZSkge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxsaT5cbiAgICAgIDxhIGhyZWY9e3Byb3BzLnRocmVhZC51cmwudW5hcHByb3ZlZF9wb3N0fSBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIj5cbiAgICAgICAge1wizqDPgc+Oz4TOtyDOvM63IM61zrPOus61zrrPgc65zrzOrc69zrcgz4DPgc6/z4PPhs6/z4HOrFwifVxuICAgICAgPC9hPlxuICAgIDwvbGk+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEdvdG9MYXN0Q29tcGFjdChwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxsaT5cbiAgICAgIDxhIGhyZWY9e3Byb3BzLnRocmVhZC51cmwubGFzdF9wb3N0fSBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIj5cbiAgICAgICAge1wizqTOtc67zrXPhc+EzrHOr86xIM+Az4HOv8+Dz4bOv8+BzqxcIn1cbiAgICAgIDwvYT5cbiAgICA8L2xpPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSZXBseShwcm9wcykge1xuICBpZiAoIXByb3BzLnRocmVhZC5hY2wuY2FuX3JlcGx5KSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tNCBoaWRkZW4teHNcIj5cbiAgICAgIDxSZXBseUJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnkgYnRuLWJsb2NrIGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgb25DbGljaz17cHJvcHMub3BlblJlcGx5Rm9ybX1cbiAgICAgIC8+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFN1YnNjcmlwdGlvbk1lbnUocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy51c2VyLmlkKSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgY29sLXNtLTRcIj5cbiAgICAgIDxTdWJzY3JpcHRpb25cbiAgICAgICAgY2xhc3NOYW1lPVwiZHJvcGRvd25cIlxuICAgICAgICBkcm9wZG93bkNsYXNzTmFtZT1cImRyb3Bkb3duLW1lbnUgZHJvcGRvd24tbWVudS1yaWdodCBzdGljay10by1ib3R0b21cIlxuICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAvPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBjbGFzcyBTdGFydFBvbGwgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIHBvc3Rpbmcub3Blbih7XG4gICAgICBtb2RlOiBcIlBPTExcIixcbiAgICAgIHN1Ym1pdDogdGhpcy5wcm9wcy50aHJlYWQuYXBpLnBvbGwsXG5cbiAgICAgIHRocmVhZDogdGhpcy5wcm9wcy50aHJlYWQsXG4gICAgICBwb2xsOiBudWxsXG4gICAgfSlcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMudGhyZWFkLmFjbC5jYW5fc3RhcnRfcG9sbCB8fCB0aGlzLnByb3BzLnRocmVhZC5wb2xsKSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS00IGhpZGRlbi14c1wiPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4tb3V0bGluZVwiXG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnBvbGw8L3NwYW4+XG4gICAgICAgICAge1wizqDPgc6/z4POuM6uzrrOtyDPiM63z4bOv8+Gzr/Pgc6vzrHPglwifVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgU3RhcnRQb2xsQ29tcGFjdCBleHRlbmRzIFN0YXJ0UG9sbCB7XG4gIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMudGhyZWFkLmFjbC5jYW5fc3RhcnRfcG9sbCB8fCB0aGlzLnByb3BzLnRocmVhZC5wb2xsKSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfSB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAge1wizqDPgc6/z4POuM6uzrrOtyDPiM63z4bOv8+Gzr/Pgc6vzrHPglwifVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBTcGFjZXIocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy52aXNpYmxlKSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS00IGhpZGRlbi14c1wiIC8+XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBMaXN0RW1wdHkgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3RocmVhZHMtbGlzdC9saXN0L2VtcHR5XCJcbmltcG9ydCBMaXN0UmVhZHkgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3RocmVhZHMtbGlzdC9saXN0L3JlYWR5XCJcbmltcG9ydCBMaXN0UHJldmlldyBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L2xpc3QvcHJldmlld1wiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGlmICghcHJvcHMuaXNMb2FkZWQpIHtcbiAgICByZXR1cm4gPExpc3RQcmV2aWV3IC8+XG4gIH1cblxuICBpZiAocHJvcHMudGhyZWFkcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gKFxuICAgICAgPExpc3RFbXB0eSBkaWZmU2l6ZT17cHJvcHMuZGlmZlNpemV9IGFwcGx5RGlmZj17cHJvcHMuYXBwbHlEaWZmfT5cbiAgICAgICAge3Byb3BzLmNoaWxkcmVufVxuICAgICAgPC9MaXN0RW1wdHk+XG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8TGlzdFJlYWR5XG4gICAgICBhY3RpdmVDYXRlZ29yeT17cHJvcHMuY2F0ZWdvcnl9XG4gICAgICBjYXRlZ29yaWVzPXtwcm9wcy5jYXRlZ29yaWVzfVxuICAgICAgbGlzdD17cHJvcHMubGlzdH1cbiAgICAgIHRocmVhZHM9e3Byb3BzLnRocmVhZHN9XG4gICAgICBkaWZmU2l6ZT17cHJvcHMuZGlmZlNpemV9XG4gICAgICBhcHBseURpZmY9e3Byb3BzLmFwcGx5RGlmZn1cbiAgICAgIHNob3dPcHRpb25zPXtwcm9wcy5zaG93T3B0aW9uc31cbiAgICAgIHNlbGVjdGlvbj17cHJvcHMuc2VsZWN0aW9ufVxuICAgICAgYnVzeVRocmVhZHM9e3Byb3BzLmJ1c3lUaHJlYWRzfVxuICAgIC8+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBjb25zdCB7IGFwcGx5RGlmZiwgZGlmZlNpemUgfSA9IHByb3BzXG4gIGlmIChkaWZmU2l6ZSA9PT0gMCkgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxsaSBjbGFzc05hbWU9XCJsaXN0LWdyb3VwLWl0ZW0gdGhyZWFkcy1kaWZmLW1lc3NhZ2VcIj5cbiAgICAgIDxidXR0b25cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tYmxvY2sgYnRuLWRlZmF1bHRcIlxuICAgICAgICBvbkNsaWNrPXthcHBseURpZmZ9XG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jYWNoZWQ8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImRpZmYtbWVzc2FnZVwiPntnZXRNZXNzYWdlKGRpZmZTaXplKX08L3NwYW4+XG4gICAgICA8L2J1dHRvbj5cbiAgICA8L2xpPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRNZXNzYWdlKGRpZmZTaXplKSB7XG4gIGNvbnN0IG1lc3NhZ2UgPSBcIs6lz4DOrM+Bz4fOv8+Fzr0gJSh0aHJlYWRzKXMgzrrOsc65zr3Ov8+Nz4HOuc61z4IgzrHOs86zzrXOu86vzrXPgi4gzprOrM69zrUgzrrOu865zrogz4POtSDOsc+Fz4TPjCDPhM6/IM68zq7Ovc+FzrzOsSDOs865zrEgzr3OsSDPhM65z4IgzrTOtc65z4IuXCJcblxuICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgbWVzc2FnZSxcbiAgICB7XG4gICAgICB0aHJlYWRzOiBkaWZmU2l6ZVxuICAgIH0sXG4gICAgdHJ1ZVxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBEaWZmTWVzc2FnZSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L2xpc3QvZGlmZi1tZXNzYWdlXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXREaWZmTWVzc2FnZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5kaWZmU2l6ZSA9PT0gMCkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8RGlmZk1lc3NhZ2VcbiAgICAgICAgYXBwbHlEaWZmPXt0aGlzLnByb3BzLmFwcGx5RGlmZn1cbiAgICAgICAgZGlmZlNpemU9e3RoaXMucHJvcHMuZGlmZlNpemV9XG4gICAgICAvPlxuICAgIClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0aHJlYWRzLWxpc3QgdWktcmVhZHlcIj5cbiAgICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXBcIj5cbiAgICAgICAgICB7dGhpcy5nZXREaWZmTWVzc2FnZSgpfVxuICAgICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgICA8L3VsPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBUaHJlYWRQcmV2aWV3IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL3ByZXZpZXdcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHNob3VsZENvbXBvbmVudFVwZGF0ZSgpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0aHJlYWRzLWxpc3QgdWktcHJldmlld1wiPlxuICAgICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC1ncm91cFwiPlxuICAgICAgICAgIDxUaHJlYWRQcmV2aWV3IC8+XG4gICAgICAgIDwvdWw+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IERpZmZNZXNzYWdlIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzLWxpc3QvbGlzdC9kaWZmLW1lc3NhZ2VcIlxuaW1wb3J0IFRocmVhZCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9yZWFkeVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJ0aHJlYWRzLWxpc3QgdWktcmVhZHlcIj5cbiAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LWdyb3VwXCI+XG4gICAgICAgIDxEaWZmTWVzc2FnZSBkaWZmU2l6ZT17cHJvcHMuZGlmZlNpemV9IGFwcGx5RGlmZj17cHJvcHMuYXBwbHlEaWZmfSAvPlxuICAgICAgICB7cHJvcHMudGhyZWFkcy5tYXAodGhyZWFkID0+IHtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPFRocmVhZFxuICAgICAgICAgICAgICBhY3RpdmVDYXRlZ29yeT17cHJvcHMuYWN0aXZlQ2F0ZWdvcnl9XG4gICAgICAgICAgICAgIGNhdGVnb3JpZXM9e3Byb3BzLmNhdGVnb3JpZXN9XG4gICAgICAgICAgICAgIGxpc3Q9e3Byb3BzLmxpc3R9XG4gICAgICAgICAgICAgIHRocmVhZD17dGhyZWFkfVxuICAgICAgICAgICAgICBzaG93T3B0aW9ucz17cHJvcHMuc2hvd09wdGlvbnN9XG4gICAgICAgICAgICAgIGlzU2VsZWN0ZWQ9e3Byb3BzLnNlbGVjdGlvbi5pbmRleE9mKHRocmVhZC5pZCkgPj0gMH1cbiAgICAgICAgICAgICAgaXNCdXN5PXtwcm9wcy5idXN5VGhyZWFkcy5pbmRleE9mKHRocmVhZC5pZCkgPj0gMH1cbiAgICAgICAgICAgICAga2V5PXt0aHJlYWQuaWR9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIClcbiAgICAgICAgfSl9XG4gICAgICA8L3VsPlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBDYXRlZ29yeSBmcm9tIFwiLi9jYXRlZ29yeVwiXG5pbXBvcnQgeyBPcHRpb25zWHMgfSBmcm9tIFwiLi4vb3B0aW9uc1wiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgY2F0ZWdvcnksIGlzQnVzeSwgc2hvd09wdGlvbnMsIGlzU2VsZWN0ZWQsIHRocmVhZCB9KSB7XG4gIGxldCBjbGFzc05hbWUgPSBcImNvbC14cy0xMiBjb2wtc20tMTJcIlxuICBpZiAoc2hvd09wdGlvbnMpIHtcbiAgICBpZiAodGhyZWFkLm1vZGVyYXRpb24ubGVuZ3RoKSB7XG4gICAgICBjbGFzc05hbWUgPSBcImNvbC14cy02IGNvbC1zbS0xMlwiXG4gICAgfSBlbHNlIHtcbiAgICAgIGNsYXNzTmFtZSA9IFwiY29sLXhzLTkgY29sLXNtLTEyXCJcbiAgICB9XG4gIH1cblxuICBsZXQgc3RhdHVzRmxhZ3MgPSAwXG4gIGlmICh0aHJlYWQuaXNfaGlkZGVuKSBzdGF0dXNGbGFncyArPSAxXG4gIGlmICh0aHJlYWQuaXNfY2xvc2VkKSBzdGF0dXNGbGFncyArPSAxXG4gIGlmICh0aHJlYWQuaGFzX3BvbGwpIHN0YXR1c0ZsYWdzICs9IDFcblxuICBsZXQgYWxsRmxhZ3NWaXNpYmxlID0gc2hvd09wdGlvbnMgJiYgc3RhdHVzRmxhZ3MgPT09IDNcblxuICBsZXQgdGV4dENsYXNzTmFtZSA9IFwiZGV0YWlsLXRleHQgaGlkZGVuLXhzXCJcbiAgaWYgKGFsbEZsYWdzVmlzaWJsZSkge1xuICAgIHRleHRDbGFzc05hbWUgKz0gXCIgaGlkZGVuLXNtXCJcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgdGhyZWFkLWRldGFpbHMtYm90dG9tXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgICAgPENhdGVnb3J5XG4gICAgICAgICAgY2xhc3NOYW1lPVwiaXRlbS10aXRsZSB0aHJlYWQtZGV0YWlsLWNhdGVnb3J5IGhpZGRlbi14c1wiXG4gICAgICAgICAgY2F0ZWdvcnk9e2NhdGVnb3J5fVxuICAgICAgICAvPlxuICAgICAgICA8SGlkZGVuTGFiZWwgdGV4dENsYXNzTmFtZT17dGV4dENsYXNzTmFtZX0gZGlzcGxheT17dGhyZWFkLmlzX2hpZGRlbn0gLz5cbiAgICAgICAgPENsb3NlZExhYmVsIHRleHRDbGFzc05hbWU9e3RleHRDbGFzc05hbWV9IGRpc3BsYXk9e3RocmVhZC5pc19jbG9zZWR9IC8+XG4gICAgICAgIDxQb2xsTGFiZWwgdGV4dENsYXNzTmFtZT17dGV4dENsYXNzTmFtZX0gZGlzcGxheT17dGhyZWFkLmhhc19wb2xsfSAvPlxuICAgICAgICA8QmVzdEFuc3dlckxhYmVsIHRocmVhZD17dGhyZWFkfSAvPlxuICAgICAgICA8UmVwbGllc0xhYmVsXG4gICAgICAgICAgZm9yY2VGdWxsVGV4dD17IXNob3dPcHRpb25zIHx8IHN0YXR1c0ZsYWdzIDwgMn1cbiAgICAgICAgICByZXBsaWVzPXt0aHJlYWQucmVwbGllc31cbiAgICAgICAgLz5cbiAgICAgICAgPExhc3RSZXBseUxhYmVsXG4gICAgICAgICAgZGF0ZXRpbWU9e3RocmVhZC5sYXN0X3Bvc3Rfb259XG4gICAgICAgICAgdXJsPXt0aHJlYWQudXJsLmxhc3RfcG9zdH1cbiAgICAgICAgLz5cbiAgICAgICAgPExhc3RQb3N0ZXJcbiAgICAgICAgICBwb3N0ZXJOYW1lPXt0aHJlYWQubGFzdF9wb3N0ZXJfbmFtZX1cbiAgICAgICAgICB1cmw9e3RocmVhZC51cmwubGFzdF9wb3N0ZXJ9XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxPcHRpb25zWHNcbiAgICAgICAgZGlzYWJsZWQ9e2lzQnVzeX1cbiAgICAgICAgZGlzcGxheT17c2hvd09wdGlvbnN9XG4gICAgICAgIGlzU2VsZWN0ZWQ9e2lzU2VsZWN0ZWR9XG4gICAgICAgIHRocmVhZD17dGhyZWFkfVxuICAgICAgLz5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gSGlkZGVuTGFiZWwoeyBkaXNwbGF5LCB0ZXh0Q2xhc3NOYW1lIH0pIHtcbiAgaWYgKCFkaXNwbGF5KSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPHNwYW4gY2xhc3NOYW1lPVwidGhyZWFkLWRldGFpbC1oaWRkZW5cIj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj52aXNpYmlsaXR5X29mZjwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT17dGV4dENsYXNzTmFtZX0+e1wizprPgc+FzrzOvM6tzr3Ot1wifTwvc3Bhbj5cbiAgICA8L3NwYW4+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIENsb3NlZExhYmVsKHsgZGlzcGxheSwgdGV4dENsYXNzTmFtZSB9KSB7XG4gIGlmICghZGlzcGxheSkgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxzcGFuIGNsYXNzTmFtZT1cInRocmVhZC1kZXRhaWwtY2xvc2VkXCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+bG9ja19vdXRsaW5lPC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPXt0ZXh0Q2xhc3NOYW1lfT57XCLOms67zrXOuc+DzrzOrc69zrdcIn08L3NwYW4+XG4gICAgPC9zcGFuPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQb2xsTGFiZWwoeyBkaXNwbGF5LCB0ZXh0Q2xhc3NOYW1lIH0pIHtcbiAgaWYgKCFkaXNwbGF5KSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPHNwYW4gY2xhc3NOYW1lPVwidGhyZWFkLWRldGFpbC1wb2xsXCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+YXNzZXNzbWVudDwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT17dGV4dENsYXNzTmFtZX0+e1wiUG9sbFwifTwvc3Bhbj5cbiAgICA8L3NwYW4+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEJlc3RBbnN3ZXJMYWJlbCh7IHRocmVhZCB9KSB7XG4gIGlmICghdGhyZWFkLmJlc3RfYW5zd2VyKSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPGFcbiAgICAgIGNsYXNzTmFtZT1cInZpc2libGUteHMtaW5saW5lLWJsb2NrIHRocmVhZC1kZXRhaWwtYW5zd2VyZWRcIlxuICAgICAgaHJlZj17dGhyZWFkLnVybC5iZXN0X2Fuc3dlcn1cbiAgICA+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2hlY2tfYm94PC9zcGFuPlxuICAgIDwvYT5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUmVwbGllc0xhYmVsKHsgcmVwbGllcywgZm9yY2VGdWxsVGV4dCB9KSB7XG4gIGNvbnN0IHRleHQgPSBcIiUocmVwbGllcylzIM+Az4HOv8+Dz4bOv8+Bzq3PglwiXG5cbiAgbGV0IGNvbXBhY3RDbGFzc05hbWUgPSBcIlwiXG4gIGxldCBmdWxsQ2xhc3NOYW1lID0gXCJcIlxuXG4gIGlmIChmb3JjZUZ1bGxUZXh0KSB7XG4gICAgY29tcGFjdENsYXNzTmFtZSA9IFwiZGV0YWlsLXRleHQgaGlkZVwiXG4gICAgZnVsbENsYXNzTmFtZSA9IFwiZGV0YWlsLXRleHRcIlxuICB9IGVsc2Uge1xuICAgIGNvbXBhY3RDbGFzc05hbWUgPSBcImRldGFpbC10ZXh0IHZpc2libGUteHMtaW5saW5lLWJsb2NrXCJcbiAgICBmdWxsQ2xhc3NOYW1lID0gXCJkZXRhaWwtdGV4dCBoaWRkZW4teHNcIlxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8c3BhbiBjbGFzc05hbWU9XCJ0aHJlYWQtZGV0YWlsLXJlcGxpZXNcIj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5mb3J1bTwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT17Y29tcGFjdENsYXNzTmFtZX0+e3JlcGxpZXN9PC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPXtmdWxsQ2xhc3NOYW1lfT5cbiAgICAgICAge2ludGVycG9sYXRlKHRleHQsIHsgcmVwbGllcyB9LCB0cnVlKX1cbiAgICAgIDwvc3Bhbj5cbiAgICA8L3NwYW4+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIExhc3RSZXBseUxhYmVsKHsgZGF0ZXRpbWUsIHVybCB9KSB7XG4gIHJldHVybiAoXG4gICAgPGFcbiAgICAgIGNsYXNzTmFtZT1cInZpc2libGUtc20taW5saW5lLWJsb2NrIHRocmVhZC1kZXRhaWwtbGFzdC1yZXBseVwiXG4gICAgICBocmVmPXt1cmx9XG4gICAgICB0aXRsZT17ZGF0ZXRpbWUuZm9ybWF0KFwiTExMXCIpfVxuICAgID5cbiAgICAgIHtkYXRldGltZS5mcm9tTm93KHRydWUpfVxuICAgIDwvYT5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTGFzdFBvc3Rlcihwcm9wcykge1xuICBjb25zdCB7IHBvc3Rlck5hbWUsIHVybCB9ID0gcHJvcHNcbiAgY29uc3QgY2xhc3NOYW1lID0gXCJ2aXNpYmxlLXNtLWlubGluZS1ibG9jayBpdGVtLXRpdGxlIHRocmVhZC1sYXN0LXBvc3RlclwiXG5cbiAgaWYgKHVybCkge1xuICAgIHJldHVybiAoXG4gICAgICA8YSBjbGFzc05hbWU9e2NsYXNzTmFtZX0gaHJlZj17dXJsfT5cbiAgICAgICAge3Bvc3Rlck5hbWV9XG4gICAgICA8L2E+XG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT17Y2xhc3NOYW1lfT57cG9zdGVyTmFtZX08L3NwYW4+XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBjYXRlZ29yeSwgY2xhc3NOYW1lIH0pIHtcbiAgaWYgKCFjYXRlZ29yeSkgcmV0dXJuIG51bGxcblxuICBpZiAoY2F0ZWdvcnkuY3NzX2NsYXNzKSB7XG4gICAgY2xhc3NOYW1lICs9IFwiIHRocmVhZC1kZXRhaWwtY2F0ZWdvcnktXCIgKyBjYXRlZ29yeS5jc3NfY2xhc3NcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGEgY2xhc3NOYW1lPXtjbGFzc05hbWV9IGhyZWY9e2NhdGVnb3J5LnVybC5pbmRleH0+XG4gICAgICB7Y2F0ZWdvcnkubmFtZX1cbiAgICA8L2E+XG4gIClcbn1cbiIsImltcG9ydCBCb3R0b21EZXRhaWxzIGZyb20gXCIuL2JvdHRvbVwiXG5pbXBvcnQgVG9wRGV0YWlscyBmcm9tIFwiLi90b3BcIlxuXG5leHBvcnQgeyBCb3R0b21EZXRhaWxzIH1cbmV4cG9ydCB7IFRvcERldGFpbHMgfVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQ2F0ZWdvcnkgZnJvbSBcIi4vY2F0ZWdvcnlcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGNhdGVnb3J5LCB0aHJlYWQgfSkge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwidGhyZWFkLWRldGFpbHMtdG9wXCI+XG4gICAgICA8TmV3TGFiZWwgaXNSZWFkPXt0aHJlYWQuaXNfcmVhZH0gdXJsPXt0aHJlYWQudXJsLm5ld19wb3N0fSAvPlxuICAgICAgPFBpbm5lZExhYmVsIHdlaWdodD17dGhyZWFkLndlaWdodH0gLz5cbiAgICAgIDxVbmFwcHJvdmVkTGFiZWxcbiAgICAgICAgdGhyZWFkPXt0aHJlYWQuaXNfdW5hcHByb3ZlZH1cbiAgICAgICAgcG9zdHM9e3RocmVhZC5oYXNfdW5hcHByb3ZlZF9wb3N0c31cbiAgICAgIC8+XG4gICAgICA8QmVzdEFuc3dlckxhYmVsIHRocmVhZD17dGhyZWFkfSAvPlxuICAgICAgPENhdGVnb3J5XG4gICAgICAgIGNsYXNzTmFtZT1cIml0ZW0tdGl0bGUgdGhyZWFkLWRldGFpbC1jYXRlZ29yeSB2aXNpYmxlLXhzLWlubGluZS1ibG9ja1wiXG4gICAgICAgIGNhdGVnb3J5PXtjYXRlZ29yeX1cbiAgICAgIC8+XG4gICAgICA8TGFzdFJlcGx5TGFiZWxcbiAgICAgICAgZGF0ZXRpbWU9e3RocmVhZC5sYXN0X3Bvc3Rfb259XG4gICAgICAgIHVybD17dGhyZWFkLnVybC5sYXN0X3Bvc3R9XG4gICAgICAvPlxuICAgICAgPExhc3RQb3N0ZXJcbiAgICAgICAgcG9zdGVyTmFtZT17dGhyZWFkLmxhc3RfcG9zdGVyX25hbWV9XG4gICAgICAgIHVybD17dGhyZWFkLnVybC5sYXN0X3Bvc3Rlcn1cbiAgICAgIC8+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE5ld0xhYmVsKHsgaXNSZWFkLCB1cmwgfSkge1xuICBpZiAoaXNSZWFkKSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPGEgY2xhc3NOYW1lPVwidGhyZWFkLWRldGFpbC1uZXdcIiBocmVmPXt1cmx9PlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNvbW1lbnQ8L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJkZXRhaWwtdGV4dFwiPntcIs6dzq3Otc+CIM+Az4HOv8+Dz4bOv8+Bzq3PglwifTwvc3Bhbj5cbiAgICA8L2E+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBpbm5lZExhYmVsKHsgd2VpZ2h0IH0pIHtcbiAgaWYgKHdlaWdodCA9PT0gMCkgcmV0dXJuIG51bGxcblxuICBsZXQgY2xhc3NOYW1lID0gXCJ0aHJlYWQtZGV0YWlsLXBpbm5lZC1nbG9iYWxseVwiXG4gIGxldCBpY29uID0gXCJib29rbWFya1wiXG4gIGxldCB0ZXh0ID0gXCLOoM+Bzr/Pic64zrfOvM6tzr3OtyDPgM6xzr3PhM6/z41cIlxuXG4gIGlmICh3ZWlnaHQgPT09IDEpIHtcbiAgICBjbGFzc05hbWUgPSBcInRocmVhZC1kZXRhaWwtcGlubmVkLWxvY2FsbHlcIlxuICAgIGljb24gPSBcImJvb2ttYXJrX2JvcmRlclwiXG4gICAgdGV4dCA9IFwizqDPgc6/z4nOuM63zrzOrc69zrcgz4POtSDOsc+Fz4TOriDPhM63zr0gzrrOsc+EzrfOs86/z4HOr86xXCJcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPHNwYW4gY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPntpY29ufTwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImRldGFpbC10ZXh0XCI+e3RleHR9PC9zcGFuPlxuICAgIDwvc3Bhbj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gVW5hcHByb3ZlZExhYmVsKHsgcG9zdHMsIHRocmVhZCB9KSB7XG4gIGlmICghcG9zdHMgJiYgIXRocmVhZCkgcmV0dXJuIG51bGxcblxuICBsZXQgY2xhc3NOYW1lID0gXCJ0aHJlYWQtZGV0YWlsLXVuYXBwcm92ZWQtcG9zdHNcIlxuICBsZXQgaWNvbiA9IFwicmVtb3ZlX2NpcmNsZV9vdXRsaW5lXCJcbiAgbGV0IHRleHQgPSBcIs6gz4HOv8+Dz4bOv8+Bzq3PgiDPgM6/z4UgzrTOtc69IM6tz4fOv8+Fzr0gzrXOs866z4HOuc64zrXOr1wiXG5cbiAgaWYgKHRocmVhZCkge1xuICAgIGNsYXNzTmFtZSA9IFwidGhyZWFkLWRldGFpbC11bmFwcHJvdmVkXCJcbiAgICBpY29uID0gXCJyZW1vdmVfY2lyY2xlXCJcbiAgICB0ZXh0ID0gXCLOnM63IM61zrPOus61zrrPgc65zrzOrc69zrXPglwiXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxzcGFuIGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj57aWNvbn08L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJkZXRhaWwtdGV4dFwiPnt0ZXh0fTwvc3Bhbj5cbiAgICA8L3NwYW4+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEJlc3RBbnN3ZXJMYWJlbCh7IHRocmVhZCB9KSB7XG4gIGlmICghdGhyZWFkLmJlc3RfYW5zd2VyKSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPGFcbiAgICAgIGNsYXNzTmFtZT1cImhpZGRlbi14cyB0aHJlYWQtZGV0YWlsLWFuc3dlcmVkXCJcbiAgICAgIGhyZWY9e3RocmVhZC51cmwuYmVzdF9hbnN3ZXJ9XG4gICAgPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNoZWNrX2JveDwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImRldGFpbC10ZXh0XCI+e1wizojPh861zrkgzrHOvc6xz4TOtc64zrXOr1wifTwvc3Bhbj5cbiAgICA8L2E+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIExhc3RSZXBseUxhYmVsKHsgZGF0ZXRpbWUsIHVybCB9KSB7XG4gIHJldHVybiAoXG4gICAgPGFcbiAgICAgIGNsYXNzTmFtZT1cInZpc2libGUteHMtaW5saW5lLWJsb2NrIHRocmVhZC1kZXRhaWwtbGFzdC1yZXBseVwiXG4gICAgICBocmVmPXt1cmx9XG4gICAgICB0aXRsZT17ZGF0ZXRpbWUuZm9ybWF0KFwiTExMXCIpfVxuICAgID5cbiAgICAgIHtkYXRldGltZS5mcm9tTm93KHRydWUpfVxuICAgIDwvYT5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTGFzdFBvc3Rlcihwcm9wcykge1xuICBjb25zdCB7IHBvc3Rlck5hbWUsIHVybCB9ID0gcHJvcHNcblxuICBpZiAodXJsKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxhXG4gICAgICAgIGNsYXNzTmFtZT1cInZpc2libGUteHMtaW5saW5lLWJsb2NrIGl0ZW0tdGl0bGUgdGhyZWFkLWxhc3QtcG9zdGVyXCJcbiAgICAgICAgaHJlZj17dXJsfVxuICAgICAgPlxuICAgICAgICB7cG9zdGVyTmFtZX1cbiAgICAgIDwvYT5cbiAgICApXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxzcGFuIGNsYXNzTmFtZT1cInZpc2libGUteHMtaW5saW5lLWJsb2NrIGl0ZW0tdGl0bGUgdGhyZWFkLWxhc3QtcG9zdGVyXCI+XG4gICAgICB7cG9zdGVyTmFtZX1cbiAgICA8L3NwYW4+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEF2YXRhciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyXCJcbmltcG9ydCBVc2VyVXJsIGZyb20gXCIuL3VzZXItdXJsXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyB0aHJlYWQgfSkge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWFcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEtbGVmdFwiPlxuICAgICAgICA8VXNlclVybFxuICAgICAgICAgIGNsYXNzTmFtZT1cInRocmVhZC1sYXN0LXBvc3Rlci1hdmF0YXJcIlxuICAgICAgICAgIHRpdGxlPXt0aHJlYWQubGFzdF9wb3N0ZXJfbmFtZX1cbiAgICAgICAgICB1cmw9e3RocmVhZC51cmwubGFzdF9wb3N0ZXJ9XG4gICAgICAgID5cbiAgICAgICAgICA8QXZhdGFyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJtZWRpYS1vYmplY3RcIlxuICAgICAgICAgICAgc2l6ZT17NDB9XG4gICAgICAgICAgICB1c2VyPXt0aHJlYWQubGFzdF9wb3N0ZXJ9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9Vc2VyVXJsPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWJvZHlcIj5cbiAgICAgICAgPFVzZXJVcmxcbiAgICAgICAgICBjbGFzc05hbWU9XCJpdGVtLXRpdGxlIHRocmVhZC1sYXN0LXBvc3RlclwiXG4gICAgICAgICAgdXJsPXt0aHJlYWQudXJsLmxhc3RfcG9zdGVyfVxuICAgICAgICA+XG4gICAgICAgICAge3RocmVhZC5sYXN0X3Bvc3Rlcl9uYW1lfVxuICAgICAgICA8L1VzZXJVcmw+XG4gICAgICAgIDxUaW1lc3RhbXAgZGF0ZXRpbWU9e3RocmVhZC5sYXN0X3Bvc3Rfb259IHVybD17dGhyZWFkLnVybC5sYXN0X3Bvc3R9IC8+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gVGltZXN0YW1wKHsgZGF0ZXRpbWUsIHVybCB9KSB7XG4gIHJldHVybiAoXG4gICAgPGEgY2xhc3NOYW1lPVwidGhyZWFkLWxhc3QtcmVwbHlcIiBocmVmPXt1cmx9IHRpdGxlPXtkYXRldGltZS5mb3JtYXQoXCJMTExcIil9PlxuICAgICAge2RhdGV0aW1lLmZyb21Ob3codHJ1ZSl9XG4gICAgPC9hPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBTdWJzY3JpcHRpb25Db21wYWN0IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL3N1YnNjcmlwdGlvbi9jb21wYWN0XCJcbmltcG9ydCBTdWJzY3JpcHRpb25GdWxsIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL3N1YnNjcmlwdGlvbi9mdWxsXCJcbmltcG9ydCAqIGFzIHNlbGVjdCBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3NlbGVjdGlvblwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBmdW5jdGlvbiBPcHRpb25zKHsgZGlzcGxheSwgZGlzYWJsZWQsIGlzU2VsZWN0ZWQsIHRocmVhZCB9KSB7XG4gIGlmICghZGlzcGxheSkgcmV0dXJuIG51bGxcblxuICBsZXQgY2xhc3NOYW1lID0gXCJjb2wtc20tMiBjb2wtbWQtMiBoaWRkZW4teHNcIlxuICBpZiAodGhyZWFkLm1vZGVyYXRpb24ubGVuZ3RoKSB7XG4gICAgY2xhc3NOYW1lID0gXCJjb2wtc20tMyBjb2wtbWQtMiBoaWRkZW4teHNcIlxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IHRocmVhZC1vcHRpb25zXCI+XG4gICAgICAgIDxTdWJzY3JpcHRpb25GdWxsIHRocmVhZD17dGhyZWFkfSBkaXNhYmxlZD17ZGlzYWJsZWR9IC8+XG4gICAgICAgIDxTdWJzY3JpcHRpb25Db21wYWN0IHRocmVhZD17dGhyZWFkfSBkaXNhYmxlZD17ZGlzYWJsZWR9IC8+XG4gICAgICAgIDxDaGVja2JveCB0aHJlYWQ9e3RocmVhZH0gZGlzYWJsZWQ9e2Rpc2FibGVkfSBpc1NlbGVjdGVkPXtpc1NlbGVjdGVkfSAvPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE9wdGlvbnNYcyh7IGRpc3BsYXksIGRpc2FibGVkLCBpc1NlbGVjdGVkLCB0aHJlYWQgfSkge1xuICBpZiAoIWRpc3BsYXkpIHJldHVybiBudWxsXG5cbiAgbGV0IGNsYXNzTmFtZSA9IFwiXCJcbiAgaWYgKHRocmVhZC5tb2RlcmF0aW9uLmxlbmd0aCkge1xuICAgIGNsYXNzTmFtZSArPSBcImNvbC14cy02XCJcbiAgfSBlbHNlIHtcbiAgICBjbGFzc05hbWUgKz0gXCJjb2wteHMtM1wiXG4gIH1cbiAgY2xhc3NOYW1lICs9IFwiIHZpc2libGUteHMtYmxvY2sgdGhyZWFkLW9wdGlvbnMteHNcIlxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyB0aHJlYWQtb3B0aW9uc1wiPlxuICAgICAgICA8U3Vic2NyaXB0aW9uRnVsbCB0aHJlYWQ9e3RocmVhZH0gZGlzYWJsZWQ9e2Rpc2FibGVkfSAvPlxuICAgICAgICA8U3Vic2NyaXB0aW9uQ29tcGFjdCB0aHJlYWQ9e3RocmVhZH0gZGlzYWJsZWQ9e2Rpc2FibGVkfSAvPlxuICAgICAgICA8Q2hlY2tib3ggdGhyZWFkPXt0aHJlYWR9IGRpc2FibGVkPXtkaXNhYmxlZH0gaXNTZWxlY3RlZD17aXNTZWxlY3RlZH0gLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBjbGFzcyBDaGVja2JveCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHRvZ2dsZVNlbGVjdGlvbiA9ICgpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaChzZWxlY3QuaXRlbSh0aGlzLnByb3BzLnRocmVhZC5pZCkpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBkaXNhYmxlZCwgaXNTZWxlY3RlZCwgdGhyZWFkIH0gPSB0aGlzLnByb3BzXG5cbiAgICBpZiAoIXRocmVhZC5tb2RlcmF0aW9uLmxlbmd0aCkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy02XCI+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWljb24gYnRuLWJsb2NrXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLnRvZ2dsZVNlbGVjdGlvbn1cbiAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR9XG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICB7aXNTZWxlY3RlZCA/IFwiY2hlY2tfYm94XCIgOiBcImNoZWNrX2JveF9vdXRsaW5lX2JsYW5rXCJ9XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgKiBhcyByYW5kb20gZnJvbSBcIm1pc2Fnby91dGlscy9yYW5kb21cIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHNob3VsZENvbXBvbmVudFVwZGF0ZSgpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGxpIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXAtaXRlbSB0aHJlYWQtcHJldmlld1wiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRocmVhZC1kZXRhaWxzLXRvcCB2aXNpYmxlLXhzLWJsb2NrXCI+XG4gICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCgzMCwgODApICsgXCJweFwiIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHJhbmRvbS5pbnQoMzAsIDgwKSArIFwicHhcIiB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiByYW5kb20uaW50KDMwLCA4MCkgKyBcInB4XCIgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIml0ZW0tdGl0bGUgdGhyZWFkLXRpdGxlXCI+XG4gICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCg2MCwgMjAwKSArIFwicHhcIiB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0IGhpZGRlbi14c1wiXG4gICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCg2MCwgMjAwKSArIFwicHhcIiB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0IGhpZGRlbi14c1wiXG4gICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCg2MCwgMjAwKSArIFwicHhcIiB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9zcGFuPlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGhyZWFkLWRldGFpbHMtYm90dG9tXCI+XG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiByYW5kb20uaW50KDMwLCA4MCkgKyBcInB4XCIgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCgzMCwgODApICsgXCJweFwiIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHJhbmRvbS5pbnQoMzAsIDgwKSArIFwicHhcIiB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQXZhdGFyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9hdmF0YXJcIlxuaW1wb3J0IHsgQm90dG9tRGV0YWlscywgVG9wRGV0YWlscyB9IGZyb20gXCIuL2RldGFpbHNcIlxuaW1wb3J0IExhc3RBY3Rpb24gZnJvbSBcIi4vbGFzdC1hY3Rpb25cIlxuaW1wb3J0IHsgT3B0aW9ucyB9IGZyb20gXCIuL29wdGlvbnNcIlxuaW1wb3J0IFVzZXJVcmwgZnJvbSBcIi4vdXNlci11cmxcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBjb25zdCB7XG4gICAgYWN0aXZlQ2F0ZWdvcnksXG4gICAgY2F0ZWdvcmllcyxcbiAgICBsaXN0LFxuICAgIHRocmVhZCxcblxuICAgIGlzQnVzeSxcbiAgICBpc1NlbGVjdGVkLFxuICAgIHNob3dPcHRpb25zXG4gIH0gPSBwcm9wc1xuXG4gIGxldCBjYXRlZ29yeSA9IG51bGxcbiAgaWYgKGFjdGl2ZUNhdGVnb3J5LmlkICE9PSB0aHJlYWQuY2F0ZWdvcnkpIHtcbiAgICBjYXRlZ29yeSA9IGNhdGVnb3JpZXNbdGhyZWFkLmNhdGVnb3J5XVxuICB9XG5cbiAgY29uc3QgZmxhdm9yID0gY2F0ZWdvcnkgfHwgYWN0aXZlQ2F0ZWdvcnlcblxuICBsZXQgY2xhc3NOYW1lID0gXCJ0aHJlYWQtbWFpbiBjb2wteHMtMTJcIlxuICBpZiAoc2hvd09wdGlvbnMpIHtcbiAgICBpZiAodGhyZWFkLm1vZGVyYXRpb24ubGVuZ3RoKSB7XG4gICAgICBjbGFzc05hbWUgKz0gXCIgY29sLXNtLTkgY29sLW1kLTdcIlxuICAgIH0gZWxzZSB7XG4gICAgICBjbGFzc05hbWUgKz0gXCIgY29sLXNtLTEwIGNvbC1tZC03XCJcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgY2xhc3NOYW1lICs9IFwiIGNvbC1zbS0xMiBjb2wtbWQtOVwiXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxsaSBjbGFzc05hbWU9e2dldENsYXNzTmFtZSh0aHJlYWQuaXNfcmVhZCwgaXNCdXN5LCBpc1NlbGVjdGVkLCBmbGF2b3IpfT5cbiAgICAgIDxUb3BEZXRhaWxzIGNhdGVnb3J5PXtjYXRlZ29yeX0gdGhyZWFkPXt0aHJlYWR9IC8+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyB0aHJlYWQtcm93XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWFcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEtbGVmdCBoaWRkZW4teHNcIj5cbiAgICAgICAgICAgICAgPFVzZXJVcmxcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0aHJlYWQtc3RhcnRlci1hdmF0YXJcIlxuICAgICAgICAgICAgICAgIHRpdGxlPXt0aHJlYWQuc3RhcnRlcl9uYW1lfVxuICAgICAgICAgICAgICAgIHVybD17dGhyZWFkLnVybC5zdGFydGVyfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPEF2YXRhciBzaXplPXs0MH0gdXNlcj17dGhyZWFkLnN0YXJ0ZXJ9IC8+XG4gICAgICAgICAgICAgIDwvVXNlclVybD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1ib2R5XCI+XG4gICAgICAgICAgICAgIDxhIGhyZWY9e3RocmVhZC51cmwuaW5kZXh9IGNsYXNzTmFtZT1cIml0ZW0tdGl0bGUgdGhyZWFkLXRpdGxlXCI+XG4gICAgICAgICAgICAgICAge3RocmVhZC50aXRsZX1cbiAgICAgICAgICAgICAgPC9hPlxuXG4gICAgICAgICAgICAgIDxCb3R0b21EZXRhaWxzXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnk9e2NhdGVnb3J5fVxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc0J1c3l9XG4gICAgICAgICAgICAgICAgaXNTZWxlY3RlZD17aXNTZWxlY3RlZH1cbiAgICAgICAgICAgICAgICBzaG93T3B0aW9ucz17c2hvd09wdGlvbnN9XG4gICAgICAgICAgICAgICAgdGhyZWFkPXt0aHJlYWR9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTMgaGlkZGVuLXhzIGhpZGRlbi1zbSB0aHJlYWQtbGFzdC1hY3Rpb25cIj5cbiAgICAgICAgICA8TGFzdEFjdGlvbiB0aHJlYWQ9e3RocmVhZH0gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxPcHRpb25zXG4gICAgICAgICAgZGlzYWJsZWQ9e2lzQnVzeX1cbiAgICAgICAgICBkaXNwbGF5PXtzaG93T3B0aW9uc31cbiAgICAgICAgICBpc1NlbGVjdGVkPXtpc1NlbGVjdGVkfVxuICAgICAgICAgIHRocmVhZD17dGhyZWFkfVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgPC9saT5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2xhc3NOYW1lKGlzUmVhZCwgaXNCdXN5LCBpc1NlbGVjdGVkLCBmbGF2b3IpIHtcbiAgbGV0IHN0eWxlcyA9IFtcImxpc3QtZ3JvdXAtaXRlbVwiXVxuXG4gIGlmIChmbGF2b3IgJiYgZmxhdm9yLmNzc19jbGFzcykge1xuICAgIHN0eWxlcy5wdXNoKFwibGlzdC1ncm91cC1jYXRlZ29yeS1oYXMtZmxhdm9yXCIpXG4gICAgc3R5bGVzLnB1c2goXCJsaXN0LWdyb3VwLWl0ZW0tY2F0ZWdvcnktXCIgKyBmbGF2b3IuY3NzX2NsYXNzKVxuICB9XG5cbiAgaWYgKGlzUmVhZCkge1xuICAgIHN0eWxlcy5wdXNoKFwidGhyZWFkLXJlYWRcIilcbiAgfSBlbHNlIHtcbiAgICBzdHlsZXMucHVzaChcInRocmVhZC1uZXdcIilcbiAgfVxuXG4gIGlmIChpc0J1c3kpIHtcbiAgICBzdHlsZXMucHVzaChcInRocmVhZC1idXN5XCIpXG4gIH0gZWxzZSBpZiAoaXNTZWxlY3RlZCkge1xuICAgIHN0eWxlcy5wdXNoKFwidGhyZWFkLXNlbGVjdGVkXCIpXG4gIH1cblxuICByZXR1cm4gc3R5bGVzLmpvaW4oXCIgXCIpXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBTdWJzY3JpcHRpb25GdWxsIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL3N1YnNjcmlwdGlvbi9mdWxsXCJcbmltcG9ydCBPcHRpb25zTW9kYWwgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvc3Vic2NyaXB0aW9uL21vZGFsXCJcbmltcG9ydCBtb2RhbCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL21vZGFsXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBTdWJzY3JpcHRpb25GdWxsIHtcbiAgc2hvd09wdGlvbnMgPSAoKSA9PiB7XG4gICAgbW9kYWwuc2hvdyg8T3B0aW9uc01vZGFsIHRocmVhZD17dGhpcy5wcm9wcy50aHJlYWR9IC8+KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgbW9kZXJhdGlvbiB9ID0gdGhpcy5wcm9wcy50aHJlYWRcblxuICAgIGxldCBjbGFzc05hbWUgPSBcIlwiXG4gICAgaWYgKG1vZGVyYXRpb24ubGVuZ3RoKSB7XG4gICAgICBjbGFzc05hbWUgKz0gXCJjb2wteHMtNlwiXG4gICAgfSBlbHNlIHtcbiAgICAgIGNsYXNzTmFtZSArPSBcImNvbC14cy0xMlwiXG4gICAgfVxuICAgIGNsYXNzTmFtZSArPSBcIiBoaWRkZW4tbWQgaGlkZGVuLWxnXCJcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgIGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX1cbiAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLnNob3dPcHRpb25zfVxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnt0aGlzLmdldEljb24oKX08L3NwYW4+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBPcHRpb25zIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL3N1YnNjcmlwdGlvbi9vcHRpb25zXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRJY29uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC5zdWJzY3JpcHRpb24gPT09IHRydWUpIHtcbiAgICAgIHJldHVybiBcInN0YXJcIlxuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy50aHJlYWQuc3Vic2NyaXB0aW9uID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuIFwic3Rhcl9oYWxmXCJcbiAgICB9XG5cbiAgICByZXR1cm4gXCJzdGFyX2JvcmRlclwiXG4gIH1cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudGhyZWFkLnN1YnNjcmlwdGlvbiA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuIFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1pY29uIGJ0bi1ibG9jayBidG4tc3Vic2NyaWJlIGJ0bi1zdWJzY3JpYmUtZnVsbCBkcm9wZG93bi10b2dnbGVcIlxuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy50aHJlYWQuc3Vic2NyaXB0aW9uID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuIFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1pY29uIGJ0bi1ibG9jayBidG4tc3Vic2NyaWJlIGJ0bi1zdWJzY3JpYmUtaGFsZiBkcm9wZG93bi10b2dnbGVcIlxuICAgIH1cblxuICAgIHJldHVybiBcImJ0biBidG4tZGVmYXVsdCBidG4taWNvbiBidG4tYmxvY2sgYnRuLXN1YnNjcmliZSBkcm9wZG93bi10b2dnbGVcIlxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgbW9kZXJhdGlvbiwgc3Vic2NyaXB0aW9uIH0gPSB0aGlzLnByb3BzLnRocmVhZFxuICAgIGNvbnN0IGZ1bGx3aWR0aCA9ICFtb2RlcmF0aW9uLmxlbmd0aFxuXG4gICAgbGV0IGNsYXNzTmFtZSA9IGZ1bGx3aWR0aCA/IFwiY29sLXhzLTEyXCIgOiBcImNvbC14cy02XCJcbiAgICBjbGFzc05hbWUgKz0gXCIgaGlkZGVuLXhzIGhpZGRlbi1zbVwiXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnRuLWdyb3VwIGJ0bi1ncm91cC1qdXN0aWZpZWRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ0bi1ncm91cFwiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfVxuICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgICAgICAgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiXG4gICAgICAgICAgICAgIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCJcbiAgICAgICAgICAgICAgYXJpYS1leHBhbmRlZD1cImZhbHNlXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnt0aGlzLmdldEljb24oKX08L3NwYW4+XG4gICAgICAgICAgICAgIDxMYWJlbCBtb2RlcmF0aW9uPXttb2RlcmF0aW9ufSBzdWJzY3JpcHRpb249e3N1YnNjcmlwdGlvbn0gLz5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgICA8T3B0aW9uc1xuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJkcm9wZG93bi1tZW51IGRyb3Bkb3duLW1lbnUtcmlnaHRcIlxuICAgICAgICAgICAgICB0aHJlYWQ9e3RoaXMucHJvcHMudGhyZWFkfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIExhYmVsKHsgbW9kZXJhdGlvbiwgc3Vic2NyaXB0aW9uIH0pIHtcbiAgaWYgKG1vZGVyYXRpb24ubGVuZ3RoKSByZXR1cm4gbnVsbFxuXG4gIGxldCB0ZXh0ID0gXCLOms6xzrzOr86xIM61zrnOtM6/z4DOv86vzrfPg863XCJcbiAgaWYgKHN1YnNjcmlwdGlvbiA9PT0gdHJ1ZSkge1xuICAgIHRleHQgPSBcIs6czq3Pg8+JIM61bWFpbFwiXG4gIH0gZWxzZSBpZiAoc3Vic2NyaXB0aW9uID09PSBmYWxzZSkge1xuICAgIHRleHQgPSBcIkXOvc61z4HOs86/z4DOv865zrfOvM6tzr3Otc+CIM61zrnOtM6/z4DOv865zq7Pg861zrnPglwiXG4gIH1cblxuICByZXR1cm4gPHNwYW4gY2xhc3NOYW1lPVwiYnRuLXRleHRcIj57dGV4dH08L3NwYW4+XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBPcHRpb25zIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL3N1YnNjcmlwdGlvbi9vcHRpb25zXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nIG1vZGFsLXNtXCIgcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjbG9zZVwiXG4gICAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgYXJpYS1sYWJlbD17XCLOms67zrXOr8+DzrnOvM6/XCJ9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntcIs6RzrvOu86xzrPOriDOtc65zrTOv8+Azr/Ouc6uz4POtc+Jzr1cIn08L2g0PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPE9wdGlvbnMgY2xhc3NOYW1lPVwibW9kYWwtbWVudVwiIHRocmVhZD17dGhpcy5wcm9wcy50aHJlYWR9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IHBhdGNoIH0gZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy90aHJlYWRzXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgbW9kYWwgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9tb2RhbFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmNvbnN0IFNUQVRFX1VQREFURVMgPSB7XG4gIHVuc3Vic2NyaWJlOiBudWxsLFxuICBub3RpZnk6IGZhbHNlLFxuICBlbWFpbDogdHJ1ZVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIHNldFN1YnNjcmlwdGlvbiA9IG5ld1N0YXRlID0+IHtcbiAgICBtb2RhbC5oaWRlKClcblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNMb2FkaW5nOiB0cnVlXG4gICAgfSlcblxuICAgIGxldCBvbGRTdGF0ZSA9IHRoaXMucHJvcHMudGhyZWFkLnN1YnNjcmlwdGlvblxuXG4gICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICBwYXRjaCh0aGlzLnByb3BzLnRocmVhZCwge1xuICAgICAgICBzdWJzY3JpcHRpb246IFNUQVRFX1VQREFURVNbbmV3U3RhdGVdXG4gICAgICB9KVxuICAgIClcblxuICAgIGFqYXhcbiAgICAgIC5wYXRjaCh0aGlzLnByb3BzLnRocmVhZC5hcGkuaW5kZXgsIFtcbiAgICAgICAgeyBvcDogXCJyZXBsYWNlXCIsIHBhdGg6IFwic3Vic2NyaXB0aW9uXCIsIHZhbHVlOiBuZXdTdGF0ZSB9XG4gICAgICBdKVxuICAgICAgLnRoZW4oXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGlzTG9hZGluZzogZmFsc2VcbiAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgaXNMb2FkaW5nOiBmYWxzZVxuICAgICAgICAgIH0pXG4gICAgICAgICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICAgICAgICBwYXRjaCh0aGlzLnByb3BzLnRocmVhZCwge1xuICAgICAgICAgICAgICBzdWJzY3JpcHRpb246IFNUQVRFX1VQREFURVNbb2xkU3RhdGVdXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIClcbiAgICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgICAgIH1cbiAgICAgIClcbiAgfVxuXG4gIHVuc3Vic2NyaWJlID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3Vic2NyaXB0aW9uKFwidW5zdWJzY3JpYmVcIilcbiAgfVxuXG4gIG5vdGlmeSA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN1YnNjcmlwdGlvbihcIm5vdGlmeVwiKVxuICB9XG5cbiAgZW1haWwgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdWJzY3JpcHRpb24oXCJlbWFpbFwiKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8dWwgY2xhc3NOYW1lPXt0aGlzLnByb3BzLmNsYXNzTmFtZX0+XG4gICAgICAgIDxsaT5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1saW5rXCIgb25DbGljaz17dGhpcy51bnN1YnNjcmliZX0+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+c3Rhcl9ib3JkZXI8L3NwYW4+XG4gICAgICAgICAgICB7XCLOkc+AzrXOs86zz4HOsc+Gzq4gzrHPgM+MIM61zrnOtM6/z4DOv865zq7Pg861zrnPglwifVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2xpPlxuICAgICAgICA8bGk+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMubm90aWZ5fT5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5zdGFyX2hhbGY8L3NwYW4+XG4gICAgICAgICAgICB7XCLOlc65zrTOv8+Azr/Ouc6uz4POtc65z4JcIn1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9saT5cbiAgICAgICAgPGxpPlxuICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLmVtYWlsfT5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5zdGFyPC9zcGFuPlxuICAgICAgICAgICAge1wizpXOuc60zr/PgM6/zrnOrs+DzrXOuc+CIM68zq3Pg8+JIGVtYWlsXCJ9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvbGk+XG4gICAgICA8L3VsPlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgY2hpbGRyZW4sIGNsYXNzTmFtZSwgdGl0bGUsIHVybCB9KSB7XG4gIGlmICh1cmwpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGEgY2xhc3NOYW1lPXtjbGFzc05hbWV9IGhyZWY9e3VybH0gdGl0bGU9e3RpdGxlfT5cbiAgICAgICAge2NoaWxkcmVufVxuICAgICAgPC9hPlxuICAgIClcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPHNwYW4gY2xhc3NOYW1lPXtjbGFzc05hbWV9IHRpdGxlPXt0aXRsZX0+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9zcGFuPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IExpbmsgfSBmcm9tIFwicmVhY3Qtcm91dGVyXCJcblxuZXhwb3J0IGNsYXNzIFN1YmNhdGVnb3J5IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0VXJsKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmxpc3RQYXRoKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5jYXRlZ29yeS51cmwuaW5kZXggKyB0aGlzLnByb3BzLmxpc3RQYXRoXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmNhdGVnb3J5LnVybC5pbmRleFxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8TGluayB0bz17dGhpcy5nZXRVcmwoKX0gY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCI+XG4gICAgICAgICAge3RoaXMucHJvcHMuY2F0ZWdvcnkubmFtZX1cbiAgICAgICAgPC9MaW5rPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZHJvcGRvd24gY2F0ZWdvcnktcGlja2VyXCI+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLW91dGxpbmUgZHJvcGRvd24tdG9nZ2xlIGJ0bi1ibG9ja1wiXG4gICAgICAgICAgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiXG4gICAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxuICAgICAgICAgIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiXG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+bGFiZWxfb3V0bGluZTwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJoaWRkZW4teHNcIj57XCLOms6xz4TOt86zzr/Pgc6vzrFcIn08L3NwYW4+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8dWwgY2xhc3NOYW1lPVwiZHJvcGRvd24tbWVudSBzdGljay10by1ib3R0b20gY2F0ZWdvcmllcy1tZW51XCI+XG4gICAgICAgICAge3RoaXMucHJvcHMuY2hvaWNlcy5tYXAoaWQgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuY2F0ZWdvcmllc1tpZF0pIHtcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8U3ViY2F0ZWdvcnlcbiAgICAgICAgICAgICAgICAgIGNhdGVnb3J5PXt0aGlzLnByb3BzLmNhdGVnb3JpZXNbaWRdfVxuICAgICAgICAgICAgICAgICAgbGlzdFBhdGg9e3RoaXMucHJvcHMubGlzdC5wYXRofVxuICAgICAgICAgICAgICAgICAga2V5PXtpZH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pfVxuICAgICAgICA8L3VsPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gY29tcGFyZUxhc3RQb3N0QWdlKGEsIGIpIHtcbiAgaWYgKGEubGFzdF9wb3N0ID4gYi5sYXN0X3Bvc3QpIHtcbiAgICByZXR1cm4gLTFcbiAgfSBlbHNlIGlmIChhLmxhc3RfcG9zdCA8IGIubGFzdF9wb3N0KSB7XG4gICAgcmV0dXJuIDFcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gMFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wYXJlR2xvYmFsV2VpZ2h0KGEsIGIpIHtcbiAgaWYgKGEud2VpZ2h0ID09PSAyICYmIGEud2VpZ2h0ID4gYi53ZWlnaHQpIHtcbiAgICByZXR1cm4gLTFcbiAgfSBlbHNlIGlmIChiLndlaWdodCA9PT0gMiAmJiBhLndlaWdodCA8IGIud2VpZ2h0KSB7XG4gICAgcmV0dXJuIDFcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gY29tcGFyZUxhc3RQb3N0QWdlKGEsIGIpXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXBhcmVXZWlnaHQoYSwgYikge1xuICBpZiAoYS53ZWlnaHQgPiBiLndlaWdodCkge1xuICAgIHJldHVybiAtMVxuICB9IGVsc2UgaWYgKGEud2VpZ2h0IDwgYi53ZWlnaHQpIHtcbiAgICByZXR1cm4gMVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBjb21wYXJlTGFzdFBvc3RBZ2UoYSwgYilcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgUGFnZUxlYWQgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3BhZ2UtbGVhZFwiXG5pbXBvcnQgVG9vbGJhciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy90b29sYmFyXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRDYXRlZ29yeURlc2NyaXB0aW9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnBhZ2VMZWFkKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhdGVnb3J5LWRlc2NyaXB0aW9uXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlLWxlYWRcIj5cbiAgICAgICAgICAgIDxwPnt0aGlzLnByb3BzLnBhZ2VMZWFkfTwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApXG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3J5LmRlc2NyaXB0aW9uKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhdGVnb3J5LWRlc2NyaXB0aW9uXCI+XG4gICAgICAgICAgPFBhZ2VMZWFkIGNvcHk9e3RoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkuZGVzY3JpcHRpb24uaHRtbH0gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG5cbiAgZ2V0RGlzYWJsZVRvb2xiYXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICF0aGlzLnByb3BzLmlzTG9hZGVkIHx8IHRoaXMucHJvcHMuaXNCdXN5IHx8IHRoaXMucHJvcHMuYnVzeVRocmVhZHMubGVuZ3RoXG4gICAgKVxuICB9XG5cbiAgZ2V0VG9vbGJhcigpIHtcbiAgICBjb25zdCBpc1Zpc2libGUgPSB0aGlzLnByb3BzLnN1YmNhdGVnb3JpZXMubGVuZ3RoIHx8IHRoaXMucHJvcHMudXNlci5pZFxuXG4gICAgaWYgKCFpc1Zpc2libGUpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPFRvb2xiYXJcbiAgICAgICAgc3ViY2F0ZWdvcmllcz17dGhpcy5wcm9wcy5zdWJjYXRlZ29yaWVzfVxuICAgICAgICBjYXRlZ29yaWVzPXt0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3JpZXN9XG4gICAgICAgIGNhdGVnb3JpZXNNYXA9e3RoaXMucHJvcHMucm91dGUuY2F0ZWdvcmllc01hcH1cbiAgICAgICAgbGlzdD17dGhpcy5wcm9wcy5yb3V0ZS5saXN0fVxuICAgICAgICB0aHJlYWRzPXt0aGlzLnByb3BzLnRocmVhZHN9XG4gICAgICAgIG1vZGVyYXRpb249e3RoaXMucHJvcHMubW9kZXJhdGlvbn1cbiAgICAgICAgc2VsZWN0aW9uPXt0aGlzLnByb3BzLnNlbGVjdGlvbn1cbiAgICAgICAgc2VsZWN0QWxsVGhyZWFkcz17dGhpcy5wcm9wcy5zZWxlY3RBbGxUaHJlYWRzfVxuICAgICAgICBzZWxlY3ROb25lVGhyZWFkcz17dGhpcy5wcm9wcy5zZWxlY3ROb25lVGhyZWFkc31cbiAgICAgICAgYWRkVGhyZWFkcz17dGhpcy5wcm9wcy5hZGRUaHJlYWRzfVxuICAgICAgICBmcmVlemVUaHJlYWQ9e3RoaXMucHJvcHMuZnJlZXplVGhyZWFkfVxuICAgICAgICBkZWxldGVUaHJlYWQ9e3RoaXMucHJvcHMuZGVsZXRlVGhyZWFkfVxuICAgICAgICB1cGRhdGVUaHJlYWQ9e3RoaXMucHJvcHMudXBkYXRlVGhyZWFkfVxuICAgICAgICBhcGk9e3RoaXMucHJvcHMuYXBpfVxuICAgICAgICByb3V0ZT17dGhpcy5wcm9wcy5yb3V0ZX1cbiAgICAgICAgZGlzYWJsZWQ9e3RoaXMuZ2V0RGlzYWJsZVRvb2xiYXIoKX1cbiAgICAgICAgdXNlcj17dGhpcy5wcm9wcy51c2VyfVxuICAgICAgLz5cbiAgICApXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgIHt0aGlzLmdldENhdGVnb3J5RGVzY3JpcHRpb24oKX1cbiAgICAgICAge3RoaXMuZ2V0VG9vbGJhcigpfVxuXG4gICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IExpbmsgfSBmcm9tIFwicmVhY3Qtcm91dGVyXCJcbmltcG9ydCBCdXR0b24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2J1dHRvblwiXG5pbXBvcnQgRHJvcGRvd25Ub2dnbGUgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Ryb3Bkb3duLXRvZ2dsZVwiXG5pbXBvcnQgTmF2IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzL25hdlwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHBvc3RpbmcgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wb3N0aW5nXCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnb1wiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0J1c3k6IGZhbHNlXG4gICAgfVxuICB9XG5cbiAgc3RhcnRUaHJlYWQgPSAoKSA9PiB7XG4gICAgcG9zdGluZy5vcGVuKFxuICAgICAgdGhpcy5wcm9wcy5zdGFydFRocmVhZCB8fCB7XG4gICAgICAgIG1vZGU6IFwiU1RBUlRcIixcblxuICAgICAgICBjb25maWc6IG1pc2Fnby5nZXQoXCJUSFJFQURfRURJVE9SX0FQSVwiKSxcbiAgICAgICAgc3VibWl0OiBtaXNhZ28uZ2V0KFwiVEhSRUFEU19BUElcIiksXG5cbiAgICAgICAgY2F0ZWdvcnk6IHRoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkuaWRcbiAgICAgIH1cbiAgICApXG4gIH1cblxuICBoYXNHb0JhY2tCdXR0b24oKSB7XG4gICAgcmV0dXJuICEhdGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yeS5wYXJlbnRcbiAgfVxuXG4gIGdldEdvQmFja0J1dHRvbigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkucGFyZW50KSByZXR1cm4gbnVsbFxuXG4gICAgY29uc3QgcGFyZW50ID0gdGhpcy5wcm9wcy5jYXRlZ29yaWVzW3RoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkucGFyZW50XVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGlkZGVuLXhzIGNvbC1zbS0yIGNvbC1sZy0xXCI+XG4gICAgICAgIDxMaW5rXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1pY29uIGJ0bi1hbGlnbmVkIGJ0bi1nby1iYWNrIGJ0bi1ibG9jayBidG4tb3V0bGluZVwiXG4gICAgICAgICAgdG89e3BhcmVudC51cmwuaW5kZXggKyB0aGlzLnByb3BzLnJvdXRlLmxpc3QucGF0aH1cbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5rZXlib2FyZF9hcnJvd19sZWZ0PC9zcGFuPlxuICAgICAgICA8L0xpbms+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cblxuICBnZXRTdGFydFRocmVhZEJ1dHRvbigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMudXNlci5pZCkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8QnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5IGJ0bi1ibG9jayBidG4tb3V0bGluZVwiXG4gICAgICAgIG9uQ2xpY2s9e3RoaXMuc3RhcnRUaHJlYWR9XG4gICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkfVxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2hhdDwvc3Bhbj5cbiAgICAgICAge1wizpTOt868zr/Pg86vzrXPhc+DzrUgzrHOs86zzrXOu86vzrFcIn1cbiAgICAgIDwvQnV0dG9uPlxuICAgIClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBsZXQgaGVhZGVyQ2xhc3NOYW1lID0gXCJjb2wteHMtMTJcIlxuICAgIGlmICh0aGlzLmhhc0dvQmFja0J1dHRvbigpKSB7XG4gICAgICBoZWFkZXJDbGFzc05hbWUgKz0gXCIgY29sLXNtLTEwIGNvbC1sZy0xMSBzbS1hbGlnbi1yb3ctYnV0dG9uc1wiXG4gICAgfVxuXG4gICAgY29uc3QgaXNBdXRoZW50aWNhdGVkID0gISF0aGlzLnByb3BzLnVzZXIuaWRcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UtaGVhZGVyLWJnXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS1oZWFkZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17aXNBdXRoZW50aWNhdGVkID8gXCJjb2wtc20tOSBjb2wtbWQtMTBcIiA6IFwiY29sLXhzLTEyXCJ9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAge3RoaXMuZ2V0R29CYWNrQnV0dG9uKCl9XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17aGVhZGVyQ2xhc3NOYW1lfT5cbiAgICAgICAgICAgICAgICAgICAgPFBhcmVudENhdGVnb3J5XG4gICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcmllcz17dGhpcy5wcm9wcy5jYXRlZ29yaWVzfVxuICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5PXt0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3J5LnBhcmVudH1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPGgxPnt0aGlzLnByb3BzLnRpdGxlfTwvaDE+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIHtpc0F1dGhlbnRpY2F0ZWQgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTMgY29sLW1kLTIgeHMtbWFyZ2luLXRvcFwiPlxuICAgICAgICAgICAgICAgICAge3RoaXMuZ2V0U3RhcnRUaHJlYWRCdXR0b24oKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPE5hdlxuICAgICAgICAgICAgYmFzZVVybD17dGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yeS51cmwuaW5kZXh9XG4gICAgICAgICAgICBsaXN0PXt0aGlzLnByb3BzLnJvdXRlLmxpc3R9XG4gICAgICAgICAgICBsaXN0cz17dGhpcy5wcm9wcy5yb3V0ZS5saXN0c31cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUGFyZW50Q2F0ZWdvcnkoeyBjYXRlZ29yaWVzLCBjYXRlZ29yeSB9KSB7XG4gIGlmICghY2F0ZWdvcnkpIHJldHVybiBudWxsXG5cbiAgY29uc3QgcGFyZW50ID0gY2F0ZWdvcmllc1tjYXRlZ29yeV1cblxuICByZXR1cm4gKFxuICAgIDxMaW5rIGNsYXNzTmFtZT1cImdvLWJhY2stc20gdmlzaWJsZS14cy1ibG9ja1wiIHRvPXtwYXJlbnQudXJsLmluZGV4fT5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jaGV2cm9uX2xlZnQ8L3NwYW4+XG4gICAgICB7cGFyZW50LnBhcmVudCA/IHBhcmVudC5uYW1lIDogXCLOkc6zzrPOtc67zq/Otc+CXCJ9XG4gICAgPC9MaW5rPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMubGlzdC50eXBlID09PSBcImFsbFwiKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5lbXB0eU1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8bGkgY2xhc3NOYW1lPVwibGlzdC1ncm91cC1pdGVtIGVtcHR5LW1lc3NhZ2VcIj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj57dGhpcy5wcm9wcy5lbXB0eU1lc3NhZ2V9PC9wPlxuICAgICAgICAgICAgPHA+e1wizqDPjM+Dz4TOsc+BzrUgzrzOuc6xIM6xzrPOs861zrvOr86xIM6uIM66zqzOvc61IM+Az4HOv8+Dz4bOv8+BzqwhXCJ9PC9wPlxuICAgICAgICAgIDwvbGk+XG4gICAgICAgIClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPGxpIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXAtaXRlbSBlbXB0eS1tZXNzYWdlXCI+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAgICAgIHt0aGlzLnByb3BzLmNhdGVnb3J5LnNwZWNpYWxfcm9sZVxuICAgICAgICAgICAgICAgID8gXCLOlM61zr0gz4XPgM6sz4HPh86/z4XOvSDOsc6zzrPOtc67zq/Otc+CIM+DzrUgzrHPhc+Ez4wgz4TOvyDPhs+Mz4HOv8+FzrwgzrHOus+MzrzOsSFcIlxuICAgICAgICAgICAgICAgIDogXCLOlM61zr0gz4XPgM6sz4HPh86/z4XOvSDOsc6zzrPOtc67zq/Otc+CIM+DzrUgzrHPhc+Ezq4gz4TOt869IM66zrHPhM63zrPOv8+Bzq/OsVwifVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPHA+e1wizpzPgM6/z4HOtc6vz4Igzr3OsSDOtM63zrzOv8+DzrnOtc+Nz4POtc65z4IgzrzOr86xIM61z43Ous6/zrvOsSDOus6xzrkgzrPPgc6uzrPOv8+BzrEhXCJ9PC9wPlxuICAgICAgICAgIDwvbGk+XG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGxpIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXAtaXRlbSBlbXB0eS1tZXNzYWdlXCI+XG4gICAgICAgICAge1wizpTOtc69IM+Fz4DOrM+Bz4fOv8+Fzr0gzrHOs86zzrXOu86vzrXPgiDOs865zrEgz4TOtyDPg8+FzrPOus61zrrPgc65zrzOrc69zrcgzrXPgM65zrvOv86zzq5cIn1cbiAgICAgICAgPC9saT5cbiAgICAgIClcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEVycm9yc01vZGFsIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzL21vZGVyYXRpb24vZXJyb3JzLWxpc3RcIlxuaW1wb3J0IE1lcmdlVGhyZWFkcyBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy9tb2RlcmF0aW9uL21lcmdlXCJcbmltcG9ydCBNb3ZlVGhyZWFkcyBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy9tb2RlcmF0aW9uL21vdmVcIlxuaW1wb3J0ICogYXMgc2VsZWN0IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvc2VsZWN0aW9uXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgbW9kYWwgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9tb2RhbFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5pbXBvcnQgQ291bnRkb3duIGZyb20gXCJtaXNhZ28vdXRpbHMvY291bnRkb3duXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjYWxsQXBpID0gKG9wcywgc3VjY2Vzc01lc3NhZ2UsIG9uU3VjY2VzcyA9IG51bGwpID0+IHtcbiAgICAvLyBmcmVlemUgdGhyZWFkc1xuICAgIHRoaXMucHJvcHMudGhyZWFkcy5mb3JFYWNoKHRocmVhZCA9PiB7XG4gICAgICB0aGlzLnByb3BzLmZyZWV6ZVRocmVhZCh0aHJlYWQuaWQpXG4gICAgfSlcblxuICAgIC8vIGxpc3QgaWRzXG4gICAgY29uc3QgaWRzID0gdGhpcy5wcm9wcy50aHJlYWRzLm1hcCh0aHJlYWQgPT4ge1xuICAgICAgcmV0dXJuIHRocmVhZC5pZFxuICAgIH0pXG5cbiAgICAvLyBhbHdheXMgcmV0dXJuIGN1cnJlbnQgYWNsXG4gICAgb3BzLnB1c2goeyBvcDogXCJhZGRcIiwgcGF0aDogXCJhY2xcIiwgdmFsdWU6IHRydWUgfSlcblxuICAgIGFqYXgucGF0Y2godGhpcy5wcm9wcy5hcGksIHsgaWRzLCBvcHMgfSkudGhlbihcbiAgICAgIGRhdGEgPT4ge1xuICAgICAgICAvLyB1bmZyZWV6ZVxuICAgICAgICB0aGlzLnByb3BzLnRocmVhZHMuZm9yRWFjaCh0aHJlYWQgPT4ge1xuICAgICAgICAgIHRoaXMucHJvcHMuZnJlZXplVGhyZWFkKHRocmVhZC5pZClcbiAgICAgICAgfSlcblxuICAgICAgICAvLyB1cGRhdGUgdGhyZWFkc1xuICAgICAgICBkYXRhLmZvckVhY2godGhyZWFkID0+IHtcbiAgICAgICAgICB0aGlzLnByb3BzLnVwZGF0ZVRocmVhZCh0aHJlYWQpXG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8gc2hvdyBzdWNjZXNzIG1lc3NhZ2UgYW5kIGNhbGwgY2FsbGJhY2tcbiAgICAgICAgc25hY2tiYXIuc3VjY2VzcyhzdWNjZXNzTWVzc2FnZSlcbiAgICAgICAgaWYgKG9uU3VjY2Vzcykge1xuICAgICAgICAgIG9uU3VjY2VzcygpXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICAvLyB1bmZyZWV6ZVxuICAgICAgICB0aGlzLnByb3BzLnRocmVhZHMuZm9yRWFjaCh0aHJlYWQgPT4ge1xuICAgICAgICAgIHRoaXMucHJvcHMuZnJlZXplVGhyZWFkKHRocmVhZC5pZClcbiAgICAgICAgfSlcblxuICAgICAgICAvLyBlc2NhcGUgb24gbm9uLTQwMCBlcnJvclxuICAgICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyAhPT0gNDAwKSB7XG4gICAgICAgICAgcmV0dXJuIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGJ1aWxkIGVycm9ycyBsaXN0XG4gICAgICAgIGxldCBlcnJvcnMgPSBbXVxuICAgICAgICBsZXQgdGhyZWFkc01hcCA9IHt9XG5cbiAgICAgICAgdGhpcy5wcm9wcy50aHJlYWRzLmZvckVhY2godGhyZWFkID0+IHtcbiAgICAgICAgICB0aHJlYWRzTWFwW3RocmVhZC5pZF0gPSB0aHJlYWRcbiAgICAgICAgfSlcblxuICAgICAgICByZWplY3Rpb24uZm9yRWFjaCgoeyBpZCwgZGV0YWlsIH0pID0+IHtcbiAgICAgICAgICBpZiAodHlwZW9mIHRocmVhZHNNYXBbaWRdICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICBlcnJvcnMucHVzaCh7XG4gICAgICAgICAgICAgIGVycm9yczogZGV0YWlsLFxuICAgICAgICAgICAgICB0aHJlYWQ6IHRocmVhZHNNYXBbaWRdXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgICAgICBtb2RhbC5zaG93KDxFcnJvcnNNb2RhbCBlcnJvcnM9e2Vycm9yc30gLz4pXG4gICAgICB9XG4gICAgKVxuICB9XG5cbiAgcGluR2xvYmFsbHkgPSAoKSA9PiB7XG4gICAgdGhpcy5jYWxsQXBpKFxuICAgICAgW1xuICAgICAgICB7XG4gICAgICAgICAgb3A6IFwicmVwbGFjZVwiLFxuICAgICAgICAgIHBhdGg6IFwid2VpZ2h0XCIsXG4gICAgICAgICAgdmFsdWU6IDJcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIFwizp/OuSDOtc+AzrnOu861zrPOvM6tzr3Otc+CIM6xzrPOs861zrvOr861z4Igz4DPgc6/z4nOuM6/z43Ovc+EzrHOuSDPg861IM+MzrvOtyDPhM63IM+DzrXOu86vzrTOsS5cIlxuICAgIClcbiAgfVxuXG4gIHBpbkxvY2FsbHkgPSAoKSA9PiB7XG4gICAgdGhpcy5jYWxsQXBpKFxuICAgICAgW1xuICAgICAgICB7XG4gICAgICAgICAgb3A6IFwicmVwbGFjZVwiLFxuICAgICAgICAgIHBhdGg6IFwid2VpZ2h0XCIsXG4gICAgICAgICAgdmFsdWU6IDFcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIFwizp/OuSDOtc+AzrnOu861zrPOvM6tzr3Otc+CIM6xzrPOs861zrvOr861z4Igz4DPgc6/z4nOuM6/z43Ovc+EzrHOuSDPg861IM6xz4XPhM6uIM+Ezrcgz4PPhc6zzrrOtc66z4HOuc68zq3Ovc63IM66zrHPhM63zrPOv8+Bzq/OsS5cIlxuICAgIClcbiAgfVxuXG4gIHVucGluID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaShcbiAgICAgIFtcbiAgICAgICAge1xuICAgICAgICAgIG9wOiBcInJlcGxhY2VcIixcbiAgICAgICAgICBwYXRoOiBcIndlaWdodFwiLFxuICAgICAgICAgIHZhbHVlOiAwXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBcIs6fzrkgzrXPgM65zrvOtc6zzrzOrc69zrXPgiDOsc6zzrPOtc67zq/Otc+CIM60zrXOvSDPgM+Bzr/Pic64zr/Pjc69z4TOsc65IM+AzrvOrc6/zr0uXCJcbiAgICApXG4gIH1cblxuICBhcHByb3ZlID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaShcbiAgICAgIFtcbiAgICAgICAge1xuICAgICAgICAgIG9wOiBcInJlcGxhY2VcIixcbiAgICAgICAgICBwYXRoOiBcImlzLXVuYXBwcm92ZWRcIixcbiAgICAgICAgICB2YWx1ZTogZmFsc2VcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIFwizp/OuSDOtc+AzrnOu861zrPOvM6tzr3Otc+CIM6xzrPOs861zrvOr861z4IgzrXOs866z4HOr864zrfOus6xzr0uXCJcbiAgICApXG4gIH1cblxuICBvcGVuID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaShcbiAgICAgIFtcbiAgICAgICAge1xuICAgICAgICAgIG9wOiBcInJlcGxhY2VcIixcbiAgICAgICAgICBwYXRoOiBcImlzLWNsb3NlZFwiLFxuICAgICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgXCLOn865IM61z4DOuc67zrXOs868zq3Ovc61z4IgzrHOs86zzrXOu86vzrXPgiDOrM69zr/Ouc6+zrHOvSDOs865zrEgz4DPgc6/z4PPhs6/z4HOrc+CLlwiXG4gICAgKVxuICB9XG5cbiAgY2xvc2UgPSAoKSA9PiB7XG4gICAgdGhpcy5jYWxsQXBpKFxuICAgICAgW1xuICAgICAgICB7XG4gICAgICAgICAgb3A6IFwicmVwbGFjZVwiLFxuICAgICAgICAgIHBhdGg6IFwiaXMtY2xvc2VkXCIsXG4gICAgICAgICAgdmFsdWU6IHRydWVcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIFwizp/OuSDOtc+AzrnOu861zrPOvM6tzr3Otc+CIM6xzrPOs861zrvOr861z4Igzq3Ous67zrXOuc+DzrHOvSDOs865zrEgz4DPgc6/z4PPhs6/z4HOrc+CLlwiXG4gICAgKVxuICB9XG5cbiAgdW5oaWRlID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaShcbiAgICAgIFtcbiAgICAgICAge1xuICAgICAgICAgIG9wOiBcInJlcGxhY2VcIixcbiAgICAgICAgICBwYXRoOiBcImlzLWhpZGRlblwiLFxuICAgICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgXCLOn865IM61z4DOuc67zrXOs868zq3Ovc61z4IgzrHOs86zzrXOu86vzrXPgiDOuM6xIM61zrzPhs6xzr3Or862zr/Ovc+EzrHOuSDPhM+Oz4HOsS5cIlxuICAgIClcbiAgfVxuXG4gIGhpZGUgPSAoKSA9PiB7XG4gICAgdGhpcy5jYWxsQXBpKFxuICAgICAgW1xuICAgICAgICB7XG4gICAgICAgICAgb3A6IFwicmVwbGFjZVwiLFxuICAgICAgICAgIHBhdGg6IFwiaXMtaGlkZGVuXCIsXG4gICAgICAgICAgdmFsdWU6IHRydWVcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIFwizp/OuSDOtc+AzrnOu861zrPOvM6tzr3Otc+CIM6xzrPOs861zrvOr861z4IgzrjOsSDOtc6vzr3Osc65IM66z4HPhc68zrzOrc69zrXPgiDPhM+Oz4HOsS5cIlxuICAgIClcbiAgfVxuXG4gIG1vdmUgPSAoKSA9PiB7XG4gICAgbW9kYWwuc2hvdyhcbiAgICAgIDxNb3ZlVGhyZWFkc1xuICAgICAgICBjYWxsQXBpPXt0aGlzLmNhbGxBcGl9XG4gICAgICAgIGNhdGVnb3JpZXM9e3RoaXMucHJvcHMuY2F0ZWdvcmllc31cbiAgICAgICAgY2F0ZWdvcmllc01hcD17dGhpcy5wcm9wcy5jYXRlZ29yaWVzTWFwfVxuICAgICAgICByb3V0ZT17dGhpcy5wcm9wcy5yb3V0ZX1cbiAgICAgICAgdXNlcj17dGhpcy5wcm9wcy51c2VyfVxuICAgICAgLz5cbiAgICApXG4gIH1cblxuICBtZXJnZSA9ICgpID0+IHtcbiAgICBjb25zdCBlcnJvcnMgPSBbXVxuICAgIHRoaXMucHJvcHMudGhyZWFkcy5mb3JFYWNoKHRocmVhZCA9PiB7XG4gICAgICBpZiAoIXRocmVhZC5hY2wuY2FuX21lcmdlKSB7XG4gICAgICAgIGVycm9ycy5hcHBlbmQoe1xuICAgICAgICAgIGlkOiB0aHJlYWQuaWQsXG4gICAgICAgICAgdGl0bGU6IHRocmVhZC50aXRsZSxcbiAgICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICAgICAgXCLOlM61zr0gzq3Ph861zrnPgiDOrM60zrXOuc6xIM69zrEgz4PPhc6zz4fPic69zrXPjc+DzrXOuc+CIM6xz4XPhM6uIM+EzrfOvSDOsc6zzrPOtc67zq/OsSDOvM61IM6szrvOu861z4IhXCJcbiAgICAgICAgICBdXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSlcblxuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZHMubGVuZ3RoIDwgMikge1xuICAgICAgc25hY2tiYXIuaW5mbyhcIs6gz4HOrc+AzrXOuSDOvc6xIM61z4DOuc67zq3Ovs61zrnPgiDPhM6/z4XOu86sz4fOuc+Dz4TOv869IM60z43OvyDOsc6zzrPOtc67zq/Otc+CIM6zzrnOsSDOvc6xIM+EzrnPgiDPg8+FzrPPh8+Jzr3Otc+Nz4POtc65z4IuXCIpXG4gICAgfSBlbHNlIGlmIChlcnJvcnMubGVuZ3RoKSB7XG4gICAgICBtb2RhbC5zaG93KDxFcnJvcnNNb2RhbCBlcnJvcnM9e2Vycm9yc30gLz4pXG4gICAgICByZXR1cm5cbiAgICB9IGVsc2Uge1xuICAgICAgbW9kYWwuc2hvdyg8TWVyZ2VUaHJlYWRzIHsuLi50aGlzLnByb3BzfSAvPilcbiAgICB9XG4gIH1cblxuICBkZWxldGUgPSAoKSA9PiB7XG4gICAgaWYgKFxuICAgICAgIWNvbmZpcm0oXCLOlc6vz4POsc65IM+Dzq/Os86/z4XPgc6/z4Igz4zPhM65IM64zq3Ou861zrnPgiDOvc6xIM60zrnOsc6zz4HOrM+IzrXOuc+CIM+EzrnPgiDOtc+AzrnOu861zrPOvM6tzr3Otc+CIM6xzrPOs861zrvOr861z4I7XCIpXG4gICAgKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICB0aGlzLnByb3BzLnRocmVhZHMubWFwKHRocmVhZCA9PiB7XG4gICAgICB0aGlzLnByb3BzLmZyZWV6ZVRocmVhZCh0aHJlYWQuaWQpXG4gICAgfSlcblxuICAgIGNvbnN0IGlkcyA9IHRoaXMucHJvcHMudGhyZWFkcy5tYXAodGhyZWFkID0+IHtcbiAgICAgIHJldHVybiB0aHJlYWQuaWRcbiAgICB9KVxuXG4gICAgYWpheC5kZWxldGUodGhpcy5wcm9wcy5hcGksIGlkcykudGhlbihcbiAgICAgICgpID0+IHtcbiAgICAgICAgdGhpcy5wcm9wcy50aHJlYWRzLm1hcCh0aHJlYWQgPT4ge1xuICAgICAgICAgIHRoaXMucHJvcHMuZnJlZXplVGhyZWFkKHRocmVhZC5pZClcbiAgICAgICAgICB0aGlzLnByb3BzLmRlbGV0ZVRocmVhZCh0aHJlYWQpXG4gICAgICAgIH0pXG5cbiAgICAgICAgc25hY2tiYXIuc3VjY2VzcyhcIs6fzrkgzrXPgM65zrvOtc6zzrzOrc69zrXPgiDOsc6zzrPOtc67zq/Otc+CIM60zrnOsc6zz4HOrM+GzrfOus6xzr0uXCIpXG4gICAgICB9LFxuICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgICAgIGNvbnN0IGZhaWxlZFRocmVhZHMgPSByZWplY3Rpb24ubWFwKHRocmVhZCA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhyZWFkLmlkXG4gICAgICAgICAgfSlcblxuICAgICAgICAgIHRoaXMucHJvcHMudGhyZWFkcy5tYXAodGhyZWFkID0+IHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMuZnJlZXplVGhyZWFkKHRocmVhZC5pZClcbiAgICAgICAgICAgIGlmIChmYWlsZWRUaHJlYWRzLmluZGV4T2YodGhyZWFkLmlkKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgdGhpcy5wcm9wcy5kZWxldGVUaHJlYWQodGhyZWFkKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG5cbiAgICAgICAgICBtb2RhbC5zaG93KDxFcnJvcnNNb2RhbCBlcnJvcnM9e3JlamVjdGlvbn0gLz4pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgKVxuICB9XG5cbiAgZ2V0UGluR2xvYmFsbHlCdXR0b24oKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLm1vZGVyYXRpb24uY2FuX3Bpbl9nbG9iYWxseSkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucGluR2xvYmFsbHl9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Ym9va21hcms8L3NwYW4+XG4gICAgICAgICAge1wizqDPgc6/z47OuM63z4POtSDOsc6zzrPOtc67zq/Otc+CIM+DzrUgz4zOu863IM+Ezrcgz4POtc67zq/OtM6xXCJ9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cblxuICBnZXRQaW5Mb2NhbGx5QnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5tb2RlcmF0aW9uLmNhbl9waW4pIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLnBpbkxvY2FsbHl9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Ym9va21hcmtfYm9yZGVyPC9zcGFuPlxuICAgICAgICAgIHtcIs6gz4HOv8+OzrjOt8+DzrUgzrHOs86zzrXOu86vzrXPgiDPg8+EzrfOvSDOus6xz4TOt86zzr/Pgc6vzrEgz4TOv8+Fz4JcIn1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxuXG4gIGdldFVucGluQnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5tb2RlcmF0aW9uLmNhbl9waW4pIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMudW5waW59IHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+cGFub3JhbWFfZmlzaF9leWU8L3NwYW4+XG4gICAgICAgICAge1wizqPPhM6xzrzOrM+EzrfPg861IM+EzrfOvSDPgM+Bzr/Pjs64zrfPg863IM6xzrPOs861zrvOuc+Ozr1cIn1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxuXG4gIGdldE1vdmVCdXR0b24oKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLm1vZGVyYXRpb24uY2FuX21vdmUpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMubW92ZX0gdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5hcnJvd19mb3J3YXJkPC9zcGFuPlxuICAgICAgICAgIHtcIs6czrXPhM6xzrrOr869zrfPg861IM6xzrPOs861zrvOr861z4JcIn1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxuXG4gIGdldE1lcmdlQnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5tb2RlcmF0aW9uLmNhbl9tZXJnZSkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5tZXJnZX0gdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jYWxsX21lcmdlPC9zcGFuPlxuICAgICAgICAgIHtcIs6jz4XOs8+Hz47Ovc61z4XPg861IM6xzrPOs861zrvOr861z4JcIn1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxuXG4gIGdldEFwcHJvdmVCdXR0b24oKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLm1vZGVyYXRpb24uY2FuX2FwcHJvdmUpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMuYXBwcm92ZX0gdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5kb25lPC9zcGFuPlxuICAgICAgICAgIHtcIs6Vzr3Orc66z4HOuc69zrUgzrHOs86zzrXOu86vzrXPglwifVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG5cbiAgZ2V0T3BlbkJ1dHRvbigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMubW9kZXJhdGlvbi5jYW5fY2xvc2UpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub3Blbn0gdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5sb2NrX29wZW48L3NwYW4+XG4gICAgICAgICAge1wizpHOvc6/zrnOvs61IM6xzrPOs861zrvOr861z4JcIn1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxuXG4gIGdldENsb3NlQnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5tb2RlcmF0aW9uLmNhbl9jbG9zZSkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5jbG9zZX0gdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5sb2NrX291dGxpbmU8L3NwYW4+XG4gICAgICAgICAge1wizprOu861zq/Pg861IM6xzrPOs861zrvOr861z4JcIn1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxuXG4gIGdldFVuaGlkZUJ1dHRvbigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMubW9kZXJhdGlvbi5jYW5fdW5oaWRlKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLnVuaGlkZX0gdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj52aXNpYmlsaXR5PC9zcGFuPlxuICAgICAgICAgIHtcIs6VzrzPhs6szr3Ouc+DzrUgzrHOs86zzrXOu86vzrXPglwifVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG5cbiAgZ2V0SGlkZUJ1dHRvbigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMubW9kZXJhdGlvbi5jYW5faGlkZSkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gb25DbGljaz17dGhpcy5oaWRlfSB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnZpc2liaWxpdHlfb2ZmPC9zcGFuPlxuICAgICAgICAgIHtcIs6az4HPjc+IzrUgzrHOs86zzrXOu86vzrXPglwifVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG5cbiAgZ2V0RGVsZXRlQnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5tb2RlcmF0aW9uLmNhbl9kZWxldGUpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMuZGVsZXRlfSB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNsZWFyPC9zcGFuPlxuICAgICAgICAgIHtcIs6UzrnOrc6zz4HOsc+IzrUgzrHOs86zzrXOu86vzrXPglwifVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8dWwgY2xhc3NOYW1lPXt0aGlzLnByb3BzLmNsYXNzTmFtZX0+XG4gICAgICAgIHt0aGlzLmdldFBpbkdsb2JhbGx5QnV0dG9uKCl9XG4gICAgICAgIHt0aGlzLmdldFBpbkxvY2FsbHlCdXR0b24oKX1cbiAgICAgICAge3RoaXMuZ2V0VW5waW5CdXR0b24oKX1cbiAgICAgICAge3RoaXMuZ2V0TW92ZUJ1dHRvbigpfVxuICAgICAgICB7dGhpcy5nZXRNZXJnZUJ1dHRvbigpfVxuICAgICAgICB7dGhpcy5nZXRBcHByb3ZlQnV0dG9uKCl9XG4gICAgICAgIHt0aGlzLmdldE9wZW5CdXR0b24oKX1cbiAgICAgICAge3RoaXMuZ2V0Q2xvc2VCdXR0b24oKX1cbiAgICAgICAge3RoaXMuZ2V0VW5oaWRlQnV0dG9uKCl9XG4gICAgICAgIHt0aGlzLmdldEhpZGVCdXR0b24oKX1cbiAgICAgICAge3RoaXMuZ2V0RGVsZXRlQnV0dG9uKCl9XG4gICAgICA8L3VsPlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZ1wiIHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtcIs6azrvOtc6vz4POuc68zr9cIn1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2xvc2VcIlxuICAgICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57XCLOlM65zrHPh861zq/Pgc65z4POtyDOsc6zzrPOtc67zrnPjs69XCJ9PC9oND5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAgICAgICAge1wizpzOr86xIM6uIM+AzrXPgc65z4PPg8+Mz4TOtc+BzrXPgiDOsc6zzrPOtc67zq/Otc+CIM60zrXOvSDOrs+EzrHOvSDOtM+Fzr3Osc+Ez4zOvSDOvc6xIM60zrnOsc6zz4HOsc+Gzr/Pjc69OlwifVxuICAgICAgICAgICAgPC9wPlxuXG4gICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC11bnN0eWxlZCBsaXN0LWVycm9yZWQtaXRlbXNcIj5cbiAgICAgICAgICAgICAge3RoaXMucHJvcHMuZXJyb3JzLm1hcChpdGVtID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgPFRocmVhZEVycm9yc1xuICAgICAgICAgICAgICAgICAgICBlcnJvcnM9e2l0ZW0uZXJyb3JzfVxuICAgICAgICAgICAgICAgICAgICBrZXk9e2l0ZW0udGhyZWFkLmlkfVxuICAgICAgICAgICAgICAgICAgICB0aHJlYWQ9e2l0ZW0udGhyZWFkfVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFRocmVhZEVycm9ycyh7IGVycm9ycywgdGhyZWFkIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8bGk+XG4gICAgICA8aDU+e3RocmVhZC50aXRsZX08L2g1PlxuICAgICAge2Vycm9ycy5tYXAoKG1lc3NhZ2UsIGkpID0+IHtcbiAgICAgICAgcmV0dXJuIDxwPnttZXNzYWdlfTwvcD5cbiAgICAgIH0pfVxuICAgIDwvbGk+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uXCJcbmltcG9ydCBGb3JtIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtXCJcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXBcIlxuaW1wb3J0IENhdGVnb3J5U2VsZWN0IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9jYXRlZ29yeS1zZWxlY3RcIlxuaW1wb3J0IFNlbGVjdCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvc2VsZWN0XCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgeyBmaWx0ZXJUaHJlYWRzIH0gZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy90aHJlYWRzXCJcbmltcG9ydCAqIGFzIHNlbGVjdCBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3NlbGVjdGlvblwiXG5pbXBvcnQgRXJyb3JzTW9kYWwgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3RocmVhZHMvbW9kZXJhdGlvbi9lcnJvcnMtbGlzdFwiXG5pbXBvcnQgTWVyZ2VDb25mbGljdCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvbWVyZ2UtY29uZmxpY3RcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBtb2RhbCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL21vZGFsXCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcbmltcG9ydCAqIGFzIHZhbGlkYXRvcnMgZnJvbSBcIm1pc2Fnby91dGlscy92YWxpZGF0b3JzXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuXG4gICAgICB0aXRsZTogXCJcIixcbiAgICAgIGNhdGVnb3J5OiBudWxsLFxuICAgICAgd2VpZ2h0OiAwLFxuICAgICAgaXNfaGlkZGVuOiAwLFxuICAgICAgaXNfY2xvc2VkOiBmYWxzZSxcblxuICAgICAgdmFsaWRhdG9yczoge1xuICAgICAgICB0aXRsZTogW3ZhbGlkYXRvcnMucmVxdWlyZWQoKV1cbiAgICAgIH0sXG5cbiAgICAgIGVycm9yczoge31cbiAgICB9XG5cbiAgICB0aGlzLmFjbCA9IHt9XG4gICAgZm9yIChjb25zdCBpIGluIHByb3BzLnVzZXIuYWNsLmNhdGVnb3JpZXMpIHtcbiAgICAgIGlmICghcHJvcHMudXNlci5hY2wuY2F0ZWdvcmllcy5oYXNPd25Qcm9wZXJ0eShpKSkge1xuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICBjb25zdCBhY2wgPSBwcm9wcy51c2VyLmFjbC5jYXRlZ29yaWVzW2ldXG4gICAgICB0aGlzLmFjbFthY2wuaWRdID0gYWNsXG4gICAgfVxuXG4gICAgdGhpcy5jYXRlZ29yeUNob2ljZXMgPSBbXVxuICAgIHByb3BzLmNhdGVnb3JpZXMuZm9yRWFjaChjYXRlZ29yeSA9PiB7XG4gICAgICBpZiAoY2F0ZWdvcnkubGV2ZWwgPiAwKSB7XG4gICAgICAgIGNvbnN0IGFjbCA9IHRoaXMuYWNsW2NhdGVnb3J5LmlkXVxuICAgICAgICBjb25zdCBkaXNhYmxlZCA9XG4gICAgICAgICAgIWFjbC5jYW5fc3RhcnRfdGhyZWFkcyB8fFxuICAgICAgICAgIChjYXRlZ29yeS5pc19jbG9zZWQgJiYgIWFjbC5jYW5fY2xvc2VfdGhyZWFkcylcblxuICAgICAgICB0aGlzLmNhdGVnb3J5Q2hvaWNlcy5wdXNoKHtcbiAgICAgICAgICB2YWx1ZTogY2F0ZWdvcnkuaWQsXG4gICAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgICAgICAgIGxldmVsOiBjYXRlZ29yeS5sZXZlbCAtIDEsXG4gICAgICAgICAgbGFiZWw6IGNhdGVnb3J5Lm5hbWVcbiAgICAgICAgfSlcblxuICAgICAgICBpZiAoIWRpc2FibGVkICYmICF0aGlzLnN0YXRlLmNhdGVnb3J5KSB7XG4gICAgICAgICAgdGhpcy5zdGF0ZS5jYXRlZ29yeSA9IGNhdGVnb3J5LmlkXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuXG4gICAgdGhpcy5pc0hpZGRlbkNob2ljZXMgPSBbXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiAwLFxuICAgICAgICBpY29uOiBcInZpc2liaWxpdHlcIixcbiAgICAgICAgbGFiZWw6IFwizozPh865XCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiAxLFxuICAgICAgICBpY29uOiBcInZpc2liaWxpdHlfb2ZmXCIsXG4gICAgICAgIGxhYmVsOiBcIs6dzrHOuVwiXG4gICAgICB9XG4gICAgXVxuXG4gICAgdGhpcy5pc0Nsb3NlZENob2ljZXMgPSBbXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgICAgaWNvbjogXCJsb2NrX291dGxpbmVcIixcbiAgICAgICAgbGFiZWw6IFwizozPh865XCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICBpY29uOiBcImxvY2tcIixcbiAgICAgICAgbGFiZWw6IFwizp3Osc65XCJcbiAgICAgIH1cbiAgICBdXG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBpZiAodGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKFwizpcgz4bPjM+BzrzOsSDPgM61z4HOuc6tz4fOtc65IM67zqzOuM63IVwiKVxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGVycm9yczogdGhpcy52YWxpZGF0ZSgpXG4gICAgICB9KVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wb3N0KG1pc2Fnby5nZXQoXCJNRVJHRV9USFJFQURTX0FQSVwiKSwgdGhpcy5nZXRGb3JtZGF0YSgpKVxuICB9XG5cbiAgZ2V0Rm9ybWRhdGEgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRocmVhZHM6IHRoaXMucHJvcHMudGhyZWFkcy5tYXAodGhyZWFkID0+IHRocmVhZC5pZCksXG4gICAgICB0aXRsZTogdGhpcy5zdGF0ZS50aXRsZSxcbiAgICAgIGNhdGVnb3J5OiB0aGlzLnN0YXRlLmNhdGVnb3J5LFxuICAgICAgd2VpZ2h0OiB0aGlzLnN0YXRlLndlaWdodCxcbiAgICAgIGlzX2hpZGRlbjogdGhpcy5zdGF0ZS5pc19oaWRkZW4sXG4gICAgICBpc19jbG9zZWQ6IHRoaXMuc3RhdGUuaXNfY2xvc2VkXG4gICAgfVxuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyA9IGFwaVJlc3BvbnNlID0+IHtcbiAgICAvLyB1bmZyZWV6ZSBhbmQgcmVtb3ZlIG1lcmdlZCB0aHJlYWRzXG4gICAgdGhpcy5wcm9wcy50aHJlYWRzLmZvckVhY2godGhyZWFkID0+IHtcbiAgICAgIHRoaXMucHJvcHMuZnJlZXplVGhyZWFkKHRocmVhZC5pZClcbiAgICAgIHRoaXMucHJvcHMuZGVsZXRlVGhyZWFkKHRocmVhZClcbiAgICB9KVxuXG4gICAgLy8gZGVzZWxlY3QgYWxsIHRocmVhZHNcbiAgICBzdG9yZS5kaXNwYXRjaChzZWxlY3Qubm9uZSgpKVxuXG4gICAgLy8gYXBwZW5kIG1lcmdlZCB0aHJlYWQsIGZpbHRlciB0aHJlYWRzXG4gICAgdGhpcy5wcm9wcy5hZGRUaHJlYWRzKFthcGlSZXNwb25zZV0pXG4gICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICBmaWx0ZXJUaHJlYWRzKHRoaXMucHJvcHMucm91dGUuY2F0ZWdvcnksIHRoaXMucHJvcHMuY2F0ZWdvcmllc01hcClcbiAgICApXG5cbiAgICAvLyBoaWRlIG1vZGFsXG4gICAgbW9kYWwuaGlkZSgpXG4gIH1cblxuICBoYW5kbGVFcnJvciA9IHJlamVjdGlvbiA9PiB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgaWYgKHJlamVjdGlvbi5iZXN0X2Fuc3dlcnMgfHwgcmVqZWN0aW9uLnBvbGxzKSB7XG4gICAgICAgIG1vZGFsLnNob3coXG4gICAgICAgICAgPE1lcmdlQ29uZmxpY3RcbiAgICAgICAgICAgIGFwaT17bWlzYWdvLmdldChcIk1FUkdFX1RIUkVBRFNfQVBJXCIpfVxuICAgICAgICAgICAgYmVzdEFuc3dlcnM9e3JlamVjdGlvbi5iZXN0X2Fuc3dlcnN9XG4gICAgICAgICAgICBkYXRhPXt0aGlzLmdldEZvcm1kYXRhKCl9XG4gICAgICAgICAgICBwb2xscz17cmVqZWN0aW9uLnBvbGxzfVxuICAgICAgICAgICAgb25FcnJvcj17dGhpcy5oYW5kbGVFcnJvcn1cbiAgICAgICAgICAgIG9uU3VjY2Vzcz17dGhpcy5oYW5kbGVTdWNjZXNzfVxuICAgICAgICAgIC8+XG4gICAgICAgIClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGVycm9yczogT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5zdGF0ZS5lcnJvcnMsIHJlamVjdGlvbilcbiAgICAgICAgfSlcbiAgICAgICAgc25hY2tiYXIuZXJyb3IoXCLOlyDPhs+Mz4HOvM6xIM+AzrXPgc65zq3Ph861zrkgzrvOrM64zrchXCIpXG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDMgJiYgQXJyYXkuaXNBcnJheShyZWplY3Rpb24pKSB7XG4gICAgICBtb2RhbC5zaG93KDxFcnJvcnNNb2RhbCBlcnJvcnM9e3JlamVjdGlvbn0gLz4pXG4gICAgfSBlbHNlIGlmIChyZWplY3Rpb24uYmVzdF9hbnN3ZXIpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5iZXN0X2Fuc3dlclswXSlcbiAgICB9IGVsc2UgaWYgKHJlamVjdGlvbi5wb2xsKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24ucG9sbFswXSlcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgIH1cbiAgfVxuXG4gIG9uQ2F0ZWdvcnlDaGFuZ2UgPSBldiA9PiB7XG4gICAgY29uc3QgY2F0ZWdvcnlJZCA9IGV2LnRhcmdldC52YWx1ZVxuICAgIGNvbnN0IG5ld1N0YXRlID0ge1xuICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5SWRcbiAgICB9XG5cbiAgICBpZiAodGhpcy5hY2xbY2F0ZWdvcnlJZF0uY2FuX3Bpbl90aHJlYWRzIDwgbmV3U3RhdGUud2VpZ2h0KSB7XG4gICAgICBuZXdTdGF0ZS53ZWlnaHQgPSAwXG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmFjbFtjYXRlZ29yeUlkXS5jYW5faGlkZV90aHJlYWRzKSB7XG4gICAgICBuZXdTdGF0ZS5pc19oaWRkZW4gPSAwXG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmFjbFtjYXRlZ29yeUlkXS5jYW5fY2xvc2VfdGhyZWFkcykge1xuICAgICAgbmV3U3RhdGUuaXNfY2xvc2VkID0gZmFsc2VcbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKG5ld1N0YXRlKVxuICB9XG5cbiAgZ2V0V2VpZ2h0Q2hvaWNlcygpIHtcbiAgICBjb25zdCBjaG9pY2VzID0gW1xuICAgICAge1xuICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgaWNvbjogXCJyZW1vdmVcIixcbiAgICAgICAgbGFiZWw6IFwizpzOtyDPgM+Bzr/Pic64zrfOvM6tzr3Ov1wiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB2YWx1ZTogMSxcbiAgICAgICAgaWNvbjogXCJib29rbWFya19ib3JkZXJcIixcbiAgICAgICAgbGFiZWw6IFwizqDPgc6/z4nOuM63zrzOrc69zr8gz4POtSDOsc+Fz4TOriDPhM63zr0gzrrOsc+EzrfOs86/z4HOr86xXCJcbiAgICAgIH1cbiAgICBdXG5cbiAgICBpZiAodGhpcy5hY2xbdGhpcy5zdGF0ZS5jYXRlZ29yeV0uY2FuX3Bpbl90aHJlYWRzID09IDIpIHtcbiAgICAgIGNob2ljZXMucHVzaCh7XG4gICAgICAgIHZhbHVlOiAyLFxuICAgICAgICBpY29uOiBcImJvb2ttYXJrXCIsXG4gICAgICAgIGxhYmVsOiBcIs6gz4HOv8+JzrjOt868zq3Ovc6/IM+DzrUgz4zOu863IM+Ezrcgz4POtc67zq/OtM6xXCJcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgcmV0dXJuIGNob2ljZXNcbiAgfVxuXG4gIHJlbmRlcldlaWdodEZpZWxkKCkge1xuICAgIGlmICh0aGlzLmFjbFt0aGlzLnN0YXRlLmNhdGVnb3J5XS5jYW5fcGluX3RocmVhZHMpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxGb3JtR3JvdXAgbGFiZWw9e1wizqDPgc6/z47OuM63z4POtyDOsc6zzrPOtc67zq/Osc+CXCJ9IGZvcj1cImlkX3dlaWdodFwiPlxuICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgIGlkPVwiaWRfd2VpZ2h0XCJcbiAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcIndlaWdodFwiKX1cbiAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLndlaWdodH1cbiAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuZ2V0V2VpZ2h0Q2hvaWNlcygpfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIHJlbmRlckhpZGRlbkZpZWxkKCkge1xuICAgIGlmICh0aGlzLmFjbFt0aGlzLnN0YXRlLmNhdGVnb3J5XS5jYW5faGlkZV90aHJlYWRzKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8Rm9ybUdyb3VwIGxhYmVsPXtcIs6Rz4DPjM66z4HPhc+IzrcgzrHOs86zzrXOu86vzrHPglwifSBmb3I9XCJpZF9pc19oaWRkZW5cIj5cbiAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICBpZD1cImlkX2lzX2Nsb3NlZFwiXG4gICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoXCJpc19oaWRkZW5cIil9XG4gICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5pc19oaWRkZW59XG4gICAgICAgICAgICBjaG9pY2VzPXt0aGlzLmlzSGlkZGVuQ2hvaWNlc31cbiAgICAgICAgICAvPlxuICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICByZW5kZXJDbG9zZWRGaWVsZCgpIHtcbiAgICBpZiAodGhpcy5hY2xbdGhpcy5zdGF0ZS5jYXRlZ29yeV0uY2FuX2Nsb3NlX3RocmVhZHMpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxGb3JtR3JvdXAgbGFiZWw9e1wizprOu861zq/Pg865zrzOvyDOsc6zzrPOtc67zq/Osc+CXCJ9IGZvcj1cImlkX2lzX2Nsb3NlZFwiPlxuICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgIGlkPVwiaWRfaXNfY2xvc2VkXCJcbiAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcImlzX2Nsb3NlZFwiKX1cbiAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmlzX2Nsb3NlZH1cbiAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuaXNDbG9zZWRDaG9pY2VzfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIHJlbmRlckZvcm0oKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgIGxhYmVsPXtcIs6kzq/PhM67zr/PgiDOkc6zzrPOtc67zq/Osc+CXCJ9XG4gICAgICAgICAgICBmb3I9XCJpZF90aXRsZVwiXG4gICAgICAgICAgICB2YWxpZGF0aW9uPXt0aGlzLnN0YXRlLmVycm9ycy50aXRsZX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgaWQ9XCJpZF90aXRsZVwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KFwidGl0bGVcIil9XG4gICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnRpdGxlfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNsZWFyZml4XCIgLz5cblxuICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgIGxhYmVsPXtcIs6azrHPhM63zrPOv8+Bzq/OsVwifVxuICAgICAgICAgICAgZm9yPVwiaWRfY2F0ZWdvcnlcIlxuICAgICAgICAgICAgdmFsaWRhdGlvbj17dGhpcy5zdGF0ZS5lcnJvcnMuY2F0ZWdvcnl9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPENhdGVnb3J5U2VsZWN0XG4gICAgICAgICAgICAgIGlkPVwiaWRfY2F0ZWdvcnlcIlxuICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNhdGVnb3J5Q2hhbmdlfVxuICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5jYXRlZ29yeX1cbiAgICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5jYXRlZ29yeUNob2ljZXN9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2xlYXJmaXhcIiAvPlxuXG4gICAgICAgICAge3RoaXMucmVuZGVyV2VpZ2h0RmllbGQoKX1cbiAgICAgICAgICB7dGhpcy5yZW5kZXJIaWRkZW5GaWVsZCgpfVxuICAgICAgICAgIHt0aGlzLnJlbmRlckNsb3NlZEZpZWxkKCl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiXG4gICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICB7XCLOkc66z43Pgc+Jz4POt1wifVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwiYnRuLXByaW1hcnlcIiBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ30+XG4gICAgICAgICAgICB7XCLOo8+FzrPPh8+Ozr3Otc+Fz4POtyDOsc6zzrPOtc67zrnPjs69XCJ9XG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9mb3JtPlxuICAgIClcbiAgfVxuXG4gIHJlbmRlckNhbnRNZXJnZU1lc3NhZ2UoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtaWNvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5pbmZvX291dGxpbmU8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtYm9keVwiPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAgICAgIHtcIs6UzrXOvSDOvM+Azr/Pgc61zq/PgiDOvc6xIM68zrXPhM6xzrrOuc69zq7Pg861zrnPgiDPhM65z4IgzrHOs86zzrXOu86vzrXPgiwgzrPOuc6xz4TOryDOtM61zr0gz4XPgM6sz4HPh86/z4XOvSDOtM65zrHOuM6tz4POuc68zrXPgiDOus6xz4TOt86zzr/Pgc6vzrXPgi5cIn1cbiAgICAgICAgICA8L3A+XG4gICAgICAgICAgPHA+XG4gICAgICAgICAgICB7XCLOoM+Bzq3PgM61zrkgzr3OsSDOrc+HzrXOuc+CIM6szrTOtc65zrEgzr3OsSDOtM63zrzOuc6/z4XPgc6zzq7Pg861zrnPgiDOus6xzrnOvc6/z43Pgc65zrXPgiDOsc6zzrPOtc67zq/Otc+CIM+DzrUgzrzOuc6xIM66zrHPhM63zrPOv8+Bzq/OsSDOs865zrEgzr3OsSDOvM+Azr/Pgc61zq/PgiDOvc6xIM+Dz4XOs8+Hz4nOvc61z43Pg861zrnPgiDOsc6zzrPOtc67zq/Otc+CIM61zrrOtc6vLlwifVxuICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIlxuICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAge1wizp/OmlwifVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUuY2F0ZWdvcnkpIHtcbiAgICAgIHJldHVybiBcIm1vZGFsLWRpYWxvZyBtb2RhbC1tZXNzYWdlXCJcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwibW9kYWwtZGlhbG9nXCJcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfSByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNsb3NlXCJcbiAgICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtcIs6azrvOtc6vz4POuc68zr9cIn1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e1wizqPPhc6zz4fPjs69zrXPhc+DzrcgzrHOs86zzrXOu865z47OvVwifTwvaDQ+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAge3RoaXMuc3RhdGUuY2F0ZWdvcnlcbiAgICAgICAgICAgID8gdGhpcy5yZW5kZXJGb3JtKClcbiAgICAgICAgICAgIDogdGhpcy5yZW5kZXJDYW50TWVyZ2VNZXNzYWdlKCl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBGb3JtIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtXCJcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXBcIlxuaW1wb3J0IENhdGVnb3J5U2VsZWN0IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9jYXRlZ29yeS1zZWxlY3RcIlxuaW1wb3J0ICogYXMgc2VsZWN0IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvc2VsZWN0aW9uXCJcbmltcG9ydCB7IGZpbHRlclRocmVhZHMgfSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3RocmVhZHNcIlxuaW1wb3J0IG1vZGFsIGZyb20gXCJtaXNhZ28vc2VydmljZXMvbW9kYWxcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGNhdGVnb3J5OiBudWxsXG4gICAgfVxuXG4gICAgY29uc3QgYWNscyA9IHt9XG4gICAgZm9yIChjb25zdCBpIGluIHByb3BzLnVzZXIuYWNsLmNhdGVnb3JpZXMpIHtcbiAgICAgIGlmICghcHJvcHMudXNlci5hY2wuY2F0ZWdvcmllcy5oYXNPd25Qcm9wZXJ0eShpKSkge1xuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICBjb25zdCBhY2wgPSBwcm9wcy51c2VyLmFjbC5jYXRlZ29yaWVzW2ldXG4gICAgICBhY2xzW2FjbC5pZF0gPSBhY2xcbiAgICB9XG5cbiAgICB0aGlzLmNhdGVnb3J5Q2hvaWNlcyA9IFtdXG4gICAgcHJvcHMuY2F0ZWdvcmllcy5mb3JFYWNoKGNhdGVnb3J5ID0+IHtcbiAgICAgIGlmIChjYXRlZ29yeS5sZXZlbCA+IDApIHtcbiAgICAgICAgY29uc3QgYWNsID0gYWNsc1tjYXRlZ29yeS5pZF1cbiAgICAgICAgY29uc3QgZGlzYWJsZWQgPVxuICAgICAgICAgICFhY2wuY2FuX3N0YXJ0X3RocmVhZHMgfHxcbiAgICAgICAgICAoY2F0ZWdvcnkuaXNfY2xvc2VkICYmICFhY2wuY2FuX2Nsb3NlX3RocmVhZHMpXG5cbiAgICAgICAgdGhpcy5jYXRlZ29yeUNob2ljZXMucHVzaCh7XG4gICAgICAgICAgdmFsdWU6IGNhdGVnb3J5LmlkLFxuICAgICAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICAgICAgICBsZXZlbDogY2F0ZWdvcnkubGV2ZWwgLSAxLFxuICAgICAgICAgIGxhYmVsOiBjYXRlZ29yeS5uYW1lXG4gICAgICAgIH0pXG5cbiAgICAgICAgaWYgKCFkaXNhYmxlZCAmJiAhdGhpcy5zdGF0ZS5jYXRlZ29yeSkge1xuICAgICAgICAgIHRoaXMuc3RhdGUuY2F0ZWdvcnkgPSBjYXRlZ29yeS5pZFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGhhbmRsZVN1Ym1pdCA9IGV2ZW50ID0+IHtcbiAgICAvLyB3ZSBkb24ndCByZWxvYWQgcGFnZSBvbiBzdWJtaXNzaW9uc1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcblxuICAgIG1vZGFsLmhpZGUoKVxuXG4gICAgY29uc3Qgb25TdWNjZXNzID0gKCkgPT4ge1xuICAgICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICAgIGZpbHRlclRocmVhZHModGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yeSwgdGhpcy5wcm9wcy5jYXRlZ29yaWVzTWFwKVxuICAgICAgKVxuXG4gICAgICAvLyBkZXNlbGVjdCB0aHJlYWRzIG1vdmVkIG91dHNpZGUgb2YgdmlzaWJsZSBzY29wZVxuICAgICAgY29uc3Qgc3RvcmVTdGF0ZSA9IHN0b3JlLmdldFN0YXRlKClcbiAgICAgIGNvbnN0IGxlZnRUaHJlYWRzID0gc3RvcmVTdGF0ZS50aHJlYWRzLm1hcCh0aHJlYWQgPT4gdGhyZWFkLmlkKVxuICAgICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICAgIHNlbGVjdC5hbGwoXG4gICAgICAgICAgc3RvcmVTdGF0ZS5zZWxlY3Rpb24uZmlsdGVyKHRocmVhZCA9PiB7XG4gICAgICAgICAgICByZXR1cm4gbGVmdFRocmVhZHMuaW5kZXhPZih0aHJlYWQpICE9PSAtMVxuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgIClcbiAgICB9XG5cbiAgICB0aGlzLnByb3BzLmNhbGxBcGkoXG4gICAgICBbXG4gICAgICAgIHsgb3A6IFwicmVwbGFjZVwiLCBwYXRoOiBcImNhdGVnb3J5XCIsIHZhbHVlOiB0aGlzLnN0YXRlLmNhdGVnb3J5IH0sXG4gICAgICAgIHsgb3A6IFwicmVwbGFjZVwiLCBwYXRoOiBcImZsYXR0ZW4tY2F0ZWdvcmllc1wiLCB2YWx1ZTogbnVsbCB9LFxuICAgICAgICB7IG9wOiBcImFkZFwiLCBwYXRoOiBcImFjbFwiLCB2YWx1ZTogdHJ1ZSB9XG4gICAgICBdLFxuICAgICAgXCLOn865IM61z4DOuc67zrXOs868zq3Ovc61z4IgzrHOs86zzrXOu86vzrXPgiDOvM61z4TOsc66zrnOvc6uzrjOt866zrHOvSDOtc+AzrnPhM+Fz4fPjs+CLlwiLFxuICAgICAgb25TdWNjZXNzXG4gICAgKVxuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5jYXRlZ29yeSkge1xuICAgICAgcmV0dXJuIFwibW9kYWwtZGlhbG9nIG1vZGFsLW1lc3NhZ2VcIlxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCJtb2RhbC1kaWFsb2dcIlxuICAgIH1cbiAgfVxuXG4gIHJlbmRlckZvcm0oKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgICAgIDxGb3JtR3JvdXAgbGFiZWw9e1wizp3Orc6xIM66zrHPhM63zrPOv8+Bzq/OsVwifSBmb3I9XCJpZF9uZXdfY2F0ZWdvcnlcIj5cbiAgICAgICAgICAgIDxDYXRlZ29yeVNlbGVjdFxuICAgICAgICAgICAgICBpZD1cImlkX25ld19jYXRlZ29yeVwiXG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcImNhdGVnb3J5XCIpfVxuICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5jYXRlZ29yeX1cbiAgICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5jYXRlZ29yeUNob2ljZXN9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIlxuICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAge1wizpHOus+Nz4HPic+DzrdcIn1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeVwiPntcIs6czrXPhM6xzrrOr869zrfPg863IM6xzrPOs861zrvOuc+Ozr1cIn08L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Zvcm0+XG4gICAgKVxuICB9XG5cbiAgcmVuZGVyQ2FudE1vdmVNZXNzYWdlKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWljb25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+aW5mb19vdXRsaW5lPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAgICB7XCLOlM61zr0gzrzPgM6/z4HOtc6vz4Igzr3OsSDOvM61z4TOsc66zrnOvc6uz4POtc65z4Igz4TOuc+CIM6xzrPOs861zrvOr861z4IsIM6zzrnOsc+Ezq8gzrTOtc69IM+Fz4DOrM+Bz4fOv8+Fzr0gzrTOuc6xzrjOrc+DzrnOvM61z4IgzrrOsc+EzrfOs86/z4HOr861z4IuXCJ9XG4gICAgICAgICAgPC9wPlxuICAgICAgICAgIDxwPlxuICAgICAgICAgICAge1wizqDPgc6tz4DOtc65IM69zrEgzq3Ph861zrnPgiDOrM60zrXOuc6xIM69zrEgzrTOt868zrnOv8+Fz4HOs86uz4POtc65z4IgzrrOsc65zr3Ov8+Nz4HOuc61z4IgzrHOs86zzrXOu86vzrXPgiDPg861IM68zrnOsSDOus6xz4TOt86zzr/Pgc6vzrEgzrPOuc6xIM69zrEgzrzPgM6/z4HOtc6vz4Igzr3OsSDOvM61z4TOsc66zrnOvc6uz4POtc65z4IgzrHOs86zzrXOu86vzrXPgiDOtc66zrXOry5cIn1cbiAgICAgICAgICA8L3A+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtcIs6fzppcIn1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfSByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNsb3NlXCJcbiAgICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtcIs6azrvOtc6vz4POuc68zr9cIn1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e1wizpzOtc+EzrHOus6vzr3Ot8+DzrcgzrHOs86zzrXOu865z47OvVwifTwvaDQ+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAge3RoaXMuc3RhdGUuY2F0ZWdvcnlcbiAgICAgICAgICAgID8gdGhpcy5yZW5kZXJGb3JtKClcbiAgICAgICAgICAgIDogdGhpcy5yZW5kZXJDYW50TW92ZU1lc3NhZ2UoKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0ICogYXMgc2VsZWN0IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvc2VsZWN0aW9uXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzZWxlY3RBbGwgPSAoKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICBzZWxlY3QuYWxsKFxuICAgICAgICB0aGlzLnByb3BzLnRocmVhZHMubWFwKGZ1bmN0aW9uKHRocmVhZCkge1xuICAgICAgICAgIHJldHVybiB0aHJlYWQuaWRcbiAgICAgICAgfSlcbiAgICAgIClcbiAgICApXG4gIH1cblxuICBzZWxlY3ROb25lID0gKCkgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHNlbGVjdC5ub25lKCkpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDx1bCBjbGFzc05hbWU9e3RoaXMucHJvcHMuY2xhc3NOYW1lfT5cbiAgICAgICAgPGxpPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuc2VsZWN0QWxsfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jaGVja19ib3g8L3NwYW4+XG4gICAgICAgICAgICB7XCLOlc+AzrnOu86/zrPOriDPjM67z4nOvVwifVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2xpPlxuICAgICAgICA8bGk+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgb25DbGljaz17dGhpcy5zZWxlY3ROb25lfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jaGVja19ib3hfb3V0bGluZV9ibGFuazwvc3Bhbj5cbiAgICAgICAgICAgIHtcIs6Rz4DOv861z4DOuc67zr/Os86uIM+MzrvPic69XCJ9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvbGk+XG4gICAgICA8L3VsPlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyBMaW5rIH0gZnJvbSBcInJlYWN0LXJvdXRlclwiXG5pbXBvcnQgTGkgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2xpXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBiYXNlVXJsLCBsaXN0LCBsaXN0cyB9KSB7XG4gIGlmIChsaXN0cy5sZW5ndGggPCAyKSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlLXRhYnNcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgIDx1bCBjbGFzc05hbWU9XCJuYXYgbmF2LXBpbGxzXCI+XG4gICAgICAgICAge2xpc3RzLm1hcChpdGVtID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxMaVxuICAgICAgICAgICAgICAgIGlzQ29udHJvbGxlZD17dHJ1ZX1cbiAgICAgICAgICAgICAgICBpc0FjdGl2ZT17aXRlbS5wYXRoID09PSBsaXN0LnBhdGh9XG4gICAgICAgICAgICAgICAga2V5PXtiYXNlVXJsICsgaXRlbS5wYXRofVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPExpbmsgdG89e2Jhc2VVcmwgKyBpdGVtLnBhdGh9PntpdGVtLm5hbWV9PC9MaW5rPlxuICAgICAgICAgICAgICA8L0xpPlxuICAgICAgICAgICAgKVxuICAgICAgICAgIH0pfVxuICAgICAgICA8L3VsPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIlxuaW1wb3J0IFJvdXRlIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzL3JvdXRlXCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTZWxlY3Qob3B0aW9ucykge1xuICByZXR1cm4gZnVuY3Rpb24oc3RvcmUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgb3B0aW9uczogb3B0aW9ucyxcbiAgICAgIHNlbGVjdGlvbjogc3RvcmUuc2VsZWN0aW9uLFxuICAgICAgdGhyZWFkczogc3RvcmUudGhyZWFkcyxcbiAgICAgIHRpY2s6IHN0b3JlLnRpY2sudGljayxcbiAgICAgIHVzZXI6IHN0b3JlLmF1dGgudXNlclxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TGlzdHModXNlcikge1xuICBsZXQgbGlzdHMgPSBbXG4gICAge1xuICAgICAgdHlwZTogXCJhbGxcIixcbiAgICAgIHBhdGg6IFwiXCIsXG4gICAgICBuYW1lOiBcIs6MzrvOtc+CXCIsXG4gICAgICBsb25nTmFtZTogXCLOjM67zrXPgiDOv865IM6xzrPOs861zrvOr861z4JcIlxuICAgIH1cbiAgXVxuXG4gIGlmICh1c2VyLmlkKSB7XG4gICAgbGlzdHMucHVzaCh7XG4gICAgICB0eXBlOiBcIm15XCIsXG4gICAgICBwYXRoOiBcIm15L1wiLFxuICAgICAgbmFtZTogXCLOlM65zrrOrc+CIM68zr/PhVwiLFxuICAgICAgbG9uZ05hbWU6IFwizp/OuSDOsc6zzrPOtc67zq/Otc+CIM68zr/PhVwiXG4gICAgfSlcbiAgICBsaXN0cy5wdXNoKHtcbiAgICAgIHR5cGU6IFwibmV3XCIsXG4gICAgICBwYXRoOiBcIm5ldy9cIixcbiAgICAgIG5hbWU6IFwizp3Orc61z4JcIixcbiAgICAgIGxvbmdOYW1lOiBcIs6dzq3Otc+CIM6xzrPOs861zrvOr861z4JcIlxuICAgIH0pXG4gICAgbGlzdHMucHVzaCh7XG4gICAgICB0eXBlOiBcInVucmVhZFwiLFxuICAgICAgcGF0aDogXCJ1bnJlYWQvXCIsXG4gICAgICBuYW1lOiBcIs6RzrTOuc6szrLOsc+Dz4TOtc+CXCIsXG4gICAgICBsb25nTmFtZTogXCLOkc60zrnOrM6yzrHPg8+EzrXPgiDOsc6zzrPOtc67zq/Otc+CXCJcbiAgICB9KVxuICAgIGxpc3RzLnB1c2goe1xuICAgICAgdHlwZTogXCJzdWJzY3JpYmVkXCIsXG4gICAgICBwYXRoOiBcInN1YnNjcmliZWQvXCIsXG4gICAgICBuYW1lOiBcIs6RzrrOv867zr/Phc64z45cIixcbiAgICAgIGxvbmdOYW1lOiBcIs6RzrPOs861zrvOr861z4Igz4DOv8+FIM6xzrrOv867zr/Phc64z45cIlxuICAgIH0pXG5cbiAgICBpZiAodXNlci5hY2wuY2FuX3NlZV91bmFwcHJvdmVkX2NvbnRlbnRfbGlzdHMpIHtcbiAgICAgIGxpc3RzLnB1c2goe1xuICAgICAgICB0eXBlOiBcInVuYXBwcm92ZWRcIixcbiAgICAgICAgcGF0aDogXCJ1bmFwcHJvdmVkL1wiLFxuICAgICAgICBuYW1lOiBcIs6czrcgzrXOs866zrXOus+BzrnOvM6tzr3Otc+CXCIsXG4gICAgICAgIGxvbmdOYW1lOiBcIs6czrcgzrXOs866zrXOus+BzrnOvM6tzr3Otc+CIM6xzrPOs861zrvOr861z4JcIlxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbGlzdHNcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhdGhzKHVzZXIsIG1vZGUpIHtcbiAgbGV0IGxpc3RzID0gZ2V0TGlzdHModXNlcilcbiAgbGV0IHJvdXRlcyA9IFtdXG4gIGxldCBjYXRlZ29yaWVzTWFwID0ge31cblxuICBtaXNhZ28uZ2V0KFwiQ0FURUdPUklFU1wiKS5mb3JFYWNoKGZ1bmN0aW9uKGNhdGVnb3J5KSB7XG4gICAgbGlzdHMuZm9yRWFjaChmdW5jdGlvbihsaXN0KSB7XG4gICAgICBjYXRlZ29yaWVzTWFwW2NhdGVnb3J5LmlkXSA9IGNhdGVnb3J5XG5cbiAgICAgIHJvdXRlcy5wdXNoKHtcbiAgICAgICAgcGF0aDogY2F0ZWdvcnkudXJsLmluZGV4ICsgbGlzdC5wYXRoLFxuICAgICAgICBjb21wb25lbnQ6IGNvbm5lY3QoZ2V0U2VsZWN0KG1vZGUpKShSb3V0ZSksXG5cbiAgICAgICAgY2F0ZWdvcmllczogbWlzYWdvLmdldChcIkNBVEVHT1JJRVNcIiksXG4gICAgICAgIGNhdGVnb3JpZXNNYXAsXG4gICAgICAgIGNhdGVnb3J5LFxuXG4gICAgICAgIGxpc3RzLFxuICAgICAgICBsaXN0XG4gICAgICB9KVxuICAgIH0pXG4gIH0pXG5cbiAgcmV0dXJuIHJvdXRlc1xufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQnV0dG9uIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9idXR0b25cIlxuaW1wb3J0IHtcbiAgY29tcGFyZUdsb2JhbFdlaWdodCxcbiAgY29tcGFyZVdlaWdodFxufSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy9jb21wYXJlXCJcbmltcG9ydCBDb250YWluZXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3RocmVhZHMvY29udGFpbmVyXCJcbmltcG9ydCBIZWFkZXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3RocmVhZHMvaGVhZGVyXCJcbmltcG9ydCB7XG4gIGRpZmZUaHJlYWRzLFxuICBnZXRNb2RlcmF0aW9uQWN0aW9ucyxcbiAgZ2V0UGFnZVRpdGxlLFxuICBnZXRUaXRsZVxufSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy91dGlsc1wiXG5pbXBvcnQgVGhyZWFkc0xpc3QgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3RocmVhZHMtbGlzdFwiXG5pbXBvcnQgVGhyZWFkc0xpc3RFbXB0eSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy9saXN0LWVtcHR5XCJcbmltcG9ydCBXaXRoRHJvcGRvd24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3dpdGgtZHJvcGRvd25cIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCAqIGFzIHNlbGVjdCBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3NlbGVjdGlvblwiXG5pbXBvcnQgeyBhcHBlbmQsIGRlbGV0ZVRocmVhZCwgaHlkcmF0ZSwgcGF0Y2ggfSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3RocmVhZHNcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBwb2xscyBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3BvbGxzXCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcbmltcG9ydCB0aXRsZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3BhZ2UtdGl0bGVcIlxuaW1wb3J0ICogYXMgc2V0cyBmcm9tIFwibWlzYWdvL3V0aWxzL3NldHNcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFdpdGhEcm9wZG93biB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNNb3VudGVkOiB0cnVlLFxuXG4gICAgICBpc0xvYWRlZDogZmFsc2UsXG4gICAgICBpc0J1c3k6IGZhbHNlLFxuXG4gICAgICBkaWZmOiB7XG4gICAgICAgIHJlc3VsdHM6IFtdXG4gICAgICB9LFxuXG4gICAgICBtb2RlcmF0aW9uOiBbXSxcbiAgICAgIGJ1c3lUaHJlYWRzOiBbXSxcblxuICAgICAgZHJvcGRvd246IGZhbHNlLFxuICAgICAgc3ViY2F0ZWdvcmllczogW10sXG4gICAgICBcbiAgICAgIG5leHQ6IDAsXG4gICAgfVxuXG4gICAgbGV0IGNhdGVnb3J5ID0gdGhpcy5nZXRDYXRlZ29yeSgpXG5cbiAgICBpZiAobWlzYWdvLmhhcyhcIlRIUkVBRFNcIikpIHtcbiAgICAgIHRoaXMuaW5pdFdpdGhQcmVsb2FkZWREYXRhKGNhdGVnb3J5LCBtaXNhZ28uZ2V0KFwiVEhSRUFEU1wiKSlcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pbml0V2l0aG91dFByZWxvYWRlZERhdGEoY2F0ZWdvcnkpXG4gICAgfVxuICB9XG5cbiAgZ2V0Q2F0ZWdvcnkoKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3J5LnNwZWNpYWxfcm9sZSkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkuaWRcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICBpbml0V2l0aFByZWxvYWRlZERhdGEoY2F0ZWdvcnksIGRhdGEpIHtcbiAgICB0aGlzLnN0YXRlID0gT2JqZWN0LmFzc2lnbih0aGlzLnN0YXRlLCB7XG4gICAgICBtb2RlcmF0aW9uOiBnZXRNb2RlcmF0aW9uQWN0aW9ucyhkYXRhLnJlc3VsdHMpLFxuICAgICAgc3ViY2F0ZWdvcmllczogZGF0YS5zdWJjYXRlZ29yaWVzLFxuICAgICAgbmV4dDogZGF0YS5uZXh0XG4gICAgfSlcblxuICAgIHRoaXMuc3RhcnRQb2xsaW5nKGNhdGVnb3J5KVxuICB9XG5cbiAgaW5pdFdpdGhvdXRQcmVsb2FkZWREYXRhKGNhdGVnb3J5KSB7XG4gICAgdGhpcy5sb2FkVGhyZWFkcyhjYXRlZ29yeSlcbiAgfVxuXG4gIGxvYWRUaHJlYWRzKGNhdGVnb3J5LCBuZXh0ID0gMCkge1xuICAgIGFqYXhcbiAgICAgIC5nZXQoXG4gICAgICAgIHRoaXMucHJvcHMub3B0aW9ucy5hcGksXG4gICAgICAgIHtcbiAgICAgICAgICBjYXRlZ29yeTogY2F0ZWdvcnksXG4gICAgICAgICAgbGlzdDogdGhpcy5wcm9wcy5yb3V0ZS5saXN0LnR5cGUsXG4gICAgICAgICAgc3RhcnQ6IG5leHQgfHwgMFxuICAgICAgICB9LFxuICAgICAgICBcInRocmVhZHNcIlxuICAgICAgKVxuICAgICAgLnRoZW4oXG4gICAgICAgIGRhdGEgPT4ge1xuICAgICAgICAgIGlmICghdGhpcy5zdGF0ZS5pc01vdW50ZWQpIHtcbiAgICAgICAgICAgIC8vIHVzZXIgY2hhbmdlZCByb3V0ZSBiZWZvcmUgbG9hZGluZyBjb21wbGV0aW9uXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAobmV4dCA9PT0gMCkge1xuICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goaHlkcmF0ZShkYXRhLnJlc3VsdHMpKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdG9yZS5kaXNwYXRjaChhcHBlbmQoZGF0YS5yZXN1bHRzLCB0aGlzLmdldFNvcnRpbmcoKSkpXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBpc0xvYWRlZDogdHJ1ZSxcbiAgICAgICAgICAgIGlzQnVzeTogZmFsc2UsXG5cbiAgICAgICAgICAgIG1vZGVyYXRpb246IGdldE1vZGVyYXRpb25BY3Rpb25zKHN0b3JlLmdldFN0YXRlKCkudGhyZWFkcyksXG5cbiAgICAgICAgICAgIHN1YmNhdGVnb3JpZXM6IGRhdGEuc3ViY2F0ZWdvcmllcyxcblxuICAgICAgICAgICAgbmV4dDogZGF0YS5uZXh0LFxuICAgICAgICAgIH0pXG5cbiAgICAgICAgICB0aGlzLnN0YXJ0UG9sbGluZyhjYXRlZ29yeSlcbiAgICAgICAgfSxcbiAgICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgICAgIH1cbiAgICAgIClcbiAgfVxuXG4gIHN0YXJ0UG9sbGluZyhjYXRlZ29yeSkge1xuICAgIHBvbGxzLnN0YXJ0KHtcbiAgICAgIHBvbGw6IFwidGhyZWFkc1wiLFxuICAgICAgdXJsOiB0aGlzLnByb3BzLm9wdGlvbnMuYXBpLFxuICAgICAgZGF0YToge1xuICAgICAgICBjYXRlZ29yeTogY2F0ZWdvcnksXG4gICAgICAgIGxpc3Q6IHRoaXMucHJvcHMucm91dGUubGlzdC50eXBlXG4gICAgICB9LFxuICAgICAgZnJlcXVlbmN5OiAxMjAgKiAxMDAwLFxuICAgICAgdXBkYXRlOiB0aGlzLnBvbGxSZXNwb25zZVxuICAgIH0pXG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLnNldFBhZ2VUaXRsZSgpXG5cbiAgICBpZiAobWlzYWdvLmhhcyhcIlRIUkVBRFNcIikpIHtcbiAgICAgIC8vIHVubGlrZSBpbiBvdGhlciBjb21wb25lbnRzLCByb3V0ZXMgYXJlIHJvb3QgY29tcG9uZW50cyBmb3IgdGhyZWFkc1xuICAgICAgLy8gc28gd2UgY2FuJ3QgZGlzcGF0Y2ggc3RvcmUgYWN0aW9uIGZyb20gY29uc3RydWN0b3JcbiAgICAgIHN0b3JlLmRpc3BhdGNoKGh5ZHJhdGUobWlzYWdvLnBvcChcIlRIUkVBRFNcIikucmVzdWx0cykpXG5cbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0xvYWRlZDogdHJ1ZVxuICAgICAgfSlcbiAgICB9XG5cbiAgICBzdG9yZS5kaXNwYXRjaChzZWxlY3Qubm9uZSgpKVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgdGhpcy5zdGF0ZS5pc01vdW50ZWQgPSBmYWxzZVxuICAgIHBvbGxzLnN0b3AoXCJ0aHJlYWRzXCIpXG4gIH1cblxuICBnZXRUaXRsZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5vcHRpb25zLnRpdGxlKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5vcHRpb25zLnRpdGxlXG4gICAgfVxuXG4gICAgcmV0dXJuIGdldFRpdGxlKHRoaXMucHJvcHMucm91dGUpXG4gIH1cblxuICBzZXRQYWdlVGl0bGUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkubGV2ZWwgfHwgIW1pc2Fnby5nZXQoXCJUSFJFQURTX09OX0lOREVYXCIpKSB7XG4gICAgICB0aXRsZS5zZXQoZ2V0UGFnZVRpdGxlKHRoaXMucHJvcHMucm91dGUpKVxuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5vcHRpb25zLnRpdGxlKSB7XG4gICAgICB0aXRsZS5zZXQodGhpcy5wcm9wcy5vcHRpb25zLnRpdGxlKVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAobWlzYWdvLmdldChcIlNFVFRJTkdTXCIpLmluZGV4X3RpdGxlKSB7XG4gICAgICAgIGRvY3VtZW50LnRpdGxlID0gbWlzYWdvLmdldChcIlNFVFRJTkdTXCIpLmluZGV4X3RpdGxlXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb2N1bWVudC50aXRsZSA9IG1pc2Fnby5nZXQoXCJTRVRUSU5HU1wiKS5mb3J1bV9uYW1lXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZ2V0U29ydGluZygpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yeS5sZXZlbCkge1xuICAgICAgcmV0dXJuIGNvbXBhcmVXZWlnaHRcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGNvbXBhcmVHbG9iYWxXZWlnaHRcbiAgICB9XG4gIH1cblxuICAvLyBBSkFYXG5cbiAgbG9hZE1vcmUgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0J1c3k6IHRydWVcbiAgICB9KVxuXG4gICAgdGhpcy5sb2FkVGhyZWFkcyh0aGlzLmdldENhdGVnb3J5KCksIHRoaXMuc3RhdGUubmV4dClcbiAgfVxuXG4gIHBvbGxSZXNwb25zZSA9IGRhdGEgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgZGlmZjogT2JqZWN0LmFzc2lnbih7fSwgZGF0YSwge1xuICAgICAgICByZXN1bHRzOiBkaWZmVGhyZWFkcyh0aGlzLnByb3BzLnRocmVhZHMsIGRhdGEucmVzdWx0cylcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIGFkZFRocmVhZHMgPSB0aHJlYWRzID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaChhcHBlbmQodGhyZWFkcywgdGhpcy5nZXRTb3J0aW5nKCkpKVxuICB9XG5cbiAgYXBwbHlEaWZmID0gKCkgPT4ge1xuICAgIHRoaXMuYWRkVGhyZWFkcyh0aGlzLnN0YXRlLmRpZmYucmVzdWx0cylcblxuICAgIHRoaXMuc2V0U3RhdGUoXG4gICAgICBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnN0YXRlLmRpZmYsIHtcbiAgICAgICAgbW9kZXJhdGlvbjogZ2V0TW9kZXJhdGlvbkFjdGlvbnMoc3RvcmUuZ2V0U3RhdGUoKS50aHJlYWRzKSxcblxuICAgICAgICBkaWZmOiB7XG4gICAgICAgICAgcmVzdWx0czogW11cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICApXG4gIH1cblxuICAvLyBUaHJlYWQgc3RhdGUgdXRpbHNcblxuICBmcmVlemVUaHJlYWQgPSB0aHJlYWQgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoZnVuY3Rpb24oY3VycmVudFN0YXRlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBidXN5VGhyZWFkczogc2V0cy50b2dnbGUoY3VycmVudFN0YXRlLmJ1c3lUaHJlYWRzLCB0aHJlYWQpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIHVwZGF0ZVRocmVhZCA9IHRocmVhZCA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2gocGF0Y2godGhyZWFkLCB0aHJlYWQsIHRoaXMuZ2V0U29ydGluZygpKSlcbiAgfVxuXG4gIGRlbGV0ZVRocmVhZCA9IHRocmVhZCA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2goZGVsZXRlVGhyZWFkKHRocmVhZCkpXG4gIH1cblxuICBnZXRNb3JlQnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5uZXh0KSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZXItbW9yZVwiPlxuICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgICBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzQnVzeSB8fCB0aGlzLnN0YXRlLmJ1c3lUaHJlYWRzLmxlbmd0aH1cbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLmxvYWRNb3JlfVxuICAgICAgICA+XG4gICAgICAgICAge1wizqDPgc6/zrLOv867zq4gz4DOtc+BzrnPg8+Dz4zPhM61z4HPic69XCJ9XG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGxldCBjbGFzc05hbWUgPSBcInBhZ2UgcGFnZS10aHJlYWRzXCJcbiAgICBjbGFzc05hbWUgKz0gXCIgcGFnZS10aHJlYWRzLVwiICsgdGhpcy5wcm9wcy5yb3V0ZS5saXN0LnR5cGVcbiAgICBpZiAoaXNJbmRleCh0aGlzLnByb3BzKSkge1xuICAgICAgY2xhc3NOYW1lICs9IFwiIHBhZ2UtdGhyZWFkcy1pbmRleFwiXG4gICAgfVxuICAgIGlmICh0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3J5LmNzc19jbGFzcykge1xuICAgICAgY2xhc3NOYW1lICs9IFwiIHBhZ2UtdGhyZWFkcy1cIiArIHRoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkuY3NzX2NsYXNzXG4gICAgfVxuICAgIHJldHVybiBjbGFzc05hbWVcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9PlxuICAgICAgICA8SGVhZGVyXG4gICAgICAgICAgY2F0ZWdvcmllcz17dGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yaWVzTWFwfVxuICAgICAgICAgIGRpc2FibGVkPXshdGhpcy5zdGF0ZS5pc0xvYWRlZH1cbiAgICAgICAgICBzdGFydFRocmVhZD17dGhpcy5wcm9wcy5vcHRpb25zLnN0YXJ0VGhyZWFkfVxuICAgICAgICAgIHRocmVhZHM9e3RoaXMucHJvcHMudGhyZWFkc31cbiAgICAgICAgICB0aXRsZT17dGhpcy5nZXRUaXRsZSgpfVxuICAgICAgICAgIHRvZ2dsZU5hdj17dGhpcy50b2dnbGVOYXZ9XG4gICAgICAgICAgcm91dGU9e3RoaXMucHJvcHMucm91dGV9XG4gICAgICAgICAgdXNlcj17dGhpcy5wcm9wcy51c2VyfVxuICAgICAgICAvPlxuXG4gICAgICAgIDxDb250YWluZXJcbiAgICAgICAgICBhcGk9e3RoaXMucHJvcHMub3B0aW9ucy5hcGl9XG4gICAgICAgICAgcm91dGU9e3RoaXMucHJvcHMucm91dGV9XG4gICAgICAgICAgc3ViY2F0ZWdvcmllcz17dGhpcy5zdGF0ZS5zdWJjYXRlZ29yaWVzfVxuICAgICAgICAgIHVzZXI9e3RoaXMucHJvcHMudXNlcn1cbiAgICAgICAgICBwYWdlTGVhZD17dGhpcy5wcm9wcy5vcHRpb25zLnBhZ2VMZWFkfVxuICAgICAgICAgIHRocmVhZHM9e3RoaXMucHJvcHMudGhyZWFkc31cbiAgICAgICAgICB0aHJlYWRzQ291bnQ9e3RoaXMuc3RhdGUuY291bnR9XG4gICAgICAgICAgbW9kZXJhdGlvbj17dGhpcy5zdGF0ZS5tb2RlcmF0aW9ufVxuICAgICAgICAgIHNlbGVjdGlvbj17dGhpcy5wcm9wcy5zZWxlY3Rpb259XG4gICAgICAgICAgYnVzeVRocmVhZHM9e3RoaXMuc3RhdGUuYnVzeVRocmVhZHN9XG4gICAgICAgICAgYWRkVGhyZWFkcz17dGhpcy5hZGRUaHJlYWRzfVxuICAgICAgICAgIGZyZWV6ZVRocmVhZD17dGhpcy5mcmVlemVUaHJlYWR9XG4gICAgICAgICAgZGVsZXRlVGhyZWFkPXt0aGlzLmRlbGV0ZVRocmVhZH1cbiAgICAgICAgICB1cGRhdGVUaHJlYWQ9e3RoaXMudXBkYXRlVGhyZWFkfVxuICAgICAgICAgIGlzTG9hZGVkPXt0aGlzLnN0YXRlLmlzTG9hZGVkfVxuICAgICAgICAgIGlzQnVzeT17dGhpcy5zdGF0ZS5pc0J1c3l9XG4gICAgICAgID5cbiAgICAgICAgICA8VGhyZWFkc0xpc3RcbiAgICAgICAgICAgIGNhdGVnb3J5PXt0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3J5fVxuICAgICAgICAgICAgY2F0ZWdvcmllcz17dGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yaWVzTWFwfVxuICAgICAgICAgICAgbGlzdD17dGhpcy5wcm9wcy5yb3V0ZS5saXN0fVxuICAgICAgICAgICAgc2VsZWN0aW9uPXt0aGlzLnByb3BzLnNlbGVjdGlvbn1cbiAgICAgICAgICAgIHRocmVhZHM9e3RoaXMucHJvcHMudGhyZWFkc31cbiAgICAgICAgICAgIGRpZmZTaXplPXt0aGlzLnN0YXRlLmRpZmYucmVzdWx0cy5sZW5ndGh9XG4gICAgICAgICAgICBhcHBseURpZmY9e3RoaXMuYXBwbHlEaWZmfVxuICAgICAgICAgICAgc2hvd09wdGlvbnM9eyEhdGhpcy5wcm9wcy51c2VyLmlkfVxuICAgICAgICAgICAgaXNMb2FkZWQ9e3RoaXMuc3RhdGUuaXNMb2FkZWR9XG4gICAgICAgICAgICBidXN5VGhyZWFkcz17dGhpcy5zdGF0ZS5idXN5VGhyZWFkc31cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8VGhyZWFkc0xpc3RFbXB0eVxuICAgICAgICAgICAgICBjYXRlZ29yeT17dGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yeX1cbiAgICAgICAgICAgICAgZW1wdHlNZXNzYWdlPXt0aGlzLnByb3BzLm9wdGlvbnMuZW1wdHlNZXNzYWdlfVxuICAgICAgICAgICAgICBsaXN0PXt0aGlzLnByb3BzLnJvdXRlLmxpc3R9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvVGhyZWFkc0xpc3Q+XG5cbiAgICAgICAgICB7dGhpcy5nZXRNb3JlQnV0dG9uKCl9XG4gICAgICAgIDwvQ29udGFpbmVyPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmZ1bmN0aW9uIGlzSW5kZXgocHJvcHMpIHtcbiAgaWYgKHByb3BzLnJvdXRlLmNhdGVnb3J5LmxldmVsIHx8ICFtaXNhZ28uZ2V0KFwiVEhSRUFEU19PTl9JTkRFWFwiKSkgcmV0dXJuIGZhbHNlXG4gIGlmIChwcm9wcy5vcHRpb25zLnRpdGxlKSByZXR1cm4gZmFsc2VcblxuICByZXR1cm4gdHJ1ZVxufSIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IENhdGVnb3J5UGlja2VyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzL2NhdGVnb3J5LXBpY2tlclwiXG5pbXBvcnQgTW9kZXJhdGlvbkNvbnRyb2xzIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzL21vZGVyYXRpb24vY29udHJvbHNcIlxuaW1wb3J0IFNlbGVjdGlvbkNvbnRyb2xzIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzL21vZGVyYXRpb24vc2VsZWN0aW9uXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRDYXRlZ29yeVBpY2tlcigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMuc3ViY2F0ZWdvcmllcy5sZW5ndGgpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPENhdGVnb3J5UGlja2VyXG4gICAgICAgIGNhdGVnb3JpZXM9e3RoaXMucHJvcHMuY2F0ZWdvcmllc01hcH1cbiAgICAgICAgY2hvaWNlcz17dGhpcy5wcm9wcy5zdWJjYXRlZ29yaWVzfVxuICAgICAgICBsaXN0PXt0aGlzLnByb3BzLmxpc3R9XG4gICAgICAvPlxuICAgIClcbiAgfVxuXG4gIHNob3dNb2RlcmF0aW9uT3B0aW9ucygpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy51c2VyLmlkICYmIHRoaXMucHJvcHMubW9kZXJhdGlvbi5hbGxvd1xuICB9XG5cbiAgZ2V0U2VsZWN0ZWRUaHJlYWRzKCkge1xuICAgIHJldHVybiB0aGlzLnByb3BzLnRocmVhZHMuZmlsdGVyKHRocmVhZCA9PiB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5zZWxlY3Rpb24uaW5kZXhPZih0aHJlYWQuaWQpID49IDBcbiAgICB9KVxuICB9XG5cbiAgZ2V0TW9kZXJhdGlvbkJ1dHRvbigpIHtcbiAgICBpZiAoIXRoaXMuc2hvd01vZGVyYXRpb25PcHRpb25zKCkpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtNiBjb2wtc20tMyBjb2wtbWQtMlwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ0bi1ncm91cCBidG4tZ3JvdXAtanVzdGlmaWVkXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidG4tZ3JvdXAgZHJvcGRvd25cIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tb3V0bGluZSBkcm9wZG93bi10b2dnbGVcIlxuICAgICAgICAgICAgICBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCJcbiAgICAgICAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxuICAgICAgICAgICAgICBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIlxuICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZCB8fCAhdGhpcy5wcm9wcy5zZWxlY3Rpb24ubGVuZ3RofVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+c2V0dGluZ3M8L3NwYW4+XG4gICAgICAgICAgICAgIHtcIs6Vz4DOuc67zr/Os86tz4JcIn1cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgICA8TW9kZXJhdGlvbkNvbnRyb2xzXG4gICAgICAgICAgICAgIGFkZFRocmVhZHM9e3RoaXMucHJvcHMuYWRkVGhyZWFkc31cbiAgICAgICAgICAgICAgYXBpPXt0aGlzLnByb3BzLmFwaX1cbiAgICAgICAgICAgICAgY2F0ZWdvcmllcz17dGhpcy5wcm9wcy5jYXRlZ29yaWVzfVxuICAgICAgICAgICAgICBjYXRlZ29yaWVzTWFwPXt0aGlzLnByb3BzLmNhdGVnb3JpZXNNYXB9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImRyb3Bkb3duLW1lbnUgZHJvcGRvd24tbWVudS1yaWdodCBzdGljay10by1ib3R0b21cIlxuICAgICAgICAgICAgICBkZWxldGVUaHJlYWQ9e3RoaXMucHJvcHMuZGVsZXRlVGhyZWFkfVxuICAgICAgICAgICAgICBmcmVlemVUaHJlYWQ9e3RoaXMucHJvcHMuZnJlZXplVGhyZWFkfVxuICAgICAgICAgICAgICBtb2RlcmF0aW9uPXt0aGlzLnByb3BzLm1vZGVyYXRpb259XG4gICAgICAgICAgICAgIHJvdXRlPXt0aGlzLnByb3BzLnJvdXRlfVxuICAgICAgICAgICAgICB0aHJlYWRzPXt0aGlzLmdldFNlbGVjdGVkVGhyZWFkcygpfVxuICAgICAgICAgICAgICB1cGRhdGVUaHJlYWQ9e3RoaXMucHJvcHMudXBkYXRlVGhyZWFkfVxuICAgICAgICAgICAgICB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxuXG4gIGdldFNlbGVjdGlvbkJ1dHRvbigpIHtcbiAgICBpZiAoIXRoaXMuc2hvd01vZGVyYXRpb25PcHRpb25zKCkpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMyBjb2wtc20tMiBjb2wtbWQtMVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ0bi1ncm91cCBidG4tZ3JvdXAtanVzdGlmaWVkXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidG4tZ3JvdXAgZHJvcGRvd25cIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tb3V0bGluZSBidG4taWNvbiBkcm9wZG93bi10b2dnbGVcIlxuICAgICAgICAgICAgICBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCJcbiAgICAgICAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxuICAgICAgICAgICAgICBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIlxuICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnNlbGVjdF9hbGw8L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgICAgPFNlbGVjdGlvbkNvbnRyb2xzXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImRyb3Bkb3duLW1lbnUgZHJvcGRvd24tbWVudS1yaWdodCBzdGljay10by1ib3R0b21cIlxuICAgICAgICAgICAgICB0aHJlYWRzPXt0aGlzLnByb3BzLnRocmVhZHN9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgcm93LXRvb2xiYXIgcm93LXRvb2xiYXItYm90dG9tLW1hcmdpblwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0zIGNvbC1zbS0zIGNvbC1tZC0yIGRyb3Bkb3duXCI+XG4gICAgICAgICAge3RoaXMuZ2V0Q2F0ZWdvcnlQaWNrZXIoKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGlkZGVuLXhzIGNvbC1zbS00IGNvbC1tZC03XCIgLz5cbiAgICAgICAge3RoaXMuZ2V0TW9kZXJhdGlvbkJ1dHRvbigpfVxuICAgICAgICB7dGhpcy5nZXRTZWxlY3Rpb25CdXR0b24oKX1cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFBhZ2VUaXRsZShyb3V0ZSkge1xuICBpZiAocm91dGUuY2F0ZWdvcnkubGV2ZWwpIHtcbiAgICBpZiAocm91dGUubGlzdC5wYXRoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0aXRsZTogcm91dGUubGlzdC5sb25nTmFtZSxcbiAgICAgICAgcGFyZW50OiByb3V0ZS5jYXRlZ29yeS5uYW1lXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRpdGxlOiByb3V0ZS5jYXRlZ29yeS5uYW1lXG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKG1pc2Fnby5nZXQoXCJUSFJFQURTX09OX0lOREVYXCIpKSB7XG4gICAgaWYgKHJvdXRlLmxpc3QucGF0aCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGl0bGU6IHJvdXRlLmxpc3QubG9uZ05hbWVcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKHJvdXRlLmxpc3QucGF0aCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGl0bGU6IHJvdXRlLmxpc3QubG9uZ05hbWUsXG4gICAgICAgIHBhcmVudDogXCLOkc6zzrPOtc67zq/Otc+CXCJcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGl0bGU6IFwizpHOs86zzrXOu86vzrXPglwiXG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUaXRsZShyb3V0ZSkge1xuICBpZiAocm91dGUuY2F0ZWdvcnkubGV2ZWwpIHtcbiAgICByZXR1cm4gcm91dGUuY2F0ZWdvcnkubmFtZVxuICB9IGVsc2UgaWYgKG1pc2Fnby5nZXQoXCJUSFJFQURTX09OX0lOREVYXCIpKSB7XG4gICAgaWYgKG1pc2Fnby5nZXQoXCJTRVRUSU5HU1wiKS5pbmRleF9oZWFkZXIpIHtcbiAgICAgIHJldHVybiBtaXNhZ28uZ2V0KFwiU0VUVElOR1NcIikuaW5kZXhfaGVhZGVyXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBtaXNhZ28uZ2V0KFwiU0VUVElOR1NcIikuZm9ydW1fbmFtZVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gXCLOkc6zzrPOtc67zq/Otc+CXCJcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNUaHJlYWRDaGFuZ2VkKGN1cnJlbnQsIGZyb21EYikge1xuICByZXR1cm4gKFxuICAgIFtcbiAgICAgIGN1cnJlbnQudGl0bGUgPT09IGZyb21EYi50aXRsZSxcbiAgICAgIGN1cnJlbnQud2VpZ2h0ID09PSBmcm9tRGIud2VpZ2h0LFxuICAgICAgY3VycmVudC5jYXRlZ29yeSA9PT0gZnJvbURiLmNhdGVnb3J5LFxuICAgICAgY3VycmVudC5sYXN0X3Bvc3QgPT09IGZyb21EYi5sYXN0X3Bvc3QsXG4gICAgICBjdXJyZW50Lmxhc3RfcG9zdGVyX25hbWUgPT09IGZyb21EYi5sYXN0X3Bvc3Rlcl9uYW1lXG4gICAgXS5pbmRleE9mKGZhbHNlKSA+PSAwXG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRpZmZUaHJlYWRzKGN1cnJlbnQsIGZyb21EYikge1xuICBsZXQgY3VycmVudE1hcCA9IHt9XG4gIGN1cnJlbnQuZm9yRWFjaChmdW5jdGlvbih0aHJlYWQpIHtcbiAgICBjdXJyZW50TWFwW3RocmVhZC5pZF0gPSB0aHJlYWRcbiAgfSlcblxuICByZXR1cm4gZnJvbURiLmZpbHRlcihmdW5jdGlvbih0aHJlYWQpIHtcbiAgICBpZiAoY3VycmVudE1hcFt0aHJlYWQuaWRdKSB7XG4gICAgICByZXR1cm4gaXNUaHJlYWRDaGFuZ2VkKGN1cnJlbnRNYXBbdGhyZWFkLmlkXSwgdGhyZWFkKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgfSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE1vZGVyYXRpb25BY3Rpb25zKHRocmVhZHMpIHtcbiAgbGV0IG1vZGVyYXRpb24gPSB7XG4gICAgYWxsb3c6IGZhbHNlLFxuXG4gICAgY2FuX2FwcHJvdmU6IDAsXG4gICAgY2FuX2Nsb3NlOiAwLFxuICAgIGNhbl9kZWxldGU6IDAsXG4gICAgY2FuX2hpZGU6IDAsXG4gICAgY2FuX21lcmdlOiAwLFxuICAgIGNhbl9tb3ZlOiAwLFxuICAgIGNhbl9waW46IDAsXG4gICAgY2FuX3Bpbl9nbG9iYWxseTogMCxcbiAgICBjYW5fdW5oaWRlOiAwXG4gIH1cblxuICB0aHJlYWRzLmZvckVhY2goZnVuY3Rpb24odGhyZWFkKSB7XG4gICAgaWYgKFxuICAgICAgdGhyZWFkLmlzX3VuYXBwcm92ZWQgJiZcbiAgICAgIHRocmVhZC5hY2wuY2FuX2FwcHJvdmUgPiBtb2RlcmF0aW9uLmNhbl9hcHByb3ZlXG4gICAgKSB7XG4gICAgICBtb2RlcmF0aW9uLmNhbl9hcHByb3ZlID0gdGhyZWFkLmFjbC5jYW5fYXBwcm92ZVxuICAgIH1cblxuICAgIGlmICh0aHJlYWQuYWNsLmNhbl9jbG9zZSA+IG1vZGVyYXRpb24uY2FuX2Nsb3NlKSB7XG4gICAgICBtb2RlcmF0aW9uLmNhbl9jbG9zZSA9IHRocmVhZC5hY2wuY2FuX2Nsb3NlXG4gICAgfVxuXG4gICAgaWYgKHRocmVhZC5hY2wuY2FuX2RlbGV0ZSA+IG1vZGVyYXRpb24uY2FuX2RlbGV0ZSkge1xuICAgICAgbW9kZXJhdGlvbi5jYW5fZGVsZXRlID0gdGhyZWFkLmFjbC5jYW5fZGVsZXRlXG4gICAgfVxuXG4gICAgaWYgKHRocmVhZC5hY2wuY2FuX2hpZGUgPiBtb2RlcmF0aW9uLmNhbl9oaWRlKSB7XG4gICAgICBtb2RlcmF0aW9uLmNhbl9oaWRlID0gdGhyZWFkLmFjbC5jYW5faGlkZVxuICAgIH1cblxuICAgIGlmICh0aHJlYWQuYWNsLmNhbl9tZXJnZSA+IG1vZGVyYXRpb24uY2FuX21lcmdlKSB7XG4gICAgICBtb2RlcmF0aW9uLmNhbl9tZXJnZSA9IHRocmVhZC5hY2wuY2FuX21lcmdlXG4gICAgfVxuXG4gICAgaWYgKHRocmVhZC5hY2wuY2FuX21vdmUgPiBtb2RlcmF0aW9uLmNhbl9tb3ZlKSB7XG4gICAgICBtb2RlcmF0aW9uLmNhbl9tb3ZlID0gdGhyZWFkLmFjbC5jYW5fbW92ZVxuICAgIH1cblxuICAgIGlmICh0aHJlYWQuYWNsLmNhbl9waW4gPiBtb2RlcmF0aW9uLmNhbl9waW4pIHtcbiAgICAgIG1vZGVyYXRpb24uY2FuX3BpbiA9IHRocmVhZC5hY2wuY2FuX3BpblxuICAgIH1cblxuICAgIGlmICh0aHJlYWQuYWNsLmNhbl9waW5fZ2xvYmFsbHkgPiBtb2RlcmF0aW9uLmNhbl9waW5fZ2xvYmFsbHkpIHtcbiAgICAgIG1vZGVyYXRpb24uY2FuX3Bpbl9nbG9iYWxseSA9IHRocmVhZC5hY2wuY2FuX3Bpbl9nbG9iYWxseVxuICAgIH1cblxuICAgIGlmICh0aHJlYWQuaXNfaGlkZGVuICYmIHRocmVhZC5hY2wuY2FuX3VuaGlkZSA+IG1vZGVyYXRpb24uY2FuX3VuaGlkZSkge1xuICAgICAgbW9kZXJhdGlvbi5jYW5fdW5oaWRlID0gdGhyZWFkLmFjbC5jYW5fdW5oaWRlXG4gICAgfVxuXG4gICAgbW9kZXJhdGlvbi5hbGxvdyA9XG4gICAgICBtb2RlcmF0aW9uLmNhbl9hcHByb3ZlIHx8XG4gICAgICBtb2RlcmF0aW9uLmNhbl9jbG9zZSB8fFxuICAgICAgbW9kZXJhdGlvbi5jYW5fZGVsZXRlIHx8XG4gICAgICBtb2RlcmF0aW9uLmNhbl9oaWRlIHx8XG4gICAgICBtb2RlcmF0aW9uLmNhbl9tZXJnZSB8fFxuICAgICAgbW9kZXJhdGlvbi5jYW5fbW92ZSB8fFxuICAgICAgbW9kZXJhdGlvbi5jYW5fcGluIHx8XG4gICAgICBtb2RlcmF0aW9uLmNhbl9waW5fZ2xvYmFsbHkgfHxcbiAgICAgIG1vZGVyYXRpb24uY2FuX3VuaGlkZVxuICB9KVxuXG4gIHJldHVybiBtb2RlcmF0aW9uXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBBdmF0YXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2F2YXRhclwiXG5pbXBvcnQgTmF2YmFyU2VhcmNoIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9uYXZiYXItc2VhcmNoXCJcbmltcG9ydCBSZWdpc3RlckJ1dHRvbiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvcmVnaXN0ZXItYnV0dG9uXCJcbmltcG9ydCBTaWduSW5Nb2RhbCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvc2lnbi1pbi5qc1wiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ29cIlxuaW1wb3J0IGRyb3Bkb3duIGZyb20gXCJtaXNhZ28vc2VydmljZXMvbW9iaWxlLW5hdmJhci1kcm9wZG93blwiXG5pbXBvcnQgbW9kYWwgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9tb2RhbFwiXG5cbmV4cG9ydCBjbGFzcyBHdWVzdE1lbnUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzaG93U2lnbkluTW9kYWwoKSB7XG4gICAgbW9kYWwuc2hvdyhTaWduSW5Nb2RhbClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHVsXG4gICAgICAgIGNsYXNzTmFtZT1cImRyb3Bkb3duLW1lbnUgdXNlci1kcm9wZG93biBkcm9wZG93bi1tZW51LXJpZ2h0XCJcbiAgICAgICAgcm9sZT1cIm1lbnVcIlxuICAgICAgPlxuICAgICAgICA8bGkgY2xhc3NOYW1lPVwiZ3Vlc3QtcHJldmlld1wiPlxuICAgICAgICAgIDxoND57XCLOks67zq3PgM61zrnPgiDPhM63IM+DzrXOu86vzrTOsSDPic+CIM61z4DOuc+DzrrOrc+Az4TOt8+CXCJ9PC9oND5cbiAgICAgICAgICA8cD5cbiAgICAgICAgICAgIHtcIs6jz4XOvc60zq3Pg86/z4Ugzq4gzrrOrM69zrUgzrXOs86zz4HOsc+Gzq4gzrPOuc6xIM69zrEgzrTOt868zr/Pg865zq3Phc+DzrXOuc+CIM6uIM69zrEgzrHOvc6xzrvOrM6yzrXOuc+CIM6tz4HOs86xIVwifVxuICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAge21pc2Fnby5nZXQoXCJTRVRUSU5HU1wiKS5lbmFibGVfc3NvID8gKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMlwiPlxuICAgICAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnkgYnRuLXJlZ2lzdGVyIGJ0bi1ibG9ja1wiXG4gICAgICAgICAgICAgICAgICBocmVmPXttaXNhZ28uZ2V0KFwiU0VUVElOR1NcIikuU1NPX0xPR0lOX1VSTH1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7XCLOo8+Nzr3OtM61z4POt1wifVxuICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy02XCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zaWduLWluIGJ0bi1ibG9ja1wiXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnNob3dTaWduSW5Nb2RhbH1cbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtcIs6jz43Ovc60zrXPg863XCJ9XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIHshbWlzYWdvLmdldChcIlNFVFRJTkdTXCIpLmVuYWJsZV9zc28gJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy02XCI+XG4gICAgICAgICAgICAgICAgPFJlZ2lzdGVyQnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5IGJ0bi1yZWdpc3RlciBidG4tYmxvY2tcIj5cbiAgICAgICAgICAgICAgICAgIHtcIs6VzrPOs8+BzrHPhs6uXCJ9XG4gICAgICAgICAgICAgICAgPC9SZWdpc3RlckJ1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2xpPlxuICAgICAgPC91bD5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEd1ZXN0TmF2IGV4dGVuZHMgR3Vlc3RNZW51IHtcbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm5hdiBuYXYtZ3Vlc3RcIj5cbiAgICAgICAge21pc2Fnby5nZXQoXCJTRVRUSU5HU1wiKS5lbmFibGVfc3NvID8gKFxuICAgICAgICAgIDxhXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gbmF2YmFyLWJ0biBidG4tcHJpbWFyeSBidG4tcmVnaXN0ZXJcIlxuICAgICAgICAgICAgaHJlZj17bWlzYWdvLmdldChcIlNFVFRJTkdTXCIpLlNTT19MT0dJTl9VUkx9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge1wizqPPjc69zrTOtc+DzrdcIn1cbiAgICAgICAgICA8L2E+XG4gICAgICAgICkgOiAoXG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIG5hdmJhci1idG4gYnRuLWRlZmF1bHQgYnRuLXNpZ24taW5cIlxuICAgICAgICAgICAgb25DbGljaz17dGhpcy5zaG93U2lnbkluTW9kYWx9XG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICB7XCLOo8+Nzr3OtM61z4POt1wifVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICApfVxuICAgICAgICB7IW1pc2Fnby5nZXQoXCJTRVRUSU5HU1wiKS5lbmFibGVfc3NvICYmIChcbiAgICAgICAgICA8UmVnaXN0ZXJCdXR0b24gY2xhc3NOYW1lPVwibmF2YmFyLWJ0biBidG4tcHJpbWFyeSBidG4tcmVnaXN0ZXJcIj5cbiAgICAgICAgICAgIHtcIs6VzrPOs8+BzrHPhs6uXCJ9XG4gICAgICAgICAgPC9SZWdpc3RlckJ1dHRvbj5cbiAgICAgICAgKX1cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJuYXZiYXItbGVmdFwiPlxuICAgICAgICAgIDxOYXZiYXJTZWFyY2ggLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbXBhY3RHdWVzdE5hdiBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHNob3dHdWVzdE1lbnUoKSB7XG4gICAgZHJvcGRvd24uc2hvdyhHdWVzdE1lbnUpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIG9uQ2xpY2s9e3RoaXMuc2hvd0d1ZXN0TWVudX0+XG4gICAgICAgIDxBdmF0YXIgc2l6ZT1cIjY0XCIgLz5cbiAgICAgIDwvYnV0dG9uPlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyBHdWVzdE5hdiwgQ29tcGFjdEd1ZXN0TmF2IH0gZnJvbSBcIi4vZ3Vlc3QtbmF2XCJcbmltcG9ydCB7IFVzZXJOYXYsIENvbXBhY3RVc2VyTmF2IH0gZnJvbSBcIi4vdXNlci1uYXZcIlxuXG5leHBvcnQgY2xhc3MgVXNlck1lbnUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuaXNBdXRoZW50aWNhdGVkKSB7XG4gICAgICByZXR1cm4gPFVzZXJOYXYgdXNlcj17dGhpcy5wcm9wcy51c2VyfSAvPlxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gPEd1ZXN0TmF2IC8+XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDb21wYWN0VXNlck1lbnUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuaXNBdXRoZW50aWNhdGVkKSB7XG4gICAgICByZXR1cm4gPENvbXBhY3RVc2VyTmF2IHVzZXI9e3RoaXMucHJvcHMudXNlcn0gLz5cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIDxDb21wYWN0R3Vlc3ROYXYgLz5cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdChzdGF0ZSkge1xuICByZXR1cm4gc3RhdGUuYXV0aFxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcInJlYWN0LXJlZHV4XCJcbmltcG9ydCBBdmF0YXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2F2YXRhclwiXG5pbXBvcnQgQ2hhbmdlQXZhdGFyTW9kYWwsIHsgc2VsZWN0IH0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2NoYW5nZS1hdmF0YXIvcm9vdFwiXG5pbXBvcnQgTmF2YmFyU2VhcmNoIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9uYXZiYXItc2VhcmNoXCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnb1wiXG5pbXBvcnQgZHJvcGRvd24gZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9tb2JpbGUtbmF2YmFyLWRyb3Bkb3duXCJcbmltcG9ydCBtb2RhbCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL21vZGFsXCJcblxuZXhwb3J0IGNsYXNzIFVzZXJNZW51IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgbG9nb3V0KCkge1xuICAgIGxldCBkZWNpc2lvbiA9IGNvbmZpcm0oXCLOmM6tzrvOtc65z4Igz4POr86zzr/Phc+BzrEgzr3OsSDOsc+Azr/Pg8+Fzr3OtM61zrjOtc6vz4I7XCIpXG4gICAgaWYgKGRlY2lzaW9uKSB7XG4gICAgICAkKFwiI2hpZGRlbi1sb2dvdXQtZm9ybVwiKS5zdWJtaXQoKVxuICAgIH1cbiAgfVxuXG4gIGNoYW5nZUF2YXRhcigpIHtcbiAgICBtb2RhbC5zaG93KGNvbm5lY3Qoc2VsZWN0KShDaGFuZ2VBdmF0YXJNb2RhbCkpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyB1c2VyIH0gPSB0aGlzLnByb3BzXG5cbiAgICByZXR1cm4gKFxuICAgICAgPHVsXG4gICAgICAgIGNsYXNzTmFtZT1cImRyb3Bkb3duLW1lbnUgdXNlci1kcm9wZG93biBkcm9wZG93bi1tZW51LXJpZ2h0XCJcbiAgICAgICAgcm9sZT1cIm1lbnVcIlxuICAgICAgPlxuICAgICAgICA8bGkgY2xhc3NOYW1lPVwiZHJvcGRvd24taGVhZGVyXCI+XG4gICAgICAgICAgPHN0cm9uZz57dXNlci51c2VybmFtZX08L3N0cm9uZz5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyB1c2VyLXN0YXRzXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS0zXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5tZXNzYWdlPC9zcGFuPlxuICAgICAgICAgICAgICB7dXNlci5wb3N0c31cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tM1wiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Zm9ydW08L3NwYW4+XG4gICAgICAgICAgICAgIHt1c2VyLnRocmVhZHN9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTNcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmZhdm9yaXRlPC9zcGFuPlxuICAgICAgICAgICAgICB7dXNlci5mb2xsb3dlcnN9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTNcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmZhdm9yaXRlX291dGxpbmU8L3NwYW4+XG4gICAgICAgICAgICAgIHt1c2VyLmZvbGxvd2luZ31cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2xpPlxuICAgICAgICA8bGkgY2xhc3NOYW1lPVwiZGl2aWRlclwiIC8+XG4gICAgICAgIDxsaT5cbiAgICAgICAgICA8YSBocmVmPXt1c2VyLnVybH0+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+YWNjb3VudF9jaXJjbGU8L3NwYW4+XG4gICAgICAgICAgICB7XCLOlM61z4Igz4TOvyDPgM+Bzr/Phs6vzrsgz4POv8+FXCJ9XG4gICAgICAgICAgPC9hPlxuICAgICAgICA8L2xpPlxuICAgICAgICA8bGk+XG4gICAgICAgICAgPGEgaHJlZj17bWlzYWdvLmdldChcIlVTRVJDUF9VUkxcIil9PlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmRvbmVfYWxsPC9zcGFuPlxuICAgICAgICAgICAge1wizobOu867zrHOvs61IM+EzrnPgiDOtc+AzrnOu86/zrPOrc+CIM+Dzr/PhVwifVxuICAgICAgICAgIDwvYT5cbiAgICAgICAgPC9saT5cbiAgICAgICAgPGxpPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1saW5rXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuY2hhbmdlQXZhdGFyfVxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnBvcnRyYWl0PC9zcGFuPlxuICAgICAgICAgICAge1wizobOu867zrHOvs61IM+EzrfOvSDOtc65zrrPjM69zrEgz4POv8+FXCJ9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvbGk+XG4gICAgICAgIHshIXVzZXIuYWNsLmNhbl91c2VfcHJpdmF0ZV90aHJlYWRzICYmIChcbiAgICAgICAgICA8bGk+XG4gICAgICAgICAgICA8YSBocmVmPXttaXNhZ28uZ2V0KFwiUFJJVkFURV9USFJFQURTX1VSTFwiKX0+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5tZXNzYWdlPC9zcGFuPlxuICAgICAgICAgICAgICB7XCLOo8+Fzr3Ov868zrnOu86vzrXPgiDOs865zrEgzrXPgc6zzrHPg86vzrXPglwifVxuICAgICAgICAgICAgICA8UHJpdmF0ZVRocmVhZHNCYWRnZSB1c2VyPXt1c2VyfSAvPlxuICAgICAgICAgICAgPC9hPlxuICAgICAgICAgIDwvbGk+XG4gICAgICAgICl9XG4gICAgICAgIDxsaSBjbGFzc05hbWU9XCJkaXZpZGVyXCIgLz5cbiAgICAgICAgPGxpIGNsYXNzTmFtZT1cImRyb3Bkb3duLWJ1dHRvbnNcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMubG9nb3V0fVxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAge1wizpHPgM6/z4PPjc69zrTOtc+DzrdcIn1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9saT5cbiAgICAgIDwvdWw+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQcml2YXRlVGhyZWFkc0JhZGdlKHsgdXNlciB9KSB7XG4gIGlmICghdXNlci51bnJlYWRfcHJpdmF0ZV90aHJlYWRzKSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiA8c3BhbiBjbGFzc05hbWU9XCJiYWRnZVwiPnt1c2VyLnVucmVhZF9wcml2YXRlX3RocmVhZHN9PC9zcGFuPlxufVxuXG5leHBvcnQgZnVuY3Rpb24gVXNlck5hdih7IHVzZXIgfSkge1xuICByZXR1cm4gKFxuICAgIDx1bCBjbGFzc05hbWU9XCJ1bCBuYXYgbmF2YmFyLW5hdiBuYXYtdXNlclwiPlxuICAgICAgPGxpPlxuICAgICAgICA8TmF2YmFyU2VhcmNoIC8+XG4gICAgICA8L2xpPlxuICAgICAgPFVzZXJQcml2YXRlVGhyZWFkc0xpbmsgdXNlcj17dXNlcn0gLz5cbiAgICAgIDxsaSBjbGFzc05hbWU9XCJkcm9wZG93blwiPlxuICAgICAgICA8YVxuICAgICAgICAgIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCJcbiAgICAgICAgICBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIlxuICAgICAgICAgIGNsYXNzTmFtZT1cImRyb3Bkb3duLXRvZ2dsZVwiXG4gICAgICAgICAgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiXG4gICAgICAgICAgaHJlZj17dXNlci51cmx9XG4gICAgICAgICAgcm9sZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICA8QXZhdGFyIHVzZXI9e3VzZXJ9IHNpemU9XCI2NFwiIC8+XG4gICAgICAgIDwvYT5cbiAgICAgICAgPFVzZXJNZW51IHVzZXI9e3VzZXJ9IC8+XG4gICAgICA8L2xpPlxuICAgIDwvdWw+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFVzZXJQcml2YXRlVGhyZWFkc0xpbmsoeyB1c2VyIH0pIHtcbiAgaWYgKCF1c2VyLmFjbC5jYW5fdXNlX3ByaXZhdGVfdGhyZWFkcykgcmV0dXJuIG51bGxcblxuICBsZXQgdGl0bGUgPSBudWxsXG4gIGlmICh1c2VyLnVucmVhZF9wcml2YXRlX3RocmVhZHMpIHtcbiAgICB0aXRsZSA9IFwizojPh861zrnPgiDOsc60zrnOrM6yzrHPg8+EzrEgzrzOt869z43OvM6xz4TOsSFcIlxuICB9IGVsc2Uge1xuICAgIHRpdGxlID0gXCLOo8+Fzr3Ov868zrnOu86vzrXPgiDOs865zrEgzrXPgc6zzrHPg86vzrXPglwiXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxsaT5cbiAgICAgIDxhXG4gICAgICAgIGNsYXNzTmFtZT1cIm5hdmJhci1pY29uXCJcbiAgICAgICAgaHJlZj17bWlzYWdvLmdldChcIlBSSVZBVEVfVEhSRUFEU19VUkxcIil9XG4gICAgICAgIHRpdGxlPXt0aXRsZX1cbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPm1lc3NhZ2U8L3NwYW4+XG4gICAgICAgIHt1c2VyLnVucmVhZF9wcml2YXRlX3RocmVhZHMgPiAwICYmIChcbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJiYWRnZVwiPnt1c2VyLnVucmVhZF9wcml2YXRlX3RocmVhZHN9PC9zcGFuPlxuICAgICAgICApfVxuICAgICAgPC9hPlxuICAgIDwvbGk+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdFVzZXJNZW51KHN0YXRlKSB7XG4gIHJldHVybiB7XG4gICAgdXNlcjogc3RhdGUuYXV0aC51c2VyXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbXBhY3RVc2VyTmF2IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc2hvd1VzZXJNZW51KCkge1xuICAgIGRyb3Bkb3duLnNob3dDb25uZWN0ZWQoXCJ1c2VyLW1lbnVcIiwgY29ubmVjdChzZWxlY3RVc2VyTWVudSkoVXNlck1lbnUpKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBvbkNsaWNrPXt0aGlzLnNob3dVc2VyTWVudX0+XG4gICAgICAgIDxBdmF0YXIgdXNlcj17dGhpcy5wcm9wcy51c2VyfSBzaXplPVwiNTBcIiAvPlxuICAgICAgPC9idXR0b24+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRDbGFzcygpIHtcbiAgICByZXR1cm4gZ2V0U3RhdHVzQ2xhc3NOYW1lKHRoaXMucHJvcHMuc3RhdHVzKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiA8c3BhbiBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3MoKX0+e3RoaXMucHJvcHMuY2hpbGRyZW59PC9zcGFuPlxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTdGF0dXNJY29uIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0SWNvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5zdGF0dXMuaXNfYmFubmVkKSB7XG4gICAgICByZXR1cm4gXCJyZW1vdmVfY2lyY2xlX291dGxpbmVcIlxuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zdGF0dXMuaXNfaGlkZGVuKSB7XG4gICAgICByZXR1cm4gXCJoZWxwX291dGxpbmVcIlxuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zdGF0dXMuaXNfb25saW5lX2hpZGRlbikge1xuICAgICAgcmV0dXJuIFwibGFiZWxcIlxuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zdGF0dXMuaXNfb2ZmbGluZV9oaWRkZW4pIHtcbiAgICAgIHJldHVybiBcImxhYmVsX291dGxpbmVcIlxuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zdGF0dXMuaXNfb25saW5lKSB7XG4gICAgICByZXR1cm4gXCJsZW5zXCJcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuc3RhdHVzLmlzX29mZmxpbmUpIHtcbiAgICAgIHJldHVybiBcInBhbm9yYW1hX2Zpc2hfZXllXCJcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb24gc3RhdHVzLWljb25cIj57dGhpcy5nZXRJY29uKCl9PC9zcGFuPlxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTdGF0dXNMYWJlbCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldEhlbHAoKSB7XG4gICAgcmV0dXJuIGdldFN0YXR1c0Rlc2NyaXB0aW9uKHRoaXMucHJvcHMudXNlciwgdGhpcy5wcm9wcy5zdGF0dXMpXG4gIH1cblxuICBnZXRMYWJlbCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5zdGF0dXMuaXNfYmFubmVkKSB7XG4gICAgICByZXR1cm4gXCLOkc+AzrXOus67zrXOuc+DzrzOrc69zr/PglwiXG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnN0YXR1cy5pc19oaWRkZW4pIHtcbiAgICAgIHJldHVybiBcIs6az4HPhc68zrzOrc69zr/PglwiXG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnN0YXR1cy5pc19vbmxpbmVfaGlkZGVuKSB7XG4gICAgICByZXR1cm4gXCLOo8+Fzr3OtM61zrTOtc68zq3Ovc6/z4IgKM66z4HPhc68zrzOrc69zr/PgilcIlxuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zdGF0dXMuaXNfb2ZmbGluZV9oaWRkZW4pIHtcbiAgICAgIHJldHVybiBcIs6VzrrPhM+Mz4Igz4PPjc69zrTOtc+DzrfPgiAozrrPgc+FzrzOvM6tzr3PjM+CKVwiXG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnN0YXR1cy5pc19vbmxpbmUpIHtcbiAgICAgIHJldHVybiBcIs6jz4XOvc60zrXOtM61zrzOrc69zr/PglwiXG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnN0YXR1cy5pc19vZmZsaW5lKSB7XG4gICAgICByZXR1cm4gXCLOlc66z4TPjM+CIM+Dz43Ovc60zrXPg863z4JcIlxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHNwYW5cbiAgICAgICAgY2xhc3NOYW1lPXt0aGlzLnByb3BzLmNsYXNzTmFtZSB8fCBcInN0YXR1cy1sYWJlbFwifVxuICAgICAgICB0aXRsZT17dGhpcy5nZXRIZWxwKCl9XG4gICAgICA+XG4gICAgICAgIHt0aGlzLmdldExhYmVsKCl9XG4gICAgICA8L3NwYW4+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTdGF0dXNDbGFzc05hbWUoc3RhdHVzKSB7XG4gIGxldCBjbGFzc05hbWUgPSBcIlwiXG4gIGlmIChzdGF0dXMuaXNfYmFubmVkKSB7XG4gICAgY2xhc3NOYW1lID0gXCJiYW5uZWRcIlxuICB9IGVsc2UgaWYgKHN0YXR1cy5pc19oaWRkZW4pIHtcbiAgICBjbGFzc05hbWUgPSBcIm9mZmxpbmVcIlxuICB9IGVsc2UgaWYgKHN0YXR1cy5pc19vbmxpbmVfaGlkZGVuKSB7XG4gICAgY2xhc3NOYW1lID0gXCJvbmxpbmVcIlxuICB9IGVsc2UgaWYgKHN0YXR1cy5pc19vZmZsaW5lX2hpZGRlbikge1xuICAgIGNsYXNzTmFtZSA9IFwib2ZmbGluZVwiXG4gIH0gZWxzZSBpZiAoc3RhdHVzLmlzX29ubGluZSkge1xuICAgIGNsYXNzTmFtZSA9IFwib25saW5lXCJcbiAgfSBlbHNlIGlmIChzdGF0dXMuaXNfb2ZmbGluZSkge1xuICAgIGNsYXNzTmFtZSA9IFwib2ZmbGluZVwiXG4gIH1cblxuICByZXR1cm4gXCJ1c2VyLXN0YXR1cyB1c2VyLVwiICsgY2xhc3NOYW1lXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTdGF0dXNEZXNjcmlwdGlvbih1c2VyLCBzdGF0dXMpIHtcbiAgaWYgKHN0YXR1cy5pc19iYW5uZWQpIHtcbiAgICBpZiAoc3RhdHVzLmJhbm5lZF91bnRpbCkge1xuICAgICAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgICAgICBcIs6fIM+Hz4HOrs+Dz4TOt8+CICUodXNlcm5hbWUpcyDOtc6vzr3Osc65IM6xz4DOtc66zrvOtc65z4POvM6tzr3Ov8+CIM68zq3Ph8+BzrkgJShiYW5fZXhwaXJlcylzXCIsXG4gICAgICAgIHtcbiAgICAgICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZSxcbiAgICAgICAgICBiYW5fZXhwaXJlczogc3RhdHVzLmJhbm5lZF91bnRpbC5mb3JtYXQoXCJMTCwgTFRcIilcbiAgICAgICAgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICAgIFwizp8gz4fPgc6uz4PPhM63z4IgJSh1c2VybmFtZSlzIM61zq/Ovc6xzrkgzrHPgM61zrrOu861zrnPg868zq3Ovc6/z4JcIixcbiAgICAgICAge1xuICAgICAgICAgIHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lXG4gICAgICAgIH0sXG4gICAgICAgIHRydWVcbiAgICAgIClcbiAgICB9XG4gIH0gZWxzZSBpZiAoc3RhdHVzLmlzX2hpZGRlbikge1xuICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgIFwizp8gz4fPgc6uz4PPhM63z4IgJSh1c2VybmFtZSlzIM61zq/Ovc6xzrkgzrrPgc+FzrzOvM6tzr3Ov8+CXCIsXG4gICAgICB7XG4gICAgICAgIHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lXG4gICAgICB9LFxuICAgICAgdHJ1ZVxuICAgIClcbiAgfSBlbHNlIGlmIChzdGF0dXMuaXNfb25saW5lX2hpZGRlbikge1xuICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgIFwizp8gz4fPgc6uz4PPhM63z4IgJSh1c2VybmFtZSlzIM61zq/Ovc6xzrkgz4PPhc69zrTOtc60zrXOvM6tzr3Ov8+CICjOus+Bz4XOvM68zq3Ovc6/z4IpXCIsXG4gICAgICB7XG4gICAgICAgIHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lXG4gICAgICB9LFxuICAgICAgdHJ1ZVxuICAgIClcbiAgfSBlbHNlIGlmIChzdGF0dXMuaXNfb2ZmbGluZV9oaWRkZW4pIHtcbiAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICBcIs6fIM+Hz4HOrs+Dz4TOt8+CICUodXNlcm5hbWUpcyDPg8+Fzr3OtM6tzrjOt866zrUgz4TOtc67zrXPhc+EzrHOr86xIM+Gzr/Pgc6sIM+Dz4TOuc+CICUobGFzdF9jbGljaylzICjOus+Bz4XOvM68zq3Ovc6/z4IpXCIsXG4gICAgICB7XG4gICAgICAgIHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lLFxuICAgICAgICBsYXN0X2NsaWNrOiBzdGF0dXMubGFzdF9jbGljay5mcm9tTm93KClcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuICB9IGVsc2UgaWYgKHN0YXR1cy5pc19vbmxpbmUpIHtcbiAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICBcIs6fIM+Hz4HOrs+Dz4TOt8+CICUodXNlcm5hbWUpcyDOtc6vzr3Osc65IM+Dz4XOvc60zrXOtM61zrzOrc69zr/PglwiLFxuICAgICAge1xuICAgICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZVxuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG4gIH0gZWxzZSBpZiAoc3RhdHVzLmlzX29mZmxpbmUpIHtcbiAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICBcIs6fIM+Hz4HOrs+Dz4TOt8+CICUodXNlcm5hbWUpcyDPg8+Fzr3OtM6tzrjOt866zrUgz4TOtc67zrXPhc+EzrHOr86xIM+Gzr/Pgc6sIM+Dz4TOuc+CICUobGFzdF9jbGljaylzXCIsXG4gICAgICB7XG4gICAgICAgIHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lLFxuICAgICAgICBsYXN0X2NsaWNrOiBzdGF0dXMubGFzdF9jbGljay5mcm9tTm93KClcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBBdmF0YXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2F2YXRhclwiXG5pbXBvcnQgKiBhcyByYW5kb20gZnJvbSBcIm1pc2Fnby91dGlscy9yYW5kb21cIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHNob3VsZENvbXBvbmVudFVwZGF0ZSgpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5oaWRkZW5Pbk1vYmlsZSkge1xuICAgICAgcmV0dXJuIFwibGlzdC1ncm91cC1pdGVtIGhpZGRlbi14cyBoaWRkZW4tc21cIlxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCJsaXN0LWdyb3VwLWl0ZW1cIlxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGxpIGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhbmdlLWF2YXRhclwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInVzZXItYXZhdGFyXCI+XG4gICAgICAgICAgICA8QXZhdGFyIHNpemU9XCIxMDBcIiAvPlxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhbmdlLWF1dGhvclwiPlxuICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHJhbmRvbS5pbnQoMzAsIDEwMCkgKyBcInB4XCIgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYW5nZVwiPlxuICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHJhbmRvbS5pbnQoMzAsIDcwKSArIFwicHhcIiB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+YXJyb3dfZm9yd2FyZDwvc3Bhbj5cbiAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiByYW5kb20uaW50KDMwLCA3MCkgKyBcInB4XCIgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYW5nZS1kYXRlXCI+XG4gICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCg4MCwgMTQwKSArIFwicHhcIiB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQXZhdGFyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9hdmF0YXJcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlclVzZXJBdmF0YXIoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuY2hhbmdlLmNoYW5nZWRfYnkpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxhXG4gICAgICAgICAgaHJlZj17dGhpcy5wcm9wcy5jaGFuZ2UuY2hhbmdlZF9ieS51cmx9XG4gICAgICAgICAgY2xhc3NOYW1lPVwidXNlci1hdmF0YXItd3JhcHBlclwiXG4gICAgICAgID5cbiAgICAgICAgICA8QXZhdGFyIHVzZXI9e3RoaXMucHJvcHMuY2hhbmdlLmNoYW5nZWRfYnl9IHNpemU9XCIxMDBcIiAvPlxuICAgICAgICA8L2E+XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInVzZXItYXZhdGFyLXdyYXBwZXJcIj5cbiAgICAgICAgICA8QXZhdGFyIHNpemU9XCIxMDBcIiAvPlxuICAgICAgICA8L3NwYW4+XG4gICAgICApXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyVXNlcm5hbWUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuY2hhbmdlLmNoYW5nZWRfYnkpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxhIGhyZWY9e3RoaXMucHJvcHMuY2hhbmdlLmNoYW5nZWRfYnkudXJsfSBjbGFzc05hbWU9XCJpdGVtLXRpdGxlXCI+XG4gICAgICAgICAge3RoaXMucHJvcHMuY2hhbmdlLmNoYW5nZWRfYnkudXNlcm5hbWV9XG4gICAgICAgIDwvYT5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaXRlbS10aXRsZVwiPlxuICAgICAgICAgIHt0aGlzLnByb3BzLmNoYW5nZS5jaGFuZ2VkX2J5X3VzZXJuYW1lfVxuICAgICAgICA8L3NwYW4+XG4gICAgICApXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8bGkgY2xhc3NOYW1lPVwibGlzdC1ncm91cC1pdGVtXCIga2V5PXt0aGlzLnByb3BzLmNoYW5nZS5pZH0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhbmdlLWF2YXRhclwiPnt0aGlzLnJlbmRlclVzZXJBdmF0YXIoKX08L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGFuZ2UtYXV0aG9yXCI+e3RoaXMucmVuZGVyVXNlcm5hbWUoKX08L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGFuZ2VcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJvbGQtdXNlcm5hbWVcIj57dGhpcy5wcm9wcy5jaGFuZ2Uub2xkX3VzZXJuYW1lfTwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+YXJyb3dfZm9yd2FyZDwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJuZXctdXNlcm5hbWVcIj57dGhpcy5wcm9wcy5jaGFuZ2UubmV3X3VzZXJuYW1lfTwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhbmdlLWRhdGVcIj5cbiAgICAgICAgICA8YWJiciB0aXRsZT17dGhpcy5wcm9wcy5jaGFuZ2UuY2hhbmdlZF9vbi5mb3JtYXQoXCJMTExcIil9PlxuICAgICAgICAgICAge3RoaXMucHJvcHMuY2hhbmdlLmNoYW5nZWRfb24uZnJvbU5vdygpfVxuICAgICAgICAgIDwvYWJicj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0RW1wdHlNZXNzYWdlKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmVtcHR5TWVzc2FnZSkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuZW1wdHlNZXNzYWdlXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcIs6UzrXOvSDOrc+HzrXOuc+CIM6xzrvOu86szr7Otc65IM+Ezr8gz4zOvc6/zrzOsSDPh8+Bzq7Pg8+Ezrcgz4POv8+FXCJcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlcm5hbWUtaGlzdG9yeSB1aS1yZWFkeVwiPlxuICAgICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC1ncm91cFwiPlxuICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJsaXN0LWdyb3VwLWl0ZW0gZW1wdHktbWVzc2FnZVwiPlxuICAgICAgICAgICAge3RoaXMuZ2V0RW1wdHlNZXNzYWdlKCl9XG4gICAgICAgICAgPC9saT5cbiAgICAgICAgPC91bD5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQ2hhbmdlUHJldmlldyBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdXNlcm5hbWUtaGlzdG9yeS9jaGFuZ2UtcHJldmlld1wiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXJuYW1lLWhpc3RvcnkgdWktcHJldmlld1wiPlxuICAgICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC1ncm91cFwiPlxuICAgICAgICAgIHtbMCwgMSwgMl0ubWFwKGkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIDxDaGFuZ2VQcmV2aWV3IGhpZGRlbk9uTW9iaWxlPXtpID4gMH0ga2V5PXtpfSAvPlxuICAgICAgICAgIH0pfVxuICAgICAgICA8L3VsPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBDaGFuZ2UgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3VzZXJuYW1lLWhpc3RvcnkvY2hhbmdlXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlcm5hbWUtaGlzdG9yeSB1aS1yZWFkeVwiPlxuICAgICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC1ncm91cFwiPlxuICAgICAgICAgIHt0aGlzLnByb3BzLmNoYW5nZXMubWFwKGNoYW5nZSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gPENoYW5nZSBjaGFuZ2U9e2NoYW5nZX0ga2V5PXtjaGFuZ2UuaWR9IC8+XG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvdWw+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IExpc3RFbXB0eSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdXNlcm5hbWUtaGlzdG9yeS9saXN0LWVtcHR5XCJcbmltcG9ydCBMaXN0UmVhZHkgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3VzZXJuYW1lLWhpc3RvcnkvbGlzdC1yZWFkeVwiXG5pbXBvcnQgTGlzdFByZXZpZXcgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3VzZXJuYW1lLWhpc3RvcnkvbGlzdC1wcmV2aWV3XCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuaXNMb2FkZWQpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLmNoYW5nZXMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiA8TGlzdFJlYWR5IGNoYW5nZXM9e3RoaXMucHJvcHMuY2hhbmdlc30gLz5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiA8TGlzdEVtcHR5IGVtcHR5TWVzc2FnZT17dGhpcy5wcm9wcy5lbXB0eU1lc3NhZ2V9IC8+XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiA8TGlzdFByZXZpZXcgLz5cbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEF2YXRhciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyXCJcbmltcG9ydCBTdGF0cyBmcm9tIFwiLi9zdGF0c1wiXG5pbXBvcnQgVXNlclRpdGxlIGZyb20gXCIuL3VzZXItdGl0bGVcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IHNob3dTdGF0dXMsIHVzZXIgfSkge1xuICBjb25zdCB7IHJhbmsgfSA9IHVzZXJcblxuICBsZXQgY2xhc3NOYW1lID0gXCJwYW5lbCB1c2VyLWNhcmRcIlxuICBpZiAocmFuay5jc3NfY2xhc3MpIHtcbiAgICBjbGFzc05hbWUgKz0gXCIgdXNlci1jYXJkLVwiICsgcmFuay5jc3NfY2xhc3NcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHlcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0zIHVzZXItY2FyZC1sZWZ0XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItY2FyZC1zbWFsbC1hdmF0YXJcIj5cbiAgICAgICAgICAgICAgPGEgaHJlZj17dXNlci51cmx9PlxuICAgICAgICAgICAgICAgIDxBdmF0YXIgc2l6ZT1cIjUwXCIgc2l6ZTJ4PVwiODBcIiB1c2VyPXt1c2VyfSAvPlxuICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy05IGNvbC1zbS0xMiB1c2VyLWNhcmQtYm9keVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLWNhcmQtYXZhdGFyXCI+XG4gICAgICAgICAgICAgIDxhIGhyZWY9e3VzZXIudXJsfT5cbiAgICAgICAgICAgICAgICA8QXZhdGFyIHNpemU9XCIxNTBcIiBzaXplMng9XCIyMDBcIiB1c2VyPXt1c2VyfSAvPlxuICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLWNhcmQtdXNlcm5hbWVcIj5cbiAgICAgICAgICAgICAgPGEgaHJlZj17dXNlci51cmx9Pnt1c2VyLnVzZXJuYW1lfTwvYT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLWNhcmQtdGl0bGVcIj5cbiAgICAgICAgICAgICAgPFVzZXJUaXRsZSByYW5rPXtyYW5rfSB0aXRsZT17dXNlci50aXRsZX0gLz5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItY2FyZC1zdGF0c1wiPlxuICAgICAgICAgICAgICA8U3RhdHMgc2hvd1N0YXR1cz17c2hvd1N0YXR1c30gdXNlcj17dXNlcn0gLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBVc2VyU3RhdHVzLCB7IFN0YXR1c0xhYmVsIH0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3VzZXItc3RhdHVzXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBzaG93U3RhdHVzLCB1c2VyIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC11bnN0eWxlZFwiPlxuICAgICAgPFN0YXR1cyBzaG93U3RhdHVzPXtzaG93U3RhdHVzfSB1c2VyPXt1c2VyfSAvPlxuICAgICAgPEpvaW5EYXRlIHVzZXI9e3VzZXJ9IC8+XG4gICAgICA8bGkgY2xhc3NOYW1lPVwidXNlci1zdGF0LWRpdmlkZXJcIiAvPlxuICAgICAgPFBvc3RzIHVzZXI9e3VzZXJ9IC8+XG4gICAgICA8VGhyZWFkcyB1c2VyPXt1c2VyfSAvPlxuICAgICAgPEZvbGxvd2VycyB1c2VyPXt1c2VyfSAvPlxuICAgIDwvdWw+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFN0YXR1cyh7IHNob3dTdGF0dXMsIHVzZXIgfSkge1xuICBpZiAoIXNob3dTdGF0dXMpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8bGkgY2xhc3NOYW1lPVwidXNlci1zdGF0LXN0YXR1c1wiPlxuICAgICAgPFVzZXJTdGF0dXMgc3RhdHVzPXt1c2VyLnN0YXR1c30+XG4gICAgICAgIDxTdGF0dXNMYWJlbCBzdGF0dXM9e3VzZXIuc3RhdHVzfSB1c2VyPXt1c2VyfSAvPlxuICAgICAgPC9Vc2VyU3RhdHVzPlxuICAgIDwvbGk+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEpvaW5EYXRlKHsgdXNlciB9KSB7XG4gIGNvbnN0IHsgam9pbmVkX29uIH0gPSB1c2VyXG5cbiAgbGV0IHRpdGxlID0gaW50ZXJwb2xhdGUoXG4gICAgXCLOiM66zrHOvc61IM61zrPOs8+BzrHPhs6uICUoam9pbmVkX29uKXNcIixcbiAgICB7XG4gICAgICBqb2luZWRfb246IGpvaW5lZF9vbi5mb3JtYXQoXCJMTCwgTFRcIilcbiAgICB9LFxuICAgIHRydWVcbiAgKVxuXG4gIGxldCBtZXNzYWdlID0gaW50ZXJwb2xhdGUoXG4gICAgXCLOiM66zrHOvc61IM61zrPOs8+BzrHPhs6uICUoam9pbmVkX29uKXNcIixcbiAgICB7XG4gICAgICBqb2luZWRfb246IGpvaW5lZF9vbi5mcm9tTm93KClcbiAgICB9LFxuICAgIHRydWVcbiAgKVxuXG4gIHJldHVybiAoXG4gICAgPGxpIGNsYXNzTmFtZT1cInVzZXItc3RhdC1qb2luLWRhdGVcIj5cbiAgICAgIDxhYmJyIHRpdGxlPXt0aXRsZX0+e21lc3NhZ2V9PC9hYmJyPlxuICAgIDwvbGk+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBvc3RzKHsgdXNlciB9KSB7XG4gIGNvbnN0IGNsYXNzTmFtZSA9IGdldFN0YXRDbGFzc05hbWUoXCJ1c2VyLXN0YXQtcG9zdHNcIiwgdXNlci5wb3N0cylcbiAgY29uc3QgbWVzc2FnZSA9IFwiJShwb3N0cylzIM+Az4HOv8+Dz4bOv8+Bzq3PglwiXG5cbiAgcmV0dXJuIChcbiAgICA8bGkgY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAge2ludGVycG9sYXRlKFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICB7XG4gICAgICAgICAgcG9zdHM6IHVzZXIucG9zdHNcbiAgICAgICAgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKX1cbiAgICA8L2xpPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBUaHJlYWRzKHsgdXNlciB9KSB7XG4gIGNvbnN0IGNsYXNzTmFtZSA9IGdldFN0YXRDbGFzc05hbWUoXCJ1c2VyLXN0YXQtdGhyZWFkc1wiLCB1c2VyLnRocmVhZHMpXG4gIGNvbnN0IG1lc3NhZ2UgPSBcIiUodGhyZWFkcylzIM6xzrPOs861zrvOr861z4JcIlxuXG4gIHJldHVybiAoXG4gICAgPGxpIGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgIHtpbnRlcnBvbGF0ZShcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAge1xuICAgICAgICAgIHRocmVhZHM6IHVzZXIudGhyZWFkc1xuICAgICAgICB9LFxuICAgICAgICB0cnVlXG4gICAgICApfVxuICAgIDwvbGk+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEZvbGxvd2Vycyh7IHVzZXIgfSkge1xuICBjb25zdCBjbGFzc05hbWUgPSBnZXRTdGF0Q2xhc3NOYW1lKFwidXNlci1zdGF0LWZvbGxvd2Vyc1wiLCB1c2VyLmZvbGxvd2VycylcbiAgY29uc3QgbWVzc2FnZSA9IFxuICAgIFwiJShmb2xsb3dlcnMpcyDOsc66zr/Ou86/z4XOuM6/z43OvVwiXG5cbiAgcmV0dXJuIChcbiAgICA8bGkgY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAge2ludGVycG9sYXRlKFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICB7XG4gICAgICAgICAgZm9sbG93ZXJzOiB1c2VyLmZvbGxvd2Vyc1xuICAgICAgICB9LFxuICAgICAgICB0cnVlXG4gICAgICApfVxuICAgIDwvbGk+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFN0YXRDbGFzc05hbWUoY2xhc3NOYW1lLCBzdGF0KSB7XG4gIGlmIChzdGF0ID09PSAwKSB7XG4gICAgcmV0dXJuIGNsYXNzTmFtZSArIFwiIHVzZXItc3RhdC1lbXB0eVwiXG4gIH1cbiAgcmV0dXJuIGNsYXNzTmFtZVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi9jYXJkXCJcbmltcG9ydCBQcmV2aWV3IGZyb20gXCIuL3ByZXZpZXdcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGNvbHMsIGlzUmVhZHksIHNob3dTdGF0dXMsIHVzZXJzIH0pIHtcbiAgbGV0IGNvbENsYXNzTmFtZSA9IFwiY29sLXhzLTEyIGNvbC1zbS00XCJcbiAgaWYgKGNvbHMgPT09IDQpIHtcbiAgICBjb2xDbGFzc05hbWUgKz0gXCIgY29sLW1kLTNcIlxuICB9XG5cbiAgaWYgKCFpc1JlYWR5KSB7XG4gICAgcmV0dXJuIDxQcmV2aWV3IGNvbENsYXNzTmFtZT17Y29sQ2xhc3NOYW1lfSBjb2xzPXtjb2xzfSAvPlxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXJzLWNhcmRzLWxpc3QgdWktcmVhZHlcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgIHt1c2Vycy5tYXAodXNlciA9PiB7XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjb2xDbGFzc05hbWV9IGtleT17dXNlci5pZH0+XG4gICAgICAgICAgICAgIDxDYXJkIHNob3dTdGF0dXM9e3Nob3dTdGF0dXN9IHVzZXI9e3VzZXJ9IC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApXG4gICAgICAgIH0pfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEF2YXRhciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyXCJcbmltcG9ydCAqIGFzIHJhbmRvbSBmcm9tIFwibWlzYWdvL3V0aWxzL3JhbmRvbVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHVzZXItY2FyZCB1c2VyLWNhcmQtcHJldmlld1wiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHlcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMyB1c2VyLWNhcmQtbGVmdFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItY2FyZC1zbWFsbC1hdmF0YXJcIj5cbiAgICAgICAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgICAgICAgIDxBdmF0YXIgc2l6ZT1cIjUwXCIgc2l6ZTJ4PVwiODBcIiAvPlxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTkgY29sLXNtLTEyIHVzZXItY2FyZC1ib2R5XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1jYXJkLWF2YXRhclwiPlxuICAgICAgICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAgICAgICAgPEF2YXRhciBzaXplPVwiMTUwXCIgc2l6ZTJ4PVwiMjAwXCIgLz5cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1jYXJkLXVzZXJuYW1lXCI+XG4gICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCg2MCwgMTUwKSArIFwicHhcIiB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1jYXJkLXRpdGxlXCI+XG4gICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCg2MCwgMTUwKSArIFwicHhcIiB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLWNhcmQtc3RhdHNcIj5cbiAgICAgICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC11bnN0eWxlZFwiPlxuICAgICAgICAgICAgICAgICAgPGxpPlxuICAgICAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHJhbmRvbS5pbnQoMzAsIDcwKSArIFwicHhcIiB9fVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICA8bGk+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCgzMCwgNzApICsgXCJweFwiIH19XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJ1c2VyLXN0YXQtZGl2aWRlclwiIC8+XG4gICAgICAgICAgICAgICAgICA8bGk+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCgzMCwgNzApICsgXCJweFwiIH19XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiByYW5kb20uaW50KDMwLCA3MCkgKyBcInB4XCIgfX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBDYXJkIGZyb20gXCIuL2NhcmRcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGNvbENsYXNzTmFtZSwgY29scyB9KSB7XG4gIGNvbnN0IGxpc3QgPSBBcnJheS5hcHBseShudWxsLCB7IGxlbmd0aDogY29scyB9KS5tYXAoTnVtYmVyLmNhbGwsIE51bWJlcilcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlcnMtY2FyZHMtbGlzdCB1aS1wcmV2aWV3XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICB7bGlzdC5tYXAoaSA9PiB7XG4gICAgICAgICAgbGV0IGNsYXNzTmFtZSA9IGNvbENsYXNzTmFtZVxuICAgICAgICAgIGlmIChpICE9PSAwKSBjbGFzc05hbWUgKz0gXCIgaGlkZGVuLXhzXCJcbiAgICAgICAgICBpZiAoaSA9PT0gMykgY2xhc3NOYW1lICs9IFwiIGhpZGRlbi1zbVwiXG5cbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZX0ga2V5PXtpfT5cbiAgICAgICAgICAgICAgPENhcmQgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIClcbiAgICAgICAgfSl9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0RW1wdHlNZXNzYWdlKCkge1xuICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgICAgXCLOms6xzr3Orc69zrHPgiDPh8+Bzq7Pg8+EzrfPgiDOtM61zr0gzq3Ph861zrkgzrTOt868zr/Pg865zrXPjc+DzrXOuSDOus6xzrnOvc6/z43Pgc65zrEgzrHOs86zzrXOu86vzrEgz4TOuc+CIM+EzrXOu861z4XPhM6xzq/Otc+CICUoZGF5cylzIM68zq3Pgc61z4IuXCIsXG4gICAgICB7IGRheXM6IHRoaXMucHJvcHMudHJhY2tlZFBlcmlvZCB9LFxuICAgICAgdHJ1ZVxuICAgIClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJhY3RpdmUtcG9zdGVycy1saXN0XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPnt0aGlzLmdldEVtcHR5TWVzc2FnZSgpfTwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEF2YXRhciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyXCJcbmltcG9ydCAqIGFzIHJhbmRvbSBmcm9tIFwibWlzYWdvL3V0aWxzL3JhbmRvbVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmhpZGRlbk9uTW9iaWxlKSB7XG4gICAgICByZXR1cm4gXCJsaXN0LWdyb3VwLWl0ZW0gaGlkZGVuLXhzIGhpZGRlbi1zbVwiXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcImxpc3QtZ3JvdXAtaXRlbVwiXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8bGkgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyYW5rLXVzZXItYXZhdGFyXCI+XG4gICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICA8QXZhdGFyIHNpemU9XCI1MFwiIC8+XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJhbmstdXNlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1uYW1lXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpdGVtLXRpdGxlXCI+XG4gICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCgzMCwgODApICsgXCJweFwiIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLWRldGFpbHNcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInVzZXItc3RhdHVzXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInN0YXR1cy1pY29uIHVpLXByZXZpZXctdGV4dFwiPiZuYnNwOzwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzdGF0dXMtbGFiZWwgdWktcHJldmlldy10ZXh0IGhpZGRlbi14cyBoaWRkZW4tc21cIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiByYW5kb20uaW50KDMwLCA1MCkgKyBcInB4XCIgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJyYW5rLW5hbWVcIj5cbiAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiByYW5kb20uaW50KDMwLCA1MCkgKyBcInB4XCIgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1c2VyLXRpdGxlIGhpZGRlbi14cyBoaWRkZW4tc21cIj5cbiAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiByYW5kb20uaW50KDMwLCA1MCkgKyBcInB4XCIgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLWNvbXBhY3Qtc3RhdHMgdmlzaWJsZS14cy1ibG9ja1wiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwicmFuay1wb3NpdGlvblwiPlxuICAgICAgICAgICAgICA8c3Ryb25nPlxuICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHJhbmRvbS5pbnQoMjAsIDMwKSArIFwicHhcIiB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9zdHJvbmc+XG4gICAgICAgICAgICAgIDxzbWFsbD57XCLOms6xz4TOrM+EzrHOvs63XCJ9PC9zbWFsbD5cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInJhbmstcG9zdHMtY291bnRlZFwiPlxuICAgICAgICAgICAgICA8c3Ryb25nPlxuICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHJhbmRvbS5pbnQoMjAsIDMwKSArIFwicHhcIiB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9zdHJvbmc+XG4gICAgICAgICAgICAgIDxzbWFsbD57XCLOkc6zzrPOtc67zq/Otc+CIM+Dz4TOt869IM66zrHPhM6sz4TOsc6+zrdcIn08L3NtYWxsPlxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJhbmstcG9zaXRpb24gaGlkZGVuLXhzXCI+XG4gICAgICAgICAgPHN0cm9uZz5cbiAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiByYW5kb20uaW50KDIwLCAzMCkgKyBcInB4XCIgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9zdHJvbmc+XG4gICAgICAgICAgPHNtYWxsPntcIs6azrHPhM6sz4TOsc6+zrdcIn08L3NtYWxsPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJhbmstcG9zdHMtY291bnRlZCBoaWRkZW4teHNcIj5cbiAgICAgICAgICA8c3Ryb25nPlxuICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHJhbmRvbS5pbnQoMjAsIDMwKSArIFwicHhcIiB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L3N0cm9uZz5cbiAgICAgICAgICA8c21hbGw+e1wizpHOs86zzrXOu86vzrXPgiDPg8+EzrfOvSDOus6xz4TOrM+EzrHOvs63XCJ9PC9zbWFsbD5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyYW5rLXBvc3RzLXRvdGFsIGhpZGRlbi14c1wiPlxuICAgICAgICAgIDxzdHJvbmc+XG4gICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCgyMCwgMzApICsgXCJweFwiIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvc3Ryb25nPlxuICAgICAgICAgIDxzbWFsbD57XCLOo8+Fzr3Ov867zrnOus+Mz4IgzrHPgc65zrjOvM+Mz4IgzrHOs86zzrXOu865z47OvVwifTwvc21hbGw+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgTGluayB9IGZyb20gXCJyZWFjdC1yb3V0ZXJcIlxuaW1wb3J0IEF2YXRhciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyXCJcbmltcG9ydCBTdGF0dXMsIHsgU3RhdHVzSWNvbiwgU3RhdHVzTGFiZWwgfSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdXNlci1zdGF0dXNcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCAqIGFzIHJhbmRvbSBmcm9tIFwibWlzYWdvL3V0aWxzL3JhbmRvbVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnJhbmsuY3NzX2NsYXNzKSB7XG4gICAgICByZXR1cm4gXCJsaXN0LWdyb3VwLWl0ZW0gbGlzdC1ncm91cC1yYW5rLVwiICsgdGhpcy5wcm9wcy5yYW5rLmNzc19jbGFzc1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCJsaXN0LWdyb3VwLWl0ZW1cIlxuICAgIH1cbiAgfVxuXG4gIGdldFVzZXJTdGF0dXMoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudXNlci5zdGF0dXMpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxTdGF0dXMgdXNlcj17dGhpcy5wcm9wcy51c2VyfSBzdGF0dXM9e3RoaXMucHJvcHMudXNlci5zdGF0dXN9PlxuICAgICAgICAgIDxTdGF0dXNJY29uIHVzZXI9e3RoaXMucHJvcHMudXNlcn0gc3RhdHVzPXt0aGlzLnByb3BzLnVzZXIuc3RhdHVzfSAvPlxuICAgICAgICAgIDxTdGF0dXNMYWJlbFxuICAgICAgICAgICAgdXNlcj17dGhpcy5wcm9wcy51c2VyfVxuICAgICAgICAgICAgc3RhdHVzPXt0aGlzLnByb3BzLnVzZXIuc3RhdHVzfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwic3RhdHVzLWxhYmVsIGhpZGRlbi14cyBoaWRkZW4tc21cIlxuICAgICAgICAgIC8+XG4gICAgICAgIDwvU3RhdHVzPlxuICAgICAgKVxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1c2VyLXN0YXR1c1wiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzdGF0dXMtaWNvbiB1aS1wcmV2aWV3LXRleHRcIj4mbmJzcDs8L3NwYW4+XG4gICAgICAgIDxzcGFuXG4gICAgICAgICAgY2xhc3NOYW1lPVwic3RhdHVzLWxhYmVsIHVpLXByZXZpZXctdGV4dCBoaWRkZW4teHMgaGlkZGVuLXNtXCJcbiAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCgzMCwgNTApICsgXCJweFwiIH19XG4gICAgICAgID5cbiAgICAgICAgICAmbmJzcDtcbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9zcGFuPlxuICAgIClcbiAgfVxuXG4gIGdldFJhbmtOYW1lKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5yYW5rLmlzX3RhYikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwicmFuay1uYW1lIGl0ZW0tdGl0bGVcIj57dGhpcy5wcm9wcy5yYW5rLm5hbWV9PC9zcGFuPlxuICAgICAgKVxuICAgIH1cblxuICAgIGxldCByYW5rVXJsID0gbWlzYWdvLmdldChcIlVTRVJTX0xJU1RfVVJMXCIpICsgdGhpcy5wcm9wcy5yYW5rLnNsdWcgKyBcIi9cIlxuICAgIHJldHVybiAoXG4gICAgICA8TGluayB0bz17cmFua1VybH0gY2xhc3NOYW1lPVwicmFuay1uYW1lIGl0ZW0tdGl0bGVcIj5cbiAgICAgICAge3RoaXMucHJvcHMucmFuay5uYW1lfVxuICAgICAgPC9MaW5rPlxuICAgIClcbiAgfVxuXG4gIGdldFVzZXJUaXRsZSgpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMudXNlci50aXRsZSkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1c2VyLXRpdGxlIGhpZGRlbi14cyBoaWRkZW4tc21cIj5cbiAgICAgICAge3RoaXMucHJvcHMudXNlci50aXRsZX1cbiAgICAgIDwvc3Bhbj5cbiAgICApXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJhbmstdXNlci1hdmF0YXJcIj5cbiAgICAgICAgICA8YSBocmVmPXt0aGlzLnByb3BzLnVzZXIudXJsfT5cbiAgICAgICAgICAgIDxBdmF0YXIgdXNlcj17dGhpcy5wcm9wcy51c2VyfSBzaXplPXs1MH0gc2l6ZTJ4PXs2NH0gLz5cbiAgICAgICAgICA8L2E+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmFuay11c2VyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLW5hbWVcIj5cbiAgICAgICAgICAgIDxhIGhyZWY9e3RoaXMucHJvcHMudXNlci51cmx9IGNsYXNzTmFtZT1cIml0ZW0tdGl0bGVcIj5cbiAgICAgICAgICAgICAge3RoaXMucHJvcHMudXNlci51c2VybmFtZX1cbiAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItZGV0YWlsc1wiPlxuICAgICAgICAgICAge3RoaXMuZ2V0VXNlclN0YXR1cygpfVxuICAgICAgICAgICAge3RoaXMuZ2V0UmFua05hbWUoKX1cbiAgICAgICAgICAgIHt0aGlzLmdldFVzZXJUaXRsZSgpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1jb21wYWN0LXN0YXRzIHZpc2libGUteHMtYmxvY2tcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInJhbmstcG9zaXRpb25cIj5cbiAgICAgICAgICAgICAgPHN0cm9uZz4je3RoaXMucHJvcHMuY291bnRlcn08L3N0cm9uZz5cbiAgICAgICAgICAgICAgPHNtYWxsPntcIs6azrHPhM6sz4TOsc6+zrdcIn08L3NtYWxsPlxuICAgICAgICAgICAgPC9zcGFuPlxuXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJyYW5rLXBvc3RzLWNvdW50ZWRcIj5cbiAgICAgICAgICAgICAgPHN0cm9uZz57dGhpcy5wcm9wcy51c2VyLm1ldGEuc2NvcmV9PC9zdHJvbmc+XG4gICAgICAgICAgICAgIDxzbWFsbD57XCLOkc6zzrPOtc67zq/Otc+CIM+Dz4TOt869IM66zrHPhM6sz4TOsc6+zrdcIn08L3NtYWxsPlxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJhbmstcG9zaXRpb24gaGlkZGVuLXhzXCI+XG4gICAgICAgICAgPHN0cm9uZz4je3RoaXMucHJvcHMuY291bnRlcn08L3N0cm9uZz5cbiAgICAgICAgICA8c21hbGw+e1wizprOsc+EzqzPhM6xzr7Ot1wifTwvc21hbGw+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmFuay1wb3N0cy1jb3VudGVkIGhpZGRlbi14c1wiPlxuICAgICAgICAgIDxzdHJvbmc+e3RoaXMucHJvcHMudXNlci5tZXRhLnNjb3JlfTwvc3Ryb25nPlxuICAgICAgICAgIDxzbWFsbD57XCLOkc6zzrPOtc67zq/Otc+CIM+Dz4TOt869IM66zrHPhM6sz4TOsc6+zrdcIn08L3NtYWxsPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJhbmstcG9zdHMtdG90YWwgaGlkZGVuLXhzXCI+XG4gICAgICAgICAgPHN0cm9uZz57dGhpcy5wcm9wcy51c2VyLnBvc3RzfTwvc3Ryb25nPlxuICAgICAgICAgIDxzbWFsbD57XCLOo8+Fzr3Ov867zrnOus+Mz4IgzrHPgc65zrjOvM+Mz4IgzrHOs86zzrXOu865z47OvVwifTwvc21hbGw+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEl0ZW1QcmV2aWV3IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy91c2Vycy9hY3RpdmUtcG9zdGVycy9saXN0LWl0ZW0tcHJldmlld1wiXG5pbXBvcnQgKiBhcyByYW5kb20gZnJvbSBcIm1pc2Fnby91dGlscy9yYW5kb21cIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHNob3VsZENvbXBvbmVudFVwZGF0ZSgpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJhY3RpdmUtcG9zdGVycy1saXN0XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZCB1aS1wcmV2aWV3XCI+XG4gICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCg1MCwgMjIwKSArIFwicHhcIiB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L3A+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFjdGl2ZS1wb3N0ZXJzIHVpLXByZXZpZXdcIj5cbiAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LWdyb3VwXCI+XG4gICAgICAgICAgICAgIHtbMCwgMSwgMl0ubWFwKGkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiA8SXRlbVByZXZpZXcgaGlkZGVuT25Nb2JpbGU9e2kgPiAwfSBrZXk9e2l9IC8+XG4gICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IExpc3RJdGVtIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy91c2Vycy9hY3RpdmUtcG9zdGVycy9saXN0LWl0ZW1cIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldExlYWRNZXNzYWdlKCkge1xuICAgIGxldCBtZXNzYWdlID0gXCIlKHBvc3RlcnMpcyDPhM6/z4Agz4fPgc6uz4PPhM61z4Igz4TOuc+CIM+EzrXOu861z4XPhM6xzq/Otc+CICUoZGF5cylzIM68zq3Pgc61z4IuXCJcblxuICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgIG1lc3NhZ2UsXG4gICAgICB7XG4gICAgICAgIHBvc3RlcnM6IHRoaXMucHJvcHMuY291bnQsXG4gICAgICAgIGRheXM6IHRoaXMucHJvcHMudHJhY2tlZFBlcmlvZFxuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWN0aXZlLXBvc3RlcnMtbGlzdFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj57dGhpcy5nZXRMZWFkTWVzc2FnZSgpfTwvcD5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWN0aXZlLXBvc3RlcnMgdWktcmVhZHlcIj5cbiAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LWdyb3VwXCI+XG4gICAgICAgICAgICAgIHt0aGlzLnByb3BzLnVzZXJzLm1hcCgodXNlciwgaSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICA8TGlzdEl0ZW1cbiAgICAgICAgICAgICAgICAgICAgdXNlcj17dXNlcn1cbiAgICAgICAgICAgICAgICAgICAgcmFuaz17dXNlci5yYW5rfVxuICAgICAgICAgICAgICAgICAgICBjb3VudGVyPXtpICsgMX1cbiAgICAgICAgICAgICAgICAgICAga2V5PXt1c2VyLmlkfVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IExpc3RFbXB0eSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdXNlcnMvYWN0aXZlLXBvc3RlcnMvbGlzdC1lbXB0eVwiXG5pbXBvcnQgTGlzdFByZXZpZXcgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3VzZXJzL2FjdGl2ZS1wb3N0ZXJzL2xpc3QtcHJldmlld1wiXG5pbXBvcnQgTGlzdFJlYWR5IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy91c2Vycy9hY3RpdmUtcG9zdGVycy9saXN0LXJlYWR5XCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgeyBoeWRyYXRlIH0gZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy91c2Vyc1wiXG5pbXBvcnQgcG9sbHMgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wb2xsc1wiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5pbXBvcnQgdGl0bGUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wYWdlLXRpdGxlXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgaWYgKG1pc2Fnby5oYXMoXCJVU0VSU1wiKSkge1xuICAgICAgdGhpcy5pbml0V2l0aFByZWxvYWRlZERhdGEobWlzYWdvLnBvcChcIlVTRVJTXCIpKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmluaXRXaXRob3V0UHJlbG9hZGVkRGF0YSgpXG4gICAgfVxuXG4gICAgdGhpcy5zdGFydFBvbGxpbmcoKVxuICB9XG5cbiAgaW5pdFdpdGhQcmVsb2FkZWREYXRhKGRhdGEpIHtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkZWQ6IHRydWUsXG5cbiAgICAgIHRyYWNrZWRQZXJpb2Q6IGRhdGEudHJhY2tlZF9wZXJpb2QsXG4gICAgICBjb3VudDogZGF0YS5jb3VudFxuICAgIH1cblxuICAgIHN0b3JlLmRpc3BhdGNoKGh5ZHJhdGUoZGF0YS5yZXN1bHRzKSlcbiAgfVxuXG4gIGluaXRXaXRob3V0UHJlbG9hZGVkRGF0YSgpIHtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkZWQ6IGZhbHNlXG4gICAgfVxuICB9XG5cbiAgc3RhcnRQb2xsaW5nKCkge1xuICAgIHBvbGxzLnN0YXJ0KHtcbiAgICAgIHBvbGw6IFwiYWN0aXZlLXBvc3RlcnNcIixcbiAgICAgIHVybDogbWlzYWdvLmdldChcIlVTRVJTX0FQSVwiKSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgbGlzdDogXCJhY3RpdmVcIlxuICAgICAgfSxcbiAgICAgIGZyZXF1ZW5jeTogOTAgKiAxMDAwLFxuICAgICAgdXBkYXRlOiB0aGlzLnVwZGF0ZVxuICAgIH0pXG4gIH1cblxuICB1cGRhdGUgPSBkYXRhID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaChoeWRyYXRlKGRhdGEucmVzdWx0cykpXG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzTG9hZGVkOiB0cnVlLFxuXG4gICAgICB0cmFja2VkUGVyaW9kOiBkYXRhLnRyYWNrZWRfcGVyaW9kLFxuICAgICAgY291bnQ6IGRhdGEuY291bnRcbiAgICB9KVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGl0bGUuc2V0KHtcbiAgICAgIHRpdGxlOiB0aGlzLnByb3BzLnJvdXRlLmV4dHJhLm5hbWUsXG4gICAgICBwYXJlbnQ6IFwizqfPgc6uz4PPhM61z4JcIlxuICAgIH0pXG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBwb2xscy5zdG9wKFwiYWN0aXZlLXBvc3RlcnNcIilcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5pc0xvYWRlZCkge1xuICAgICAgaWYgKHRoaXMuc3RhdGUuY291bnQgPiAwKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPExpc3RSZWFkeVxuICAgICAgICAgICAgdXNlcnM9e3RoaXMucHJvcHMudXNlcnN9XG4gICAgICAgICAgICB0cmFja2VkUGVyaW9kPXt0aGlzLnN0YXRlLnRyYWNrZWRQZXJpb2R9XG4gICAgICAgICAgICBjb3VudD17dGhpcy5zdGF0ZS5jb3VudH1cbiAgICAgICAgICAvPlxuICAgICAgICApXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gPExpc3RFbXB0eSB0cmFja2VkUGVyaW9kPXt0aGlzLnN0YXRlLnRyYWNrZWRQZXJpb2R9IC8+XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiA8TGlzdFByZXZpZXcgLz5cbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgTGluayB9IGZyb20gXCJyZWFjdC1yb3V0ZXJcIlxuaW1wb3J0IExpIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9saVwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGJhc2VVcmwsIGxpc3RzIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8dWwgY2xhc3NOYW1lPVwibmF2IG5hdi1waWxsc1wiPlxuICAgICAge2xpc3RzLm1hcChsaXN0ID0+IHtcbiAgICAgICAgY29uc3QgdXJsID0gbGlzdFVybChiYXNlVXJsLCBsaXN0KVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxMaSBwYXRoPXt1cmx9IGtleT17dXJsfT5cbiAgICAgICAgICAgIDxMaW5rIHRvPXt1cmx9PntsaXN0Lm5hbWV9PC9MaW5rPlxuICAgICAgICAgIDwvTGk+XG4gICAgICAgIClcbiAgICAgIH0pfVxuICAgIDwvdWw+XG4gIClcbn1cblxuY29uc3QgbGlzdFVybCA9IGZ1bmN0aW9uKGJhc2VVcmwsIGxpc3QpIHtcbiAgbGV0IHVybCA9IGJhc2VVcmxcbiAgaWYgKGxpc3QuY29tcG9uZW50ID09PSBcInJhbmtcIikge1xuICAgIHVybCArPSBsaXN0LnNsdWdcbiAgfSBlbHNlIHtcbiAgICB1cmwgKz0gbGlzdC5jb21wb25lbnRcbiAgfVxuICByZXR1cm4gdXJsICsgXCIvXCJcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IFVzZXJzTGlzdCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdXNlcnMtbGlzdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICA8VXNlcnNMaXN0IGNvbHM9ezR9IGlzUmVhZHk9e2ZhbHNlfSAvPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBQYWdlciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdXNlcnMvcmFuay9wYWdlclwiXG5pbXBvcnQgVXNlcnNMaXN0IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy91c2Vycy1saXN0XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2PlxuICAgICAgPFVzZXJzTGlzdFxuICAgICAgICBjb2xzPXs0fVxuICAgICAgICBpc1JlYWR5PXt0cnVlfVxuICAgICAgICBzaG93U3RhdHVzPXt0cnVlfVxuICAgICAgICB1c2Vycz17cHJvcHMudXNlcnN9XG4gICAgICAvPlxuICAgICAgPFBhZ2VyIHsuLi5wcm9wc30gLz5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyBMaW5rIH0gZnJvbSBcInJlYWN0LXJvdXRlclwiXG5pbXBvcnQgcmVzZXRTY3JvbGwgZnJvbSBcIm1pc2Fnby91dGlscy9yZXNldC1zY3JvbGxcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBpZiAocHJvcHMucGFnZXMgPT09IDEpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyByb3ctdG9vbGJhclwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgdGV4dC1jZW50ZXIgdmlzaWJsZS14cy1ibG9ja1wiPlxuICAgICAgICA8TW9yZSBtb3JlPXtwcm9wcy5tb3JlfSAvPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRvb2xiYXItdmVydGljYWwtc3BhY2VyXCIgLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtN1wiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTQgY29sLW1kLTVcIj5cbiAgICAgICAgICAgIDxQYWdlciB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tOCBjb2wtbWQtNyBoaWRkZW4teHNcIj5cbiAgICAgICAgICAgIDxNb3JlIG1vcmU9e3Byb3BzLm1vcmV9IC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBhZ2VyKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgcm93LXBhZ2luYXRvclwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtM1wiPlxuICAgICAgICA8Rmlyc3RQYWdlIHsuLi5wcm9wc30gLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtM1wiPlxuICAgICAgICA8UHJldmlvdXNQYWdlIHsuLi5wcm9wc30gLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtM1wiPlxuICAgICAgICA8TmV4dFBhZ2Ugey4uLnByb3BzfSAvPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0zXCI+XG4gICAgICAgIDxMYXN0UGFnZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gRmlyc3RQYWdlKHByb3BzKSB7XG4gIGlmIChwcm9wcy5pc0xvYWRlZCAmJiBwcm9wcy5maXJzdCkge1xuICAgIHJldHVybiAoXG4gICAgICA8TGlua1xuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1pY29uIGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgb25DbGljaz17cmVzZXRTY3JvbGx9XG4gICAgICAgIHRvPXtwcm9wcy5iYXNlVXJsfVxuICAgICAgICB0aXRsZT17XCLOoM+Bz47PhM63IM+DzrXOu86vzrTOsVwifVxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Zmlyc3RfcGFnZTwvc3Bhbj5cbiAgICAgIDwvTGluaz5cbiAgICApXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxzcGFuXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLWljb24gYnRuLW91dGxpbmUgZGlzYWJsZWRcIlxuICAgICAgICB0aXRsZT17XCLOoM+Bz47PhM63IM+DzrXOu86vzrTOsVwifVxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Zmlyc3RfcGFnZTwvc3Bhbj5cbiAgICAgIDwvc3Bhbj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFByZXZpb3VzUGFnZShwcm9wcykge1xuICBpZiAocHJvcHMuaXNMb2FkZWQgJiYgcHJvcHMucGFnZSA+IDEpIHtcbiAgICBsZXQgcHJldmlvdXNVcmwgPSBcIlwiXG4gICAgaWYgKHByb3BzLnByZXZpb3VzKSB7XG4gICAgICBwcmV2aW91c1VybCA9IHByb3BzLnByZXZpb3VzICsgXCIvXCJcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPExpbmtcbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4taWNvbiBidG4tb3V0bGluZVwiXG4gICAgICAgIG9uQ2xpY2s9e3Jlc2V0U2Nyb2xsfVxuICAgICAgICB0bz17cHJvcHMuYmFzZVVybCArIHByZXZpb3VzVXJsfVxuICAgICAgICB0aXRsZT17XCLOoM+Bzr/Ot86zzr/Pjc68zrXOvc63IM+DzrXOu86vzrTOsVwifVxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2hldnJvbl9sZWZ0PC9zcGFuPlxuICAgICAgPC9MaW5rPlxuICAgIClcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHNwYW5cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4taWNvbiBidG4tb3V0bGluZSBkaXNhYmxlZFwiXG4gICAgICAgIHRpdGxlPXtcIs6gz4HOv863zrPOv8+NzrzOtc69zrcgz4POtc67zq/OtM6xXCJ9XG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jaGV2cm9uX2xlZnQ8L3NwYW4+XG4gICAgICA8L3NwYW4+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBOZXh0UGFnZShwcm9wcykge1xuICBpZiAocHJvcHMuaXNMb2FkZWQgJiYgcHJvcHMubW9yZSkge1xuICAgIGxldCBuZXh0VXJsID0gXCJcIlxuICAgIGlmIChwcm9wcy5uZXh0KSB7XG4gICAgICBuZXh0VXJsID0gcHJvcHMubmV4dCArIFwiL1wiXG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxMaW5rXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLWljb24gYnRuLW91dGxpbmVcIlxuICAgICAgICBvbkNsaWNrPXtyZXNldFNjcm9sbH1cbiAgICAgICAgdG89e3Byb3BzLmJhc2VVcmwgKyBuZXh0VXJsfVxuICAgICAgICB0aXRsZT17XCLOlc+Az4zOvM61zr3OtyDPg861zrvOr860zrFcIn1cbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNoZXZyb25fcmlnaHQ8L3NwYW4+XG4gICAgICA8L0xpbms+XG4gICAgKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiAoXG4gICAgICA8c3BhblxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1pY29uIGJ0bi1vdXRsaW5lIGRpc2FibGVkXCJcbiAgICAgICAgdGl0bGU9e1wizpXPgM+MzrzOtc69zrcgz4POtc67zq/OtM6xXCJ9XG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jaGV2cm9uX3JpZ2h0PC9zcGFuPlxuICAgICAgPC9zcGFuPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTGFzdFBhZ2UocHJvcHMpIHtcbiAgaWYgKHByb3BzLmlzTG9hZGVkICYmIHByb3BzLmxhc3QpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPExpbmtcbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4taWNvbiBidG4tb3V0bGluZVwiXG4gICAgICAgIG9uQ2xpY2s9e3Jlc2V0U2Nyb2xsfVxuICAgICAgICB0bz17cHJvcHMuYmFzZVVybCArIHByb3BzLmxhc3QgKyBcIi9cIn1cbiAgICAgICAgdGl0bGU9e1wizqTOtc67zrXPhc+EzrHOr86xIM+DzrXOu86vzrTOsVwifVxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+bGFzdF9wYWdlPC9zcGFuPlxuICAgICAgPC9MaW5rPlxuICAgIClcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHNwYW5cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4taWNvbiBidG4tb3V0bGluZSBkaXNhYmxlZFwiXG4gICAgICAgIHRpdGxlPXtcIs6kzrXOu861z4XPhM6xzq/OsSDPg861zrvOr860zrFcIn1cbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmxhc3RfcGFnZTwvc3Bhbj5cbiAgICAgIDwvc3Bhbj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE1vcmUocHJvcHMpIHtcbiAgbGV0IG1lc3NhZ2UgPSBudWxsXG4gIGlmIChwcm9wcy5tb3JlKSB7XG4gICAgbWVzc2FnZSA9IFwizqXPgM6sz4HPh86/z4XOvSAlKG1vcmUpcyDPh8+Bzq7Pg8+EzrXPgiDPg861IM6xz4XPhM6uIM+EzrfOvSDOus6xz4TOt86zzr/Pgc6vzrEuXCIsXG4gICAgbWVzc2FnZSA9IGludGVycG9sYXRlKG1lc3NhZ2UsIHsgbW9yZTogcHJvcHMubW9yZSB9LCB0cnVlKVxuICB9IGVsc2Uge1xuICAgIG1lc3NhZ2UgPSBcIs6UzrXOvSDPhc+AzqzPgc+Hzr/Phc69IM6szrvOu86/zrkgz4fPgc6uz4PPhM61z4Igz4POtSDOsc+Fz4TOriDPhM63zr0gzrrOsc+EzrfOs86/z4HOr86xLlwiXG4gIH1cblxuICByZXR1cm4gPHA+e21lc3NhZ2V9PC9wPlxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgUGFnZUxlYWQgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3BhZ2UtbGVhZFwiXG5pbXBvcnQgTGlzdCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdXNlcnMvcmFuay9saXN0XCJcbmltcG9ydCBMaXN0TG9hZGluZyBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdXNlcnMvcmFuay9saXN0LWxvYWRpbmdcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCB7IGh5ZHJhdGUgfSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3VzZXJzXCJcbmltcG9ydCBwb2xscyBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3BvbGxzXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcbmltcG9ydCB0aXRsZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3BhZ2UtdGl0bGVcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICBpZiAobWlzYWdvLmhhcyhcIlVTRVJTXCIpKSB7XG4gICAgICB0aGlzLmluaXRXaXRoUHJlbG9hZGVkRGF0YShtaXNhZ28ucG9wKFwiVVNFUlNcIikpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaW5pdFdpdGhvdXRQcmVsb2FkZWREYXRhKClcbiAgICB9XG5cbiAgICB0aGlzLnN0YXJ0UG9sbGluZyhwcm9wcy5wYXJhbXMucGFnZSB8fCAxKVxuICB9XG5cbiAgaW5pdFdpdGhQcmVsb2FkZWREYXRhKGRhdGEpIHtcbiAgICB0aGlzLnN0YXRlID0gT2JqZWN0LmFzc2lnbihkYXRhLCB7XG4gICAgICBpc0xvYWRlZDogdHJ1ZVxuICAgIH0pXG4gICAgc3RvcmUuZGlzcGF0Y2goaHlkcmF0ZShkYXRhLnJlc3VsdHMpKVxuICB9XG5cbiAgaW5pdFdpdGhvdXRQcmVsb2FkZWREYXRhKCkge1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRlZDogZmFsc2VcbiAgICB9XG4gIH1cblxuICBzdGFydFBvbGxpbmcocGFnZSkge1xuICAgIHBvbGxzLnN0YXJ0KHtcbiAgICAgIHBvbGw6IFwicmFuay11c2Vyc1wiLFxuICAgICAgdXJsOiBtaXNhZ28uZ2V0KFwiVVNFUlNfQVBJXCIpLFxuICAgICAgZGF0YToge1xuICAgICAgICByYW5rOiB0aGlzLnByb3BzLnJvdXRlLnJhbmsuaWQsXG4gICAgICAgIHBhZ2U6IHBhZ2VcbiAgICAgIH0sXG4gICAgICBmcmVxdWVuY3k6IDkwICogMTAwMCxcbiAgICAgIHVwZGF0ZTogdGhpcy51cGRhdGVcbiAgICB9KVxuICB9XG5cbiAgdXBkYXRlID0gZGF0YSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2goaHlkcmF0ZShkYXRhLnJlc3VsdHMpKVxuXG4gICAgZGF0YS5pc0xvYWRlZCA9IHRydWVcbiAgICB0aGlzLnNldFN0YXRlKGRhdGEpXG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aXRsZS5zZXQoe1xuICAgICAgdGl0bGU6IHRoaXMucHJvcHMucm91dGUucmFuay5uYW1lLFxuICAgICAgcGFnZTogdGhpcy5wcm9wcy5wYXJhbXMucGFnZSB8fCBudWxsLFxuICAgICAgcGFyZW50OiBcIs6nz4HOrs+Dz4TOtc+CXCJcbiAgICB9KVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgcG9sbHMuc3RvcChcInJhbmstdXNlcnNcIilcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucGFyYW1zLnBhZ2UgIT09IG5leHRQcm9wcy5wYXJhbXMucGFnZSkge1xuICAgICAgdGl0bGUuc2V0KHtcbiAgICAgICAgdGl0bGU6IHRoaXMucHJvcHMucm91dGUucmFuay5uYW1lLFxuICAgICAgICBwYWdlOiBuZXh0UHJvcHMucGFyYW1zLnBhZ2UgfHwgbnVsbCxcbiAgICAgICAgcGFyZW50OiBcIs6nz4HOrs+Dz4TOtc+CXCJcbiAgICAgIH0pXG5cbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0xvYWRlZDogZmFsc2VcbiAgICAgIH0pXG5cbiAgICAgIHBvbGxzLnN0b3AoXCJyYW5rLXVzZXJzXCIpXG4gICAgICB0aGlzLnN0YXJ0UG9sbGluZyhuZXh0UHJvcHMucGFyYW1zLnBhZ2UpXG4gICAgfVxuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnJvdXRlLnJhbmsuY3NzX2NsYXNzKSB7XG4gICAgICByZXR1cm4gXCJyYW5rLXVzZXJzLWxpc3QgcmFuay11c2Vycy1cIiArIHRoaXMucHJvcHMucm91dGUucmFuay5jc3NfY2xhc3NcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwicmFuay11c2Vycy1saXN0XCJcbiAgICB9XG4gIH1cblxuICBnZXRSYW5rRGVzY3JpcHRpb24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucm91dGUucmFuay5kZXNjcmlwdGlvbikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyYW5rLWRlc2NyaXB0aW9uXCI+XG4gICAgICAgICAgPFBhZ2VMZWFkIGNvcHk9e3RoaXMucHJvcHMucm91dGUucmFuay5kZXNjcmlwdGlvbi5odG1sfSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICBnZXRDb21wb25lbnQoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuaXNMb2FkZWQpIHtcbiAgICAgIGlmICh0aGlzLnN0YXRlLmNvdW50ID4gMCkge1xuICAgICAgICBsZXQgYmFzZVVybCA9XG4gICAgICAgICAgbWlzYWdvLmdldChcIlVTRVJTX0xJU1RfVVJMXCIpICsgdGhpcy5wcm9wcy5yb3V0ZS5yYW5rLnNsdWcgKyBcIi9cIlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxMaXN0IGJhc2VVcmw9e2Jhc2VVcmx9IHVzZXJzPXt0aGlzLnByb3BzLnVzZXJzfSB7Li4udGhpcy5zdGF0ZX0gLz5cbiAgICAgICAgKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAgICB7XCLOlM61zr0gz4XPgM6sz4HPh861zrkgzrrOsc69zq3Ovc6xz4Igz4fPgc6uz4PPhM63z4Igz4POtSDOsc+Fz4TOriDPhM63zr0gzrrOsc+EzrfOs86/z4HOr86xIM6xzrrPjM68zrEuXCJ9XG4gICAgICAgICAgPC9wPlxuICAgICAgICApXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiA8TGlzdExvYWRpbmcgLz5cbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICB7dGhpcy5nZXRSYW5rRGVzY3JpcHRpb24oKX1cbiAgICAgICAgICB7dGhpcy5nZXRDb21wb25lbnQoKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gXCJyZWFjdC1yZWR1eFwiXG5pbXBvcnQgRHJvcGRvd25Ub2dnbGUgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Ryb3Bkb3duLXRvZ2dsZVwiXG5pbXBvcnQgTmF2IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy91c2Vycy9uYXZcIlxuaW1wb3J0IEFjdGl2ZVBvc3RlcnMgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3VzZXJzL2FjdGl2ZS1wb3N0ZXJzL3Jvb3RcIlxuaW1wb3J0IFJhbmsgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3VzZXJzL3Jhbmsvcm9vdFwiXG5pbXBvcnQgV2l0aERyb3Bkb3duIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy93aXRoLWRyb3Bkb3duXCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgV2l0aERyb3Bkb3duIHtcbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UgcGFnZS11c2Vycy1saXN0c1wiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UtaGVhZGVyLWJnXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlLWhlYWRlclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICAgICAgPGgxPntcIs6nz4HOrs+Dz4TOtc+CXCJ9PC9oMT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlLXRhYnNcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8TmF2XG4gICAgICAgICAgICAgICAgICBsaXN0cz17bWlzYWdvLmdldChcIlVTRVJTX0xJU1RTXCIpfVxuICAgICAgICAgICAgICAgICAgYmFzZVVybD17bWlzYWdvLmdldChcIlVTRVJTX0xJU1RfVVJMXCIpfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3Qoc3RvcmUpIHtcbiAgcmV0dXJuIHtcbiAgICB0aWNrOiBzdG9yZS50aWNrLnRpY2ssXG4gICAgdXNlcjogc3RvcmUuYXV0aC51c2VyLFxuICAgIHVzZXJzOiBzdG9yZS51c2Vyc1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXRocygpIHtcbiAgbGV0IHBhdGhzID0gW11cblxuICBtaXNhZ28uZ2V0KFwiVVNFUlNfTElTVFNcIikuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgaWYgKGl0ZW0uY29tcG9uZW50ID09PSBcInJhbmtcIikge1xuICAgICAgcGF0aHMucHVzaCh7XG4gICAgICAgIHBhdGg6IG1pc2Fnby5nZXQoXCJVU0VSU19MSVNUX1VSTFwiKSArIGl0ZW0uc2x1ZyArIFwiLzpwYWdlL1wiLFxuICAgICAgICBjb21wb25lbnQ6IGNvbm5lY3Qoc2VsZWN0KShSYW5rKSxcbiAgICAgICAgcmFuazogaXRlbVxuICAgICAgfSlcbiAgICAgIHBhdGhzLnB1c2goe1xuICAgICAgICBwYXRoOiBtaXNhZ28uZ2V0KFwiVVNFUlNfTElTVF9VUkxcIikgKyBpdGVtLnNsdWcgKyBcIi9cIixcbiAgICAgICAgY29tcG9uZW50OiBjb25uZWN0KHNlbGVjdCkoUmFuayksXG4gICAgICAgIHJhbms6IGl0ZW1cbiAgICAgIH0pXG4gICAgfSBlbHNlIGlmIChpdGVtLmNvbXBvbmVudCA9PT0gXCJhY3RpdmUtcG9zdGVyc1wiKSB7XG4gICAgICBwYXRocy5wdXNoKHtcbiAgICAgICAgcGF0aDogbWlzYWdvLmdldChcIlVTRVJTX0xJU1RfVVJMXCIpICsgaXRlbS5jb21wb25lbnQgKyBcIi9cIixcbiAgICAgICAgY29tcG9uZW50OiBjb25uZWN0KHNlbGVjdCkoQWN0aXZlUG9zdGVycyksXG4gICAgICAgIGV4dHJhOiB7XG4gICAgICAgICAgbmFtZTogaXRlbS5uYW1lXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICB9KVxuXG4gIHJldHVybiBwYXRoc1xufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBkcm9wZG93bjogZmFsc2VcbiAgICB9XG4gIH1cblxuICB0b2dnbGVOYXYgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBkcm9wZG93bjogIXRoaXMuc3RhdGUuZHJvcGRvd25cbiAgICB9KVxuICB9XG5cbiAgaGlkZU5hdiA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGRyb3Bkb3duOiBmYWxzZVxuICAgIH0pXG4gIH1cblxuICBnZXRDb21wYWN0TmF2Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmRyb3Bkb3duKSB7XG4gICAgICByZXR1cm4gXCJjb21wYWN0LW5hdiBvcGVuXCJcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwiY29tcGFjdC1uYXZcIlxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnZhbHVlKSB7XG4gICAgICByZXR1cm4gXCJidG4gYnRuLXllcy1ubyBidG4teWVzLW5vLW9uXCJcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwiYnRuIGJ0bi15ZXMtbm8gYnRuLXllcy1uby1vZmZcIlxuICAgIH1cbiAgfVxuXG4gIGdldEljb24oKSB7XG4gICAgaWYgKCEhdGhpcy5wcm9wcy52YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuaWNvbk9uIHx8IFwiY2hlY2tfYm94XCJcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuaWNvbk9mZiB8fCBcImNoZWNrX2JveF9vdXRsaW5lX2JsYW5rXCJcbiAgICB9XG4gIH1cblxuICBnZXRMYWJlbCgpIHtcbiAgICBpZiAoISF0aGlzLnByb3BzLnZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5sYWJlbE9uIHx8IFwizp3Osc65XCJcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMubGFiZWxPZmYgfHwgXCLOjM+HzrlcIlxuICAgIH1cbiAgfVxuXG4gIHRvZ2dsZSA9ICgpID0+IHtcbiAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKHtcbiAgICAgIHRhcmdldDoge1xuICAgICAgICB2YWx1ZTogIXRoaXMucHJvcHMudmFsdWVcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8YnV0dG9uXG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICBvbkNsaWNrPXt0aGlzLnRvZ2dsZX1cbiAgICAgICAgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfVxuICAgICAgICBpZD17dGhpcy5wcm9wcy5pZCB8fCBudWxsfVxuICAgICAgICBhcmlhLWRlc2NyaWJlZGJ5PXt0aGlzLnByb3BzW1wiYXJpYS1kZXNjcmliZWRieVwiXSB8fCBudWxsfVxuICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZCB8fCBmYWxzZX1cbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnt0aGlzLmdldEljb24oKX08L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImJ0bi10ZXh0XCI+e3RoaXMuZ2V0TGFiZWwoKX08L3NwYW4+XG4gICAgICA8L2J1dHRvbj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgbG9hZCB9IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvcHJvZmlsZS1kZXRhaWxzXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgY29uc3QgeyBkYXRhLCBkaXNwYXRjaCwgdXNlciB9ID0gdGhpcy5wcm9wc1xuICAgIGlmIChkYXRhICYmIGRhdGEuaWQgPT09IHVzZXIuaWQpIHJldHVyblxuXG4gICAgYWpheC5nZXQodGhpcy5wcm9wcy51c2VyLmFwaS5kZXRhaWxzKS50aGVuKFxuICAgICAgZGF0YSA9PiB7XG4gICAgICAgIGRpc3BhdGNoKGxvYWQoZGF0YSkpXG4gICAgICB9LFxuICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgICAgfVxuICAgIClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5jaGlsZHJlblxuICB9XG59XG4iLCJpbXBvcnQgT3JkZXJlZExpc3QgZnJvbSBcIm1pc2Fnby91dGlscy9vcmRlcmVkLWxpc3RcIlxuXG5leHBvcnQgY2xhc3MgTWlzYWdvIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5faW5pdGlhbGl6ZXJzID0gW11cbiAgICB0aGlzLl9jb250ZXh0ID0ge31cbiAgfVxuXG4gIGFkZEluaXRpYWxpemVyKGluaXRpYWxpemVyKSB7XG4gICAgdGhpcy5faW5pdGlhbGl6ZXJzLnB1c2goe1xuICAgICAga2V5OiBpbml0aWFsaXplci5uYW1lLFxuXG4gICAgICBpdGVtOiBpbml0aWFsaXplci5pbml0aWFsaXplcixcblxuICAgICAgYWZ0ZXI6IGluaXRpYWxpemVyLmFmdGVyLFxuICAgICAgYmVmb3JlOiBpbml0aWFsaXplci5iZWZvcmVcbiAgICB9KVxuICB9XG5cbiAgaW5pdChjb250ZXh0KSB7XG4gICAgdGhpcy5fY29udGV4dCA9IGNvbnRleHRcblxuICAgIHZhciBpbml0T3JkZXIgPSBuZXcgT3JkZXJlZExpc3QodGhpcy5faW5pdGlhbGl6ZXJzKS5vcmRlcmVkVmFsdWVzKClcbiAgICBpbml0T3JkZXIuZm9yRWFjaChpbml0aWFsaXplciA9PiB7XG4gICAgICBpbml0aWFsaXplcih0aGlzKVxuICAgIH0pXG4gIH1cblxuICAvLyBjb250ZXh0IGFjY2Vzc29yc1xuICBoYXMoa2V5KSB7XG4gICAgcmV0dXJuICEhdGhpcy5fY29udGV4dFtrZXldXG4gIH1cblxuICBnZXQoa2V5LCBmYWxsYmFjaykge1xuICAgIGlmICh0aGlzLmhhcyhrZXkpKSB7XG4gICAgICByZXR1cm4gdGhpcy5fY29udGV4dFtrZXldXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxsYmFjayB8fCB1bmRlZmluZWRcbiAgICB9XG4gIH1cblxuICBwb3Aoa2V5KSB7XG4gICAgaWYgKHRoaXMuaGFzKGtleSkpIHtcbiAgICAgIGxldCB2YWx1ZSA9IHRoaXMuX2NvbnRleHRba2V5XVxuICAgICAgdGhpcy5fY29udGV4dFtrZXldID0gbnVsbFxuICAgICAgcmV0dXJuIHZhbHVlXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9XG4gIH1cbn1cblxuLy8gY3JlYXRlICBzaW5nbGV0b25cbnZhciBtaXNhZ28gPSBuZXcgTWlzYWdvKClcblxuLy8gZXhwb3NlIGl0IGdsb2JhbGx5XG5nbG9iYWwubWlzYWdvID0gbWlzYWdvXG5cbi8vIGFuZCBleHBvcnQgaXQgZm9yIHRlc3RzIGFuZCBzdHVmZlxuZXhwb3J0IGRlZmF1bHQgbWlzYWdvXG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIGFqYXguaW5pdChtaXNhZ28uZ2V0KFwiQ1NSRl9DT09LSUVfTkFNRVwiKSlcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJhamF4XCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplclxufSlcbiIsImltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgeyBwYXRjaCB9IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvYXV0aFwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5jb25zdCBBVVRIX1NZTkNfUkFURSA9IDQ1IC8vIHN5bmMgdXNlciB3aXRoIGJhY2tlbmQgZXZlcnkgNDUgc2Vjb25kc1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcihjb250ZXh0KSB7XG4gIGlmIChjb250ZXh0LmdldChcImlzQXV0aGVudGljYXRlZFwiKSkge1xuICAgIHdpbmRvdy5zZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcbiAgICAgIGFqYXguZ2V0KGNvbnRleHQuZ2V0KFwiQVVUSF9BUElcIikpLnRoZW4oXG4gICAgICAgIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICBzdG9yZS5kaXNwYXRjaChwYXRjaChkYXRhKSlcbiAgICAgICAgfSxcbiAgICAgICAgZnVuY3Rpb24ocmVqZWN0aW9uKSB7XG4gICAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgICAgICB9XG4gICAgICApXG4gICAgfSwgQVVUSF9TWU5DX1JBVEUgKiAxMDAwKVxuICB9XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwiYXV0aC1zeW5jXCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6IFwiYXV0aFwiXG59KVxuIiwiaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCBhdXRoIGZyb20gXCJtaXNhZ28vc2VydmljZXMvYXV0aFwiXG5pbXBvcnQgbW9kYWwgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9tb2RhbFwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5pbXBvcnQgc3RvcmFnZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2xvY2FsLXN0b3JhZ2VcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgYXV0aC5pbml0KHN0b3JlLCBzdG9yYWdlLCBtb2RhbClcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJhdXRoXCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6IFwic3RvcmVcIlxufSlcbiIsImltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IGNhcHRjaGEgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9jYXB0Y2hhXCJcbmltcG9ydCBpbmNsdWRlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvaW5jbHVkZVwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKGNvbnRleHQpIHtcbiAgY2FwdGNoYS5pbml0KGNvbnRleHQsIGFqYXgsIGluY2x1ZGUsIHNuYWNrYmFyKVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiBcImNhcHRjaGFcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyXG59KVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IEFjY2VwdEFncmVlbWVudCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYWNjZXB0LWFncmVlbWVudFwiXG5pbXBvcnQgbW91bnQgZnJvbSBcIm1pc2Fnby91dGlscy9tb3VudC1jb21wb25lbnRcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcihjb250ZXh0KSB7XG4gIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlcXVpcmVkLWFncmVlbWVudC1tb3VudFwiKSkge1xuICAgIG1vdW50KFxuICAgICAgPEFjY2VwdEFncmVlbWVudCBhcGk9e2NvbnRleHQuZ2V0KFwiUkVRVUlSRURfQUdSRUVNRU5UX0FQSVwiKX0gLz4sXG4gICAgICBcInJlcXVpcmVkLWFncmVlbWVudC1tb3VudFwiLFxuICAgICAgZmFsc2VcbiAgICApXG4gIH1cbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJjb21wb25lbnQ6YWNjZXB0LWFncmVlbWVudFwiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiBcInN0b3JlXCJcbn0pXG4iLCJpbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcInJlYWN0LXJlZHV4XCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgQXV0aE1lc3NhZ2UsIHsgc2VsZWN0IH0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2F1dGgtbWVzc2FnZVwiXG5pbXBvcnQgbW91bnQgZnJvbSBcIm1pc2Fnby91dGlscy9tb3VudC1jb21wb25lbnRcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgbW91bnQoY29ubmVjdChzZWxlY3QpKEF1dGhNZXNzYWdlKSwgXCJhdXRoLW1lc3NhZ2UtbW91bnRcIilcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJjb21wb25lbnQ6YXV0aC1tZXNzYWdlXCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6IFwic3RvcmVcIlxufSlcbiIsImltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgc2hvd0Jhbm5lZFBhZ2UgZnJvbSBcIm1pc2Fnby91dGlscy9iYW5uZWQtcGFnZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKGNvbnRleHQpIHtcbiAgaWYgKGNvbnRleHQuaGFzKFwiQkFOX01FU1NBR0VcIikpIHtcbiAgICBzaG93QmFubmVkUGFnZShjb250ZXh0LmdldChcIkJBTl9NRVNTQUdFXCIpLCBmYWxzZSlcbiAgfVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiBcImNvbXBvbmVudDpiYW5tZWQtcGFnZVwiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiBcInN0b3JlXCJcbn0pXG4iLCJpbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcInJlYWN0LXJlZHV4XCJcbmltcG9ydCBDYXRlZ29yaWVzLCB7IHNlbGVjdCB9IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9jYXRlZ29yaWVzXCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgbW91bnQgZnJvbSBcIm1pc2Fnby91dGlscy9tb3VudC1jb21wb25lbnRcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2F0ZWdvcmllcy1tb3VudFwiKSkge1xuICAgIG1vdW50KGNvbm5lY3Qoc2VsZWN0KShDYXRlZ29yaWVzKSwgXCJjYXRlZ29yaWVzLW1vdW50XCIpXG4gIH1cbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJjb21wb25lbnQ6Y2F0ZWdvcmllc1wiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiBcInN0b3JlXCJcbn0pXG4iLCJpbXBvcnQgT3B0aW9ucywgeyBwYXRocyB9IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9vcHRpb25zL3Jvb3RcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCBtb3VudCBmcm9tIFwibWlzYWdvL3V0aWxzL3JvdXRlZC1jb21wb25lbnRcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcihjb250ZXh0KSB7XG4gIGlmIChjb250ZXh0LmhhcyhcIlVTRVJfT1BUSU9OU1wiKSkge1xuICAgIG1vdW50KHtcbiAgICAgIHJvb3Q6IG1pc2Fnby5nZXQoXCJVU0VSQ1BfVVJMXCIpLFxuICAgICAgY29tcG9uZW50OiBPcHRpb25zLFxuICAgICAgcGF0aHM6IHBhdGhzKClcbiAgICB9KVxuICB9XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwiY29tcG9uZW50Om9wdGlvbnNcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogXCJzdG9yZVwiXG59KVxuIiwiaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gXCJyZWFjdC1yZWR1eFwiXG5pbXBvcnQgUHJvZmlsZSwgeyBwYXRocywgc2VsZWN0IH0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3Byb2ZpbGUvcm9vdFwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IG1vdW50IGZyb20gXCJtaXNhZ28vdXRpbHMvcm91dGVkLWNvbXBvbmVudFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKGNvbnRleHQpIHtcbiAgaWYgKGNvbnRleHQuaGFzKFwiUFJPRklMRVwiKSAmJiBjb250ZXh0LmhhcyhcIlBST0ZJTEVfUEFHRVNcIikpIHtcbiAgICBtb3VudCh7XG4gICAgICByb290OiBtaXNhZ28uZ2V0KFwiUFJPRklMRVwiKS51cmwsXG4gICAgICBjb21wb25lbnQ6IGNvbm5lY3Qoc2VsZWN0KShQcm9maWxlKSxcbiAgICAgIHBhdGhzOiBwYXRocygpXG4gICAgfSlcbiAgfVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiBcImNvbXBvbmVudDpwcm9maWxlXCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6IFwicmVkdWNlcjpwcm9maWxlLWh5ZHJhdGVcIlxufSlcbiIsImltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgUmVxdWVzdEFjdGl2YXRpb25MaW5rIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9yZXF1ZXN0LWFjdGl2YXRpb24tbGlua1wiXG5pbXBvcnQgbW91bnQgZnJvbSBcIm1pc2Fnby91dGlscy9tb3VudC1jb21wb25lbnRcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVxdWVzdC1hY3RpdmF0aW9uLWxpbmstbW91bnRcIikpIHtcbiAgICBtb3VudChSZXF1ZXN0QWN0aXZhdGlvbkxpbmssIFwicmVxdWVzdC1hY3RpdmF0aW9uLWxpbmstbW91bnRcIiwgZmFsc2UpXG4gIH1cbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJjb21wb25lbnQ6cmVxdWVzdC1hY3RpdmF0aW9uLWxpbmtcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogXCJzdG9yZVwiXG59KVxuIiwiaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCBSZXF1ZXN0UGFzc3dvcmRSZXNldCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvcmVxdWVzdC1wYXNzd29yZC1yZXNldFwiXG5pbXBvcnQgbW91bnQgZnJvbSBcIm1pc2Fnby91dGlscy9tb3VudC1jb21wb25lbnRcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVxdWVzdC1wYXNzd29yZC1yZXNldC1tb3VudFwiKSkge1xuICAgIG1vdW50KFJlcXVlc3RQYXNzd29yZFJlc2V0LCBcInJlcXVlc3QtcGFzc3dvcmQtcmVzZXQtbW91bnRcIiwgZmFsc2UpXG4gIH1cbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJjb21wb25lbnQ6cmVxdWVzdC1wYXNzd29yZC1yZXNldFwiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiBcInN0b3JlXCJcbn0pXG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ29cIlxuaW1wb3J0IFJlc2V0UGFzc3dvcmRGb3JtIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9yZXNldC1wYXNzd29yZC1mb3JtXCJcbmltcG9ydCBtb3VudCBmcm9tIFwibWlzYWdvL3V0aWxzL21vdW50LWNvbXBvbmVudFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZXNldC1wYXNzd29yZC1mb3JtLW1vdW50XCIpKSB7XG4gICAgbW91bnQoUmVzZXRQYXNzd29yZEZvcm0sIFwicmVzZXQtcGFzc3dvcmQtZm9ybS1tb3VudFwiLCBmYWxzZSlcbiAgfVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiBcImNvbXBvbmVudDpyZXNldC1wYXNzd29yZC1mb3JtXCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6IFwic3RvcmVcIlxufSlcbiIsImltcG9ydCBwYXRocyBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvc2VhcmNoXCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnb1wiXG5pbXBvcnQgbW91bnQgZnJvbSBcIm1pc2Fnby91dGlscy9yb3V0ZWQtY29tcG9uZW50XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoY29udGV4dCkge1xuICBpZiAoY29udGV4dC5nZXQoXCJDVVJSRU5UX0xJTktcIikgPT09IFwibWlzYWdvOnNlYXJjaFwiKSB7XG4gICAgbW91bnQoe1xuICAgICAgcGF0aHM6IHBhdGhzKG1pc2Fnby5nZXQoXCJTRUFSQ0hfUFJPVklERVJTXCIpKVxuICAgIH0pXG4gIH1cbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJjb21wb25lbnQ6c2VhcmNoXCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6IFwic3RvcmVcIlxufSlcbiIsImltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCB7IFNuYWNrYmFyLCBzZWxlY3QgfSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvc25hY2tiYXJcIlxuaW1wb3J0IG1vdW50IGZyb20gXCJtaXNhZ28vdXRpbHMvbW91bnQtY29tcG9uZW50XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIG1vdW50KGNvbm5lY3Qoc2VsZWN0KShTbmFja2JhciksIFwic25hY2tiYXItbW91bnRcIilcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJjb21wb25lbnQ6c25hY2tiYXJcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogXCJzbmFja2JhclwiXG59KVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgU29jaWFsQXV0aCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvc29jaWFsLWF1dGhcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvXCJcbmltcG9ydCBtb3VudCBmcm9tIFwibWlzYWdvL3V0aWxzL21vdW50LWNvbXBvbmVudFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKGNvbnRleHQpIHtcbiAgaWYgKGNvbnRleHQuZ2V0KFwiQ1VSUkVOVF9MSU5LXCIpID09PSBcIm1pc2Fnbzpzb2NpYWwtY29tcGxldGVcIikge1xuICAgIGNvbnN0IHByb3BzID0gY29udGV4dC5nZXQoXCJTT0NJQUxfQVVUSF9GT1JNXCIpXG4gICAgbW91bnQoPFNvY2lhbEF1dGggey4uLnByb3BzfSAvPiwgXCJwYWdlLW1vdW50XCIpXG4gIH1cbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJjb21wb25lbnQ6c29jaWFsLWF1dGhcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogXCJzdG9yZVwiXG59KVxuIiwiaW1wb3J0IHsgcGF0aHMgfSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkL3Jvb3RcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCBtb3VudCBmcm9tIFwibWlzYWdvL3V0aWxzL3JvdXRlZC1jb21wb25lbnRcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcihjb250ZXh0KSB7XG4gIGlmIChjb250ZXh0LmhhcyhcIlRIUkVBRFwiKSAmJiBjb250ZXh0LmhhcyhcIlBPU1RTXCIpKSB7XG4gICAgbW91bnQoe1xuICAgICAgcGF0aHM6IHBhdGhzKClcbiAgICB9KVxuICB9XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwiY29tcG9uZW50OnRocmVhZFwiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiBcInN0b3JlXCJcbn0pXG4iLCJpbXBvcnQgeyBwYXRocyB9IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzL3Jvb3RcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCBtb3VudCBmcm9tIFwibWlzYWdvL3V0aWxzL3JvdXRlZC1jb21wb25lbnRcIlxuXG5jb25zdCBQUklWQVRFX1RIUkVBRFNfTElTVCA9IFwibWlzYWdvOnByaXZhdGUtdGhyZWFkc1wiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKGNvbnRleHQpIHtcbiAgaWYgKGNvbnRleHQuaGFzKFwiVEhSRUFEU1wiKSAmJiBjb250ZXh0LmhhcyhcIkNBVEVHT1JJRVNcIikpIHtcbiAgICBtb3VudCh7XG4gICAgICBwYXRoczogcGF0aHMoY29udGV4dC5nZXQoXCJ1c2VyXCIpLCBnZXRMaXN0T3B0aW9ucyhjb250ZXh0KSlcbiAgICB9KVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRMaXN0T3B0aW9ucyhjb250ZXh0KSB7XG4gIGNvbnN0IGN1cnJlbnRMaW5rID0gY29udGV4dC5nZXQoXCJDVVJSRU5UX0xJTktcIilcbiAgaWYgKFxuICAgIGN1cnJlbnRMaW5rLnN1YnN0cigwLCBQUklWQVRFX1RIUkVBRFNfTElTVC5sZW5ndGgpID09PSBQUklWQVRFX1RIUkVBRFNfTElTVFxuICApIHtcbiAgICByZXR1cm4ge1xuICAgICAgYXBpOiBjb250ZXh0LmdldChcIlBSSVZBVEVfVEhSRUFEU19BUElcIiksXG4gICAgICBtb2RlOiBcIlNUQVJUXCIsXG4gICAgICBjb25maWc6IG1pc2Fnby5nZXQoXCJUSFJFQURfRURJVE9SX0FQSVwiKSxcbiAgICAgIHN1Ym1pdDogbWlzYWdvLmdldChcIlRIUkVBRFNfQVBJXCIpLFxuICAgICAgdGl0bGU6IFwizqPPhc69zr/OvM65zrvOr861z4IgzrPOuc6xIM6xzr3OrM64zrXPg863IM61z4HOs86xz4POr86xz4JcIixcbiAgICAgIHBhZ2VMZWFkOiBcIs6fzrkgz4PPhc69zr/OvM65zrvOr861z4IgzrzOtc+EzrHOvs+NIM+AzrXOu86xz4TPjs69IM66zrHOuSDOvM63z4fOsc69zrnOus+Ozr0gzrXOr869zrHOuSDOuc60zrnPic+EzrnOus6tz4IuXCIsXG4gICAgICBlbXB0eU1lc3NhZ2U6IFwizpTOtc69IM6tz4fOtc65z4IgzrHOvc6/zrnOus+Ezq3PgiDPg8+Fzr3Ov868zrnOu86vzrXPgiDOsc+Fz4TOriDPhM63IM+Dz4TOuc6zzrzOri4uLlwiXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBhcGk6IGNvbnRleHQuZ2V0KFwiVEhSRUFEU19BUElcIilcbiAgfVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiBcImNvbXBvbmVudDp0aHJlYWRzXCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6IFwic3RvcmVcIlxufSlcbiIsImltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCB7XG4gIFVzZXJNZW51LFxuICBDb21wYWN0VXNlck1lbnUsXG4gIHNlbGVjdFxufSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdXNlci1tZW51L3Jvb3RcIlxuaW1wb3J0IG1vdW50IGZyb20gXCJtaXNhZ28vdXRpbHMvbW91bnQtY29tcG9uZW50XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIG1vdW50KGNvbm5lY3Qoc2VsZWN0KShVc2VyTWVudSksIFwidXNlci1tZW51LW1vdW50XCIpXG4gIG1vdW50KGNvbm5lY3Qoc2VsZWN0KShDb21wYWN0VXNlck1lbnUpLCBcInVzZXItbWVudS1jb21wYWN0LW1vdW50XCIpXG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwiY29tcG9uZW50OnVzZXItbWVudVwiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiBcInN0b3JlXCJcbn0pXG4iLCJpbXBvcnQgVXNlcnMsIHsgcGF0aHMgfSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdXNlcnMvcm9vdFwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IG1vdW50IGZyb20gXCJtaXNhZ28vdXRpbHMvcm91dGVkLWNvbXBvbmVudFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKGNvbnRleHQpIHtcbiAgaWYgKGNvbnRleHQuaGFzKFwiVVNFUlNfTElTVFNcIikpIHtcbiAgICBtb3VudCh7XG4gICAgICByb290OiBtaXNhZ28uZ2V0KFwiVVNFUlNfTElTVF9VUkxcIiksXG4gICAgICBjb21wb25lbnQ6IFVzZXJzLFxuICAgICAgcGF0aHM6IHBhdGhzKClcbiAgICB9KVxuICB9XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwiY29tcG9uZW50OnVzZXJzXCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6IFwic3RvcmVcIlxufSlcbiIsImltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgaW5jbHVkZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2luY2x1ZGVcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcihjb250ZXh0KSB7XG4gIGluY2x1ZGUuaW5pdChjb250ZXh0LmdldChcIlNUQVRJQ19VUkxcIikpXG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwiaW5jbHVkZVwiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXJcbn0pXG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IHN0b3JhZ2UgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9sb2NhbC1zdG9yYWdlXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIHN0b3JhZ2UuaW5pdChcIm1pc2Fnb19cIilcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJsb2NhbC1zdG9yYWdlXCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplclxufSlcbiIsImltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgZHJvcGRvd24gZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9tb2JpbGUtbmF2YmFyLWRyb3Bkb3duXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIGxldCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtb2JpbGUtbmF2YmFyLWRyb3Bkb3duLW1vdW50XCIpXG4gIGlmIChlbGVtZW50KSB7XG4gICAgZHJvcGRvd24uaW5pdChlbGVtZW50KVxuICB9XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwiZHJvcGRvd25cIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBiZWZvcmU6IFwic3RvcmVcIlxufSlcbiIsImltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgbW9kYWwgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9tb2RhbFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBsZXQgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibW9kYWwtbW91bnRcIilcbiAgaWYgKGVsZW1lbnQpIHtcbiAgICBtb2RhbC5pbml0KGVsZW1lbnQpXG4gIH1cbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJtb2RhbFwiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGJlZm9yZTogXCJzdG9yZVwiXG59KVxuIiwiaW1wb3J0IG1vbWVudCBmcm9tIFwibW9tZW50XCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBtb21lbnQubG9jYWxlKCQoXCJodG1sXCIpLmF0dHIoXCJsYW5nXCIpKVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiBcIm1vbWVudFwiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXJcbn0pXG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IHRpdGxlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvcGFnZS10aXRsZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKGNvbnRleHQpIHtcbiAgdGl0bGUuaW5pdChcbiAgICBjb250ZXh0LmdldChcIlNFVFRJTkdTXCIpLmZvcnVtX2luZGV4X3RpdGxlLFxuICAgIGNvbnRleHQuZ2V0KFwiU0VUVElOR1NcIikuZm9ydW1fbmFtZVxuICApXG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwicGFnZS10aXRsZVwiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXJcbn0pXG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBwb2xscyBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3BvbGxzXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIHBvbGxzLmluaXQoYWpheCwgc25hY2tiYXIpXG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwicG9sbHNcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyXG59KVxuIiwiaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgcG9zdGluZyBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3Bvc3RpbmdcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgcG9zdGluZy5pbml0KGFqYXgsIHNuYWNrYmFyLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBvc3RpbmctcGxhY2Vob2xkZXJcIikpXG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwicG9zdGluZ1wiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXJcbn0pXG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IHJlZHVjZXIsIHsgaW5pdGlhbFN0YXRlIH0gZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9hdXRoXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoY29udGV4dCkge1xuICBzdG9yZS5hZGRSZWR1Y2VyKFxuICAgIFwiYXV0aFwiLFxuICAgIHJlZHVjZXIsXG4gICAgT2JqZWN0LmFzc2lnbihcbiAgICAgIHtcbiAgICAgICAgaXNBdXRoZW50aWNhdGVkOiBjb250ZXh0LmdldChcImlzQXV0aGVudGljYXRlZFwiKSxcbiAgICAgICAgaXNBbm9ueW1vdXM6ICFjb250ZXh0LmdldChcImlzQXV0aGVudGljYXRlZFwiKSxcblxuICAgICAgICB1c2VyOiBjb250ZXh0LmdldChcInVzZXJcIilcbiAgICAgIH0sXG4gICAgICBpbml0aWFsU3RhdGVcbiAgICApXG4gIClcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJyZWR1Y2VyOmF1dGhcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBiZWZvcmU6IFwic3RvcmVcIlxufSlcbiIsImltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgcmVkdWNlciBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3BhcnRpY2lwYW50c1wiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBsZXQgaW5pdGlhbFN0YXRlID0gbnVsbFxuICBpZiAobWlzYWdvLmhhcyhcIlRIUkVBRFwiKSkge1xuICAgIGluaXRpYWxTdGF0ZSA9IG1pc2Fnby5nZXQoXCJUSFJFQURcIikucGFydGljaXBhbnRzXG4gIH1cblxuICBzdG9yZS5hZGRSZWR1Y2VyKFwicGFydGljaXBhbnRzXCIsIHJlZHVjZXIsIGluaXRpYWxTdGF0ZSB8fCBbXSlcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJyZWR1Y2VyOnBhcnRpY2lwYW50c1wiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGJlZm9yZTogXCJzdG9yZVwiXG59KVxuIiwiaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCByZWR1Y2VyLCB7IGh5ZHJhdGUgfSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3BvbGxcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgbGV0IGluaXRpYWxTdGF0ZSA9IG51bGxcbiAgaWYgKG1pc2Fnby5oYXMoXCJUSFJFQURcIikgJiYgbWlzYWdvLmdldChcIlRIUkVBRFwiKS5wb2xsKSB7XG4gICAgaW5pdGlhbFN0YXRlID0gaHlkcmF0ZShtaXNhZ28uZ2V0KFwiVEhSRUFEXCIpLnBvbGwpXG4gIH0gZWxzZSB7XG4gICAgaW5pdGlhbFN0YXRlID0ge1xuICAgICAgaXNCdXN5OiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIHN0b3JlLmFkZFJlZHVjZXIoXCJwb2xsXCIsIHJlZHVjZXIsIGluaXRpYWxTdGF0ZSlcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJyZWR1Y2VyOnBvbGxcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBiZWZvcmU6IFwic3RvcmVcIlxufSlcbiIsImltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgcmVkdWNlciwgeyBoeWRyYXRlIH0gZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9wb3N0c1wiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBsZXQgaW5pdGlhbFN0YXRlID0gbnVsbFxuICBpZiAobWlzYWdvLmhhcyhcIlBPU1RTXCIpKSB7XG4gICAgaW5pdGlhbFN0YXRlID0gaHlkcmF0ZShtaXNhZ28uZ2V0KFwiUE9TVFNcIikpXG4gIH0gZWxzZSB7XG4gICAgaW5pdGlhbFN0YXRlID0ge1xuICAgICAgaXNMb2FkZWQ6IGZhbHNlLFxuICAgICAgaXNCdXN5OiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIHN0b3JlLmFkZFJlZHVjZXIoXCJwb3N0c1wiLCByZWR1Y2VyLCBpbml0aWFsU3RhdGUpXG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwicmVkdWNlcjpwb3N0c1wiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGJlZm9yZTogXCJzdG9yZVwiXG59KVxuIiwiaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCByZWR1Y2VyIGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvcHJvZmlsZS1kZXRhaWxzXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIGxldCBpbml0aWFsU3RhdGUgPSBudWxsXG4gIGlmIChtaXNhZ28uaGFzKFwiUFJPRklMRV9ERVRBSUxTXCIpKSB7XG4gICAgaW5pdGlhbFN0YXRlID0gbWlzYWdvLmdldChcIlBST0ZJTEVfREVUQUlMU1wiKVxuICB9XG5cbiAgc3RvcmUuYWRkUmVkdWNlcihcInByb2ZpbGUtZGV0YWlsc1wiLCByZWR1Y2VyLCBpbml0aWFsU3RhdGUgfHwge30pXG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwicmVkdWNlcjpwcm9maWxlLWRldGFpbHNcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBiZWZvcmU6IFwic3RvcmVcIlxufSlcbiIsImltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgeyBoeWRyYXRlIH0gZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9wcm9maWxlXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIGlmIChtaXNhZ28uaGFzKFwiUFJPRklMRVwiKSkge1xuICAgIHN0b3JlLmRpc3BhdGNoKGh5ZHJhdGUobWlzYWdvLmdldChcIlBST0ZJTEVcIikpKVxuICB9XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwicmVkdWNlcjpwcm9maWxlLWh5ZHJhdGVcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogXCJzdG9yZVwiXG59KVxuIiwiaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCByZWR1Y2VyIGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvcHJvZmlsZVwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBzdG9yZS5hZGRSZWR1Y2VyKFwicHJvZmlsZVwiLCByZWR1Y2VyLCB7fSlcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJyZWR1Y2VyOnByb2ZpbGVcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBiZWZvcmU6IFwic3RvcmVcIlxufSlcbiIsImltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnb1wiXG5pbXBvcnQgcmVkdWNlciwgeyBpbml0aWFsU3RhdGUgfSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3NlYXJjaFwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBzdG9yZS5hZGRSZWR1Y2VyKFxuICAgIFwic2VhcmNoXCIsXG4gICAgcmVkdWNlcixcbiAgICBPYmplY3QuYXNzaWduKHt9LCBpbml0aWFsU3RhdGUsIHtcbiAgICAgIHByb3ZpZGVyczogbWlzYWdvLmdldChcIlNFQVJDSF9QUk9WSURFUlNcIikgfHwgW10sXG4gICAgICBxdWVyeTogbWlzYWdvLmdldChcIlNFQVJDSF9RVUVSWVwiKSB8fCBcIlwiXG4gICAgfSlcbiAgKVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiBcInJlZHVjZXI6c2VhcmNoXCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYmVmb3JlOiBcInN0b3JlXCJcbn0pXG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IHJlZHVjZXIgZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9zZWxlY3Rpb25cIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgc3RvcmUuYWRkUmVkdWNlcihcInNlbGVjdGlvblwiLCByZWR1Y2VyLCBbXSlcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJyZWR1Y2VyOnNlbGVjdGlvblwiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGJlZm9yZTogXCJzdG9yZVwiXG59KVxuIiwiaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCByZWR1Y2VyLCB7IGluaXRpYWxTdGF0ZSB9IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvc25hY2tiYXJcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgc3RvcmUuYWRkUmVkdWNlcihcInNuYWNrYmFyXCIsIHJlZHVjZXIsIGluaXRpYWxTdGF0ZSlcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJyZWR1Y2VyOnNuYWNrYmFyXCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYmVmb3JlOiBcInN0b3JlXCJcbn0pXG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IHJlZHVjZXIsIHsgaHlkcmF0ZSB9IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvdGhyZWFkXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIGxldCBpbml0aWFsU3RhdGUgPSBudWxsXG4gIGlmIChtaXNhZ28uaGFzKFwiVEhSRUFEXCIpKSB7XG4gICAgaW5pdGlhbFN0YXRlID0gaHlkcmF0ZShtaXNhZ28uZ2V0KFwiVEhSRUFEXCIpKVxuICB9IGVsc2Uge1xuICAgIGluaXRpYWxTdGF0ZSA9IHtcbiAgICAgIGlzQnVzeTogZmFsc2VcbiAgICB9XG4gIH1cblxuICBzdG9yZS5hZGRSZWR1Y2VyKFwidGhyZWFkXCIsIHJlZHVjZXIsIGluaXRpYWxTdGF0ZSlcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJyZWR1Y2VyOnRocmVhZFwiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGJlZm9yZTogXCJzdG9yZVwiXG59KVxuIiwiaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCByZWR1Y2VyIGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvdGhyZWFkc1wiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBzdG9yZS5hZGRSZWR1Y2VyKFwidGhyZWFkc1wiLCByZWR1Y2VyLCBbXSlcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJyZWR1Y2VyOnRocmVhZHNcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBiZWZvcmU6IFwic3RvcmVcIlxufSlcbiIsImltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgcmVkdWNlciwgeyBpbml0aWFsU3RhdGUgfSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3RpY2tcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgc3RvcmUuYWRkUmVkdWNlcihcInRpY2tcIiwgcmVkdWNlciwgaW5pdGlhbFN0YXRlKVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiBcInJlZHVjZXI6dGlja1wiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGJlZm9yZTogXCJzdG9yZVwiXG59KVxuIiwiaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCByZWR1Y2VyIGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvdXNlcm5hbWUtaGlzdG9yeVwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBzdG9yZS5hZGRSZWR1Y2VyKFwidXNlcm5hbWUtaGlzdG9yeVwiLCByZWR1Y2VyLCBbXSlcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJyZWR1Y2VyOnVzZXJuYW1lLWhpc3RvcnlcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBiZWZvcmU6IFwic3RvcmVcIlxufSlcbiIsImltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgcmVkdWNlciBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3VzZXJzXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIHN0b3JlLmFkZFJlZHVjZXIoXCJ1c2Vyc1wiLCByZWR1Y2VyLCBbXSlcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJyZWR1Y2VyOnVzZXJzXCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYmVmb3JlOiBcInN0b3JlXCJcbn0pXG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgc25hY2tiYXIuaW5pdChzdG9yZSlcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJzbmFja2JhclwiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiBcInN0b3JlXCJcbn0pXG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgc3RvcmUuaW5pdCgpXG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwic3RvcmVcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBiZWZvcmU6IFwiX2VuZFwiXG59KVxuIiwiaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCB7IGRvVGljayB9IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvdGlja1wiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmNvbnN0IFRJQ0tfUEVSSU9EID0gNTAgKiAxMDAwIC8vZG8gdGhlIHRpY2sgZXZlcnkgNTBzXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICB3aW5kb3cuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgc3RvcmUuZGlzcGF0Y2goZG9UaWNrKCkpXG4gIH0sIFRJQ0tfUEVSSU9EKVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiBcInRpY2stc3RhcnRcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogXCJzdG9yZVwiXG59KVxuIiwiaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCBpbmNsdWRlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvaW5jbHVkZVwiXG5pbXBvcnQgenhjdmJuIGZyb20gXCJtaXNhZ28vc2VydmljZXMvenhjdmJuXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIHp4Y3Zibi5pbml0KGluY2x1ZGUpXG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwienhjdmJuXCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplclxufSlcbiIsImltcG9ydCB7IFVQREFURV9BVkFUQVIsIFVQREFURV9VU0VSTkFNRSB9IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvdXNlcnNcIlxuXG5leHBvcnQgdmFyIGluaXRpYWxTdGF0ZSA9IHtcbiAgc2lnbmVkSW46IGZhbHNlLFxuICBzaWduZWRPdXQ6IGZhbHNlXG59XG5cbmV4cG9ydCBjb25zdCBQQVRDSF9VU0VSID0gXCJQQVRDSF9VU0VSXCJcbmV4cG9ydCBjb25zdCBTSUdOX0lOID0gXCJTSUdOX0lOXCJcbmV4cG9ydCBjb25zdCBTSUdOX09VVCA9IFwiU0lHTl9PVVRcIlxuXG5leHBvcnQgZnVuY3Rpb24gcGF0Y2gocGF0Y2gpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBQQVRDSF9VU0VSLFxuICAgIHBhdGNoXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNpZ25Jbih1c2VyKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogU0lHTl9JTixcbiAgICB1c2VyXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNpZ25PdXQoc29mdCA9IGZhbHNlKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogU0lHTl9PVVQsXG4gICAgc29mdFxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGF1dGgoc3RhdGUgPSBpbml0aWFsU3RhdGUsIGFjdGlvbiA9IG51bGwpIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgUEFUQ0hfVVNFUjpcbiAgICAgIGxldCBuZXdTdGF0ZSA9IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlKVxuICAgICAgbmV3U3RhdGUudXNlciA9IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLnVzZXIsIGFjdGlvbi5wYXRjaClcbiAgICAgIHJldHVybiBuZXdTdGF0ZVxuXG4gICAgY2FzZSBTSUdOX0lOOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XG4gICAgICAgIHNpZ25lZEluOiBhY3Rpb24udXNlclxuICAgICAgfSlcblxuICAgIGNhc2UgU0lHTl9PVVQ6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcbiAgICAgICAgaXNBdXRoZW50aWNhdGVkOiBmYWxzZSxcbiAgICAgICAgaXNBbm9ueW1vdXM6IHRydWUsXG4gICAgICAgIHNpZ25lZE91dDogIWFjdGlvbi5zb2Z0XG4gICAgICB9KVxuXG4gICAgY2FzZSBVUERBVEVfQVZBVEFSOlxuICAgICAgaWYgKHN0YXRlLmlzQXV0aGVudGljYXRlZCAmJiBzdGF0ZS51c2VyLmlkID09PSBhY3Rpb24udXNlcklkKSB7XG4gICAgICAgIGxldCBuZXdTdGF0ZSA9IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlKVxuICAgICAgICBuZXdTdGF0ZS51c2VyID0gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUudXNlciwge1xuICAgICAgICAgIGF2YXRhcnM6IGFjdGlvbi5hdmF0YXJzXG4gICAgICAgIH0pXG4gICAgICAgIHJldHVybiBuZXdTdGF0ZVxuICAgICAgfVxuICAgICAgcmV0dXJuIHN0YXRlXG5cbiAgICBjYXNlIFVQREFURV9VU0VSTkFNRTpcbiAgICAgIGlmIChzdGF0ZS5pc0F1dGhlbnRpY2F0ZWQgJiYgc3RhdGUudXNlci5pZCA9PT0gYWN0aW9uLnVzZXJJZCkge1xuICAgICAgICBsZXQgbmV3U3RhdGUgPSBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSlcbiAgICAgICAgbmV3U3RhdGUudXNlciA9IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLnVzZXIsIHtcbiAgICAgICAgICB1c2VybmFtZTogYWN0aW9uLnVzZXJuYW1lLFxuICAgICAgICAgIHNsdWc6IGFjdGlvbi5zbHVnXG4gICAgICAgIH0pXG4gICAgICAgIHJldHVybiBuZXdTdGF0ZVxuICAgICAgfVxuICAgICAgcmV0dXJuIHN0YXRlXG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlXG4gIH1cbn1cbiIsImV4cG9ydCBjb25zdCBSRVBMQUNFX1BBUlRJQ0lQQU5UUyA9IFwiUkVQTEFDRV9QQVJUSUNJUEFOVFNcIlxuXG5leHBvcnQgZnVuY3Rpb24gcmVwbGFjZShuZXdTdGF0ZSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFJFUExBQ0VfUEFSVElDSVBBTlRTLFxuICAgIHN0YXRlOiBuZXdTdGF0ZVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBhcnRpY2lwYW50cyhzdGF0ZSA9IFtdLCBhY3Rpb24gPSBudWxsKSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIFJFUExBQ0VfUEFSVElDSVBBTlRTOlxuICAgICAgcmV0dXJuIGFjdGlvbi5zdGF0ZVxuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZVxuICB9XG59XG4iLCJpbXBvcnQgbW9tZW50IGZyb20gXCJtb21lbnRcIlxuXG5leHBvcnQgY29uc3QgQlVTWV9QT0xMID0gXCJCVVNZX1BPTExcIlxuZXhwb3J0IGNvbnN0IFJFTEVBU0VfUE9MTCA9IFwiUkVMRUFTRV9QT0xMXCJcbmV4cG9ydCBjb25zdCBSRU1PVkVfUE9MTCA9IFwiUkVNT1ZFX1BPTExcIlxuZXhwb3J0IGNvbnN0IFJFUExBQ0VfUE9MTCA9IFwiUkVQTEFDRV9QT0xMXCJcbmV4cG9ydCBjb25zdCBVUERBVEVfUE9MTCA9IFwiVVBEQVRFX1BPTExcIlxuXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZShqc29uKSB7XG4gIGxldCBoYXNTZWxlY3RlZENob2ljZXMgPSBmYWxzZVxuICBmb3IgKGNvbnN0IGkgaW4ganNvbi5jaG9pY2VzKSB7XG4gICAgY29uc3QgY2hvaWNlID0ganNvbi5jaG9pY2VzW2ldXG4gICAgaWYgKGNob2ljZS5zZWxlY3RlZCkge1xuICAgICAgaGFzU2VsZWN0ZWRDaG9pY2VzID0gdHJ1ZVxuICAgICAgYnJlYWtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwganNvbiwge1xuICAgIHBvc3RlZF9vbjogbW9tZW50KGpzb24ucG9zdGVkX29uKSxcblxuICAgIGhhc1NlbGVjdGVkQ2hvaWNlcyxcbiAgICBlbmRzT246IGpzb24ubGVuZ3RoXG4gICAgICA/IG1vbWVudChqc29uLnBvc3RlZF9vbikuYWRkKGpzb24ubGVuZ3RoLCBcImRheXNcIilcbiAgICAgIDogbnVsbCxcblxuICAgIGlzQnVzeTogZmFsc2VcbiAgfSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJ1c3koKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogQlVTWV9QT0xMXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbGVhc2UoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogUkVMRUFTRV9QT0xMXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlcGxhY2UobmV3U3RhdGUsIGh5ZHJhdGVkID0gZmFsc2UpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBSRVBMQUNFX1BPTEwsXG4gICAgc3RhdGU6IGh5ZHJhdGVkID8gbmV3U3RhdGUgOiBoeWRyYXRlKG5ld1N0YXRlKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGUoZGF0YSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFVQREFURV9QT0xMLFxuICAgIGRhdGFcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFJFTU9WRV9QT0xMXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcG9sbChzdGF0ZSA9IHt9LCBhY3Rpb24gPSBudWxsKSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIEJVU1lfUE9MTDpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwgeyBpc0J1c3k6IHRydWUgfSlcblxuICAgIGNhc2UgUkVMRUFTRV9QT0xMOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7IGlzQnVzeTogZmFsc2UgfSlcblxuICAgIGNhc2UgUkVNT1ZFX1BPTEw6XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpc0J1c3k6IGZhbHNlXG4gICAgICB9XG5cbiAgICBjYXNlIFJFUExBQ0VfUE9MTDpcbiAgICAgIHJldHVybiBhY3Rpb24uc3RhdGVcblxuICAgIGNhc2UgVVBEQVRFX1BPTEw6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIGFjdGlvbi5kYXRhKVxuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZVxuICB9XG59XG4iLCJpbXBvcnQgbW9tZW50IGZyb20gXCJtb21lbnRcIlxuaW1wb3J0IHsgaHlkcmF0ZVVzZXIgfSBmcm9tIFwiLi91c2Vyc1wiXG5cbmV4cG9ydCBjb25zdCBQQVRDSF9QT1NUID0gXCJQQVRDSF9QT1NUXCJcblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGUoanNvbikge1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwganNvbiwge1xuICAgIHBvc3RlZF9vbjogbW9tZW50KGpzb24ucG9zdGVkX29uKSxcbiAgICB1cGRhdGVkX29uOiBtb21lbnQoanNvbi51cGRhdGVkX29uKSxcbiAgICBoaWRkZW5fb246IG1vbWVudChqc29uLmhpZGRlbl9vbiksXG5cbiAgICBhdHRhY2htZW50czoganNvbi5hdHRhY2htZW50c1xuICAgICAgPyBqc29uLmF0dGFjaG1lbnRzLm1hcChoeWRyYXRlQXR0YWNobWVudClcbiAgICAgIDogbnVsbCxcbiAgICBwb3N0ZXI6IGpzb24ucG9zdGVyID8gaHlkcmF0ZVVzZXIoanNvbi5wb3N0ZXIpIDogbnVsbCxcblxuICAgIGlzU2VsZWN0ZWQ6IGZhbHNlLFxuICAgIGlzQnVzeTogZmFsc2UsXG4gICAgaXNEZWxldGVkOiBmYWxzZVxuICB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZUF0dGFjaG1lbnQoanNvbikge1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwganNvbiwge1xuICAgIHVwbG9hZGVkX29uOiBtb21lbnQoanNvbi51cGxvYWRlZF9vbilcbiAgfSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhdGNoKHBvc3QsIHBhdGNoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogUEFUQ0hfUE9TVCxcbiAgICBwb3N0LFxuICAgIHBhdGNoXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcG9zdChzdGF0ZSA9IHt9LCBhY3Rpb24gPSBudWxsKSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIFBBVENIX1BPU1Q6XG4gICAgICBpZiAoc3RhdGUuaWQgPT0gYWN0aW9uLnBvc3QuaWQpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCBhY3Rpb24ucGF0Y2gpXG4gICAgICB9XG4gICAgICByZXR1cm4gc3RhdGVcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGVcbiAgfVxufVxuIiwiaW1wb3J0IHBvc3RSZWR1Y2VyLCB7XG4gIFBBVENIX1BPU1QsXG4gIGh5ZHJhdGUgYXMgaHlkcmF0ZVBvc3Rcbn0gZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9wb3N0XCJcblxuZXhwb3J0IGNvbnN0IEFQUEVORF9QT1NUUyA9IFwiQVBQRU5EX1BPU1RTXCJcbmV4cG9ydCBjb25zdCBTRUxFQ1RfUE9TVCA9IFwiU0VMRUNUX1BPU1RcIlxuZXhwb3J0IGNvbnN0IERFU0VMRUNUX1BPU1QgPSBcIkRFU0VMRUNUX1BPU1RcIlxuZXhwb3J0IGNvbnN0IERFU0VMRUNUX1BPU1RTID0gXCJERVNFTEVDVF9QT1NUU1wiXG5leHBvcnQgY29uc3QgTE9BRF9QT1NUUyA9IFwiTE9BRF9QT1NUU1wiXG5leHBvcnQgY29uc3QgVU5MT0FEX1BPU1RTID0gXCJVTkxPQURfUE9TVFNcIlxuZXhwb3J0IGNvbnN0IFVQREFURV9QT1NUUyA9IFwiVVBEQVRFX1BPU1RTXCJcblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdChwb3N0KSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogU0VMRUNUX1BPU1QsXG4gICAgcG9zdFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZXNlbGVjdChwb3N0KSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogREVTRUxFQ1RfUE9TVCxcbiAgICBwb3N0XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlc2VsZWN0QWxsKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IERFU0VMRUNUX1BPU1RTXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGUoanNvbikge1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwganNvbiwge1xuICAgIHJlc3VsdHM6IGpzb24ucmVzdWx0cy5tYXAoaHlkcmF0ZVBvc3QpLFxuICAgIGlzTG9hZGVkOiB0cnVlLFxuICAgIGlzQnVzeTogZmFsc2UsXG4gICAgaXNTZWxlY3RlZDogZmFsc2VcbiAgfSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWQobmV3U3RhdGUsIGh5ZHJhdGVkID0gZmFsc2UpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBMT0FEX1BPU1RTLFxuICAgIHN0YXRlOiBoeWRyYXRlZCA/IG5ld1N0YXRlIDogaHlkcmF0ZShuZXdTdGF0ZSlcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kKG5ld1N0YXRlLCBoeWRyYXRlZCA9IGZhbHNlKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogQVBQRU5EX1BPU1RTLFxuICAgIHN0YXRlOiBoeWRyYXRlZCA/IG5ld1N0YXRlIDogaHlkcmF0ZShuZXdTdGF0ZSlcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5sb2FkKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFVOTE9BRF9QT1NUU1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGUobmV3U3RhdGUpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBVUERBVEVfUE9TVFMsXG4gICAgdXBkYXRlOiBuZXdTdGF0ZVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBvc3RzKHN0YXRlID0ge30sIGFjdGlvbiA9IG51bGwpIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgU0VMRUNUX1BPU1Q6XG4gICAgICBjb25zdCBzZWxlY3RlZFBvc3RzID0gc3RhdGUucmVzdWx0cy5tYXAocG9zdCA9PiB7XG4gICAgICAgIGlmIChwb3N0LmlkID09IGFjdGlvbi5wb3N0LmlkKSB7XG4gICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHBvc3QsIHtcbiAgICAgICAgICAgIGlzU2VsZWN0ZWQ6IHRydWVcbiAgICAgICAgICB9KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBwb3N0XG4gICAgICAgIH1cbiAgICAgIH0pXG5cbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xuICAgICAgICByZXN1bHRzOiBzZWxlY3RlZFBvc3RzXG4gICAgICB9KVxuXG4gICAgY2FzZSBERVNFTEVDVF9QT1NUOlxuICAgICAgY29uc3QgZGVzZWxldGVkUG9zdHMgPSBzdGF0ZS5yZXN1bHRzLm1hcChwb3N0ID0+IHtcbiAgICAgICAgaWYgKHBvc3QuaWQgPT0gYWN0aW9uLnBvc3QuaWQpIHtcbiAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgcG9zdCwge1xuICAgICAgICAgICAgaXNTZWxlY3RlZDogZmFsc2VcbiAgICAgICAgICB9KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBwb3N0XG4gICAgICAgIH1cbiAgICAgIH0pXG5cbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xuICAgICAgICByZXN1bHRzOiBkZXNlbGV0ZWRQb3N0c1xuICAgICAgfSlcblxuICAgIGNhc2UgREVTRUxFQ1RfUE9TVFM6XG4gICAgICBjb25zdCBkZXNlbGV0ZWRBbGxQb3N0cyA9IHN0YXRlLnJlc3VsdHMubWFwKHBvc3QgPT4ge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgcG9zdCwge1xuICAgICAgICAgIGlzU2VsZWN0ZWQ6IGZhbHNlXG4gICAgICAgIH0pXG4gICAgICB9KVxuXG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcbiAgICAgICAgcmVzdWx0czogZGVzZWxldGVkQWxsUG9zdHNcbiAgICAgIH0pXG5cbiAgICBjYXNlIEFQUEVORF9QT1NUUzpcbiAgICAgIGxldCByZXN1bHRzID0gc3RhdGUucmVzdWx0cy5zbGljZSgpXG4gICAgICBjb25zdCByZXN1bHRzSWRzID0gc3RhdGUucmVzdWx0cy5tYXAocG9zdCA9PiB7XG4gICAgICAgIHJldHVybiBwb3N0LmlkXG4gICAgICB9KVxuXG4gICAgICBhY3Rpb24uc3RhdGUucmVzdWx0cy5tYXAocG9zdCA9PiB7XG4gICAgICAgIGlmIChyZXN1bHRzSWRzLmluZGV4T2YocG9zdC5pZCkgPT09IC0xKSB7XG4gICAgICAgICAgcmVzdWx0cy5wdXNoKHBvc3QpXG4gICAgICAgIH1cbiAgICAgIH0pXG5cbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBhY3Rpb24uc3RhdGUsIHtcbiAgICAgICAgcmVzdWx0c1xuICAgICAgfSlcblxuICAgIGNhc2UgTE9BRF9QT1NUUzpcbiAgICAgIHJldHVybiBhY3Rpb24uc3RhdGVcblxuICAgIGNhc2UgVU5MT0FEX1BPU1RTOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XG4gICAgICAgIGlzTG9hZGVkOiBmYWxzZVxuICAgICAgfSlcblxuICAgIGNhc2UgVVBEQVRFX1BPU1RTOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCBhY3Rpb24udXBkYXRlKVxuXG4gICAgY2FzZSBQQVRDSF9QT1NUOlxuICAgICAgY29uc3QgcmVkdWNlZFBvc3RzID0gc3RhdGUucmVzdWx0cy5tYXAocG9zdCA9PiB7XG4gICAgICAgIHJldHVybiBwb3N0UmVkdWNlcihwb3N0LCBhY3Rpb24pXG4gICAgICB9KVxuXG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcbiAgICAgICAgcmVzdWx0czogcmVkdWNlZFBvc3RzXG4gICAgICB9KVxuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZVxuICB9XG59XG4iLCJleHBvcnQgY29uc3QgTE9BRF9ERVRBSUxTID0gXCJMT0FEX0RFVEFJTFNcIlxuXG5leHBvcnQgZnVuY3Rpb24gbG9hZChuZXdTdGF0ZSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IExPQURfREVUQUlMUyxcblxuICAgIG5ld1N0YXRlXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZGV0YWlscyhzdGF0ZSA9IHt9LCBhY3Rpb24gPSBudWxsKSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIExPQURfREVUQUlMUzpcbiAgICAgIHJldHVybiBhY3Rpb24ubmV3U3RhdGVcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGVcbiAgfVxufVxuIiwiaW1wb3J0IG1vbWVudCBmcm9tIFwibW9tZW50XCJcbmltcG9ydCB7XG4gIFVQREFURV9BVkFUQVIsXG4gIFVQREFURV9VU0VSTkFNRSxcbiAgaHlkcmF0ZVN0YXR1c1xufSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3VzZXJzXCJcblxuZXhwb3J0IGNvbnN0IEhZRFJBVEVfUFJPRklMRSA9IFwiSFlEUkFURV9QUk9GSUxFXCJcbmV4cG9ydCBjb25zdCBQQVRDSF9QUk9GSUxFID0gXCJQQVRDSF9QUk9GSUxFXCJcblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGUocHJvZmlsZSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEhZRFJBVEVfUFJPRklMRSxcbiAgICBwcm9maWxlXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhdGNoKHBhdGNoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogUEFUQ0hfUFJPRklMRSxcbiAgICBwYXRjaFxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGF1dGgoc3RhdGUgPSB7fSwgYWN0aW9uID0gbnVsbCkge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBIWURSQVRFX1BST0ZJTEU6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgYWN0aW9uLnByb2ZpbGUsIHtcbiAgICAgICAgam9pbmVkX29uOiBtb21lbnQoYWN0aW9uLnByb2ZpbGUuam9pbmVkX29uKSxcbiAgICAgICAgc3RhdHVzOiBoeWRyYXRlU3RhdHVzKGFjdGlvbi5wcm9maWxlLnN0YXR1cylcbiAgICAgIH0pXG5cbiAgICBjYXNlIFBBVENIX1BST0ZJTEU6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIGFjdGlvbi5wYXRjaClcblxuICAgIGNhc2UgVVBEQVRFX0FWQVRBUjpcbiAgICAgIGlmIChzdGF0ZS5pZCA9PT0gYWN0aW9uLnVzZXJJZCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcbiAgICAgICAgICBhdmF0YXJzOiBhY3Rpb24uYXZhdGFyc1xuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgcmV0dXJuIHN0YXRlXG5cbiAgICBjYXNlIFVQREFURV9VU0VSTkFNRTpcbiAgICAgIGlmIChzdGF0ZS5pZCA9PT0gYWN0aW9uLnVzZXJJZCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcbiAgICAgICAgICB1c2VybmFtZTogYWN0aW9uLnVzZXJuYW1lLFxuICAgICAgICAgIHNsdWc6IGFjdGlvbi5zbHVnXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICByZXR1cm4gc3RhdGVcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGVcbiAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IFJFUExBQ0VfU0VBUkNIID0gXCJSRVBMQUNFX1NFQVJDSFwiXG5leHBvcnQgY29uc3QgVVBEQVRFX1NFQVJDSCA9IFwiVVBEQVRFX1NFQVJDSFwiXG5leHBvcnQgY29uc3QgVVBEQVRFX1NFQVJDSF9QUk9WSURFUiA9IFwiVVBEQVRFX1NFQVJDSF9QUk9WSURFUlwiXG5cbmV4cG9ydCBjb25zdCBpbml0aWFsU3RhdGUgPSB7XG4gIGlzTG9hZGluZzogZmFsc2UsXG4gIHF1ZXJ5OiBcIlwiLFxuICBwcm92aWRlcnM6IFtdXG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXBsYWNlKG5ld1N0YXRlKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogUkVQTEFDRV9TRUFSQ0gsXG4gICAgc3RhdGU6IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICBwcm92aWRlcnM6IG5ld1N0YXRlXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGUobmV3U3RhdGUpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBVUERBVEVfU0VBUkNILFxuICAgIHVwZGF0ZTogbmV3U3RhdGVcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlUHJvdmlkZXIocHJvdmlkZXIpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBVUERBVEVfU0VBUkNIX1BST1ZJREVSLFxuICAgIHByb3ZpZGVyOiBwcm92aWRlclxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBhcnRpY2lwYW50cyhzdGF0ZSA9IHt9LCBhY3Rpb24gPSBudWxsKSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIFJFUExBQ0VfU0VBUkNIOlxuICAgICAgcmV0dXJuIGFjdGlvbi5zdGF0ZVxuXG4gICAgY2FzZSBVUERBVEVfU0VBUkNIOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCBhY3Rpb24udXBkYXRlKVxuXG4gICAgY2FzZSBVUERBVEVfU0VBUkNIX1BST1ZJREVSOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XG4gICAgICAgIHByb3ZpZGVyczogc3RhdGUucHJvdmlkZXJzLm1hcChwcm92aWRlciA9PiB7XG4gICAgICAgICAgaWYgKHByb3ZpZGVyLmlkID09PSBhY3Rpb24ucHJvdmlkZXIuaWQpIHtcbiAgICAgICAgICAgIHJldHVybiBhY3Rpb24ucHJvdmlkZXJcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHByb3ZpZGVyXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfSlcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGVcbiAgfVxufVxuIiwiaW1wb3J0IHsgdG9nZ2xlIH0gZnJvbSBcIm1pc2Fnby91dGlscy9zZXRzXCJcblxuZXhwb3J0IGNvbnN0IFNFTEVDVF9BTEwgPSBcIlNFTEVDVF9BTExcIlxuZXhwb3J0IGNvbnN0IFNFTEVDVF9OT05FID0gXCJTRUxFQ1RfTk9ORVwiXG5leHBvcnQgY29uc3QgU0VMRUNUX0lURU0gPSBcIlNFTEVDVF9JVEVNXCJcblxuZXhwb3J0IGZ1bmN0aW9uIGFsbChpdGVtc0lkcykge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFNFTEVDVF9BTEwsXG4gICAgaXRlbXM6IGl0ZW1zSWRzXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5vbmUoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogU0VMRUNUX05PTkVcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXRlbShpdGVtSWQpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBTRUxFQ1RfSVRFTSxcbiAgICBpdGVtOiBpdGVtSWRcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzZWxlY3Rpb24oc3RhdGUgPSBbXSwgYWN0aW9uID0gbnVsbCkge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBTRUxFQ1RfQUxMOlxuICAgICAgcmV0dXJuIGFjdGlvbi5pdGVtc1xuXG4gICAgY2FzZSBTRUxFQ1RfTk9ORTpcbiAgICAgIHJldHVybiBbXVxuXG4gICAgY2FzZSBTRUxFQ1RfSVRFTTpcbiAgICAgIHJldHVybiB0b2dnbGUoc3RhdGUsIGFjdGlvbi5pdGVtKVxuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZVxuICB9XG59XG4iLCJleHBvcnQgdmFyIGluaXRpYWxTdGF0ZSA9IHtcbiAgdHlwZTogXCJpbmZvXCIsXG4gIG1lc3NhZ2U6IFwiXCIsXG4gIGlzVmlzaWJsZTogZmFsc2Vcbn1cblxuZXhwb3J0IGNvbnN0IFNIT1dfU05BQ0tCQVIgPSBcIlNIT1dfU05BQ0tCQVJcIlxuZXhwb3J0IGNvbnN0IEhJREVfU05BQ0tCQVIgPSBcIkhJREVfU05BQ0tCQVJcIlxuXG5leHBvcnQgZnVuY3Rpb24gc2hvd1NuYWNrYmFyKG1lc3NhZ2UsIHR5cGUpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBTSE9XX1NOQUNLQkFSLFxuICAgIG1lc3NhZ2UsXG4gICAgbWVzc2FnZVR5cGU6IHR5cGVcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaGlkZVNuYWNrYmFyKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEhJREVfU05BQ0tCQVJcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzbmFja2JhcihzdGF0ZSA9IGluaXRpYWxTdGF0ZSwgYWN0aW9uID0gbnVsbCkge1xuICBpZiAoYWN0aW9uLnR5cGUgPT09IFNIT1dfU05BQ0tCQVIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogYWN0aW9uLm1lc3NhZ2VUeXBlLFxuICAgICAgbWVzc2FnZTogYWN0aW9uLm1lc3NhZ2UsXG4gICAgICBpc1Zpc2libGU6IHRydWVcbiAgICB9XG4gIH0gZWxzZSBpZiAoYWN0aW9uLnR5cGUgPT09IEhJREVfU05BQ0tCQVIpIHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcbiAgICAgIGlzVmlzaWJsZTogZmFsc2VcbiAgICB9KVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBzdGF0ZVxuICB9XG59XG4iLCJpbXBvcnQgbW9tZW50IGZyb20gXCJtb21lbnRcIlxuaW1wb3J0IHsgUkVNT1ZFX1BPTEwsIFJFUExBQ0VfUE9MTCB9IGZyb20gXCIuL3BvbGxcIlxuXG5leHBvcnQgY29uc3QgQlVTWV9USFJFQUQgPSBcIkJVU1lfVEhSRUFEXCJcbmV4cG9ydCBjb25zdCBSRUxFQVNFX1RIUkVBRCA9IFwiUkVMRUFTRV9USFJFQURcIlxuZXhwb3J0IGNvbnN0IFJFUExBQ0VfVEhSRUFEID0gXCJSRVBMQUNFX1RIUkVBRFwiXG5leHBvcnQgY29uc3QgVVBEQVRFX1RIUkVBRCA9IFwiVVBEQVRFX1RIUkVBRFwiXG5leHBvcnQgY29uc3QgVVBEQVRFX1RIUkVBRF9BQ0wgPSBcIlVQREFURV9USFJFQURfQUNMXCJcblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGUoanNvbikge1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwganNvbiwge1xuICAgIHN0YXJ0ZWRfb246IG1vbWVudChqc29uLnN0YXJ0ZWRfb24pLFxuICAgIGxhc3RfcG9zdF9vbjogbW9tZW50KGpzb24ubGFzdF9wb3N0X29uKSxcbiAgICBiZXN0X2Fuc3dlcl9tYXJrZWRfb246IGpzb24uYmVzdF9hbnN3ZXJfbWFya2VkX29uXG4gICAgICA/IG1vbWVudChqc29uLmJlc3RfYW5zd2VyX21hcmtlZF9vbilcbiAgICAgIDogbnVsbCxcblxuICAgIGlzQnVzeTogZmFsc2VcbiAgfSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJ1c3koKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogQlVTWV9USFJFQURcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVsZWFzZSgpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBSRUxFQVNFX1RIUkVBRFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXBsYWNlKG5ld1N0YXRlLCBoeWRyYXRlZCA9IGZhbHNlKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogUkVQTEFDRV9USFJFQUQsXG4gICAgc3RhdGU6IGh5ZHJhdGVkID8gbmV3U3RhdGUgOiBoeWRyYXRlKG5ld1N0YXRlKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGUoZGF0YSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFVQREFURV9USFJFQUQsXG4gICAgZGF0YVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVBY2woZGF0YSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFVQREFURV9USFJFQURfQUNMLFxuICAgIGRhdGFcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0aHJlYWQoc3RhdGUgPSB7fSwgYWN0aW9uID0gbnVsbCkge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBCVVNZX1RIUkVBRDpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwgeyBpc0J1c3k6IHRydWUgfSlcblxuICAgIGNhc2UgUkVMRUFTRV9USFJFQUQ6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHsgaXNCdXN5OiBmYWxzZSB9KVxuXG4gICAgY2FzZSBSRU1PVkVfUE9MTDpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwgeyBwb2xsOiBudWxsIH0pXG5cbiAgICBjYXNlIFJFUExBQ0VfUE9MTDpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwgeyBwb2xsOiBhY3Rpb24uc3RhdGUgfSlcblxuICAgIGNhc2UgUkVQTEFDRV9USFJFQUQ6XG4gICAgICByZXR1cm4gYWN0aW9uLnN0YXRlXG5cbiAgICBjYXNlIFVQREFURV9USFJFQUQ6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIGFjdGlvbi5kYXRhKVxuXG4gICAgY2FzZSBVUERBVEVfVEhSRUFEX0FDTDpcbiAgICAgIGNvbnN0IGFjbCA9IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLmFjbCwgYWN0aW9uLmRhdGEpXG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHsgYWNsIH0pXG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlXG4gIH1cbn1cbiIsImltcG9ydCBtb21lbnQgZnJvbSBcIm1vbWVudFwiXG5pbXBvcnQgY29uY2F0VW5pcXVlIGZyb20gXCJtaXNhZ28vdXRpbHMvY29uY2F0LXVuaXF1ZVwiXG5cbmV4cG9ydCBjb25zdCBBUFBFTkRfVEhSRUFEUyA9IFwiQVBQRU5EX1RIUkVBRFNcIlxuZXhwb3J0IGNvbnN0IERFTEVURV9USFJFQUQgPSBcIkRFTEVURV9USFJFQURcIlxuZXhwb3J0IGNvbnN0IEZJTFRFUl9USFJFQURTID0gXCJGSUxURVJfVEhSRUFEU1wiXG5leHBvcnQgY29uc3QgSFlEUkFURV9USFJFQURTID0gXCJIWURSQVRFX1RIUkVBRFNcIlxuZXhwb3J0IGNvbnN0IFBBVENIX1RIUkVBRCA9IFwiUEFUQ0hfVEhSRUFEXCJcbmV4cG9ydCBjb25zdCBTT1JUX1RIUkVBRFMgPSBcIlNPUlRfVEhSRUFEU1wiXG5cbmV4cG9ydCBjb25zdCBNT0RFUkFUSU9OX1BFUk1JU1NJT05TID0gW1xuICBcImNhbl9hbm5vdW5jZVwiLFxuICBcImNhbl9hcHByb3ZlXCIsXG4gIFwiY2FuX2Nsb3NlXCIsXG4gIFwiY2FuX2hpZGVcIixcbiAgXCJjYW5fbW92ZVwiLFxuICBcImNhbl9tZXJnZVwiLFxuICBcImNhbl9waW5cIixcbiAgXCJjYW5fcmV2aWV3XCJcbl1cblxuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZChpdGVtcywgc29ydGluZykge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEFQUEVORF9USFJFQURTLFxuICAgIGl0ZW1zLFxuICAgIHNvcnRpbmdcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVsZXRlVGhyZWFkKHRocmVhZCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IERFTEVURV9USFJFQUQsXG4gICAgdGhyZWFkXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlclRocmVhZHMoY2F0ZWdvcnksIGNhdGVnb3JpZXNNYXApIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBGSUxURVJfVEhSRUFEUyxcbiAgICBjYXRlZ29yeSxcbiAgICBjYXRlZ29yaWVzTWFwXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGUoaXRlbXMpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBIWURSQVRFX1RIUkVBRFMsXG4gICAgaXRlbXNcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcGF0Y2godGhyZWFkLCBwYXRjaCwgc29ydGluZyA9IG51bGwpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBQQVRDSF9USFJFQUQsXG4gICAgdGhyZWFkLFxuICAgIHBhdGNoLFxuICAgIHNvcnRpbmdcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc29ydChzb3J0aW5nKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogU09SVF9USFJFQURTLFxuICAgIHNvcnRpbmdcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VGhyZWFkTW9kZXJhdGlvbk9wdGlvbnModGhyZWFkX2FjbCkge1xuICBsZXQgb3B0aW9ucyA9IFtdXG4gIE1PREVSQVRJT05fUEVSTUlTU0lPTlMuZm9yRWFjaChmdW5jdGlvbihwZXJtKSB7XG4gICAgaWYgKHRocmVhZF9hY2xbcGVybV0pIHtcbiAgICAgIG9wdGlvbnMucHVzaChwZXJtKVxuICAgIH1cbiAgfSlcbiAgcmV0dXJuIG9wdGlvbnNcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGVUaHJlYWQodGhyZWFkKSB7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCB0aHJlYWQsIHtcbiAgICBzdGFydGVkX29uOiBtb21lbnQodGhyZWFkLnN0YXJ0ZWRfb24pLFxuICAgIGxhc3RfcG9zdF9vbjogbW9tZW50KHRocmVhZC5sYXN0X3Bvc3Rfb24pLFxuICAgIG1vZGVyYXRpb246IGdldFRocmVhZE1vZGVyYXRpb25PcHRpb25zKHRocmVhZC5hY2wpXG4gIH0pXG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRocmVhZChzdGF0ZSA9IFtdLCBhY3Rpb24gPSBudWxsKSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIEFQUEVORF9USFJFQURTOlxuICAgICAgY29uc3QgbWVyZ2VkU3RhdGUgPSBjb25jYXRVbmlxdWUoYWN0aW9uLml0ZW1zLm1hcChoeWRyYXRlVGhyZWFkKSwgc3RhdGUpXG4gICAgICByZXR1cm4gbWVyZ2VkU3RhdGUuc29ydChhY3Rpb24uc29ydGluZylcblxuICAgIGNhc2UgREVMRVRFX1RIUkVBRDpcbiAgICAgIHJldHVybiBzdGF0ZS5maWx0ZXIoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICByZXR1cm4gaXRlbS5pZCAhPT0gYWN0aW9uLnRocmVhZC5pZFxuICAgICAgfSlcblxuICAgIGNhc2UgRklMVEVSX1RIUkVBRFM6XG4gICAgICByZXR1cm4gc3RhdGUuZmlsdGVyKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgY29uc3QgaXRlbUNhdGVnb3J5ID0gYWN0aW9uLmNhdGVnb3JpZXNNYXBbaXRlbS5jYXRlZ29yeV1cbiAgICAgICAgaWYgKFxuICAgICAgICAgIGl0ZW1DYXRlZ29yeS5sZnQgPj0gYWN0aW9uLmNhdGVnb3J5LmxmdCAmJlxuICAgICAgICAgIGl0ZW1DYXRlZ29yeS5yZ2h0IDw9IGFjdGlvbi5jYXRlZ29yeS5yZ2h0XG4gICAgICAgICkge1xuICAgICAgICAgIC8vIHNhbWUgb3Igc3ViIGNhdGVnb3J5XG4gICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgfSBlbHNlIGlmIChpdGVtLndlaWdodCA9PSAyKSB7XG4gICAgICAgICAgLy8gZ2xvYmFsbHkgcGlubmVkXG4gICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyB0aHJlYWQgbW92ZWQgb3V0c2lkZSBkaXNwbGF5ZWQgc2NvcGUsIGhpZGUgaXRcbiAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgIGNhc2UgSFlEUkFURV9USFJFQURTOlxuICAgICAgcmV0dXJuIGFjdGlvbi5pdGVtcy5tYXAoaHlkcmF0ZVRocmVhZClcblxuICAgIGNhc2UgUEFUQ0hfVEhSRUFEOlxuICAgICAgY29uc3QgcGF0Y2hlZFN0YXRlID0gc3RhdGUubWFwKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgaWYgKGl0ZW0uaWQgPT09IGFjdGlvbi50aHJlYWQuaWQpIHtcbiAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgaXRlbSwgYWN0aW9uLnBhdGNoKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBpdGVtXG4gICAgICAgIH1cbiAgICAgIH0pXG5cbiAgICAgIGlmIChhY3Rpb24uc29ydGluZykge1xuICAgICAgICByZXR1cm4gcGF0Y2hlZFN0YXRlLnNvcnQoYWN0aW9uLnNvcnRpbmcpXG4gICAgICB9XG4gICAgICByZXR1cm4gcGF0Y2hlZFN0YXRlXG5cbiAgICBjYXNlIFNPUlRfVEhSRUFEUzpcbiAgICAgIHJldHVybiBzdGF0ZS5zb3J0KGFjdGlvbi5zb3J0aW5nKVxuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZVxuICB9XG59XG4iLCJleHBvcnQgdmFyIGluaXRpYWxTdGF0ZSA9IHtcbiAgdGljazogMFxufVxuXG5leHBvcnQgY29uc3QgVElDSyA9IFwiVElDS1wiXG5cbmV4cG9ydCBmdW5jdGlvbiBkb1RpY2soKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogVElDS1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRpY2soc3RhdGUgPSBpbml0aWFsU3RhdGUsIGFjdGlvbiA9IG51bGwpIHtcbiAgaWYgKGFjdGlvbi50eXBlID09PSBUSUNLKSB7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XG4gICAgICB0aWNrOiBzdGF0ZS50aWNrICsgMVxuICAgIH0pXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHN0YXRlXG4gIH1cbn1cbiIsImltcG9ydCBtb21lbnQgZnJvbSBcIm1vbWVudFwiXG5pbXBvcnQgeyBVUERBVEVfQVZBVEFSLCBVUERBVEVfVVNFUk5BTUUgfSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3VzZXJzXCJcbmltcG9ydCBjb25jYXRVbmlxdWUgZnJvbSBcIm1pc2Fnby91dGlscy9jb25jYXQtdW5pcXVlXCJcblxuZXhwb3J0IGNvbnN0IEFERF9OQU1FX0NIQU5HRSA9IFwiQUREX05BTUVfQ0hBTkdFXCJcbmV4cG9ydCBjb25zdCBBUFBFTkRfSElTVE9SWSA9IFwiQVBQRU5EX0hJU1RPUllcIlxuZXhwb3J0IGNvbnN0IEhZRFJBVEVfSElTVE9SWSA9IFwiSFlEUkFURV9ISVNUT1JZXCJcblxuZXhwb3J0IGZ1bmN0aW9uIGFkZE5hbWVDaGFuZ2UoY2hhbmdlLCB1c2VyLCBjaGFuZ2VkQnkpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBBRERfTkFNRV9DSEFOR0UsXG4gICAgY2hhbmdlLFxuICAgIHVzZXIsXG4gICAgY2hhbmdlZEJ5XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZChpdGVtcykge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEFQUEVORF9ISVNUT1JZLFxuICAgIGl0ZW1zOiBpdGVtc1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoeWRyYXRlKGl0ZW1zKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogSFlEUkFURV9ISVNUT1JZLFxuICAgIGl0ZW1zOiBpdGVtc1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoeWRyYXRlTmFtZWNoYW5nZShuYW1lY2hhbmdlKSB7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBuYW1lY2hhbmdlLCB7XG4gICAgY2hhbmdlZF9vbjogbW9tZW50KG5hbWVjaGFuZ2UuY2hhbmdlZF9vbilcbiAgfSlcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlcm5hbWUoc3RhdGUgPSBbXSwgYWN0aW9uID0gbnVsbCkge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBBRERfTkFNRV9DSEFOR0U6XG4gICAgICBsZXQgbmV3U3RhdGUgPSBzdGF0ZS5zbGljZSgpXG4gICAgICBuZXdTdGF0ZS51bnNoaWZ0KHtcbiAgICAgICAgaWQ6IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApLCAvLyBqdXN0IHNtYWxsIGhheCBmb3IgZ2V0dGluZyBpZFxuICAgICAgICBjaGFuZ2VkX2J5OiBhY3Rpb24uY2hhbmdlZEJ5LFxuICAgICAgICBjaGFuZ2VkX2J5X3VzZXJuYW1lOiBhY3Rpb24uY2hhbmdlZEJ5LnVzZXJuYW1lLFxuICAgICAgICBjaGFuZ2VkX29uOiBtb21lbnQoKSxcbiAgICAgICAgbmV3X3VzZXJuYW1lOiBhY3Rpb24uY2hhbmdlLnVzZXJuYW1lLFxuICAgICAgICBvbGRfdXNlcm5hbWU6IGFjdGlvbi51c2VyLnVzZXJuYW1lXG4gICAgICB9KVxuICAgICAgcmV0dXJuIG5ld1N0YXRlXG5cbiAgICBjYXNlIEFQUEVORF9ISVNUT1JZOlxuICAgICAgcmV0dXJuIGNvbmNhdFVuaXF1ZShzdGF0ZSwgYWN0aW9uLml0ZW1zLm1hcChoeWRyYXRlTmFtZWNoYW5nZSkpXG5cbiAgICBjYXNlIEhZRFJBVEVfSElTVE9SWTpcbiAgICAgIHJldHVybiBhY3Rpb24uaXRlbXMubWFwKGh5ZHJhdGVOYW1lY2hhbmdlKVxuXG4gICAgY2FzZSBVUERBVEVfQVZBVEFSOlxuICAgICAgcmV0dXJuIHN0YXRlLm1hcChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIGl0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCBpdGVtKVxuICAgICAgICBpZiAoaXRlbS5jaGFuZ2VkX2J5ICYmIGl0ZW0uY2hhbmdlZF9ieS5pZCA9PT0gYWN0aW9uLnVzZXJJZCkge1xuICAgICAgICAgIGl0ZW0uY2hhbmdlZF9ieSA9IE9iamVjdC5hc3NpZ24oe30sIGl0ZW0uY2hhbmdlZF9ieSwge1xuICAgICAgICAgICAgYXZhdGFyczogYWN0aW9uLmF2YXRhcnNcbiAgICAgICAgICB9KVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGl0ZW1cbiAgICAgIH0pXG5cbiAgICBjYXNlIFVQREFURV9VU0VSTkFNRTpcbiAgICAgIHJldHVybiBzdGF0ZS5tYXAoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICBpdGVtID0gT2JqZWN0LmFzc2lnbih7fSwgaXRlbSlcbiAgICAgICAgaWYgKGl0ZW0uY2hhbmdlZF9ieSAmJiBpdGVtLmNoYW5nZWRfYnkuaWQgPT09IGFjdGlvbi51c2VySWQpIHtcbiAgICAgICAgICBpdGVtLmNoYW5nZWRfYnkgPSBPYmplY3QuYXNzaWduKHt9LCBpdGVtLmNoYW5nZWRfYnksIHtcbiAgICAgICAgICAgIHVzZXJuYW1lOiBhY3Rpb24udXNlcm5hbWUsXG4gICAgICAgICAgICBzbHVnOiBhY3Rpb24uc2x1Z1xuICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgaXRlbSlcbiAgICAgIH0pXG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlXG4gIH1cbn1cbiIsImltcG9ydCBtb21lbnQgZnJvbSBcIm1vbWVudFwiXG5pbXBvcnQgY29uY2F0VW5pcXVlIGZyb20gXCJtaXNhZ28vdXRpbHMvY29uY2F0LXVuaXF1ZVwiXG5cbmV4cG9ydCBjb25zdCBBUFBFTkRfVVNFUlMgPSBcIkFQUEVORF9VU0VSU1wiXG5leHBvcnQgY29uc3QgSFlEUkFURV9VU0VSUyA9IFwiSFlEUkFURV9VU0VSU1wiXG5leHBvcnQgY29uc3QgVVBEQVRFX0FWQVRBUiA9IFwiVVBEQVRFX0FWQVRBUlwiXG5leHBvcnQgY29uc3QgVVBEQVRFX1VTRVJOQU1FID0gXCJVUERBVEVfVVNFUk5BTUVcIlxuXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kKGl0ZW1zKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogQVBQRU5EX1VTRVJTLFxuICAgIGl0ZW1zXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGUoaXRlbXMpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBIWURSQVRFX1VTRVJTLFxuICAgIGl0ZW1zXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGVTdGF0dXMoc3RhdHVzKSB7XG4gIGlmIChzdGF0dXMpIHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdHVzLCB7XG4gICAgICBsYXN0X2NsaWNrOiBzdGF0dXMubGFzdF9jbGljayA/IG1vbWVudChzdGF0dXMubGFzdF9jbGljaykgOiBudWxsLFxuICAgICAgYmFubmVkX3VudGlsOiBzdGF0dXMuYmFubmVkX3VudGlsID8gbW9tZW50KHN0YXR1cy5iYW5uZWRfdW50aWwpIDogbnVsbFxuICAgIH0pXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZVVzZXIodXNlcikge1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgdXNlciwge1xuICAgIGpvaW5lZF9vbjogbW9tZW50KHVzZXIuam9pbmVkX29uKSxcbiAgICBzdGF0dXM6IGh5ZHJhdGVTdGF0dXModXNlci5zdGF0dXMpXG4gIH0pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVBdmF0YXIodXNlciwgYXZhdGFycykge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFVQREFURV9BVkFUQVIsXG4gICAgdXNlcklkOiB1c2VyLmlkLFxuICAgIGF2YXRhcnNcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlVXNlcm5hbWUodXNlciwgdXNlcm5hbWUsIHNsdWcpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBVUERBVEVfVVNFUk5BTUUsXG4gICAgdXNlcklkOiB1c2VyLmlkLFxuICAgIHVzZXJuYW1lLFxuICAgIHNsdWdcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VyKHN0YXRlID0gW10sIGFjdGlvbiA9IG51bGwpIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgQVBQRU5EX1VTRVJTOlxuICAgICAgcmV0dXJuIGNvbmNhdFVuaXF1ZShzdGF0ZSwgYWN0aW9uLml0ZW1zLm1hcChoeWRyYXRlVXNlcikpXG5cbiAgICBjYXNlIEhZRFJBVEVfVVNFUlM6XG4gICAgICByZXR1cm4gYWN0aW9uLml0ZW1zLm1hcChoeWRyYXRlVXNlcilcblxuICAgIGNhc2UgVVBEQVRFX0FWQVRBUjpcbiAgICAgIHJldHVybiBzdGF0ZS5tYXAoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICBpdGVtID0gT2JqZWN0LmFzc2lnbih7fSwgaXRlbSlcbiAgICAgICAgaWYgKGl0ZW0uaWQgPT09IGFjdGlvbi51c2VySWQpIHtcbiAgICAgICAgICBpdGVtLmF2YXRhcnMgPSBhY3Rpb24uYXZhdGFyc1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGl0ZW1cbiAgICAgIH0pXG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlXG4gIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBBamF4IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5fY29va2llTmFtZSA9IG51bGxcbiAgICB0aGlzLl9jc3JmVG9rZW4gPSBudWxsXG4gICAgdGhpcy5fbG9ja3MgPSB7fVxuICB9XG5cbiAgaW5pdChjb29raWVOYW1lKSB7XG4gICAgdGhpcy5fY29va2llTmFtZSA9IGNvb2tpZU5hbWVcbiAgfVxuXG4gIGdldENzcmZUb2tlbigpIHtcbiAgICBpZiAoZG9jdW1lbnQuY29va2llLmluZGV4T2YodGhpcy5fY29va2llTmFtZSkgIT09IC0xKSB7XG4gICAgICBsZXQgY29va2llUmVnZXggPSBuZXcgUmVnRXhwKHRoaXMuX2Nvb2tpZU5hbWUgKyBcIj0oW147XSopXCIpXG4gICAgICBsZXQgY29va2llID0gZG9jdW1lbnQuY29va2llLm1hdGNoKGNvb2tpZVJlZ2V4KVswXVxuICAgICAgcmV0dXJuIGNvb2tpZSA/IGNvb2tpZS5zcGxpdChcIj1cIilbMV0gOiBudWxsXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG5cbiAgcmVxdWVzdChtZXRob2QsIHVybCwgZGF0YSkge1xuICAgIGxldCBzZWxmID0gdGhpc1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGxldCB4aHIgPSB7XG4gICAgICAgIHVybDogdXJsLFxuICAgICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIFwiWC1DU1JGVG9rZW5cIjogc2VsZi5nZXRDc3JmVG9rZW4oKVxuICAgICAgICB9LFxuXG4gICAgICAgIGRhdGE6IGRhdGEgPyBKU09OLnN0cmluZ2lmeShkYXRhKSA6IG51bGwsXG4gICAgICAgIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLThcIixcbiAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxuXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICByZXNvbHZlKGRhdGEpXG4gICAgICAgIH0sXG5cbiAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKGpxWEhSKSB7XG4gICAgICAgICAgbGV0IHJlamVjdGlvbiA9IGpxWEhSLnJlc3BvbnNlSlNPTiB8fCB7fVxuXG4gICAgICAgICAgcmVqZWN0aW9uLnN0YXR1cyA9IGpxWEhSLnN0YXR1c1xuXG4gICAgICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDApIHtcbiAgICAgICAgICAgIHJlamVjdGlvbi5kZXRhaWwgPSBcIs6nzqzOuM63zrrOtSDOtyDPg8+Nzr3OtM61z4POtyDOvM61IM+EzrfOvSDOtc+GzrHPgc68zr/Os86uIVwiXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICAgICAgaWYgKCFyZWplY3Rpb24uZGV0YWlsIHx8IHJlamVjdGlvbi5kZXRhaWwgPT09IFwiTk9UIEZPVU5EXCIpIHtcbiAgICAgICAgICAgICAgcmVqZWN0aW9uLmRldGFpbCA9IFwizp8gz4PPjc69zrTOtc+DzrzOv8+CIM60zrXOvSDOtc6vzr3Osc65IM6tzrPOus+Fz4HOv8+CIVwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDUwMCAmJiAhcmVqZWN0aW9uLmRldGFpbCkge1xuICAgICAgICAgICAgcmVqZWN0aW9uLmRldGFpbCA9IFwizobOs869z4nPg8+Ezr8gzrvOrM64zr/PgiFcIlxuICAgICAgICAgIH1cblxuICAgICAgICAgIHJlamVjdGlvbi5zdGF0dXNUZXh0ID0ganFYSFIuc3RhdHVzVGV4dFxuXG4gICAgICAgICAgcmVqZWN0KHJlamVjdGlvbilcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAkLmFqYXgoeGhyKVxuICAgIH0pXG4gIH1cblxuICBnZXQodXJsLCBwYXJhbXMsIGxvY2spIHtcbiAgICBpZiAocGFyYW1zKSB7XG4gICAgICB1cmwgKz0gXCI/XCIgKyAkLnBhcmFtKHBhcmFtcylcbiAgICB9XG5cbiAgICBpZiAobG9jaykge1xuICAgICAgbGV0IHNlbGYgPSB0aGlzXG5cbiAgICAgIC8vIHVwZGF0ZSB1cmwgaW4gZXhpc3RpbmcgbG9jaz9cbiAgICAgIGlmICh0aGlzLl9sb2Nrc1tsb2NrXSkge1xuICAgICAgICB0aGlzLl9sb2Nrc1tsb2NrXS51cmwgPSB1cmxcbiAgICAgIH1cblxuICAgICAgLy8gaW1tZWRpYXRlbHkgZGVyZWZlcmVuY2UgcHJvbWlzZSBoYW5kbGVycyB3aXRob3V0IGRvaW5nIGFueXRoaW5nXG4gICAgICAvLyB3ZSBhcmUgYWxyZWFkeSB3YWl0aW5nIGZvciBleGlzdGluZyByZXNwb25zZSB0byByZXNvbHZlXG4gICAgICBpZiAodGhpcy5fbG9ja3NbbG9ja10gJiYgdGhpcy5fbG9ja3NbbG9ja10ud2FpdGVyKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdGhlbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZXR1cm4gcHJvbWlzZSB0aGF0IHdpbGwgYmVnaW4gd2hlbiBvcmlnaW5hbCBvbmUgcmVzb2x2ZXNcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fbG9ja3NbbG9ja10gJiYgdGhpcy5fbG9ja3NbbG9ja10ud2FpdCkge1xuICAgICAgICB0aGlzLl9sb2Nrc1tsb2NrXS53YWl0ZXIgPSB0cnVlXG5cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgIGxldCB3YWl0ID0gZnVuY3Rpb24odXJsKSB7XG4gICAgICAgICAgICAvLyBrZWVwIHdhaXRpbmcgb24gcHJvbWlzZVxuICAgICAgICAgICAgaWYgKHNlbGYuX2xvY2tzW2xvY2tdLndhaXQpIHtcbiAgICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgd2FpdCh1cmwpXG4gICAgICAgICAgICAgIH0sIDMwMClcblxuICAgICAgICAgICAgICAvLyBwb2xsIGZvciBuZXcgdXJsXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNlbGYuX2xvY2tzW2xvY2tdLnVybCAhPT0gdXJsKSB7XG4gICAgICAgICAgICAgIHdhaXQoc2VsZi5fbG9ja3NbbG9ja10udXJsKVxuXG4gICAgICAgICAgICAgIC8vIGFqYXggYmFja2VuZCBmb3IgcmVzcG9uc2VcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNlbGYuX2xvY2tzW2xvY2tdLndhaXRlciA9IGZhbHNlXG4gICAgICAgICAgICAgIHNlbGYucmVxdWVzdChcIkdFVFwiLCBzZWxmLl9sb2Nrc1tsb2NrXS51cmwpLnRoZW4oXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgaWYgKHNlbGYuX2xvY2tzW2xvY2tdLnVybCA9PT0gdXJsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZGF0YSlcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX2xvY2tzW2xvY2tdLndhaXRlciA9IHRydWVcbiAgICAgICAgICAgICAgICAgICAgd2FpdChzZWxmLl9sb2Nrc1tsb2NrXS51cmwpXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmdW5jdGlvbihyZWplY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgIGlmIChzZWxmLl9sb2Nrc1tsb2NrXS51cmwgPT09IHVybCkge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QocmVqZWN0aW9uKVxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fbG9ja3NbbG9ja10ud2FpdGVyID0gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB3YWl0KHNlbGYuX2xvY2tzW2xvY2tdLnVybClcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHdhaXQodXJsKVxuICAgICAgICAgIH0sIDMwMClcbiAgICAgICAgfSlcblxuICAgICAgICAvLyBzZXR1cCBuZXcgbG9jayB3aXRob3V0IHdhaXRlclxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fbG9ja3NbbG9ja10gPSB7XG4gICAgICAgICAgdXJsLFxuICAgICAgICAgIHdhaXQ6IHRydWUsXG4gICAgICAgICAgd2FpdGVyOiBmYWxzZVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgIHNlbGYucmVxdWVzdChcIkdFVFwiLCB1cmwpLnRoZW4oXG4gICAgICAgICAgICBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgIHNlbGYuX2xvY2tzW2xvY2tdLndhaXQgPSBmYWxzZVxuICAgICAgICAgICAgICBpZiAoc2VsZi5fbG9ja3NbbG9ja10udXJsID09PSB1cmwpIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKGRhdGEpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmdW5jdGlvbihyZWplY3Rpb24pIHtcbiAgICAgICAgICAgICAgc2VsZi5fbG9ja3NbbG9ja10ud2FpdCA9IGZhbHNlXG4gICAgICAgICAgICAgIGlmIChzZWxmLl9sb2Nrc1tsb2NrXS51cmwgPT09IHVybCkge1xuICAgICAgICAgICAgICAgIHJlamVjdChyZWplY3Rpb24pXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICApXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLnJlcXVlc3QoXCJHRVRcIiwgdXJsKVxuICAgIH1cbiAgfVxuXG4gIHBvc3QodXJsLCBkYXRhKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdChcIlBPU1RcIiwgdXJsLCBkYXRhKVxuICB9XG5cbiAgcGF0Y2godXJsLCBkYXRhKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdChcIlBBVENIXCIsIHVybCwgZGF0YSlcbiAgfVxuXG4gIHB1dCh1cmwsIGRhdGEpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KFwiUFVUXCIsIHVybCwgZGF0YSlcbiAgfVxuXG4gIGRlbGV0ZSh1cmwsIGRhdGEpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KFwiREVMRVRFXCIsIHVybCwgZGF0YSlcbiAgfVxuXG4gIHVwbG9hZCh1cmwsIGRhdGEsIHByb2dyZXNzKSB7XG4gICAgbGV0IHNlbGYgPSB0aGlzXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgbGV0IHhociA9IHtcbiAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBcIlgtQ1NSRlRva2VuXCI6IHNlbGYuZ2V0Q3NyZlRva2VuKClcbiAgICAgICAgfSxcblxuICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICBjb250ZW50VHlwZTogZmFsc2UsXG4gICAgICAgIHByb2Nlc3NEYXRhOiBmYWxzZSxcblxuICAgICAgICB4aHI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGxldCB4aHIgPSBuZXcgd2luZG93LlhNTEh0dHBSZXF1ZXN0KClcbiAgICAgICAgICB4aHIudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICBcInByb2dyZXNzXCIsXG4gICAgICAgICAgICBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgICAgICAgaWYgKGV2dC5sZW5ndGhDb21wdXRhYmxlKSB7XG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3MoTWF0aC5yb3VuZCgoZXZ0LmxvYWRlZCAvIGV2dC50b3RhbCkgKiAxMDApKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgICApXG4gICAgICAgICAgcmV0dXJuIHhoclxuICAgICAgICB9LFxuXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSlcbiAgICAgICAgfSxcblxuICAgICAgICBlcnJvcjogZnVuY3Rpb24oanFYSFIpIHtcbiAgICAgICAgICBsZXQgcmVqZWN0aW9uID0ganFYSFIucmVzcG9uc2VKU09OIHx8IHt9XG5cbiAgICAgICAgICByZWplY3Rpb24uc3RhdHVzID0ganFYSFIuc3RhdHVzXG5cbiAgICAgICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gMCkge1xuICAgICAgICAgICAgcmVqZWN0aW9uLmRldGFpbCA9IFwizqfOrM64zrfOus61IM63IM+Dz43Ovc60zrXPg863IM68zrUgz4TOt869IM61z4bOsc+BzrzOv86zzq4hXCJcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDEzICYmICFyZWplY3Rpb24uZGV0YWlsKSB7XG4gICAgICAgICAgICByZWplY3Rpb24uZGV0YWlsID0gXCLOpM6/IM6xzr3Orc6yzrHPg868zrEgz4TOv8+FIM6xz4HPh861zq/Ov8+FIM6xz4DOv8+Bz4HOr8+GzrjOt866zrUgzrvPjM6zz4kgzrzOtc6zzq3OuM6/z4XPgiFcIlxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgICAgIGlmICghcmVqZWN0aW9uLmRldGFpbCB8fCByZWplY3Rpb24uZGV0YWlsID09PSBcIk5PVCBGT1VORFwiKSB7XG4gICAgICAgICAgICAgIHJlamVjdGlvbi5kZXRhaWwgPSBcIs6fIM+Dz43Ovc60zrXPg868zr/PgiDOtM61zr0gzrXOr869zrHOuSDOrc6zzrrPhc+Bzr/PgiFcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA1MDAgJiYgIXJlamVjdGlvbi5kZXRhaWwpIHtcbiAgICAgICAgICAgIHJlamVjdGlvbi5kZXRhaWwgPSBcIs6GzrPOvc+Jz4PPhM6/IM67zqzOuM6/z4IhXCJcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZWplY3Rpb24uc3RhdHVzVGV4dCA9IGpxWEhSLnN0YXR1c1RleHRcblxuICAgICAgICAgIHJlamVjdChyZWplY3Rpb24pXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgJC5hamF4KHhocilcbiAgICB9KVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBBamF4KClcbiIsImltcG9ydCB7IHNpZ25Jbiwgc2lnbk91dCB9IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvYXV0aFwiXG5cbmV4cG9ydCBjbGFzcyBBdXRoIHtcbiAgaW5pdChzdG9yZSwgbG9jYWwsIG1vZGFsKSB7XG4gICAgdGhpcy5fc3RvcmUgPSBzdG9yZVxuICAgIHRoaXMuX2xvY2FsID0gbG9jYWxcbiAgICB0aGlzLl9tb2RhbCA9IG1vZGFsXG5cbiAgICAvLyB0ZWxsIG90aGVyIHRhYnMgd2hhdCBhdXRoIHN0YXRlIGlzIGJlY2F1c2Ugd2UgYXJlIG1vc3QgY3VycmVudCB3aXRoIGl0XG4gICAgdGhpcy5zeW5jU2Vzc2lvbigpXG5cbiAgICAvLyBsaXN0ZW4gZm9yIG90aGVyIHRhYnMgdG8gdGVsbCB1cyB0aGF0IHN0YXRlIGNoYW5nZWRcbiAgICB0aGlzLndhdGNoU3RhdGUoKVxuICB9XG5cbiAgc3luY1Nlc3Npb24oKSB7XG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpLmF1dGhcbiAgICBpZiAoc3RhdGUuaXNBdXRoZW50aWNhdGVkKSB7XG4gICAgICB0aGlzLl9sb2NhbC5zZXQoXCJhdXRoXCIsIHtcbiAgICAgICAgaXNBdXRoZW50aWNhdGVkOiB0cnVlLFxuICAgICAgICB1c2VybmFtZTogc3RhdGUudXNlci51c2VybmFtZVxuICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fbG9jYWwuc2V0KFwiYXV0aFwiLCB7XG4gICAgICAgIGlzQXV0aGVudGljYXRlZDogZmFsc2VcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgd2F0Y2hTdGF0ZSgpIHtcbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMuX3N0b3JlLmdldFN0YXRlKCkuYXV0aFxuICAgIHRoaXMuX2xvY2FsLndhdGNoKFwiYXV0aFwiLCBuZXdTdGF0ZSA9PiB7XG4gICAgICBpZiAobmV3U3RhdGUuaXNBdXRoZW50aWNhdGVkKSB7XG4gICAgICAgIHRoaXMuX3N0b3JlLmRpc3BhdGNoKFxuICAgICAgICAgIHNpZ25Jbih7XG4gICAgICAgICAgICB1c2VybmFtZTogbmV3U3RhdGUudXNlcm5hbWVcbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICB9IGVsc2UgaWYgKHN0YXRlLmlzQXV0aGVudGljYXRlZCkge1xuICAgICAgICAvLyBjaGVjayBpZiB3ZSBhcmUgYXV0aGVudGljYXRlZCBpbiB0aGlzIHRhYlxuICAgICAgICAvLyBiZWNhdXNlIHNvbWUgYnJvd3NlciBwbHVnaW5zIHBydW5lIGxvY2FsIHN0b3JlXG4gICAgICAgIC8vIGFnZ3Jlc3NpdmVseSwgZm9yY2luZyBlcnJvbmVvdXMgbWVzc2FnZSB0byBkaXNwbGF5IGhlcmVcbiAgICAgICAgLy8gdHJhY2tpbmcgYnVnICM5NTVcbiAgICAgICAgdGhpcy5fc3RvcmUuZGlzcGF0Y2goc2lnbk91dCgpKVxuICAgICAgfVxuICAgIH0pXG4gICAgdGhpcy5fbW9kYWwuaGlkZSgpXG4gIH1cblxuICBzaWduSW4odXNlcikge1xuICAgIHRoaXMuX3N0b3JlLmRpc3BhdGNoKHNpZ25Jbih1c2VyKSlcbiAgICB0aGlzLl9sb2NhbC5zZXQoXCJhdXRoXCIsIHtcbiAgICAgIGlzQXV0aGVudGljYXRlZDogdHJ1ZSxcbiAgICAgIHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lXG4gICAgfSlcbiAgICB0aGlzLl9tb2RhbC5oaWRlKClcbiAgfVxuXG4gIHNpZ25PdXQoKSB7XG4gICAgdGhpcy5fc3RvcmUuZGlzcGF0Y2goc2lnbk91dCgpKVxuICAgIHRoaXMuX2xvY2FsLnNldChcImF1dGhcIiwge1xuICAgICAgaXNBdXRoZW50aWNhdGVkOiBmYWxzZVxuICAgIH0pXG4gICAgdGhpcy5fbW9kYWwuaGlkZSgpXG4gIH1cblxuICBzb2Z0U2lnbk91dCgpIHtcbiAgICB0aGlzLl9zdG9yZS5kaXNwYXRjaChzaWduT3V0KHRydWUpKVxuICAgIHRoaXMuX2xvY2FsLnNldChcImF1dGhcIiwge1xuICAgICAgaXNBdXRoZW50aWNhdGVkOiBmYWxzZVxuICAgIH0pXG4gICAgdGhpcy5fbW9kYWwuaGlkZSgpXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IEF1dGgoKVxuIiwiLyogZ2xvYmFsIGdyZWNhcHRjaGEgKi9cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEZvcm1Hcm91cCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cFwiXG5cbmV4cG9ydCBjbGFzcyBCYXNlQ2FwdGNoYSB7XG4gIGluaXQoY29udGV4dCwgYWpheCwgaW5jbHVkZSwgc25hY2tiYXIpIHtcbiAgICB0aGlzLl9jb250ZXh0ID0gY29udGV4dFxuICAgIHRoaXMuX2FqYXggPSBhamF4XG4gICAgdGhpcy5faW5jbHVkZSA9IGluY2x1ZGVcbiAgICB0aGlzLl9zbmFja2JhciA9IHNuYWNrYmFyXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE5vQ2FwdGNoYSBleHRlbmRzIEJhc2VDYXB0Y2hhIHtcbiAgbG9hZCgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSkge1xuICAgICAgLy8gaW1tZWRpYXRlbHkgcmVzb2x2ZSBhcyB3ZSBkb24ndCBoYXZlIGFueXRoaW5nIHRvIHZhbGlkYXRlXG4gICAgICByZXNvbHZlKClcbiAgICB9KVxuICB9XG5cbiAgdmFsaWRhdG9yKCkge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBjb21wb25lbnQoKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUUFDYXB0Y2hhIGV4dGVuZHMgQmFzZUNhcHRjaGEge1xuICBsb2FkKCkge1xuICAgIHZhciBzZWxmID0gdGhpc1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBzZWxmLl9hamF4LmdldChzZWxmLl9jb250ZXh0LmdldChcIkNBUFRDSEFfQVBJXCIpKS50aGVuKFxuICAgICAgICBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgc2VsZi5xdWVzdGlvbiA9IGRhdGEucXVlc3Rpb25cbiAgICAgICAgICBzZWxmLmhlbHBUZXh0ID0gZGF0YS5oZWxwX3RleHRcbiAgICAgICAgICByZXNvbHZlKClcbiAgICAgICAgfSxcbiAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2VsZi5fc25hY2tiYXIuZXJyb3IoXCLOlM61zr0gzrzPgM+Mz4HOtc+DzrUgzrcgz4POtc67zq/OtM6xIM69zrEgz4bOv8+Bz4TPjs+DzrXOuSDPhM6/IENBUFRDSEEhXCIpXG4gICAgICAgICAgcmVqZWN0KClcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH0pXG4gIH1cblxuICB2YWxpZGF0b3IoKSB7XG4gICAgcmV0dXJuIFtdXG4gIH1cblxuICBjb21wb25lbnQoa3dhcmdzKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgbGFiZWw9e3RoaXMucXVlc3Rpb259XG4gICAgICAgIGZvcj1cImlkX2NhcHRjaGFcIlxuICAgICAgICBsYWJlbENsYXNzPXtrd2FyZ3MubGFiZWxDbGFzcyB8fCBcIlwifVxuICAgICAgICBjb250cm9sQ2xhc3M9e2t3YXJncy5jb250cm9sQ2xhc3MgfHwgXCJcIn1cbiAgICAgICAgdmFsaWRhdGlvbj17a3dhcmdzLmZvcm0uc3RhdGUuZXJyb3JzLmNhcHRjaGF9XG4gICAgICAgIGhlbHBUZXh0PXt0aGlzLmhlbHBUZXh0IHx8IG51bGx9XG4gICAgICA+XG4gICAgICAgIDxpbnB1dFxuICAgICAgICAgIGFyaWEtZGVzY3JpYmVkYnk9XCJpZF9jYXB0Y2hhX3N0YXR1c1wiXG4gICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICBkaXNhYmxlZD17a3dhcmdzLmZvcm0uc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgIGlkPVwiaWRfY2FwdGNoYVwiXG4gICAgICAgICAgb25DaGFuZ2U9e2t3YXJncy5mb3JtLmJpbmRJbnB1dChcImNhcHRjaGFcIil9XG4gICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgIHZhbHVlPXtrd2FyZ3MuZm9ybS5zdGF0ZS5jYXB0Y2hhfVxuICAgICAgICAvPlxuICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBSZUNhcHRjaGFDb21wb25lbnQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBncmVjYXB0Y2hhLnJlbmRlcihcInJlY2FwdGNoYVwiLCB7XG4gICAgICBzaXRla2V5OiB0aGlzLnByb3BzLnNpdGVLZXksXG4gICAgICBjYWxsYmFjazogcmVzcG9uc2UgPT4ge1xuICAgICAgICAvLyBmaXJlIGZha2V5IGV2ZW50IHRvIGJpbmRpbmdcbiAgICAgICAgdGhpcy5wcm9wcy5iaW5kaW5nKHtcbiAgICAgICAgICB0YXJnZXQ6IHtcbiAgICAgICAgICAgIHZhbHVlOiByZXNwb25zZVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiA8ZGl2IGlkPVwicmVjYXB0Y2hhXCIgLz5cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUmVDYXB0Y2hhIGV4dGVuZHMgQmFzZUNhcHRjaGEge1xuICBsb2FkKCkge1xuICAgIHRoaXMuX2luY2x1ZGUuaW5jbHVkZShcImh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vcmVjYXB0Y2hhL2FwaS5qc1wiLCB0cnVlKVxuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpIHtcbiAgICAgIHZhciB3YWl0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZ3JlY2FwdGNoYSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgd2FpdCgpXG4gICAgICAgICAgfSwgMjAwKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc29sdmUoKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB3YWl0KClcbiAgICB9KVxuICB9XG5cbiAgdmFsaWRhdG9yKCkge1xuICAgIHJldHVybiBbXVxuICB9XG5cbiAgY29tcG9uZW50KGt3YXJncykge1xuICAgIHJldHVybiAoXG4gICAgICA8Rm9ybUdyb3VwXG4gICAgICAgIGxhYmVsPXtcIs6bz43Pg861IM+Ezr8gzrHPgM67z4wgz4TOtc+Dz4QhXCJ9XG4gICAgICAgIGZvcj1cImlkX2NhcHRjaGFcIlxuICAgICAgICBsYWJlbENsYXNzPXtrd2FyZ3MubGFiZWxDbGFzcyB8fCBcIlwifVxuICAgICAgICBjb250cm9sQ2xhc3M9e2t3YXJncy5jb250cm9sQ2xhc3MgfHwgXCJcIn1cbiAgICAgICAgdmFsaWRhdGlvbj17a3dhcmdzLmZvcm0uc3RhdGUuZXJyb3JzLmNhcHRjaGF9XG4gICAgICAgIGhlbHBUZXh0PXtcIs6Rz4XPhM+MIM+Ezr8gz4TOtc+Dz4QgzrzOsc+CIM6yzr/Ot864zqzOtc65IM69zrEgzrHPgM6/z4TPgc6tz4DOv8+FzrzOtSDPhM63IM60zrfOvM65zr/Phc+BzrPOr86xIM+IzrXPjc+EzrnOus+Jzr0gzrvOv86zzrHPgc65zrHPg868z47OvS5cIn1cbiAgICAgID5cbiAgICAgICAgPFJlQ2FwdGNoYUNvbXBvbmVudFxuICAgICAgICAgIGJpbmRpbmc9e2t3YXJncy5mb3JtLmJpbmRJbnB1dChcImNhcHRjaGFcIil9XG4gICAgICAgICAgc2l0ZUtleT17dGhpcy5fY29udGV4dC5nZXQoXCJTRVRUSU5HU1wiKS5yZWNhcHRjaGFfc2l0ZV9rZXl9XG4gICAgICAgIC8+XG4gICAgICA8L0Zvcm1Hcm91cD5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENhcHRjaGEge1xuICBpbml0KGNvbnRleHQsIGFqYXgsIGluY2x1ZGUsIHNuYWNrYmFyKSB7XG4gICAgc3dpdGNoIChjb250ZXh0LmdldChcIlNFVFRJTkdTXCIpLmNhcHRjaGFfdHlwZSkge1xuICAgICAgY2FzZSBcIm5vXCI6XG4gICAgICAgIHRoaXMuX2NhcHRjaGEgPSBuZXcgTm9DYXB0Y2hhKClcbiAgICAgICAgYnJlYWtcblxuICAgICAgY2FzZSBcInFhXCI6XG4gICAgICAgIHRoaXMuX2NhcHRjaGEgPSBuZXcgUUFDYXB0Y2hhKClcbiAgICAgICAgYnJlYWtcblxuICAgICAgY2FzZSBcInJlXCI6XG4gICAgICAgIHRoaXMuX2NhcHRjaGEgPSBuZXcgUmVDYXB0Y2hhKClcbiAgICAgICAgYnJlYWtcbiAgICB9XG5cbiAgICB0aGlzLl9jYXB0Y2hhLmluaXQoY29udGV4dCwgYWpheCwgaW5jbHVkZSwgc25hY2tiYXIpXG4gIH1cblxuICAvLyBhY2Nlc3NvcnMgZm9yIHVuZGVybHlpbmcgc3RyYXRlZ3lcblxuICBsb2FkKCkge1xuICAgIHJldHVybiB0aGlzLl9jYXB0Y2hhLmxvYWQoKVxuICB9XG5cbiAgdmFsaWRhdG9yKCkge1xuICAgIHJldHVybiB0aGlzLl9jYXB0Y2hhLnZhbGlkYXRvcigpXG4gIH1cblxuICBjb21wb25lbnQoa3dhcmdzKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NhcHRjaGEuY29tcG9uZW50KGt3YXJncylcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgQ2FwdGNoYSgpXG4iLCJleHBvcnQgY2xhc3MgSW5jbHVkZSB7XG4gIGluaXQoc3RhdGljVXJsKSB7XG4gICAgdGhpcy5fc3RhdGljVXJsID0gc3RhdGljVXJsXG4gICAgdGhpcy5faW5jbHVkZWQgPSBbXVxuICB9XG5cbiAgaW5jbHVkZShzY3JpcHQsIHJlbW90ZSA9IGZhbHNlKSB7XG4gICAgaWYgKHRoaXMuX2luY2x1ZGVkLmluZGV4T2Yoc2NyaXB0KSA9PT0gLTEpIHtcbiAgICAgIHRoaXMuX2luY2x1ZGVkLnB1c2goc2NyaXB0KVxuICAgICAgdGhpcy5faW5jbHVkZShzY3JpcHQsIHJlbW90ZSlcbiAgICB9XG4gIH1cblxuICBfaW5jbHVkZShzY3JpcHQsIHJlbW90ZSkge1xuICAgICQuYWpheCh7XG4gICAgICB1cmw6ICghcmVtb3RlID8gdGhpcy5fc3RhdGljVXJsIDogXCJcIikgKyBzY3JpcHQsXG4gICAgICBjYWNoZTogdHJ1ZSxcbiAgICAgIGRhdGFUeXBlOiBcInNjcmlwdFwiXG4gICAgfSlcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgSW5jbHVkZSgpXG4iLCJsZXQgc3RvcmFnZSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2VcblxuZXhwb3J0IGNsYXNzIExvY2FsU3RvcmFnZSB7XG4gIGluaXQocHJlZml4KSB7XG4gICAgdGhpcy5fcHJlZml4ID0gcHJlZml4XG4gICAgdGhpcy5fd2F0Y2hlcnMgPSBbXVxuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzdG9yYWdlXCIsIGUgPT4ge1xuICAgICAgbGV0IG5ld1ZhbHVlSnNvbiA9IEpTT04ucGFyc2UoZS5uZXdWYWx1ZSlcbiAgICAgIHRoaXMuX3dhdGNoZXJzLmZvckVhY2goZnVuY3Rpb24od2F0Y2hlcikge1xuICAgICAgICBpZiAod2F0Y2hlci5rZXkgPT09IGUua2V5ICYmIGUub2xkVmFsdWUgIT09IGUubmV3VmFsdWUpIHtcbiAgICAgICAgICB3YXRjaGVyLmNhbGxiYWNrKG5ld1ZhbHVlSnNvbilcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgc2V0KGtleSwgdmFsdWUpIHtcbiAgICBzdG9yYWdlLnNldEl0ZW0odGhpcy5fcHJlZml4ICsga2V5LCBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpXG4gIH1cblxuICBnZXQoa2V5KSB7XG4gICAgbGV0IGl0ZW1TdHJpbmcgPSBzdG9yYWdlLmdldEl0ZW0odGhpcy5fcHJlZml4ICsga2V5KVxuICAgIGlmIChpdGVtU3RyaW5nKSB7XG4gICAgICByZXR1cm4gSlNPTi5wYXJzZShpdGVtU3RyaW5nKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIHdhdGNoKGtleSwgY2FsbGJhY2spIHtcbiAgICB0aGlzLl93YXRjaGVycy5wdXNoKHtcbiAgICAgIGtleTogdGhpcy5fcHJlZml4ICsga2V5LFxuICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrXG4gICAgfSlcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgTG9jYWxTdG9yYWdlKClcbiIsImltcG9ydCBtb3VudCBmcm9tIFwibWlzYWdvL3V0aWxzL21vdW50LWNvbXBvbmVudFwiXG5cbmV4cG9ydCBjbGFzcyBNb2JpbGVOYXZiYXJEcm9wZG93biB7XG4gIGluaXQoZWxlbWVudCkge1xuICAgIHRoaXMuX2VsZW1lbnQgPSBlbGVtZW50XG4gICAgdGhpcy5fY29tcG9uZW50ID0gbnVsbFxuICB9XG5cbiAgc2hvdyhjb21wb25lbnQpIHtcbiAgICBpZiAodGhpcy5fY29tcG9uZW50ID09PSBjb21wb25lbnQpIHtcbiAgICAgIHRoaXMuaGlkZSgpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2NvbXBvbmVudCA9IGNvbXBvbmVudFxuICAgICAgbW91bnQoY29tcG9uZW50LCB0aGlzLl9lbGVtZW50LmlkKVxuICAgICAgJCh0aGlzLl9lbGVtZW50KS5hZGRDbGFzcyhcIm9wZW5cIilcbiAgICB9XG4gIH1cblxuICBzaG93Q29ubmVjdGVkKG5hbWUsIGNvbXBvbmVudCkge1xuICAgIGlmICh0aGlzLl9jb21wb25lbnQgPT09IG5hbWUpIHtcbiAgICAgIHRoaXMuaGlkZSgpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2NvbXBvbmVudCA9IG5hbWVcbiAgICAgIG1vdW50KGNvbXBvbmVudCwgdGhpcy5fZWxlbWVudC5pZCwgdHJ1ZSlcbiAgICAgICQodGhpcy5fZWxlbWVudCkuYWRkQ2xhc3MoXCJvcGVuXCIpXG4gICAgfVxuICB9XG5cbiAgaGlkZSgpIHtcbiAgICAkKHRoaXMuX2VsZW1lbnQpLnJlbW92ZUNsYXNzKFwib3BlblwiKVxuICAgIHRoaXMuX2NvbXBvbmVudCA9IG51bGxcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgTW9iaWxlTmF2YmFyRHJvcGRvd24oKVxuIiwiaW1wb3J0IFJlYWN0RE9NIGZyb20gXCJyZWFjdC1kb21cIlxuaW1wb3J0IG1vdW50IGZyb20gXCJtaXNhZ28vdXRpbHMvbW91bnQtY29tcG9uZW50XCJcblxuZXhwb3J0IGNsYXNzIE1vZGFsIHtcbiAgaW5pdChlbGVtZW50KSB7XG4gICAgdGhpcy5fZWxlbWVudCA9IGVsZW1lbnRcblxuICAgIHRoaXMuX21vZGFsID0gJChlbGVtZW50KS5tb2RhbCh7IHNob3c6IGZhbHNlIH0pXG5cbiAgICB0aGlzLl9tb2RhbC5vbihcImhpZGRlbi5icy5tb2RhbFwiLCAoKSA9PiB7XG4gICAgICBSZWFjdERPTS51bm1vdW50Q29tcG9uZW50QXROb2RlKHRoaXMuX2VsZW1lbnQpXG4gICAgfSlcbiAgfVxuXG4gIHNob3coY29tcG9uZW50KSB7XG4gICAgbW91bnQoY29tcG9uZW50LCB0aGlzLl9lbGVtZW50LmlkKVxuICAgIHRoaXMuX21vZGFsLm1vZGFsKFwic2hvd1wiKVxuICB9XG5cbiAgaGlkZSgpIHtcbiAgICB0aGlzLl9tb2RhbC5tb2RhbChcImhpZGVcIilcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgTW9kYWwoKVxuIiwiY29uc3QgeXRSZWdFeHAgPSBuZXcgUmVnRXhwKFxuICBcIl4uKig/Oig/OnlvdXR1LmJlL3x2L3x2aS98dS93L3xlbWJlZC8pfCg/Oig/OndhdGNoKT8/dig/OmkpPz18JnYoPzppKT89KSkoW14jJj9dKikuKlwiXG4pXG5cbmV4cG9ydCBjbGFzcyBPbmVCb3gge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl95b3V0dWJlID0ge31cbiAgfVxuXG4gIHJlbmRlciA9IGRvbW5vZGUgPT4ge1xuICAgIGlmICghZG9tbm9kZSkgcmV0dXJuXG4gICAgdGhpcy5oaWdobGlnaHRDb2RlKGRvbW5vZGUpXG4gICAgdGhpcy5lbWJlZFlvdXR1YmVQbGF5ZXJzKGRvbW5vZGUpXG4gIH1cblxuICBoaWdobGlnaHRDb2RlKGRvbW5vZGUpIHtcbiAgICBjb25zdCBjb2RlYmxvY2tzID0gZG9tbm9kZS5xdWVyeVNlbGVjdG9yQWxsKFwicHJlPmNvZGVcIilcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvZGVibG9ja3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGNvZGUgPSBjb2RlYmxvY2tzW2ldXG4gICAgICBobGpzLmhpZ2hsaWdodEJsb2NrKGNvZGUpXG4gICAgfVxuICB9XG5cbiAgZW1iZWRZb3V0dWJlUGxheWVycyhkb21ub2RlKSB7XG4gICAgY29uc3QgYW5jaG9ycyA9IGRvbW5vZGUucXVlcnlTZWxlY3RvckFsbChcInA+YVwiKVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYW5jaG9ycy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgYSA9IGFuY2hvcnNbaV1cbiAgICAgIGNvbnN0IHAgPSBhLnBhcmVudE5vZGVcbiAgICAgIGNvbnN0IG9ubHlDaGlsZCA9IHAuY2hpbGROb2Rlcy5sZW5ndGggPT09IDFcblxuICAgICAgaWYgKCF0aGlzLl95b3V0dWJlW2EuaHJlZl0pIHtcbiAgICAgICAgdGhpcy5feW91dHViZVthLmhyZWZdID0gcGFyc2VZb3V0dWJlVXJsKGEuaHJlZilcbiAgICAgIH1cblxuICAgICAgY29uc3QgeW91dHViZU1vdmllID0gdGhpcy5feW91dHViZVthLmhyZWZdXG4gICAgICBpZiAob25seUNoaWxkICYmICEheW91dHViZU1vdmllICYmIHlvdXR1YmVNb3ZpZS5kYXRhICE9PSBmYWxzZSkge1xuICAgICAgICB0aGlzLnN3YXBZb3V0dWJlUGxheWVyKGEsIHlvdXR1YmVNb3ZpZSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzd2FwWW91dHViZVBsYXllcihlbGVtZW50LCB5b3V0dWJlKSB7XG4gICAgbGV0IHVybCA9IFwiaHR0cHM6Ly93d3cueW91dHViZS5jb20vZW1iZWQvXCJcbiAgICB1cmwgKz0geW91dHViZS52aWRlb1xuICAgIHVybCArPSBcIj9yZWw9MFwiXG4gICAgaWYgKHlvdXR1YmUuc3RhcnQpIHtcbiAgICAgIHVybCArPSBcIiZzdGFydD1cIiArIHlvdXR1YmUuc3RhcnRcbiAgICB9XG5cbiAgICBjb25zdCBwbGF5ZXIgPSAkKFxuICAgICAgJzxpZnJhbWUgY2xhc3M9XCJlbWJlZC1yZXNwb25zaXZlLWl0ZW1cIiBzcmM9XCInICtcbiAgICAgICAgdXJsICtcbiAgICAgICAgJ1wiIGFsbG93ZnVsbHNjcmVlbj48L2lmcmFtZT4nXG4gICAgKVxuICAgICQoZWxlbWVudCkucmVwbGFjZVdpdGgocGxheWVyKVxuICAgIHBsYXllci53cmFwKCc8ZGl2IGNsYXNzPVwiZW1iZWQtcmVzcG9uc2l2ZSBlbWJlZC1yZXNwb25zaXZlLTE2Ynk5XCI+PC9kaXY+JylcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgT25lQm94KClcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlWW91dHViZVVybCh1cmwpIHtcbiAgY29uc3QgY2xlYW5lZFVybCA9IGNsZWFuVXJsKHVybClcbiAgY29uc3QgdmlkZW8gPSBnZXRWaWRlb0lkRnJvbVVybChjbGVhbmVkVXJsKVxuXG4gIGlmICghdmlkZW8pIHJldHVybiBudWxsXG5cbiAgbGV0IHN0YXJ0ID0gMFxuICBpZiAoY2xlYW5lZFVybC5pbmRleE9mKFwiP1wiKSA+IDApIHtcbiAgICBjb25zdCBxdWVyeSA9IGNsZWFuZWRVcmwuc3Vic3RyKGNsZWFuZWRVcmwuaW5kZXhPZihcIj9cIikgKyAxKVxuICAgIGNvbnN0IHRpbWViaXQgPSBxdWVyeS5zcGxpdChcIiZcIikuZmlsdGVyKGkgPT4ge1xuICAgICAgcmV0dXJuIGkuc3Vic3RyKDAsIDIpID09PSBcInQ9XCJcbiAgICB9KVswXVxuXG4gICAgaWYgKHRpbWViaXQpIHtcbiAgICAgIGNvbnN0IGJpdHMgPSB0aW1lYml0LnN1YnN0cigyKS5zcGxpdChcIm1cIilcbiAgICAgIGlmIChiaXRzWzBdLnN1YnN0cigtMSkgPT09IFwic1wiKSB7XG4gICAgICAgIHN0YXJ0ICs9IHBhcnNlSW50KGJpdHNbMF0uc3Vic3RyKDAsIGJpdHNbMF0ubGVuZ3RoIC0gMSkpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGFydCArPSBwYXJzZUludChiaXRzWzBdKSAqIDYwXG4gICAgICAgIGlmICghIWJpdHNbMV0gJiYgYml0c1sxXS5zdWJzdHIoLTEpID09PSBcInNcIikge1xuICAgICAgICAgIHN0YXJ0ICs9IHBhcnNlSW50KGJpdHNbMV0uc3Vic3RyKDAsIGJpdHNbMV0ubGVuZ3RoIC0gMSkpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHN0YXJ0LFxuICAgIHZpZGVvXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFuVXJsKHVybCkge1xuICBsZXQgY2xlYW4gPSB1cmxcblxuICBpZiAodXJsLnN1YnN0cigwLCA4KSA9PT0gXCJodHRwczovL1wiKSB7XG4gICAgY2xlYW4gPSBjbGVhbi5zdWJzdHIoOClcbiAgfSBlbHNlIGlmICh1cmwuc3Vic3RyKDAsIDcpID09PSBcImh0dHA6Ly9cIikge1xuICAgIGNsZWFuID0gY2xlYW4uc3Vic3RyKDcpXG4gIH1cblxuICBpZiAoY2xlYW4uc3Vic3RyKDAsIDQpID09PSBcInd3dy5cIikge1xuICAgIGNsZWFuID0gY2xlYW4uc3Vic3RyKDQpXG4gIH1cblxuICByZXR1cm4gY2xlYW5cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFZpZGVvSWRGcm9tVXJsKHVybCkge1xuICBpZiAodXJsLmluZGV4T2YoXCJ5b3V0dVwiKSA9PT0gLTEpIHJldHVybiBudWxsXG5cbiAgY29uc3QgdmlkZW8gPSB1cmwubWF0Y2goeXRSZWdFeHApXG4gIGlmICh2aWRlbykge1xuICAgIHJldHVybiB2aWRlb1sxXVxuICB9XG4gIHJldHVybiBudWxsXG59XG4iLCJleHBvcnQgY2xhc3MgUGFnZVRpdGxlIHtcbiAgaW5pdChpbmRleFRpdGxlLCBmb3J1bU5hbWUpIHtcbiAgICB0aGlzLl9pbmRleFRpdGxlID0gaW5kZXhUaXRsZVxuICAgIHRoaXMuX2ZvcnVtTmFtZSA9IGZvcnVtTmFtZVxuICB9XG5cbiAgc2V0KHRpdGxlKSB7XG4gICAgaWYgKCF0aXRsZSkge1xuICAgICAgZG9jdW1lbnQudGl0bGUgPSB0aGlzLl9pbmRleFRpdGxlIHx8IHRoaXMuX2ZvcnVtTmFtZVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB0aXRsZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgdGl0bGUgPSB7IHRpdGxlOiB0aXRsZSB9XG4gICAgfVxuXG4gICAgbGV0IGZpbmFsVGl0bGUgPSB0aXRsZS50aXRsZVxuXG4gICAgaWYgKHRpdGxlLnBhZ2UgPiAxKSB7XG4gICAgICBjb25zdCBwYWdlTGFiZWwgPSBpbnRlcnBvbGF0ZShcbiAgICAgICAgXCLPg861zrvOr860zrE6ICUocGFnZSlzXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBwYWdlOiB0aXRsZS5wYWdlXG4gICAgICAgIH0sXG4gICAgICAgIHRydWVcbiAgICAgIClcblxuICAgICAgZmluYWxUaXRsZSArPSBcIiAoXCIgKyBwYWdlTGFiZWwgKyBcIilcIlxuICAgIH1cblxuICAgIGlmICh0aXRsZS5wYXJlbnQpIHtcbiAgICAgIGZpbmFsVGl0bGUgKz0gXCIgfCBcIiArIHRpdGxlLnBhcmVudFxuICAgIH1cblxuICAgIGRvY3VtZW50LnRpdGxlID0gZmluYWxUaXRsZSArIFwiIHwgXCIgKyB0aGlzLl9mb3J1bU5hbWVcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgUGFnZVRpdGxlKClcbiIsImV4cG9ydCBjbGFzcyBQb2xscyB7XG4gIGluaXQoYWpheCwgc25hY2tiYXIpIHtcbiAgICB0aGlzLl9hamF4ID0gYWpheFxuICAgIHRoaXMuX3NuYWNrYmFyID0gc25hY2tiYXJcblxuICAgIHRoaXMuX3BvbGxzID0ge31cbiAgfVxuXG4gIHN0YXJ0KGt3YXJncykge1xuICAgIHRoaXMuc3RvcChrd2FyZ3MucG9sbClcblxuICAgIGNvbnN0IHBvb2xTZXJ2ZXIgPSAoKSA9PiB7XG4gICAgICB0aGlzLl9wb2xsc1trd2FyZ3MucG9sbF0gPSBrd2FyZ3NcblxuICAgICAgdGhpcy5fYWpheC5nZXQoa3dhcmdzLnVybCwga3dhcmdzLmRhdGEgfHwgbnVsbCkudGhlbihcbiAgICAgICAgZGF0YSA9PiB7XG4gICAgICAgICAgaWYgKCF0aGlzLl9wb2xsc1trd2FyZ3MucG9sbF0uX3N0b3BwZWQpIHtcbiAgICAgICAgICAgIGt3YXJncy51cGRhdGUoZGF0YSlcblxuICAgICAgICAgICAgdGhpcy5fcG9sbHNba3dhcmdzLnBvbGxdLnRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dChcbiAgICAgICAgICAgICAgcG9vbFNlcnZlcixcbiAgICAgICAgICAgICAga3dhcmdzLmZyZXF1ZW5jeVxuICAgICAgICAgICAgKVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgICBpZiAoIXRoaXMuX3BvbGxzW2t3YXJncy5wb2xsXS5fc3RvcHBlZCkge1xuICAgICAgICAgICAgaWYgKGt3YXJncy5lcnJvcikge1xuICAgICAgICAgICAgICBrd2FyZ3MuZXJyb3IocmVqZWN0aW9uKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5fc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cblxuICAgIGlmIChrd2FyZ3MuZGVsYXllZCkge1xuICAgICAgdGhpcy5fcG9sbHNba3dhcmdzLnBvbGxdID0ge1xuICAgICAgICB0aW1lb3V0OiB3aW5kb3cuc2V0VGltZW91dChwb29sU2VydmVyLCBrd2FyZ3MuZnJlcXVlbmN5KVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwb29sU2VydmVyKClcbiAgICB9XG4gIH1cblxuICBzdG9wKHBvbGxJZCkge1xuICAgIGlmICh0aGlzLl9wb2xsc1twb2xsSWRdKSB7XG4gICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuX3BvbGxzW3BvbGxJZF0udGltZW91dClcbiAgICAgIHRoaXMuX3BvbGxzW3BvbGxJZF0uX3N0b3BwZWQgPSB0cnVlXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBQb2xscygpXG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBSZWFjdERPTSBmcm9tIFwicmVhY3QtZG9tXCJcbmltcG9ydCB7IFBvbGxGb3JtIH0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3BvbGxcIlxuaW1wb3J0IFBvc3RpbmdDb21wb25lbnQgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3Bvc3RpbmdcIlxuaW1wb3J0IG1vdW50IGZyb20gXCJtaXNhZ28vdXRpbHMvbW91bnQtY29tcG9uZW50XCJcblxuZXhwb3J0IGNsYXNzIFBvc3Rpbmcge1xuICBpbml0KGFqYXgsIHNuYWNrYmFyLCBwbGFjZWhvbGRlcikge1xuICAgIHRoaXMuX2FqYXggPSBhamF4XG4gICAgdGhpcy5fc25hY2tiYXIgPSBzbmFja2JhclxuICAgIHRoaXMuX3BsYWNlaG9sZGVyID0gJChwbGFjZWhvbGRlcilcblxuICAgIHRoaXMuX21vZGUgPSBudWxsXG5cbiAgICB0aGlzLl9pc09wZW4gPSBmYWxzZVxuICAgIHRoaXMuX2lzQ2xvc2luZyA9IGZhbHNlXG4gIH1cblxuICBvcGVuKHByb3BzKSB7XG4gICAgaWYgKHRoaXMuX2lzT3BlbiA9PT0gZmFsc2UpIHtcbiAgICAgIHRoaXMuX21vZGUgPSBwcm9wcy5tb2RlXG4gICAgICB0aGlzLl9pc09wZW4gPSBwcm9wcy5zdWJtaXRcbiAgICAgIHRoaXMuX3JlYWxPcGVuKHByb3BzKVxuICAgIH0gZWxzZSBpZiAodGhpcy5faXNPcGVuICE9PSBwcm9wcy5zdWJtaXQpIHtcbiAgICAgIGxldCBtZXNzYWdlID0gXCLOlM6/z4XOu861z43Otc65z4Igzq7OtM63IM+AzqzOvc+JIM+DzrUgzq3Ovc6xIM68zq7Ovc+FzrzOsSEgzpjOtc+CIM69zrEgz4TOvyDOsc66z4XPgc+Oz4POtc65z4I7XCJcbiAgICAgIGlmICh0aGlzLl9tb2RlID09IFwiUE9MTFwiKSB7XG4gICAgICAgIG1lc3NhZ2UgPSBcIs6Uzr/Phc67zrXPjc61zrnPgiDOrs60zrcgz4DOrM69z4kgz4POtSDOrc69zrEgcG9sbCEgzpjOtc+CIM69zrEgz4TOvyDOsc66z4XPgc+Oz4POtc65z4I7XCJcbiAgICAgIH1cblxuICAgICAgY29uc3QgY2hhbmdlRm9ybSA9IGNvbmZpcm0obWVzc2FnZSlcbiAgICAgIGlmIChjaGFuZ2VGb3JtKSB7XG4gICAgICAgIHRoaXMuX21vZGUgPSBwcm9wcy5tb2RlXG4gICAgICAgIHRoaXMuX2lzT3BlbiA9IHByb3BzLnN1Ym1pdFxuICAgICAgICB0aGlzLl9yZWFsT3Blbihwcm9wcylcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoaXMuX21vZGUgPT0gXCJSRVBMWVwiICYmIHByb3BzLm1vZGUgPT0gXCJSRVBMWVwiKSB7XG4gICAgICB0aGlzLl9yZWFsT3Blbihwcm9wcylcbiAgICB9XG4gIH1cblxuICBfcmVhbE9wZW4ocHJvcHMpIHtcbiAgICBpZiAocHJvcHMubW9kZSA9PSBcIlBPTExcIikge1xuICAgICAgbW91bnQoPFBvbGxGb3JtIHsuLi5wcm9wc30gLz4sIFwicG9zdGluZy1tb3VudFwiKVxuICAgIH0gZWxzZSB7XG4gICAgICBtb3VudCg8UG9zdGluZ0NvbXBvbmVudCB7Li4ucHJvcHN9IC8+LCBcInBvc3RpbmctbW91bnRcIilcbiAgICB9XG5cbiAgICB0aGlzLl9wbGFjZWhvbGRlci5hZGRDbGFzcyhcInNsaWRlLWluXCIpXG5cbiAgICAkKFwiaHRtbCwgYm9keVwiKS5hbmltYXRlKFxuICAgICAge1xuICAgICAgICBzY3JvbGxUb3A6IHRoaXMuX3BsYWNlaG9sZGVyLm9mZnNldCgpLnRvcFxuICAgICAgfSxcbiAgICAgIDEwMDBcbiAgICApXG4gIH1cblxuICBjbG9zZSA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5faXNPcGVuICYmICF0aGlzLl9pc0Nsb3NpbmcpIHtcbiAgICAgIHRoaXMuX2lzQ2xvc2luZyA9IHRydWVcbiAgICAgIHRoaXMuX3BsYWNlaG9sZGVyLnJlbW92ZUNsYXNzKFwic2xpZGUtaW5cIilcblxuICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBSZWFjdERPTS51bm1vdW50Q29tcG9uZW50QXROb2RlKFxuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicG9zdGluZy1tb3VudFwiKVxuICAgICAgICApXG4gICAgICAgIHRoaXMuX2lzQ2xvc2luZyA9IGZhbHNlXG4gICAgICAgIHRoaXMuX2lzT3BlbiA9IGZhbHNlXG4gICAgICB9LCAzMDApXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBQb3N0aW5nKClcbiIsImltcG9ydCB7IHNob3dTbmFja2JhciwgaGlkZVNuYWNrYmFyIH0gZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9zbmFja2JhclwiXG5cbmNvbnN0IEhJREVfQU5JTUFUSU9OX0xFTkdUSCA9IDMwMFxuY29uc3QgTUVTU0FHRV9TSE9XX0xFTkdUSCA9IDUwMDBcblxuZXhwb3J0IGNsYXNzIFNuYWNrYmFyIHtcbiAgaW5pdChzdG9yZSkge1xuICAgIHRoaXMuX3N0b3JlID0gc3RvcmVcbiAgICB0aGlzLl90aW1lb3V0ID0gbnVsbFxuICB9XG5cbiAgYWxlcnQobWVzc2FnZSwgdHlwZSkge1xuICAgIGlmICh0aGlzLl90aW1lb3V0KSB7XG4gICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXQpXG4gICAgICB0aGlzLl9zdG9yZS5kaXNwYXRjaChoaWRlU25hY2tiYXIoKSlcblxuICAgICAgdGhpcy5fdGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5fdGltZW91dCA9IG51bGxcbiAgICAgICAgdGhpcy5hbGVydChtZXNzYWdlLCB0eXBlKVxuICAgICAgfSwgSElERV9BTklNQVRJT05fTEVOR1RIKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zdG9yZS5kaXNwYXRjaChzaG93U25hY2tiYXIobWVzc2FnZSwgdHlwZSkpXG4gICAgICB0aGlzLl90aW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLl9zdG9yZS5kaXNwYXRjaChoaWRlU25hY2tiYXIoKSlcbiAgICAgICAgdGhpcy5fdGltZW91dCA9IG51bGxcbiAgICAgIH0sIE1FU1NBR0VfU0hPV19MRU5HVEgpXG4gICAgfVxuICB9XG5cbiAgLy8gc2hvcnRoYW5kcyBmb3IgbWVzc2FnZSB0eXBlc1xuXG4gIGluZm8obWVzc2FnZSkge1xuICAgIHRoaXMuYWxlcnQobWVzc2FnZSwgXCJpbmZvXCIpXG4gIH1cblxuICBzdWNjZXNzKG1lc3NhZ2UpIHtcbiAgICB0aGlzLmFsZXJ0KG1lc3NhZ2UsIFwic3VjY2Vzc1wiKVxuICB9XG5cbiAgd2FybmluZyhtZXNzYWdlKSB7XG4gICAgdGhpcy5hbGVydChtZXNzYWdlLCBcIndhcm5pbmdcIilcbiAgfVxuXG4gIGVycm9yKG1lc3NhZ2UpIHtcbiAgICB0aGlzLmFsZXJ0KG1lc3NhZ2UsIFwiZXJyb3JcIilcbiAgfVxuXG4gIC8vIHNob3J0aGFuZCBmb3IgYXBpIGVycm9yc1xuXG4gIGFwaUVycm9yKHJlamVjdGlvbikge1xuICAgIGxldCBtZXNzYWdlID0gcmVqZWN0aW9uLmRldGFpbFxuXG4gICAgaWYgKCFtZXNzYWdlKSB7XG4gICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgIG1lc3NhZ2UgPSBcIs6fIM+Dz43Ovc60zrXPg868zr/PgiDOtM61zr0gzrXOr869zrHOuSDOrc6zzrrPhc+Bzr/PgiFcIlxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWVzc2FnZSA9IFwizobOs869z4nPg8+Ezr8gzrvOrM64zr/PgiFcIlxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDMgJiYgbWVzc2FnZSA9PT0gXCJQZXJtaXNzaW9uIGRlbmllZFwiKSB7XG4gICAgICBtZXNzYWdlID0gXCLOlM6tzr0gzq3Ph861zrnPgiDOrM60zrXOuc6xIM6zzrnOsSDOvc6xIM+Ezr8gzrrOrM69zrXOuc+CIM6xz4XPhM+MIVwiXG4gICAgfVxuXG4gICAgdGhpcy5lcnJvcihtZXNzYWdlKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBTbmFja2JhcigpXG4iLCJpbXBvcnQgeyBjb21iaW5lUmVkdWNlcnMsIGNyZWF0ZVN0b3JlIH0gZnJvbSBcInJlZHV4XCJcblxuZXhwb3J0IGNsYXNzIFN0b3JlV3JhcHBlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuX3N0b3JlID0gbnVsbFxuICAgIHRoaXMuX3JlZHVjZXJzID0ge31cbiAgICB0aGlzLl9pbml0aWFsU3RhdGUgPSB7fVxuICB9XG5cbiAgYWRkUmVkdWNlcihuYW1lLCByZWR1Y2VyLCBpbml0aWFsU3RhdGUpIHtcbiAgICB0aGlzLl9yZWR1Y2Vyc1tuYW1lXSA9IHJlZHVjZXJcbiAgICB0aGlzLl9pbml0aWFsU3RhdGVbbmFtZV0gPSBpbml0aWFsU3RhdGVcbiAgfVxuXG4gIGluaXQoKSB7XG4gICAgdGhpcy5fc3RvcmUgPSBjcmVhdGVTdG9yZShcbiAgICAgIGNvbWJpbmVSZWR1Y2Vycyh0aGlzLl9yZWR1Y2VycyksXG4gICAgICB0aGlzLl9pbml0aWFsU3RhdGVcbiAgICApXG4gIH1cblxuICBnZXRTdG9yZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fc3RvcmVcbiAgfVxuXG4gIC8vIFN0b3JlIEFQSVxuXG4gIGdldFN0YXRlKCkge1xuICAgIHJldHVybiB0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpXG4gIH1cblxuICBkaXNwYXRjaChhY3Rpb24pIHtcbiAgICByZXR1cm4gdGhpcy5fc3RvcmUuZGlzcGF0Y2goYWN0aW9uKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBTdG9yZVdyYXBwZXIoKVxuIiwiLyogZ2xvYmFsIHp4Y3ZibiAqL1xuZXhwb3J0IGNsYXNzIFp4Y3ZibiB7XG4gIGluaXQoaW5jbHVkZSkge1xuICAgIHRoaXMuX2luY2x1ZGUgPSBpbmNsdWRlXG4gICAgdGhpcy5faXNMb2FkZWQgPSBmYWxzZVxuICB9XG5cbiAgc2NvcmVQYXNzd29yZChwYXNzd29yZCwgaW5wdXRzKSB7XG4gICAgLy8gMC00IHNjb3JlLCB0aGUgbW9yZSB0aGUgc3Ryb25nZXIgcGFzc3dvcmRcbiAgICBpZiAodGhpcy5faXNMb2FkZWQpIHtcbiAgICAgIHJldHVybiB6eGN2Ym4ocGFzc3dvcmQsIGlucHV0cykuc2NvcmVcbiAgICB9XG5cbiAgICByZXR1cm4gMFxuICB9XG5cbiAgbG9hZCgpIHtcbiAgICBpZiAoIXRoaXMuX2lzTG9hZGVkKSB7XG4gICAgICB0aGlzLl9pbmNsdWRlLmluY2x1ZGUoXCJtaXNhZ28vanMvenhjdmJuLmpzXCIpXG4gICAgICByZXR1cm4gdGhpcy5fbG9hZGluZ1Byb21pc2UoKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5fbG9hZGVkUHJvbWlzZSgpXG4gICAgfVxuICB9XG5cbiAgX2xvYWRpbmdQcm9taXNlKCkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzXG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgd2FpdCA9IGZ1bmN0aW9uKHRyaWVzID0gMCkge1xuICAgICAgICB0cmllcyArPSAxXG4gICAgICAgIGlmICh0cmllcyA+IDIwMCkge1xuICAgICAgICAgIHJlamVjdCgpXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHp4Y3ZibiA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgd2FpdCh0cmllcylcbiAgICAgICAgICB9LCAyMDApXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsZi5faXNMb2FkZWQgPSB0cnVlXG4gICAgICAgICAgcmVzb2x2ZSgpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHdhaXQoKVxuICAgIH0pXG4gIH1cblxuICBfbG9hZGVkUHJvbWlzZSgpIHtcbiAgICAvLyB3ZSBoYXZlIGFscmVhZHkgbG9hZGVkIHp4Y3Zibi5qcywgcmVzb2x2ZSBhd2F5IVxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKSB7XG4gICAgICByZXNvbHZlKClcbiAgICB9KVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBaeGN2Ym4oKVxuIiwiaW1wb3J0IG1vbWVudCBmcm9tIFwibW9tZW50XCJcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IFJlYWN0RE9NIGZyb20gXCJyZWFjdC1kb21cIlxuaW1wb3J0IHsgUHJvdmlkZXIsIGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIlxuaW1wb3J0IEJhbm5lZFBhZ2UgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Jhbm5lZC1wYWdlXCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmxldCBzZWxlY3QgPSBmdW5jdGlvbihzdGF0ZSkge1xuICByZXR1cm4gc3RhdGUudGlja1xufVxuXG5sZXQgUmVkcmF3ZWRCYW5uZWRQYWdlID0gY29ubmVjdChzZWxlY3QpKEJhbm5lZFBhZ2UpXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGJhbiwgY2hhbmdlU3RhdGUpIHtcbiAgUmVhY3RET00ucmVuZGVyKFxuICAgIDxQcm92aWRlciBzdG9yZT17c3RvcmUuZ2V0U3RvcmUoKX0+XG4gICAgICA8UmVkcmF3ZWRCYW5uZWRQYWdlXG4gICAgICAgIG1lc3NhZ2U9e2Jhbi5tZXNzYWdlfVxuICAgICAgICBleHBpcmVzPXtiYW4uZXhwaXJlc19vbiA/IG1vbWVudChiYW4uZXhwaXJlc19vbikgOiBudWxsfVxuICAgICAgLz5cbiAgICA8L1Byb3ZpZGVyPixcblxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGFnZS1tb3VudFwiKVxuICApXG5cbiAgaWYgKHR5cGVvZiBjaGFuZ2VTdGF0ZSA9PT0gXCJ1bmRlZmluZWRcIiB8fCBjaGFuZ2VTdGF0ZSkge1xuICAgIGxldCBmb3J1bU5hbWUgPSBtaXNhZ28uZ2V0KFwiU0VUVElOR1NcIikuZm9ydW1fbmFtZVxuICAgIGRvY3VtZW50LnRpdGxlID0gXCLOnyDOu86/zrPOsc+BzrnOsc+DzrzPjM+CIM+Dzr/PhSDOrc+HzrXOuSDOsc+Azr/Ous67zrXOuc+Dz4TOtc6vIVwiICsgXCIgfCBcIiArIGZvcnVtTmFtZVxuICAgIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSh7fSwgXCJcIiwgbWlzYWdvLmdldChcIkJBTk5FRF9VUkxcIikpXG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGxpc3QsIHJvd1dpZHRoLCBwYWRkaW5nID0gZmFsc2UpIHtcbiAgbGV0IHJvd3MgPSBbXVxuICBsZXQgcm93ID0gW11cblxuICBsaXN0LmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIHJvdy5wdXNoKGVsZW1lbnQpXG4gICAgaWYgKHJvdy5sZW5ndGggPT09IHJvd1dpZHRoKSB7XG4gICAgICByb3dzLnB1c2gocm93KVxuICAgICAgcm93ID0gW11cbiAgICB9XG4gIH0pXG5cbiAgLy8gcGFkIHJvdyB0byByZXF1aXJlZCBsZW5ndGg/XG4gIGlmIChwYWRkaW5nICE9PSBmYWxzZSAmJiByb3cubGVuZ3RoID4gMCAmJiByb3cubGVuZ3RoIDwgcm93V2lkdGgpIHtcbiAgICBmb3IgKGxldCBpID0gcm93Lmxlbmd0aDsgaSA8IHJvd1dpZHRoOyBpKyspIHtcbiAgICAgIHJvdy5wdXNoKHBhZGRpbmcpXG4gICAgfVxuICB9XG5cbiAgaWYgKHJvdy5sZW5ndGgpIHtcbiAgICByb3dzLnB1c2gocm93KVxuICB9XG5cbiAgcmV0dXJuIHJvd3Ncbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGEsIGIpIHtcbiAgbGV0IGlkcyA9IFtdXG4gIHJldHVybiBhLmNvbmNhdChiKS5maWx0ZXIoZnVuY3Rpb24oaXRlbSkge1xuICAgIGlmIChpZHMuaW5kZXhPZihpdGVtLmlkKSA9PT0gLTEpIHtcbiAgICAgIGlkcy5wdXNoKGl0ZW0uaWQpXG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH0pXG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKGNhbGxiYWNrLCBjb3VudCkge1xuICAgIHRoaXMuX2NhbGxiYWNrID0gY2FsbGJhY2tcbiAgICB0aGlzLl9jb3VudCA9IGNvdW50XG4gIH1cblxuICBjb3VudCgpIHtcbiAgICB0aGlzLl9jb3VudCAtPSAxXG4gICAgaWYgKHRoaXMuX2NvdW50ID09PSAwKSB7XG4gICAgICB0aGlzLl9jYWxsYmFjaygpXG4gICAgfVxuICB9XG59XG4iLCJjb25zdCBtYXAgPSB7XG4gIFwiJlwiOiBcIiZhbXA7XCIsXG4gIFwiPFwiOiBcIiZsdDtcIixcbiAgXCI+XCI6IFwiJmd0O1wiLFxuICAnXCInOiBcIiZxdW90O1wiLFxuICBcIidcIjogXCImIzAzOTtcIlxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih0ZXh0KSB7XG4gIHJldHVybiB0ZXh0LnJlcGxhY2UoL1smPD5cIiddL2csIGZ1bmN0aW9uKG0pIHtcbiAgICByZXR1cm4gbWFwW21dXG4gIH0pXG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihieXRlcykge1xuICBpZiAoYnl0ZXMgPiAxMDI0ICogMTAyNCAqIDEwMjQpIHtcbiAgICByZXR1cm4gcm91bmRTaXplKGJ5dGVzIC8gKDEwMjQgKiAxMDI0ICogMTAyNCkpICsgXCIgR0JcIlxuICB9IGVsc2UgaWYgKGJ5dGVzID4gMTAyNCAqIDEwMjQpIHtcbiAgICByZXR1cm4gcm91bmRTaXplKGJ5dGVzIC8gKDEwMjQgKiAxMDI0KSkgKyBcIiBNQlwiXG4gIH0gZWxzZSBpZiAoYnl0ZXMgPiAxMDI0KSB7XG4gICAgcmV0dXJuIHJvdW5kU2l6ZShieXRlcyAvIDEwMjQpICsgXCIgS0JcIlxuICB9IGVsc2Uge1xuICAgIHJldHVybiByb3VuZFNpemUoYnl0ZXMpICsgXCIgQlwiXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdW5kU2l6ZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUudG9GaXhlZCgxKVxufVxuIiwiY29uc3QgVVJMX1BBVFRFUk4gPSBuZXcgUmVnRXhwKFxuICBcIl4oaHR0cHM/OlxcXFwvXFxcXC8pPygoKFthLXpcXFxcZF0oW2EtelxcXFxkLV0qW2EtelxcXFxkXSkqKVxcXFwuKStbYS16XXsyLH18KChcXFxcZHsxLDN9XFxcXC4pezN9XFxcXGR7MSwzfSkpKFxcXFw6XFxcXGQrKT8oXFxcXC9bLWEtelxcXFxkJV8ufitdKikqKFxcXFw/WzsmYS16XFxcXGQlXy5+Kz0tXSopPyhcXFxcI1stYS16XFxcXGRfXSopPyRcIixcbiAgXCJpXCJcbilcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oc3RyKSB7XG4gIHJldHVybiBVUkxfUEFUVEVSTi50ZXN0KCQudHJpbShzdHIpKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgUmVhY3RET00gZnJvbSBcInJlYWN0LWRvbVwiXG5pbXBvcnQgeyBQcm92aWRlciB9IGZyb20gXCJyZWFjdC1yZWR1eFwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKENvbXBvbmVudCwgcm9vdEVsZW1lbnRJZCwgY29ubmVjdGVkID0gdHJ1ZSkge1xuICBsZXQgcm9vdEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChyb290RWxlbWVudElkKVxuXG4gIGxldCBmaW5hbENvbXBvbmVudCA9IENvbXBvbmVudC5wcm9wcyA/IENvbXBvbmVudCA6IDxDb21wb25lbnQgLz5cblxuICBpZiAocm9vdEVsZW1lbnQpIHtcbiAgICBpZiAoY29ubmVjdGVkKSB7XG4gICAgICBSZWFjdERPTS5yZW5kZXIoXG4gICAgICAgIDxQcm92aWRlciBzdG9yZT17c3RvcmUuZ2V0U3RvcmUoKX0+e2ZpbmFsQ29tcG9uZW50fTwvUHJvdmlkZXI+LFxuXG4gICAgICAgIHJvb3RFbGVtZW50XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIFJlYWN0RE9NLnJlbmRlcihmaW5hbENvbXBvbmVudCwgcm9vdEVsZW1lbnQpXG4gICAgfVxuICB9XG59XG4iLCJjbGFzcyBPcmRlcmVkTGlzdCB7XG4gIGNvbnN0cnVjdG9yKGl0ZW1zKSB7XG4gICAgdGhpcy5pc09yZGVyZWQgPSBmYWxzZVxuICAgIHRoaXMuX2l0ZW1zID0gaXRlbXMgfHwgW11cbiAgfVxuXG4gIGFkZChrZXksIGl0ZW0sIG9yZGVyKSB7XG4gICAgdGhpcy5faXRlbXMucHVzaCh7XG4gICAgICBrZXk6IGtleSxcbiAgICAgIGl0ZW06IGl0ZW0sXG5cbiAgICAgIGFmdGVyOiBvcmRlciA/IG9yZGVyLmFmdGVyIHx8IG51bGwgOiBudWxsLFxuICAgICAgYmVmb3JlOiBvcmRlciA/IG9yZGVyLmJlZm9yZSB8fCBudWxsIDogbnVsbFxuICAgIH0pXG4gIH1cblxuICBnZXQoa2V5LCB2YWx1ZSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5faXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLl9pdGVtc1tpXS5rZXkgPT09IGtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXRlbXNbaV0uaXRlbVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZVxuICB9XG5cbiAgaGFzKGtleSkge1xuICAgIHJldHVybiB0aGlzLmdldChrZXkpICE9PSB1bmRlZmluZWRcbiAgfVxuXG4gIHZhbHVlcygpIHtcbiAgICB2YXIgdmFsdWVzID0gW11cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2l0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YWx1ZXMucHVzaCh0aGlzLl9pdGVtc1tpXS5pdGVtKVxuICAgIH1cbiAgICByZXR1cm4gdmFsdWVzXG4gIH1cblxuICBvcmRlcih2YWx1ZXNfb25seSkge1xuICAgIGlmICghdGhpcy5pc09yZGVyZWQpIHtcbiAgICAgIHRoaXMuX2l0ZW1zID0gdGhpcy5fb3JkZXIodGhpcy5faXRlbXMpXG4gICAgICB0aGlzLmlzT3JkZXJlZCA9IHRydWVcbiAgICB9XG5cbiAgICBpZiAodmFsdWVzX29ubHkgfHwgdHlwZW9mIHZhbHVlc19vbmx5ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICByZXR1cm4gdGhpcy52YWx1ZXMoKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5faXRlbXNcbiAgICB9XG4gIH1cblxuICBvcmRlcmVkVmFsdWVzKCkge1xuICAgIHJldHVybiB0aGlzLm9yZGVyKHRydWUpXG4gIH1cblxuICBfb3JkZXIodW5vcmRlcmVkKSB7XG4gICAgLy8gSW5kZXggb2YgdW5vcmRlcmVkIGl0ZW1zXG4gICAgdmFyIGluZGV4ID0gW11cbiAgICB1bm9yZGVyZWQuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICBpbmRleC5wdXNoKGl0ZW0ua2V5KVxuICAgIH0pXG5cbiAgICAvLyBPcmRlcmVkIGl0ZW1zXG4gICAgdmFyIG9yZGVyZWQgPSBbXVxuICAgIHZhciBvcmRlcmluZyA9IFtdXG5cbiAgICAvLyBGaXJzdCBwYXNzOiByZWdpc3RlciBpdGVtcyB0aGF0XG4gICAgLy8gZG9uJ3Qgc3BlY2lmeSB0aGVpciBvcmRlclxuICAgIHVub3JkZXJlZC5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgIGlmICghaXRlbS5hZnRlciAmJiAhaXRlbS5iZWZvcmUpIHtcbiAgICAgICAgb3JkZXJlZC5wdXNoKGl0ZW0pXG4gICAgICAgIG9yZGVyaW5nLnB1c2goaXRlbS5rZXkpXG4gICAgICB9XG4gICAgfSlcblxuICAgIC8vIFNlY29uZCBwYXNzOiByZWdpc3RlciBpdGVtcyB0aGF0XG4gICAgLy8gc3BlY2lmeSB0aGVpciBiZWZvcmUgdG8gXCJfZW5kXCJcbiAgICB1bm9yZGVyZWQuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICBpZiAoaXRlbS5iZWZvcmUgPT09IFwiX2VuZFwiKSB7XG4gICAgICAgIG9yZGVyZWQucHVzaChpdGVtKVxuICAgICAgICBvcmRlcmluZy5wdXNoKGl0ZW0ua2V5KVxuICAgICAgfVxuICAgIH0pXG5cbiAgICAvLyBUaGlyZCBwYXNzOiBrZWVwIGl0ZXJhdGluZyBpdGVtc1xuICAgIC8vIHVudGlsIHdlIGhpdCBpdGVyYXRpb25zIGxpbWl0IG9yIGZpbmlzaFxuICAgIC8vIG9yZGVyaW5nIGxpc3RcbiAgICBmdW5jdGlvbiBpbnNlcnRJdGVtKGl0ZW0pIHtcbiAgICAgIHZhciBpbnNlcnRBdCA9IC0xXG4gICAgICBpZiAob3JkZXJpbmcuaW5kZXhPZihpdGVtLmtleSkgPT09IC0xKSB7XG4gICAgICAgIGlmIChpdGVtLmFmdGVyKSB7XG4gICAgICAgICAgaW5zZXJ0QXQgPSBvcmRlcmluZy5pbmRleE9mKGl0ZW0uYWZ0ZXIpXG4gICAgICAgICAgaWYgKGluc2VydEF0ICE9PSAtMSkge1xuICAgICAgICAgICAgaW5zZXJ0QXQgKz0gMVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChpdGVtLmJlZm9yZSkge1xuICAgICAgICAgIGluc2VydEF0ID0gb3JkZXJpbmcuaW5kZXhPZihpdGVtLmJlZm9yZSlcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbnNlcnRBdCAhPT0gLTEpIHtcbiAgICAgICAgICBvcmRlcmVkLnNwbGljZShpbnNlcnRBdCwgMCwgaXRlbSlcbiAgICAgICAgICBvcmRlcmluZy5zcGxpY2UoaW5zZXJ0QXQsIDAsIGl0ZW0ua2V5KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGl0ZXJhdGlvbnMgPSAyMDBcbiAgICB3aGlsZSAoaXRlcmF0aW9ucyA+IDAgJiYgaW5kZXgubGVuZ3RoICE9PSBvcmRlcmluZy5sZW5ndGgpIHtcbiAgICAgIGl0ZXJhdGlvbnMgLT0gMVxuICAgICAgdW5vcmRlcmVkLmZvckVhY2goaW5zZXJ0SXRlbSlcbiAgICB9XG5cbiAgICByZXR1cm4gb3JkZXJlZFxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE9yZGVyZWRMaXN0XG4iLCJleHBvcnQgZnVuY3Rpb24gaW50KG1pbiwgbWF4KSB7XG4gIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpICsgbWluXG59XG5cbmV4cG9ydCBmdW5jdGlvbiByYW5nZShtaW4sIG1heCkge1xuICBsZXQgYXJyYXkgPSBuZXcgQXJyYXkoaW50KG1pbiwgbWF4KSlcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgIGFycmF5W2ldID0gaVxuICB9XG5cbiAgcmV0dXJuIGFycmF5XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgd2luZG93LnNjcm9sbFRvKDAsIDApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBSZWFjdERPTSBmcm9tIFwicmVhY3QtZG9tXCJcbmltcG9ydCB7IFByb3ZpZGVyIH0gZnJvbSBcInJlYWN0LXJlZHV4XCJcbmltcG9ydCB7IFJvdXRlciwgYnJvd3Nlckhpc3RvcnkgfSBmcm9tIFwicmVhY3Qtcm91dGVyXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuY29uc3Qgcm9vdEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBhZ2UtbW91bnRcIilcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ob3B0aW9ucykge1xuICBsZXQgcm91dGVzID0ge1xuICAgIGNvbXBvbmVudDogb3B0aW9ucy5jb21wb25lbnQgfHwgbnVsbCxcbiAgICBjaGlsZFJvdXRlczogW11cbiAgfVxuXG4gIGlmIChvcHRpb25zLnJvb3QpIHtcbiAgICByb3V0ZXMuY2hpbGRSb3V0ZXMgPSBbXG4gICAgICB7XG4gICAgICAgIHBhdGg6IG9wdGlvbnMucm9vdCxcbiAgICAgICAgb25FbnRlcjogZnVuY3Rpb24obmV4dFN0YXRlLCByZXBsYWNlU3RhdGUpIHtcbiAgICAgICAgICByZXBsYWNlU3RhdGUobnVsbCwgb3B0aW9ucy5wYXRoc1swXS5wYXRoKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgXS5jb25jYXQob3B0aW9ucy5wYXRocylcbiAgfSBlbHNlIHtcbiAgICByb3V0ZXMuY2hpbGRSb3V0ZXMgPSBvcHRpb25zLnBhdGhzXG4gIH1cblxuICBSZWFjdERPTS5yZW5kZXIoXG4gICAgPFByb3ZpZGVyIHN0b3JlPXtzdG9yZS5nZXRTdG9yZSgpfT5cbiAgICAgIDxSb3V0ZXIgcm91dGVzPXtyb3V0ZXN9IGhpc3Rvcnk9e2Jyb3dzZXJIaXN0b3J5fSAvPlxuICAgIDwvUHJvdmlkZXI+LFxuICAgIHJvb3RFbGVtZW50XG4gIClcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBwdXNoKGFycmF5LCB2YWx1ZSkge1xuICBpZiAoYXJyYXkuaW5kZXhPZih2YWx1ZSkgPT09IC0xKSB7XG4gICAgbGV0IGNvcHkgPSBhcnJheS5zbGljZSgpXG4gICAgY29weS5wdXNoKHZhbHVlKVxuICAgIHJldHVybiBjb3B5XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGFycmF5XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZShhcnJheSwgdmFsdWUpIHtcbiAgaWYgKGFycmF5LmluZGV4T2YodmFsdWUpID49IDApIHtcbiAgICByZXR1cm4gYXJyYXkuZmlsdGVyKGZ1bmN0aW9uKGkpIHtcbiAgICAgIHJldHVybiBpICE9PSB2YWx1ZVxuICAgIH0pXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGFycmF5XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvZ2dsZShhcnJheSwgdmFsdWUpIHtcbiAgaWYgKGFycmF5LmluZGV4T2YodmFsdWUpID09PSAtMSkge1xuICAgIGxldCBjb3B5ID0gYXJyYXkuc2xpY2UoKVxuICAgIGNvcHkucHVzaCh2YWx1ZSlcbiAgICByZXR1cm4gY29weVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBhcnJheS5maWx0ZXIoZnVuY3Rpb24oaSkge1xuICAgICAgcmV0dXJuIGkgIT09IHZhbHVlXG4gICAgfSlcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oc3RyaW5nLCBzdWJTdHJpbmcpIHtcbiAgc3RyaW5nID0gKHN0cmluZyArIFwiXCIpLnRvTG93ZXJDYXNlKClcbiAgc3ViU3RyaW5nID0gKHN1YlN0cmluZyArIFwiXCIpLnRvTG93ZXJDYXNlKClcblxuICBpZiAoc3ViU3RyaW5nLmxlbmd0aCA8PSAwKSByZXR1cm4gMFxuXG4gIGxldCBuID0gMFxuICBsZXQgcG9zID0gMFxuICBsZXQgc3RlcCA9IHN1YlN0cmluZy5sZW5ndGhcblxuICB3aGlsZSAodHJ1ZSkge1xuICAgIHBvcyA9IHN0cmluZy5pbmRleE9mKHN1YlN0cmluZywgcG9zKVxuICAgIGlmIChwb3MgPj0gMCkge1xuICAgICAgbiArPSAxXG4gICAgICBwb3MgKz0gc3RlcFxuICAgIH0gZWxzZSB7XG4gICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuXG59XG4iLCJjb25zdCBFTUFJTCA9IC9eKChbXjw+KClbXFxdXFwuLDs6XFxzQFxcXCJdKyhcXC5bXjw+KClbXFxdXFwuLDs6XFxzQFxcXCJdKykqKXwoXFxcIi4rXFxcIikpQCgoW148PigpW1xcXVxcLiw7Olxcc0BcXFwiXStcXC4pK1tePD4oKVtcXF1cXC4sOzpcXHNAXFxcIl17Mix9KSQvaVxuY29uc3QgVVNFUk5BTUUgPSBuZXcgUmVnRXhwKFwiXlswLTlhLXpdKyRcIiwgXCJpXCIpXG5cbmV4cG9ydCBmdW5jdGlvbiByZXF1aXJlZChtZXNzYWdlKSB7XG4gIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PT0gZmFsc2UgfHwgdmFsdWUgPT09IG51bGwgfHwgJC50cmltKHZhbHVlKS5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBtZXNzYWdlIHx8IFwizpHPhc+Ez4wgz4TOvyDPgM61zrTOr86/IM61zq/Ovc6xzrkgzrHPgM6xz4HOsc6vz4TOt8+Ezr8hXCJcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlcXVpcmVkVGVybXNPZlNlcnZpY2UobWVzc2FnZSkge1xuICBjb25zdCBlcnJvciA9IFwizqDPgc6tz4DOtc65IM69zrEgzrHPgM6/zrTOtc+Hz4TOtc6vz4Igz4TOv8+Fz4Igz4zPgc6/z4XPgiDPh8+Bzq7Pg863z4IhXCJcbiAgcmV0dXJuIHJlcXVpcmVkKG1lc3NhZ2UgfHwgZXJyb3IpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXF1aXJlZFByaXZhY3lQb2xpY3kobWVzc2FnZSkge1xuICBjb25zdCBlcnJvciA9IFwizqDPgc6tz4DOtc65IM69zrEgzrHPgM6/zrTOtc+Hz4TOtc6vz4Igz4TOt869IM+Azr/Ou865z4TOuc66zq4gz4DPgc6/z4PPhM6xz4POr86xz4IgzrTOtc60zr/OvM6tzr3Pic69IVwiXG4gIHJldHVybiByZXF1aXJlZChtZXNzYWdlIHx8IGVycm9yKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZW1haWwobWVzc2FnZSkge1xuICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAoIUVNQUlMLnRlc3QodmFsdWUpKSB7XG4gICAgICByZXR1cm4gbWVzc2FnZSB8fCBcIs6SzqzOu861IM68zrnOsSDPg8+Jz4PPhM6uIM60zrnOtc+NzrjPhc69zrcgZW1haWwhXCJcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1pbkxlbmd0aChsaW1pdFZhbHVlLCBtZXNzYWdlKSB7XG4gIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHZhciByZXR1cm5NZXNzYWdlID0gXCJcIlxuICAgIHZhciBsZW5ndGggPSAkLnRyaW0odmFsdWUpLmxlbmd0aFxuXG4gICAgaWYgKGxlbmd0aCA8IGxpbWl0VmFsdWUpIHtcbiAgICAgIGlmIChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybk1lc3NhZ2UgPSBtZXNzYWdlKGxpbWl0VmFsdWUsIGxlbmd0aClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybk1lc3NhZ2UgPSBcIs6jzrnOs86/z4XPgc6tz4jOv8+FIM+Mz4TOuSDOrc+HzrXOuSDPhM6/z4XOu86sz4fOuc+Dz4TOv869ICUobGltaXRfdmFsdWUpcyDPh86xz4HOsc66z4TOrs+BzrXPgiAozq3Ph861zrkgJShzaG93X3ZhbHVlKXMpIVwiXG4gICAgICB9XG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICAgIHJldHVybk1lc3NhZ2UsXG4gICAgICAgIHtcbiAgICAgICAgICBsaW1pdF92YWx1ZTogbGltaXRWYWx1ZSxcbiAgICAgICAgICBzaG93X3ZhbHVlOiBsZW5ndGhcbiAgICAgICAgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbWF4TGVuZ3RoKGxpbWl0VmFsdWUsIG1lc3NhZ2UpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgdmFyIHJldHVybk1lc3NhZ2UgPSBcIlwiXG4gICAgdmFyIGxlbmd0aCA9ICQudHJpbSh2YWx1ZSkubGVuZ3RoXG5cbiAgICBpZiAobGVuZ3RoID4gbGltaXRWYWx1ZSkge1xuICAgICAgaWYgKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuTWVzc2FnZSA9IG1lc3NhZ2UobGltaXRWYWx1ZSwgbGVuZ3RoKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuTWVzc2FnZSA9IFwizqPOuc6zzr/Phc+Bzq3PiM6/z4Ugz4zPhM65IM6tz4fOtc65IM+Ezr8gz4DOv867z40gJShsaW1pdF92YWx1ZSlzIM+HzrHPgc6xzrrPhM6uz4HOtc+CICjOrc+HzrXOuSAlKHNob3dfdmFsdWUpcykhXCJcbiAgICAgIH1cbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgICAgcmV0dXJuTWVzc2FnZSxcbiAgICAgICAge1xuICAgICAgICAgIGxpbWl0X3ZhbHVlOiBsaW1pdFZhbHVlLFxuICAgICAgICAgIHNob3dfdmFsdWU6IGxlbmd0aFxuICAgICAgICB9LFxuICAgICAgICB0cnVlXG4gICAgICApXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VybmFtZU1pbkxlbmd0aChsZW5ndGhNaW4pIHtcbiAgdmFyIG1lc3NhZ2UgPSBmdW5jdGlvbihsZW5ndGhNaW4pIHtcbiAgICByZXR1cm4gXCLOpM6/IM+Mzr3Ov868zrEgz4fPgc6uz4PPhM63IM+Az4HOrc+AzrXOuSDOvc6xIM6tz4fOtc65IM+Ezr/Phc67zqzPh865z4PPhM6/zr0gJShsaW1pdF92YWx1ZSlzIM+HzrHPgc6xzrrPhM6uz4HOtc+CIVwiXG4gIH1cbiAgcmV0dXJuIG1pbkxlbmd0aChsZW5ndGhNaW4sIG1lc3NhZ2UpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VybmFtZU1heExlbmd0aChsZW5ndGhNYXgpIHtcbiAgdmFyIG1lc3NhZ2UgPSBmdW5jdGlvbihsZW5ndGhNYXgpIHtcbiAgICByZXR1cm4gXCLOpM6/IM+Mzr3Ov868zrEgz4fPgc6uz4PPhM63IM60zrXOvSDOvM+Azr/Pgc61zq8gzr3OsSDOtc6vzr3Osc65IM68zrXOs86xzrvPjc+EzrXPgc6/IM6xz4DPjCAlKGxpbWl0X3ZhbHVlKXMgz4fOsc+BzrHOus+Ezq7Pgc61z4IhXCJcbiAgfVxuICByZXR1cm4gbWF4TGVuZ3RoKGxlbmd0aE1heCwgbWVzc2FnZSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZXJuYW1lQ29udGVudCgpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYgKCFVU0VSTkFNRS50ZXN0KCQudHJpbSh2YWx1ZSkpKSB7XG4gICAgICByZXR1cm4gXCLOpM6/IM+Mzr3Ov868zrEgz4fPgc6uz4PPhM63IM+Az4HOrc+AzrXOuSDOvc6xIM+AzrXPgc65zq3Ph861zrkgzrzPjM69zr8gzrvOsc+EzrnOvc65zrrOv8+Nz4Igz4fOsc+BzrHOus+Ezq7Pgc61z4IgzrrOsc65IM69zr/Pjc68zrXPgc6xIVwiXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXNzd29yZE1pbkxlbmd0aChsaW1pdFZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGNvbnN0IGxlbmd0aCA9IHZhbHVlLmxlbmd0aFxuXG4gICAgaWYgKGxlbmd0aCA8IGxpbWl0VmFsdWUpIHtcbiAgICAgIGNvbnN0IHJldHVybk1lc3NhZ2UgPSBcIs6fIM66z4nOtM65zrrPjM+CIM+Az4HPjM+DzrLOsc+DzrfPgiDPgM+Bzq3PgM61zrkgzr3OsSDOrc+HzrXOuSDPhM6/z4XOu86sz4fOuc+Dz4TOv869ICUobGltaXRfdmFsdWUpcyDPh86xz4HOsc66z4TOrs+BzrXPgiFcIlxuXG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICAgIHJldHVybk1lc3NhZ2UsXG4gICAgICAgIHtcbiAgICAgICAgICBsaW1pdF92YWx1ZTogbGltaXRWYWx1ZSxcbiAgICAgICAgICBzaG93X3ZhbHVlOiBsZW5ndGhcbiAgICAgICAgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKVxuICAgIH1cbiAgfVxufVxuIl19
=======
!function e(t,a,n){function r(l,s){if(!a[l]){if(!t[l]){var i="function"==typeof require&&require;if(!s&&i)return i(l,!0);if(o)return o(l,!0);var u=new Error("Cannot find module '"+l+"'");throw u.code="MODULE_NOT_FOUND",u}var c=a[l]={exports:{}};t[l][0].call(c.exports,function(e){var a=t[l][1][e];return r(a?a:e)},c,c.exports,e,t,a,n)}return a[l].exports}for(var o="function"==typeof require&&require,l=0;l<n.length;l++)r(n[l]);return r}({1:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0});var r=e("react"),o=n(r),l=e(".."),s=n(l),i=e("../utils/escape-html"),u=n(i),c='<a href="%(url)s" target="_blank">%(agreement)s</a>',d=function(e){var t=e.errors,a=e.privacyPolicy,n=e.termsOfService,r=e.onPrivacyPolicyChange,l=e.onTermsOfServiceChange,i=s["default"].get("TERMS_OF_SERVICE_ID"),u=s["default"].get("TERMS_OF_SERVICE_URL"),c=s["default"].get("PRIVACY_POLICY_ID"),d=s["default"].get("PRIVACY_POLICY_URL");return i||c?o["default"].createElement("div",null,o["default"].createElement(f,{agreement:gettext("the terms of service"),checked:null!==n,errors:t.termsOfService,url:u,value:i,onChange:l}),o["default"].createElement(f,{agreement:gettext("the privacy policy"),checked:null!==a,errors:t.privacyPolicy,url:d,value:c,onChange:r})):null},f=function(e){var t=e.agreement,a=e.checked,n=e.errors,r=e.url,l=e.value,s=e.onChange;if(!r)return null;var i=interpolate(c,{agreement:(0,u["default"])(t),url:(0,u["default"])(r)},!0),d=interpolate(gettext("I have read and accept %(agreement)s."),{agreement:i},!0);return o["default"].createElement("div",{className:"checkbox legal-footnote"},o["default"].createElement("label",null,o["default"].createElement("input",{checked:a,type:"checkbox",value:l,onChange:s}),o["default"].createElement("span",{dangerouslySetInnerHTML:{__html:d}})),n&&n.map(function(e,t){return o["default"].createElement("div",{className:"help-block errors",key:t},e)}))};a["default"]=d},{"..":302,"../utils/escape-html":383,react:"react"}],2:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0});var r=e("react"),o=n(r),l=e(".."),s=n(l),i=function(e){var t=e.buttonClassName,a=e.buttonLabel,n=e.formLabel,r=e.header,l=e.labelClassName,i=s["default"].get("SOCIAL_AUTH");return 0===i.length?null:o["default"].createElement("div",{className:"form-group form-social-auth"},o["default"].createElement(u,{className:l,text:r}),o["default"].createElement("div",{className:"row"},i.map(function(e){var n=e.id,r=e.name,l=e.button_text,s=e.button_color,i=e.url,u="btn btn-block btn-default btn-social-"+n,c=s?{color:s}:null,d=l||interpolate(a,{site:r},!0);return o["default"].createElement("div",{className:t||"col-xs-12",key:n},o["default"].createElement("a",{className:u,style:c,href:i},d))})),o["default"].createElement("hr",null),o["default"].createElement(u,{className:l,text:n}))},u=function(e){var t=e.className,a=e.text;return a?o["default"].createElement("h5",{className:t||""},a):null};a["default"]=i},{"..":302,react:"react"}],3:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=e("../services/ajax"),d=n(c),f=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleDecline=function(){if(!a.state.submiting){var e=confirm(gettext("Declining will result in immediate deactivation and deletion of your account. This action is not reversible."));e&&(a.setState({submiting:!0}),d["default"].post(a.props.api,{accept:!1}).then(function(){location.reload(!0)}))}},a.handleAccept=function(){a.state.submiting||(a.setState({submiting:!0}),d["default"].post(a.props.api,{accept:!0}).then(function(){location.reload(!0)}))},a.state={submiting:!1},a}return l(t,e),s(t,[{key:"render",value:function(){return u["default"].createElement("div",null,u["default"].createElement("button",{className:"btn btn-default",disabled:this.state.submiting,type:"buton",onClick:this.handleDecline},gettext("Decline")),u["default"].createElement("button",{className:"btn btn-primary",disabled:this.state.submiting,type:"buton",onClick:this.handleAccept},gettext("Accept and continue")))}}]),t}(u["default"].Component);a["default"]=f},{"../services/ajax":365,react:"react"}],4:[function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return d["default"].createElement("div",{className:"modal-header"},d["default"].createElement("button",{"aria-label":gettext("Close"),className:"close","data-dismiss":"modal",type:"button"},d["default"].createElement("span",{"aria-hidden":"true"},"×")),d["default"].createElement("h4",{className:"modal-title"},gettext("Add participant")))}Object.defineProperty(a,"__esModule",{value:!0});var u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a.ModalHeader=i;var c=e("react"),d=r(c),f=e("./form"),p=r(f),m=e("./form-group"),h=r(m),b=e("../reducers/participants"),v=n(b),_=e("../reducers/thread"),g=e("../services/ajax"),y=r(g),E=e("../services/modal"),w=r(E),O=e("../services/snackbar"),k=r(O),N=e("../services/store"),x=r(N),P=function(e){function t(e){o(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onUsernameChange=function(e){a.changeValue("username",e.target.value)},a.state={isLoading:!1,username:""},a}return s(t,e),u(t,[{key:"clean",value:function(){return!!this.state.username.trim().length||(k["default"].error(gettext("You have to enter user name.")),!1)}},{key:"send",value:function(){return y["default"].patch(this.props.thread.api.index,[{op:"add",path:"participants",value:this.state.username},{op:"add",path:"acl",value:1}])}},{key:"handleSuccess",value:function(e){x["default"].dispatch((0,_.updateAcl)(e)),x["default"].dispatch(v.replace(e.participants)),k["default"].success(gettext("New participant has been added to thread.")),w["default"].hide()}},{key:"render",value:function(){return d["default"].createElement("div",{className:"modal-dialog modal-sm",role:"document"},d["default"].createElement("form",{onSubmit:this.handleSubmit},d["default"].createElement("div",{className:"modal-content"},d["default"].createElement(i,null),d["default"].createElement("div",{className:"modal-body"},d["default"].createElement(h["default"],{"for":"id_username",label:gettext("User to add")},d["default"].createElement("input",{id:"id_username",className:"form-control",disabled:this.state.isLoading,onChange:this.onUsernameChange,type:"text",value:this.state.username}))),d["default"].createElement("div",{className:"modal-footer"},d["default"].createElement("button",{className:"btn btn-block btn-primary",disabled:this.state.isLoading},gettext("Add participant")),d["default"].createElement("button",{className:"btn btn-block btn-default","data-dismiss":"modal",disabled:this.state.isLoading,type:"button"},gettext("Cancel"))))))}}]),t}(p["default"]);a["default"]=P},{"../reducers/participants":351,"../reducers/thread":360,"../services/ajax":365,"../services/modal":371,"../services/snackbar":376,"../services/store":377,"./form":56,"./form-group":55,react:"react"}],5:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{user:e.auth.user,signedIn:e.auth.signedIn,signedOut:e.auth.signedOut}}Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a.select=s;var u=e("react"),c=n(u),d=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:"refresh",value:function(){window.location.reload()}},{key:"getMessage",value:function(){return this.props.signedIn?interpolate(gettext("You have signed in as %(username)s. Please refresh the page before continuing."),{username:this.props.signedIn.username},!0):this.props.signedOut?interpolate(gettext("%(username)s, you have been signed out. Please refresh the page before continuing."),{username:this.props.user.username},!0):void 0}},{key:"render",value:function(){var e="auth-message";return(this.props.signedIn||this.props.signedOut)&&(e+=" show"),c["default"].createElement("div",{className:e},c["default"].createElement("div",{className:"container"},c["default"].createElement("p",{className:"lead"},this.getMessage()),c["default"].createElement("p",null,c["default"].createElement("button",{className:"btn btn-default",type:"button",onClick:this.refresh},gettext("Reload page")),c["default"].createElement("span",{className:"hidden-xs hidden-sm"}," "+gettext("or press F5 key.")))))}}]),t}(c["default"].Component);a["default"]=d},{react:"react"}],6:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){return e&&e.id?o(e.avatars,t).url:u["default"].get("BLANK_AVATAR_URL")}function o(e,t){var a=e[0];return e.forEach(function(e){e.size>=t&&(a=e)}),a}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.size||100,a=e.size2x||t;return s["default"].createElement("img",{alt:"",className:e.className||"user-avatar",src:r(e.user,t),srcSet:r(e.user,a),width:t,height:t})},a.getSrc=r,a.resolveAvatarForSize=o;var l=e("react"),s=n(l),i=e(".."),u=n(i)},{"..":302,react:"react"}],7:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("moment"),u=n(i),c=e("react"),d=n(c),f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"getReasonMessage",value:function(){return this.props.message.html?d["default"].createElement("div",{className:"lead",dangerouslySetInnerHTML:{__html:this.props.message.html}}):d["default"].createElement("p",{className:"lead"},this.props.message.plain)}},{key:"getExpirationMessage",value:function(){if(this.props.expires){if(this.props.expires.isAfter((0,u["default"])())){var e=interpolate(gettext("This ban expires on %(expires_on)s."),{expires_on:this.props.expires.format("LL, LT")},!0),t=interpolate(gettext("This ban expires %(expires_on)s."),{expires_on:this.props.expires.fromNow()},!0);return d["default"].createElement("abbr",{title:e},t)}return gettext("This ban has expired.")}return gettext("This ban is permanent.")}},{key:"render",value:function(){return d["default"].createElement("div",{className:"page page-error page-error-banned"},d["default"].createElement("div",{className:"container"},d["default"].createElement("div",{className:"message-panel"},d["default"].createElement("div",{className:"message-icon"},d["default"].createElement("span",{className:"material-icon"},"highlight_off")),d["default"].createElement("div",{className:"message-body"},this.getReasonMessage(),d["default"].createElement("p",{className:"message-footnote"},this.getExpirationMessage())))))}}]),t}(d["default"].Component);a["default"]=f},{moment:"moment",react:"react"}],8:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=e("./loader"),d=n(c),f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"render",value:function(){var e="btn "+this.props.className,t=this.props.disabled;return this.props.loading&&(e+=" btn-loading",t=!0),u["default"].createElement("button",{className:e,disabled:t,onClick:this.props.onClick,type:this.props.onClick?"button":"submit"},this.props.children,this.props.loading?u["default"].createElement(d["default"],null):null)}}]),t}(u["default"].Component);a["default"]=f,f.defaultProps={className:"btn-default",type:"submit",loading:!1,disabled:!1,onClick:null}},{"./loader":58,react:"react"}],9:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){return o["default"].createElement("div",{className:"categories-list"},o["default"].createElement("ul",{className:"list-group"},o["default"].createElement("li",{className:"list-group-item empty-message"},o["default"].createElement("p",{className:"lead"},gettext("No categories exist or you don't have permission to see them.")))))};var r=e("react"),o=n(r)},{react:"react"}],10:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.categories;return o["default"].createElement("div",{className:"categories-list"},t.map(function(e){return o["default"].createElement(s["default"],{category:e,key:e.id})}))};var r=e("react"),o=n(r),l=e("./category"),s=n(l)},{"./category":11,react:"react"}],11:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.category,a="list-group list-group-category";return t.css_class&&(a+=" list-group-category-has-flavor",a+=" list-group-category-"+t.css_class),o["default"].createElement("ul",{className:a},o["default"].createElement(s["default"],{category:t,isFirst:!0}),t.subcategories.map(function(e){return o["default"].createElement(s["default"],{category:e,isFirst:!1,key:e.id})}))};var r=e("react"),o=n(r),l=e("./list-item"),s=n(l)},{"./list-item":14,react:"react"}],12:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.category;return t.description?o["default"].createElement("div",{className:"category-description",dangerouslySetInnerHTML:{__html:t.description.html}}):null};var r=e("react"),o=n(r)},{react:"react"}],13:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){return e.is_read?"read-status item-read":"read-status item-new"}function o(e){return e.is_closed?e.is_read?gettext("This category has no new posts. (closed)"):gettext("This category has new posts. (closed)"):e.is_read?gettext("This category has no new posts."):gettext("This category has new posts.")}function l(e){return e.is_closed?e.is_read?"lock_outline":"lock":e.is_read?"chat_bubble_outline":"chat_bubble"}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.category;return i["default"].createElement("div",{className:r(t),title:o(t)},i["default"].createElement("span",{className:"material-icon"},l(t)))},a.getClassName=r,a.getTitle=o,a.getIcon=l;var s=e("react"),i=n(s)},{react:"react"}],14:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.category,a=e.isFirst,n="list-group-item";return n+=t.description?" list-group-category-has-description":" list-group-category-no-description",a&&(n+=" list-group-item-first"),t.css_class&&(n+=" list-group-category-has-flavor",n+=" list-group-item-category-"+t.css_class),o["default"].createElement("li",{className:n},o["default"].createElement("div",{className:"row"},o["default"].createElement(s["default"],{category:t}),o["default"].createElement(d["default"],{category:t}),o["default"].createElement(u["default"],{category:t})),o["default"].createElement(p["default"],{category:t,isFirst:a}))};var r=e("react"),o=n(r),l=e("./main"),s=n(l),i=e("./last-thread"),u=n(i),c=e("./stats"),d=n(c),f=e("./subcategories"),p=n(f)},{"./last-thread":15,"./main":16,"./stats":17,"./subcategories":18,react:"react"}],15:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){var t=e.category;return t.acl.can_browse&&t.acl.can_see_all_threads&&t.last_thread_title?f["default"].createElement("div",{className:"media"},f["default"].createElement("div",{className:"media-left hidden-xs"},f["default"].createElement(o,{category:t})),f["default"].createElement("div",{className:"media-body"},f["default"].createElement("div",{className:"media-heading"},f["default"].createElement("a",{className:"item-title thread-title",href:t.url.last_thread_new,title:t.last_thread_title},t.last_thread_title)),f["default"].createElement("ul",{className:"list-inline"},f["default"].createElement("li",{className:"category-last-thread-poster"},f["default"].createElement(l,{category:t})),f["default"].createElement("li",{className:"divider"},"—"),f["default"].createElement("li",{className:"category-last-thread-date"},f["default"].createElement("a",{href:t.url.last_post},t.last_post_on.fromNow()))))):null}function o(e){var t=e.category;return t.last_poster?f["default"].createElement("a",{className:"last-poster-avatar",href:t.last_poster.url,title:t.last_poster_name},f["default"].createElement(m["default"],{className:"media-object",size:40,user:t.last_poster})):f["default"].createElement("span",{className:"last-poster-avatar",title:t.last_poster_name},f["default"].createElement(m["default"],{className:"media-object",size:40}))}function l(e){var t=e.category;return t.last_poster?f["default"].createElement("a",{className:"item-title",href:t.last_poster.url},t.last_poster_name):f["default"].createElement("span",{className:"item-title"},t.last_poster_name)}function s(e){var t=e.category;return t.acl.can_browse&&t.acl.can_see_all_threads?t.last_thread_title?null:f["default"].createElement(c,{message:gettext("This category is empty. No threads were posted within it so far.")}):null}function i(e){var t=e.category;return t.acl.can_browse?t.acl.can_see_all_threads?null:f["default"].createElement(c,{message:gettext("This category is private. You can see only your own threads within it.")}):null}function u(e){var t=e.category;return t.acl.can_browse?null:f["default"].createElement(c,{message:gettext("This category is protected. You can't browse it's contents.")})}function c(e){var t=e.message;return f["default"].createElement("div",{className:"media category-thread-message"},f["default"].createElement("div",{className:"media-left"},f["default"].createElement("span",{className:"material-icon"},"info_outline")),f["default"].createElement("div",{className:"media-body"},f["default"].createElement("p",null,t)))}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.category;return f["default"].createElement("div",{className:"col-xs-12 col-sm-6 col-md-4 category-last-thread"},f["default"].createElement(r,{category:t}),f["default"].createElement(s,{category:t}),f["default"].createElement(i,{category:t}),f["default"].createElement(u,{category:t}))},a.LastThread=r,a.LastPosterAvatar=o,a.LastPosterName=l,a.Empty=s,a.Private=i,a.Protected=u,a.Message=c;var d=e("react"),f=n(d),p=e("../../../avatar"),m=n(p)},{"../../../avatar":6,react:"react"}],16:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.category;return o["default"].createElement("div",{className:"col-xs-12 col-sm-6 col-md-6 category-main"},o["default"].createElement("div",{className:"media"},o["default"].createElement("div",{className:"media-left"},o["default"].createElement(u["default"],{category:t})),o["default"].createElement("div",{className:"media-body"},o["default"].createElement("h4",{className:"media-heading"},o["default"].createElement("a",{href:t.url.index},t.name)),o["default"].createElement(s["default"],{category:t}))))};var r=e("react"),o=n(r),l=e("./description"),s=n(l),i=e("./icon"),u=n(i)},{"./description":12,"./icon":13,react:"react"}],17:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){var t=e.threads,a=ngettext("%(threads)s thread","%(threads)s threads",t);return s["default"].createElement("li",{className:"category-stat-threads"},interpolate(a,{threads:t},!0))}function o(e){var t=e.posts,a=ngettext("%(posts)s post","%(posts)s posts",t);return s["default"].createElement("li",{className:"category-stat-posts"},interpolate(a,{posts:t},!0))}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.category;return s["default"].createElement("div",{className:"col-md-2 hidden-xs hidden-sm"},s["default"].createElement("ul",{className:"list-unstyled category-stats"},s["default"].createElement(r,{threads:t.threads}),s["default"].createElement(o,{posts:t.posts})))},a.Threads=r,a.Posts=o;var l=e("react"),s=n(l),i=e("../../../avatar");n(i)},{"../../../avatar":6,react:"react"}],18:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.category,a=e.isFirst;return a?null:0===t.subcategories.length?null:o["default"].createElement("div",{className:"row subcategories-list"},t.subcategories.map(function(e){return o["default"].createElement(s["default"],{category:e,key:e.id})}))};var r=e("react"),o=n(r),l=e("./list-item"),s=n(l)},{"./list-item":19,react:"react"}],19:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){return e.is_closed?e.is_read?"lock_outline":"lock":e.is_read?"chat_bubble_outline":"chat_bubble"}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.category,a="btn btn-default btn-block btn-sm btn-subcategory";return t.is_read||(a+=" btn-subcategory-new"),l["default"].createElement("div",{className:"col-xs-12 col-sm-4 col-md-3"},l["default"].createElement("a",{className:a,href:t.url.index},l["default"].createElement("span",{className:"material-icon"},r(t)),l["default"].createElement("span",{className:"icon-text"},t.name)))},a.getIcon=r;var o=e("react"),l=n(o)},{react:"react"}],20:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{tick:e.tick.tick}}Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a.select=s;var u=e("moment"),c=n(u),d=e("react"),f=n(d),p=e("./blankslate"),m=n(p),h=e("./categories-list"),b=n(h),v=e("../../index"),_=n(v),g=e("../../services/polls"),y=n(g),E=function O(e){return Object.assign({},e,{last_post_on:e.last_post_on?(0,c["default"])(e.last_post_on):null,subcategories:e.subcategories.map(O)})},w=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.update=function(e){a.setState({categories:e.map(E)})},a.state={categories:_["default"].get("CATEGORIES").map(E)},a.startPolling(_["default"].get("CATEGORIES_API")),a}return l(t,e),i(t,[{key:"startPolling",value:function(e){y["default"].start({poll:"categories",url:e,frequency:18e4,update:this.update})}},{key:"render",value:function(){var e=this.state.categories;return 0===e.length?f["default"].createElement(m["default"],null):f["default"].createElement(b["default"],{categories:e})}}]),t}(f["default"].Component);a["default"]=w},{"../../index":302,"../../services/polls":374,"./blankslate":9,"./categories-list":10,moment:"moment",react:"react"}],21:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){return o["default"].createElement("select",{className:e.className||"form-control",disabled:e.disabled||!1,id:e.id||null,onChange:e.onChange,value:e.value},e.choices.map(function(e){return o["default"].createElement("option",{disabled:e.disabled||!1,key:e.value,value:e.value},"- - ".repeat(e.level)+e.label)}))};var r=e("react"),o=n(r)},{react:"react"}],22:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=e("../avatar"),d=(n(c),e("../button")),f=n(d),p=e("../../services/ajax"),m=n(p),h=e("../../services/snackbar"),b=n(h),v=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.cropAvatar=function(){if(a.state.isLoading)return!1;a.setState({isLoading:!0});var e=a.props.upload?"crop_tmp":"crop_src",t=$(".crop-form"),n=t.cropit("exportZoom"),r=t.cropit("offset");m["default"].post(a.props.user.api.avatar,{avatar:e,crop:{offset:{x:r.x*n,y:r.y*n},zoom:t.cropit("zoom")*n}}).then(function(e){a.props.onComplete(e),b["default"].success(e.detail)},function(e){400===e.status?(b["default"].error(e.detail),a.setState({isLoading:!1})):a.props.showError(e)})},a.state={isLoading:!1,deviceRatio:1},a}return l(t,e),s(t,[{key:"getAvatarSize",value:function(){return this.props.upload?this.props.options.crop_tmp.size:this.props.options.crop_src.size}},{key:"getImagePath",value:function(){return this.props.upload?this.props.dataUrl:this.props.options.crop_src.url}},{key:"componentDidMount",value:function(){for(var e=this,t=$(".crop-form"),a=this.getAvatarSize(),n=t.width();n<a;)a/=2;var r=this.getAvatarSize()/a;t.width(a),t.cropit({width:a,height:a,exportZoom:r,imageState:{src:this.getImagePath()},onImageLoaded:function(){if(e.props.upload){var a=t.cropit("zoom"),n=t.cropit("imageSize");if(n.width>n.height){var r=n.width*a,o=(r-e.getAvatarSize())/-2;t.cropit("offset",{x:o,y:0})}else if(n.width<n.height){var l=n.height*a,s=(l-e.getAvatarSize())/-2;t.cropit("offset",{x:0,y:s})}else t.cropit("offset",{x:0,y:0})}else{var i=e.props.options.crop_src.crop;i&&(t.cropit("zoom",i.zoom),t.cropit("offset",{x:i.x,y:i.y}))}}})}},{key:"componentWillUnmount",value:function(){$(".crop-form").cropit("disable")}},{key:"render",value:function(){return u["default"].createElement("div",null,u["default"].createElement("div",{className:"modal-body modal-avatar-crop"},u["default"].createElement("div",{className:"crop-form"},u["default"].createElement("div",{className:"cropit-preview"}),u["default"].createElement("input",{type:"range",className:"cropit-image-zoom-input"}))),u["default"].createElement("div",{className:"modal-footer"},u["default"].createElement("div",{className:"col-md-6 col-md-offset-3"},u["default"].createElement(f["default"],{onClick:this.cropAvatar,loading:this.state.isLoading,className:"btn-primary btn-block"},this.props.upload?gettext("Set avatar"):gettext("Crop image")),u["default"].createElement(f["default"],{onClick:this.props.showIndex,disabled:this.state.isLoading,className:"btn-default btn-block"
},gettext("Cancel")))))}}]),t}(u["default"].Component);a["default"]=v},{"../../services/ajax":365,"../../services/snackbar":376,"../avatar":6,"../button":8,react:"react"}],23:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0}),a.Gallery=a.GalleryItem=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=e("react"),c=n(u),d=e("../avatar"),f=(n(d),e("../button")),p=n(f),m=e("../../index"),h=(n(m),e("../../services/ajax")),b=n(h),v=e("../../services/snackbar"),_=n(v),g=e("../../utils/batch"),y=n(g),E=a.GalleryItem=function(e){function t(){var e,a,n,l;r(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.select=function(){n.props.select(n.props.id)},l=a,o(n,l)}return l(t,e),i(t,[{key:"getClassName",value:function(){return this.props.selection===this.props.id?this.props.disabled?"btn btn-avatar btn-disabled avatar-selected":"btn btn-avatar avatar-selected":this.props.disabled?"btn btn-avatar btn-disabled":"btn btn-avatar"}},{key:"render",value:function(){return c["default"].createElement("button",{type:"button",className:this.getClassName(),disabled:this.props.disabled,onClick:this.select},c["default"].createElement("img",{src:this.props.url}))}}]),t}(c["default"].Component),w=a.Gallery=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:"render",value:function(){var e=this;return c["default"].createElement("div",{className:"avatars-gallery"},c["default"].createElement("h3",null,this.props.name),c["default"].createElement("div",{className:"avatars-gallery-images"},(0,y["default"])(this.props.images,4,null).map(function(t,a){return c["default"].createElement("div",{className:"row",key:a},t.map(function(t,a){return c["default"].createElement("div",{className:"col-xs-3",key:a},t?c["default"].createElement(E,s({disabled:e.props.disabled,select:e.props.select,selection:e.props.selection},t)):c["default"].createElement("div",{className:"blank-avatar"}))}))})))}}]),t}(c["default"].Component),O=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.select=function(e){a.setState({selection:e})},a.save=function(){return!a.state.isLoading&&(a.setState({isLoading:!0}),void b["default"].post(a.props.user.api.avatar,{avatar:"galleries",image:a.state.selection}).then(function(e){a.setState({isLoading:!1}),_["default"].success(e.detail),a.props.onComplete(e),a.props.showIndex()},function(e){400===e.status?(_["default"].error(e.detail),a.setState({isLoading:!1})):a.props.showError(e)}))},a.state={selection:null,isLoading:!1},a}return l(t,e),i(t,[{key:"render",value:function(){var e=this;return c["default"].createElement("div",null,c["default"].createElement("div",{className:"modal-body modal-avatar-gallery"},this.props.options.galleries.map(function(t,a){return c["default"].createElement(w,{name:t.name,images:t.images,selection:e.state.selection,disabled:e.state.isLoading,select:e.select,key:a})})),c["default"].createElement("div",{className:"modal-footer"},c["default"].createElement("div",{className:"row"},c["default"].createElement("div",{className:"col-md-6 col-md-offset-3"},c["default"].createElement(p["default"],{onClick:this.save,loading:this.state.isLoading,disabled:!this.state.selection,className:"btn-primary btn-block"},this.state.selection?gettext("Save choice"):gettext("Select avatar")),c["default"].createElement(p["default"],{onClick:this.props.showIndex,disabled:this.state.isLoading,className:"btn-default btn-block"},gettext("Cancel"))))))}}]),t}(c["default"].Component);a["default"]=O},{"../../index":302,"../../services/ajax":365,"../../services/snackbar":376,"../../utils/batch":380,"../avatar":6,"../button":8,react:"react"}],24:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=e("../avatar"),d=n(c),f=e("../button"),p=n(f),m=e("../loader"),h=n(m),b=e("../../services/ajax"),v=n(b),_=e("../../services/snackbar"),g=n(_),y=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.setGravatar=function(){a.callApi("gravatar")},a.setGenerated=function(){a.callApi("generated")},a.state={isLoading:!1},a}return l(t,e),s(t,[{key:"callApi",value:function(e){var t=this;return!this.state.isLoading&&(this.setState({isLoading:!0}),void v["default"].post(this.props.user.api.avatar,{avatar:e}).then(function(e){t.setState({isLoading:!1}),g["default"].success(e.detail),t.props.onComplete(e)},function(e){400===e.status?(g["default"].error(e.detail),t.setState({isLoading:!1})):t.props.showError(e)}))}},{key:"getGravatarButton",value:function(){return this.props.options.gravatar?u["default"].createElement(p["default"],{onClick:this.setGravatar,disabled:this.state.isLoading,className:"btn-default btn-block btn-avatar-gravatar"},gettext("Download my Gravatar")):null}},{key:"getCropButton",value:function(){return this.props.options.crop_src?u["default"].createElement(p["default"],{className:"btn-default btn-block btn-avatar-crop",disabled:this.state.isLoading,onClick:this.props.showCrop},gettext("Re-crop uploaded image")):null}},{key:"getUploadButton",value:function(){return this.props.options.upload?u["default"].createElement(p["default"],{className:"btn-default btn-block btn-avatar-upload",disabled:this.state.isLoading,onClick:this.props.showUpload},gettext("Upload new image")):null}},{key:"getGalleryButton",value:function(){return this.props.options.galleries?u["default"].createElement(p["default"],{className:"btn-default btn-block btn-avatar-gallery",disabled:this.state.isLoading,onClick:this.props.showGallery},gettext("Pick avatar from gallery")):null}},{key:"getAvatarPreview",value:function(){var e={id:this.props.user.id,avatars:this.props.options.avatars};return this.state.isLoading?u["default"].createElement("div",{className:"avatar-preview preview-loading"},u["default"].createElement(d["default"],{size:"200",user:e}),u["default"].createElement(h["default"],null)):u["default"].createElement("div",{className:"avatar-preview"},u["default"].createElement(d["default"],{size:"200",user:e}))}},{key:"render",value:function(){return u["default"].createElement("div",{className:"modal-body modal-avatar-index"},u["default"].createElement("div",{className:"row"},u["default"].createElement("div",{className:"col-md-5"},this.getAvatarPreview()),u["default"].createElement("div",{className:"col-md-7"},this.getGravatarButton(),u["default"].createElement(p["default"],{onClick:this.setGenerated,disabled:this.state.isLoading,className:"btn-default btn-block btn-avatar-generate"},gettext("Generate my individual avatar")),this.getCropButton(),this.getUploadButton(),this.getGalleryButton())))}}]),t}(u["default"].Component);a["default"]=y},{"../../services/ajax":365,"../../services/snackbar":376,"../avatar":6,"../button":8,"../loader":58,react:"react"}],25:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{user:e.auth.user}}Object.defineProperty(a,"__esModule",{value:!0}),a.ChangeAvatarError=void 0;var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a.select=s;var u=e("react"),c=n(u),d=e("./index"),f=n(d),p=e("./crop"),m=n(p),h=e("./upload"),b=n(h),v=e("./gallery"),_=n(v),g=e("../modal-loader"),y=n(g),E=e("../../reducers/users"),w=e("../../services/ajax"),O=n(w),k=e("../../services/store"),N=n(k),x=a.ChangeAvatarError=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:"getErrorReason",value:function(){return this.props.reason?c["default"].createElement("p",{dangerouslySetInnerHTML:{__html:this.props.reason}}):null}},{key:"render",value:function(){return c["default"].createElement("div",{className:"modal-body"},c["default"].createElement("div",{className:"message-icon"},c["default"].createElement("span",{className:"material-icon"},"remove_circle_outline")),c["default"].createElement("div",{className:"message-body"},c["default"].createElement("p",{className:"lead"},this.props.message),this.getErrorReason(),c["default"].createElement("button",{className:"btn btn-default","data-dismiss":"modal",type:"button"},gettext("Ok"))))}}]),t}(c["default"].Component),P=function(e){function t(){var e,a,n,l;r(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.showError=function(e){n.setState({error:e})},n.showIndex=function(){n.setState({component:f["default"]})},n.showUpload=function(){n.setState({component:b["default"]})},n.showCrop=function(){n.setState({component:m["default"]})},n.showGallery=function(){n.setState({component:_["default"]})},n.completeFlow=function(e){N["default"].dispatch((0,E.updateAvatar)(n.props.user,e.avatars)),n.setState({component:f["default"],options:e})},l=a,o(n,l)}return l(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this;O["default"].get(this.props.user.api.avatar).then(function(t){e.setState({component:f["default"],options:t,error:null})},function(t){e.showError(t)})}},{key:"getBody",value:function(){return this.state?this.state.error?c["default"].createElement(x,{message:this.state.error.detail,reason:this.state.error.reason}):c["default"].createElement(this.state.component,{options:this.state.options,user:this.props.user,onComplete:this.completeFlow,showError:this.showError,showIndex:this.showIndex,showCrop:this.showCrop,showUpload:this.showUpload,showGallery:this.showGallery}):c["default"].createElement(y["default"],null)}},{key:"getClassName",value:function(){return this.state&&this.state.error?"modal-dialog modal-message modal-change-avatar":"modal-dialog modal-change-avatar"}},{key:"render",value:function(){return c["default"].createElement("div",{className:this.getClassName(),role:"document"},c["default"].createElement("div",{className:"modal-content"},c["default"].createElement("div",{className:"modal-header"},c["default"].createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":gettext("Close")},c["default"].createElement("span",{"aria-hidden":"true"},"×")),c["default"].createElement("h4",{className:"modal-title"},gettext("Change your avatar"))),this.getBody()))}}]),t}(c["default"].Component);a["default"]=P},{"../../reducers/users":364,"../../services/ajax":365,"../../services/store":377,"../modal-loader":61,"./crop":22,"./gallery":23,"./index":24,"./upload":26,react:"react"}],26:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=e("./crop"),d=n(c),f=e("../button"),p=n(f),m=e("../../services/ajax"),h=n(m),b=e("../../services/snackbar"),v=n(b),_=e("../../utils/file-size"),g=n(_),y=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.pickFile=function(){document.getElementById("avatar-hidden-upload").click()},a.uploadFile=function(){var e=document.getElementById("avatar-hidden-upload").files[0];if(e){var t=a.validateFile(e);if(t)return void v["default"].error(t);a.setState({image:e,preview:URL.createObjectURL(e),progress:0});var n=new FormData;n.append("avatar","upload"),n.append("image",e),h["default"].upload(a.props.user.api.avatar,n,function(e){a.setState({progress:e})}).then(function(e){a.setState({options:e,uploaded:e.detail}),v["default"].info(gettext("Your image has been uploaded and you may now crop it."))},function(e){400===e.status||413===e.status?(v["default"].error(e.detail),a.setState({isLoading:!1,image:null,progress:0})):a.props.showError(e)})}},a.state={image:null,preview:null,progress:0,uploaded:null,dataUrl:null},a}return l(t,e),s(t,[{key:"validateFile",value:function(e){if(e.size>this.props.options.upload.limit)return interpolate(gettext("Selected file is too big. (%(filesize)s)"),{filesize:(0,g["default"])(e.size)},!0);var t=gettext("Selected file type is not supported.");if(this.props.options.upload.allowed_mime_types.indexOf(e.type)===-1)return t;var a=!1,n=e.name.toLowerCase();return this.props.options.upload.allowed_extensions.map(function(e){n.substr(e.length*-1)===e&&(a=!0)}),!a&&t}},{key:"getUploadRequirements",value:function(e){var t=e.allowed_extensions.map(function(e){return e.substr(1)});return interpolate(gettext("%(files)s files smaller than %(limit)s"),{files:t.join(", "),limit:(0,g["default"])(e.limit)},!0)}},{key:"getUploadButton",value:function(){return u["default"].createElement("div",{className:"modal-body modal-avatar-upload"},u["default"].createElement(p["default"],{className:"btn-pick-file",onClick:this.pickFile},u["default"].createElement("div",{className:"material-icon"},"input"),gettext("Select file")),u["default"].createElement("p",{className:"text-muted"},this.getUploadRequirements(this.props.options.upload)))}},{key:"getUploadProgressLabel",value:function(){return interpolate(gettext("%(progress)s % complete"),{progress:this.state.progress},!0)}},{key:"getUploadProgress",value:function(){return u["default"].createElement("div",{className:"modal-body modal-avatar-upload"},u["default"].createElement("div",{className:"upload-progress"},u["default"].createElement("img",{src:this.state.preview}),u["default"].createElement("div",{className:"progress"},u["default"].createElement("div",{className:"progress-bar",role:"progressbar","aria-valuenow":"{this.state.progress}","aria-valuemin":"0","aria-valuemax":"100",style:{width:this.state.progress+"%"}},u["default"].createElement("span",{className:"sr-only"},this.getUploadProgressLabel())))))}},{key:"renderUpload",value:function(){return u["default"].createElement("div",null,u["default"].createElement("input",{type:"file",id:"avatar-hidden-upload",className:"hidden-file-upload",onChange:this.uploadFile}),this.state.image?this.getUploadProgress():this.getUploadButton(),u["default"].createElement("div",{className:"modal-footer"},u["default"].createElement("div",{className:"col-md-6 col-md-offset-3"},u["default"].createElement(p["default"],{onClick:this.props.showIndex,disabled:!!this.state.image,className:"btn-default btn-block"},gettext("Cancel")))))}},{key:"renderCrop",value:function(){return u["default"].createElement(d["default"],{options:this.state.options,user:this.props.user,upload:this.state.uploaded,dataUrl:this.state.preview,onComplete:this.props.onComplete,showError:this.props.showError,showIndex:this.props.showIndex})}},{key:"render",value:function(){return this.state.uploaded?this.renderCrop():this.renderUpload()}}]),t}(u["default"].Component);a["default"]=y},{"../../services/ajax":365,"../../services/snackbar":376,"../../utils/file-size":384,"../button":8,"./crop":22,react:"react"}],27:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"getClassName",value:function(){return this.props.dropdown?"btn btn-default btn-aligned btn-icon btn-dropdown-toggle open hidden-md hidden-lg":"btn btn-default btn-aligned btn-icon btn-dropdown-toggle hidden-md hidden-lg"}},{key:"render",value:function(){return u["default"].createElement("button",{className:this.getClassName(),type:"button",onClick:this.props.toggleNav,"aria-haspopup":"true","aria-expanded":this.props.dropdown?"true":"false"},u["default"].createElement("i",{className:"material-icon"},"menu"))}}]),t}(u["default"].Component);a["default"]=c},{react:"react"}],28:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.display;return t?o["default"].createElement(s["default"],{helpText:gettext("No profile details are editable at this time."),message:gettext("This option is currently unavailable.")}):null};var r=e("react"),o=n(r),l=e("../panel-message"),s=n(l)},{"../panel-message":94,react:"react"}],29:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=e("../select"),d=n(c),f=function(e){function t(){var e,a,n,l;r(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onChange=function(e){var t=n.props,a=t.field,r=t.onChange;r(a.fieldname,e.target.value)},l=a,o(n,l)}return l(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.disabled,a=e.field,n=e.value,r=a.input;return"select"===r.type?u["default"].createElement(d["default"],{choices:r.choices,disabled:t,id:"id_"+a.fieldname,onChange:this.onChange,value:n}):"textarea"===r.type?u["default"].createElement("textarea",{className:"form-control",disabled:t,id:"id_"+a.fieldname,onChange:this.onChange,rows:"4",type:"text",value:n}):"text"===r.type?u["default"].createElement("input",{className:"form-control",disabled:t,id:"id_"+a.fieldname,onChange:this.onChange,type:"text",value:n}):null}}]),t}(u["default"].Component);a["default"]=f},{"../select":210,react:"react"}],30:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.disabled,a=e.errors,n=e.fields,r=e.name,l=e.onChange,i=e.value;return o["default"].createElement("fieldset",null,o["default"].createElement("legend",null,r),n.map(function(e){return o["default"].createElement(u["default"],{"for":"id_"+e.fieldname,helpText:e.help_text,key:e.fieldname,label:e.label,validation:a[e.fieldname]},o["default"].createElement(s["default"],{disabled:t,field:e,onChange:l,value:i[e.fieldname]}))}))};var r=e("react"),o=n(r),l=e("./field-input"),s=n(l),i=e("../form-group"),u=n(i)},{"../form-group":55,"./field-input":29,react:"react"}],31:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){var t=e.onCancel,a=e.disabled;return t?d["default"].createElement("button",{className:"btn btn-default",disabled:a,onClick:t,type:"button"},gettext("Cancel")):null}Object.defineProperty(a,"__esModule",{value:!0});var u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a.CancelButton=i;var c=e("react"),d=n(c),f=e("./fieldset"),p=n(f),m=e("../button"),h=n(m),b=e("../form"),v=n(b),_=e("../../services/ajax"),g=n(_),y=e("../../services/snackbar"),E=n(y),w=function(e){function t(e){o(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.onChange=function(e,t){a.setState(r({},e,t))},a.state={isLoading:!1,errors:{}};for(var n=e.groups.length,s=0;s<n;s++)for(var i=e.groups[s],u=i.fields.length,c=0;c<u;c++){var d=i.fields[c].fieldname,f=i.fields[c].initial;a.state[d]=f}return a}return s(t,e),u(t,[{key:"send",value:function(){var e=Object.assign({},this.state,{errors:null,isLoading:null});return g["default"].post(this.props.api,e)}},{key:"handleSuccess",value:function(e){this.props.onSuccess(e)}},{key:"handleError",value:function(e){400===e.status?(E["default"].error(gettext("Form contains errors.")),this.setState({errors:e})):E["default"].apiError(e)}},{key:"render",value:function(){var e=this;return d["default"].createElement("form",{onSubmit:this.handleSubmit},d["default"].createElement("div",{className:"panel-body"},this.props.groups.map(function(t,a){return d["default"].createElement(p["default"],{disabled:e.state.isLoading,errors:e.state.errors,fields:t.fields,name:t.name,key:a,onChange:e.onChange,value:e.state})})),d["default"].createElement("div",{className:"panel-footer text-right"},d["default"].createElement(i,{disabled:this.state.isLoading,onCancel:this.props.onCancel})," ",d["default"].createElement(h["default"],{className:"btn-primary",loading:this.state.isLoading},gettext("Save changes"))))}}]),t}(v["default"]);a["default"]=w},{"../../services/ajax":365,"../../services/snackbar":376,"../button":8,"../form":56,"./fieldset":30,react:"react"}],32:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.api,a=e.display,n=e.groups,r=e.onCancel,o=e.onSuccess;return a?c["default"].createElement(b["default"],{api:t,groups:n,onCancel:r,onSuccess:o}):null}Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a.FormDisplay=s;var u=e("react"),c=n(u),d=e("./blankslate"),f=n(d),p=e("./loader"),m=n(p),h=e("./form"),b=n(h),v=e("../../services/ajax"),_=n(v),g=e("../../services/snackbar"),y=n(g),E=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={loading:!0,groups:null},a}return l(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this;_["default"].get(this.props.api).then(function(t){e.setState({loading:!1,groups:t})},function(t){y["default"].apiError(t),e.props.cancel&&e.props.cancel()})}},{key:"render",value:function(){var e=this.state,t=e.groups,a=e.loading;return c["default"].createElement("div",{className:"panel panel-default panel-form"},c["default"].createElement("div",{className:"panel-heading"},c["default"].createElement("h3",{className:"panel-title"},gettext("Edit details"))),c["default"].createElement(m["default"],{display:a}),c["default"].createElement(f["default"],{display:!a&&!t.length}),c["default"].createElement(s,{api:this.props.api,display:!a&&t.length,groups:t,onCancel:this.props.onCancel,onSuccess:this.props.onSuccess}))}}]),t}(c["default"].Component);a["default"]=E},{"../../services/ajax":365,"../../services/snackbar":376,"./blankslate":28,"./form":31,"./loader":33,react:"react"}],33:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.display;return t?o["default"].createElement("div",{className:"panel-body"},o["default"].createElement(s["default"],null)):null};var r=e("react"),o=n(r),l=e("../loader"),s=n(l)},{"../loader":58,react:"react"}],34:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){t("\n\n[spoiler]\n"+e+"\n[/spoiler]\n\n")}Object.defineProperty(a,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};a["default"]=function(e){return s["default"].createElement(u["default"],o({execAction:r,title:gettext("Insert spoiler")},e),s["default"].createElement("span",{className:"material-icon"},"not_interested"))},a.insertSpoiler=r;var l=e("react"),s=n(l),i=e("./action"),u=n(i),c=e("../../../utils/is-url");n(c)},{"../../../utils/is-url":385,"./action":35,react:"react"}],35:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=function(e){function t(){var e,a,n,l;r(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onClick=function(){n.props.replaceSelection(n.props.execAction)},l=a,o(n,l)}return l(t,e),s(t,[{key:"render",value:function(){return u["default"].createElement("button",{className:"btn btn-icon "+this.props.className,disabled:this.props.disabled,onClick:this.onClick,title:this.props.title,type:"button"},this.props.children)}}]),t}(u["default"].Component);a["default"]=c},{react:"react"}],36:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){var a=$.trim(prompt(gettext("Enter name of syntax of your code (optional)")+":"));t("\n\n```"+a+"\n"+e+"\n```\n\n")}Object.defineProperty(a,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};a["default"]=function(e){return s["default"].createElement(u["default"],o({execAction:r,title:gettext("Insert code")},e),s["default"].createElement("span",{className:"material-icon"},"functions"))},a.insertCode=r;var l=e("react"),s=n(l),i=e("./action"),u=n(i)},{"./action":35,react:"react"}],37:[function(e,t,a){
"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){e.length&&t("*"+e+"*")}Object.defineProperty(a,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};a["default"]=function(e){return s["default"].createElement(u["default"],o({execAction:r,title:gettext("Emphase selection")},e),s["default"].createElement("span",{className:"material-icon"},"format_italic"))},a.makeEmphasis=r;var l=e("react"),s=n(l),i=e("./action"),u=n(i)},{"./action":35,react:"react"}],38:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){t("\n\n- - - - -\n\n")}Object.defineProperty(a,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};a["default"]=function(e){return s["default"].createElement(u["default"],o({execAction:r,title:gettext("Insert horizontal ruler")},e),s["default"].createElement("span",{className:"material-icon"},"remove"))},a.insertHr=r;var l=e("react"),s=n(l),i=e("./action"),u=n(i)},{"./action":35,react:"react"}],39:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){var a="",n="";e.length&&((0,d["default"])(e)?a=e:n=e),a=$.trim(prompt(gettext("Enter link to image")+":",a)),n=$.trim(prompt(gettext("Enter image label (optional)")+":",n)),a.length&&t(n.length>0?"!["+n+"]("+a+")":"!("+a+")")}Object.defineProperty(a,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};a["default"]=function(e){return s["default"].createElement(u["default"],o({execAction:r,title:gettext("Insert image")},e),s["default"].createElement("span",{className:"material-icon"},"insert_photo"))},a.insertImage=r;var l=e("react"),s=n(l),i=e("./action"),u=n(i),c=e("../../../utils/is-url"),d=n(c)},{"../../../utils/is-url":385,"./action":35,react:"react"}],40:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){var a="",n="";return e.length&&((0,d["default"])(e)?a=e:n=e),a=$.trim(prompt(gettext("Enter link address")+":",a)||""),0!==a.length&&(n=$.trim(prompt(gettext("Enter link label (optional)")+":",n)),void(a.length&&t(n.length>0?"["+n+"]("+a+")":a)))}Object.defineProperty(a,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};a["default"]=function(e){return s["default"].createElement(u["default"],o({execAction:r,title:gettext("Insert link")},e),s["default"].createElement("span",{className:"material-icon"},"insert_link"))},a.insertLink=r;var l=e("react"),s=n(l),i=e("./action"),u=n(i),c=e("../../../utils/is-url"),d=n(c)},{"../../../utils/is-url":385,"./action":35,react:"react"}],41:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){var a=$.trim(prompt(gettext("Enter quote autor, prefix usernames with @")+":",a));t(a?'\n\n[quote="'+a+'"]\n'+e+"\n[/quote]\n\n":"\n\n[quote]\n"+e+"\n[/quote]\n\n")}Object.defineProperty(a,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};a["default"]=function(e){return s["default"].createElement(u["default"],o({execAction:r,title:gettext("Insert quote")},e),s["default"].createElement("span",{className:"material-icon"},"format_quote"))},a.insertQuote=r;var l=e("react"),s=n(l),i=e("./action"),u=n(i),c=e("../../../utils/is-url");n(c)},{"../../../utils/is-url":385,"./action":35,react:"react"}],42:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){e.length&&t("~~"+e+"~~")}Object.defineProperty(a,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};a["default"]=function(e){return s["default"].createElement(u["default"],o({execAction:r,title:gettext("Strikethrough selection")},e),s["default"].createElement("span",{className:"material-icon"},"format_strikethrough"))},a.makeStrikethrough=r;var l=e("react"),s=n(l),i=e("./action"),u=n(i)},{"./action":35,react:"react"}],43:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){e.length&&t("**"+e+"**")}Object.defineProperty(a,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};a["default"]=function(e){return s["default"].createElement(u["default"],o({execAction:r,title:gettext("Bolder selection")},e),s["default"].createElement("span",{className:"material-icon"},"format_bold"))},a.makeStrong=r;var l=e("react"),s=n(l),i=e("./action"),u=n(i)},{"./action":35,react:"react"}],44:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return e.item.is_image?g["default"].createElement(i,e):g["default"].createElement(u,e)}function i(e){var t=e.item.url.thumb||e.item.url.index;return g["default"].createElement("div",{className:"editor-attachment-image"},g["default"].createElement("a",{href:e.item.url.index+"?shva=1",style:{backgroundImage:"url('"+t+"?shva=1')"},target:"_blank"}))}function u(e){return g["default"].createElement("div",{className:"editor-attachment-icon"},g["default"].createElement("span",{className:"material-icon"},"insert_drive_file"))}function c(e){return g["default"].createElement("h4",null,g["default"].createElement("a",{className:"item-title",href:e.item.url.index+"?shva=1",target:"_blank"},e.item.filename))}function d(e){var t=null;t=e.item.url.uploader?interpolate(P,{url:(0,w["default"])(e.item.url.uploader),user:(0,w["default"])(e.item.uploader_name)},!0):interpolate(x,{user:(0,w["default"])(e.item.uploader_name)},!0);var a=interpolate(N,{absolute:(0,w["default"])(e.item.uploaded_on.format("LLL")),relative:(0,w["default"])(e.item.uploaded_on.fromNow())},!0),n=interpolate((0,w["default"])(gettext("%(filetype)s, %(size)s, uploaded by %(uploader)s %(uploaded_on)s.")),{filetype:e.item.filetype,size:(0,k["default"])(e.item.size),uploader:t,uploaded_on:a},!0);return g["default"].createElement("p",{dangerouslySetInnerHTML:{__html:n}})}function f(e){return g["default"].createElement("div",{className:"editor-attachment-actions"},g["default"].createElement("div",{className:"row"},g["default"].createElement(p,e),g["default"].createElement(m,e),g["default"].createElement(h,e)))}function p(e){return e.item.isRemoved?null:g["default"].createElement("div",{className:"col-xs-6"},g["default"].createElement("button",{className:"btn btn-default btn-sm btn-block",onClick:e.onInsert,type:"button"},gettext("Insert")))}function m(e){return e.item.isRemoved&&e.item.acl.can_delete?null:g["default"].createElement("div",{className:"col-xs-6"},g["default"].createElement("button",{className:"btn btn-default btn-sm btn-block",onClick:e.onRemove,type:"button"},gettext("Remove")))}function h(e){return e.item.isRemoved?g["default"].createElement("div",{className:"col-xs-12"},g["default"].createElement("button",{className:"btn btn-default btn-sm btn-block",onClick:e.onUndo,type:"button"},gettext("Undo removal"))):null}Object.defineProperty(a,"__esModule",{value:!0});var b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},v=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a.Preview=s,a.Image=i,a.Icon=u,a.Filename=c,a.Details=d,a.Actions=f,a.Insert=p,a.Remove=m,a.Undo=h;var _=e("react"),g=n(_),y=e("../../../.."),E=(n(y),e("../../../../utils/escape-html")),w=n(E),O=e("../../../../utils/file-size"),k=n(O),N='<abbr title="%(absolute)s">%(relative)s</abbr>',x='<span class="item-title">%(user)s</span>',P='<a href="%(url)s" class="item-title">%(user)s</a>',j=function(e){function t(){var e,a,n,l;r(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onInsert=function(){n.props.replaceSelection(n.insertAttachment)},n.insertAttachment=function(e,t){var a=n.props.item;t(a.is_image?a.url.thumb?"[!["+a.filename+"]("+a.url.thumb+")]("+a.url.index+")":"[!["+a.filename+"]("+a.url.index+")]("+a.url.index+")":"["+a.filename+"]("+a.url.index+")")},n.onRemove=function(){n.updateItem({isRemoved:!0})},n.onUndo=function(){n.updateItem({isRemoved:!1})},n.updateItem=function(e){var t=n.props.attachments.map(function(t){return t.id===n.props.item.id?Object.assign({},t,e):t});n.props.onAttachmentsChange(t)},l=a,o(n,l)}return l(t,e),v(t,[{key:"render",value:function(){return g["default"].createElement("li",{className:"editor-attachment-complete"},g["default"].createElement("div",{className:"row"},g["default"].createElement("div",{className:"col-xs-12 col-sm-8 col-md-9"},g["default"].createElement(s,this.props),g["default"].createElement("div",{className:"editor-attachment-details"},g["default"].createElement(c,this.props),g["default"].createElement(d,this.props))),g["default"].createElement("div",{className:"col-xs-12 col-sm-4 col-md-3 xs-margin-top-half"},g["default"].createElement(f,b({onInsert:this.onInsert,onRemove:this.onRemove,onUndo:this.onUndo},this.props)))))}}]),t}(g["default"].Component);a["default"]=j},{"../../../..":302,"../../../../utils/escape-html":383,"../../../../utils/file-size":384,react:"react"}],45:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=e("../../../../utils/escape-html"),d=n(c),f="<strong>%(name)s</strong>",p=function(e){function t(){var e,a,n,l;r(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onClick=function(){var e=n.props.attachments.filter(function(e){return e.key!==n.props.item.key});n.props.onAttachmentsChange(e)},l=a,o(n,l)}return l(t,e),s(t,[{key:"render",value:function(){var e=interpolate(f,{name:(0,d["default"])(this.props.item.filename)},!0),t=interpolate(gettext("Error uploading %(filename)s"),{filename:e,progress:this.props.item.progress+"%"},!0);return u["default"].createElement("li",{className:"editor-attachment-error"},u["default"].createElement("div",{className:"editor-attachment-error-icon"},u["default"].createElement("span",{className:"material-icon"},"warning")),u["default"].createElement("div",{className:"editor-attachment-error-message"},u["default"].createElement("h4",{dangerouslySetInnerHTML:{__html:t+":"}}),u["default"].createElement("p",null,this.props.item.error),u["default"].createElement("button",{className:"btn btn-default btn-sm",onClick:this.onClick,type:"button"},gettext("Dismiss"))))}}]),t}(u["default"].Component);a["default"]=p},{"../../../../utils/escape-html":383,react:"react"}],46:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){return e.item.id?o["default"].createElement(s["default"],e):e.item.error?o["default"].createElement(u["default"],e):o["default"].createElement(d["default"],e)};var r=e("react"),o=n(r),l=e("./complete"),s=n(l),i=e("./error"),u=n(i),c=e("./upload"),d=n(c),f=e("../../../.."),p=(n(f),e("../../../../utils/escape-html"));n(p)},{"../../../..":302,"../../../../utils/escape-html":383,"./complete":44,"./error":45,"./upload":47,react:"react"}],47:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=interpolate(i,{name:(0,s["default"])(e.item.filename)},!0),a=interpolate(gettext("Uploading %(filename)s... %(progress)s"),{filename:t,progress:e.item.progress+"%"},!0);return o["default"].createElement("li",{className:"editor-attachment-upload"},o["default"].createElement("div",{className:"editor-attachment-progress-bar"},o["default"].createElement("div",{className:"editor-attachment-progress",style:{width:e.item.progress+"%"}})),o["default"].createElement("p",{className:"editor-attachment-upload-message",dangerouslySetInnerHTML:{__html:a}}))};var r=e("react"),o=n(r),l=e("../../../../utils/escape-html"),s=n(l),i="<strong>%(name)s</strong>"},{"../../../../utils/escape-html":383,react:"react"}],48:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){return d["default"].get("user").acl.max_attachment_size?o["default"].createElement("div",{className:"editor-attachments"},o["default"].createElement(s["default"],e),o["default"].createElement(u["default"],e)):null};var r=e("react"),o=n(r),l=e("./list"),s=n(l),i=e("./uploader"),u=n(i),c=e("../../.."),d=n(c)},{"../../..":302,"./list":49,"./uploader":51,react:"react"}],49:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};a["default"]=function(e){return l["default"].createElement("ul",{className:"list-unstyled editor-attachments-list"},e.attachments.map(function(t){return l["default"].createElement(i["default"],r({item:t,key:t.id||t.key},e))}))};var o=e("react"),l=n(o),s=e("./attachment"),i=n(s)},{"./attachment":46,react:"react"}],50:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=e("../../.."),d=n(c),f=function(e){function t(){var e,a,n,l;r(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onClick=function(){document.getElementById("editor-upload-field").click()},l=a,o(n,l)}return l(t,e),s(t,[{key:"render",value:function(){return d["default"].get("user").acl.max_attachment_size?u["default"].createElement("button",{className:"btn btn-icon "+this.props.className,disabled:this.props.disabled,onClick:this.onClick,title:gettext("Upload file"),type:"button"},u["default"].createElement("span",{className:"material-icon"},"file_upload")):null}}]),t}(u["default"].Component);a["default"]=f},{"../../..":302,react:"react"}],51:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(){return"upld-"+Math.round((new Date).getTime())}Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a.getRandomKey=s;var u=e("react"),c=n(u),d=e("moment"),f=n(d),p=e("../../.."),m=n(p),h=e("../../../services/ajax"),b=n(h),v=e("../../../services/snackbar"),_=n(v),g=function(e){function t(){var e,a,n,l;r(this,t);for(var i=arguments.length,u=Array(i),c=0;c<i;c++)u[c]=arguments[c];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.onChange=function(e){var t=e.target.files[0];if(t){var a={id:null,key:s(),progress:0,error:null,filename:t.name};n.props.onAttachmentsChange([a].concat(n.props.attachments));var r=new FormData;r.append("upload",t),b["default"].upload(m["default"].get("ATTACHMENTS_API"),r,function(e){a.progress=e,n.props.onAttachmentsChange(n.props.attachments.concat())}).then(function(e){e.uploaded_on=(0,f["default"])(e.uploaded_on),Object.assign(a,e),n.props.onAttachmentsChange(n.props.attachments.concat())},function(e){400===e.status||413===e.status?(a.error=e.detail,n.props.onAttachmentsChange(n.props.attachments.concat())):_["default"].apiError(e)})}},l=a,o(n,l)}return l(t,e),i(t,[{key:"render",value:function(){return c["default"].createElement("input",{id:"editor-upload-field",onChange:this.onChange,type:"file"})}}]),t}(c["default"].Component);a["default"]=g},{"../../..":302,"../../../services/ajax":365,"../../../services/snackbar":376,moment:"moment",react:"react"}],52:[function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){if(!e.canProtect)return null;var t=e.protect?gettext("Protected"):gettext("Protect");return d["default"].createElement("button",{className:"btn btn-icon btn-default btn-protect btn-sm pull-right",disabled:e.disabled,onClick:e.protect?e.onUnprotect:e.onProtect,title:t,type:"button"},d["default"].createElement("span",{className:"material-icon"},e.protect?"lock":"lock_outline"),d["default"].createElement("span",{className:"btn-text hidden-md hidden-lg"},t))}Object.defineProperty(a,"__esModule",{value:!0});var u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a.Protect=i;var c=e("react"),d=r(c),f=e("./actions/code"),p=r(f),m=e("./actions/emphasis"),h=r(m),b=e("./actions/hr"),v=r(b),_=e("./actions/image"),g=r(_),y=e("./actions/link"),E=r(y),w=e("./actions/Spoiler"),O=r(w),k=e("./actions/strikethrough"),N=r(k),x=e("./actions/strong"),P=r(x),j=e("./actions/quote"),C=r(j),S=e("./attachments"),M=r(S),T=e("./attachments/upload-button"),L=r(T),A=e("./markup-preview"),R=r(A),I=e("./textutils"),D=n(I),U=e("../button"),B=r(U),H=e("../.."),z=r(H),F=e("../../services/ajax"),q=r(F),Y=e("../../services/modal"),G=r(Y),V=e("../../services/snackbar"),W=r(V),K=function(e){function t(e){o(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onPreviewClick=function(){a.state.isPreviewLoading||(a.setState({isPreviewLoading:!0}),q["default"].post(z["default"].get("PARSE_MARKUP_API"),{post:a.props.value}).then(function(e){G["default"].show(d["default"].createElement(R["default"],{markup:e.parsed})),a.setState({isPreviewLoading:!1})},function(e){400===e.status?W["default"].error(e.detail):W["default"].apiError(e),a.setState({isPreviewLoading:!1})}))},a.replaceSelection=function(e){e(D.getSelectionText(),a._replaceSelection)},a._replaceSelection=function(e){a.props.onChange({target:{value:D.replace(e)}})},a.state={isPreviewLoading:!1},a}return s(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this;$("#editor-textarea").atwho({at:"@",displayTpl:'<li><img src="${avatar}" alt="">${username}</li>',insertTpl:"@${username}",searchKey:"username",callbacks:{remoteFilter:function(e,t){$.getJSON(z["default"].get("MENTION_API"),{q:e},t)}}}),$("#editor-textarea").on("inserted.atwho",function(t,a,n){e.props.onChange(t)})}},{key:"render",value:function(){return d["default"].createElement("div",{className:"editor-border"},d["default"].createElement("textarea",{className:"form-control",value:this.props.value,disabled:this.props.loading,id:"editor-textarea",onChange:this.props.onChange,rows:"9"}),d["default"].createElement("div",{className:"editor-footer"},d["default"].createElement("div",{className:"buttons-list pull-left"},d["default"].createElement(P["default"],{className:"btn-default btn-sm pull-left",disabled:this.props.loading||this.state.isPreviewLoading,replaceSelection:this.replaceSelection}),d["default"].createElement(h["default"],{className:"btn-default btn-sm pull-left",disabled:this.props.loading||this.state.isPreviewLoading,replaceSelection:this.replaceSelection}),d["default"].createElement(N["default"],{className:"btn-default btn-sm pull-left",disabled:this.props.loading||this.state.isPreviewLoading,replaceSelection:this.replaceSelection}),d["default"].createElement(v["default"],{className:"btn-default btn-sm pull-left",disabled:this.props.loading||this.state.isPreviewLoading,replaceSelection:this.replaceSelection}),d["default"].createElement(E["default"],{className:"btn-default btn-sm pull-left",disabled:this.props.loading||this.state.isPreviewLoading,replaceSelection:this.replaceSelection}),d["default"].createElement(g["default"],{className:"btn-default btn-sm pull-left",disabled:this.props.loading||this.state.isPreviewLoading,replaceSelection:this.replaceSelection}),d["default"].createElement(C["default"],{className:"btn-default btn-sm pull-left",disabled:this.props.loading||this.state.isPreviewLoading,replaceSelection:this.replaceSelection}),d["default"].createElement(O["default"],{className:"btn-default btn-sm pull-left",disabled:this.props.loading||this.state.isPreviewLoading,replaceSelection:this.replaceSelection}),d["default"].createElement(p["default"],{className:"btn-default btn-sm pull-left",disabled:this.props.loading||this.state.isPreviewLoading,replaceSelection:this.replaceSelection}),d["default"].createElement(L["default"],{className:"btn-default btn-sm pull-left",disabled:this.props.loading||this.state.isPreviewLoading})),d["default"].createElement(B["default"],{className:"btn-default btn-sm pull-left",disabled:this.props.loading||this.state.isPreviewLoading,onClick:this.onPreviewClick,type:"button"},gettext("Preview")),d["default"].createElement(B["default"],{className:"btn-primary btn-sm pull-right",loading:this.props.loading},this.props.submitLabel||gettext("Post")),d["default"].createElement("button",{className:"btn btn-default btn-sm pull-right",disabled:this.props.loading,onClick:this.props.onCancel,type:"button"},gettext("Cancel")),d["default"].createElement("div",{className:"clearfix visible-xs-block"}),d["default"].createElement(i,{canProtect:this.props.canProtect,disabled:this.props.loading,onProtect:this.props.onProtect,onUnprotect:this.props.onUnprotect,protect:this.props.protect})),d["default"].createElement(M["default"],{attachments:this.props.attachments,onAttachmentsChange:this.props.onAttachmentsChange,placeholder:this.props.placeholder,replaceSelection:this.replaceSelection}))}}]),t}(d["default"].Component);a["default"]=K},{"../..":302,"../../services/ajax":365,"../../services/modal":371,"../../services/snackbar":376,"../button":8,"./actions/Spoiler":34,"./actions/code":36,"./actions/emphasis":37,"./actions/hr":38,"./actions/image":39,"./actions/link":40,"./actions/quote":41,"./actions/strikethrough":42,"./actions/strong":43,"./attachments":48,"./attachments/upload-button":50,"./markup-preview":53,"./textutils":54,react:"react"}],53:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){return o["default"].createElement("div",{className:"modal-dialog",role:"document"},o["default"].createElement("div",{className:"modal-content"},o["default"].createElement("div",{className:"modal-header"},o["default"].createElement("button",{"aria-label":gettext("Close"),className:"close","data-dismiss":"modal",type:"button"},o["default"].createElement("span",{"aria-hidden":"true"},"×")),o["default"].createElement("h4",{className:"modal-title"},gettext("Preview message"))),o["default"].createElement("div",{className:"modal-body markup-preview"},o["default"].createElement(s["default"],{markup:e.markup}))))};var r=e("react"),o=n(r),l=e("../misago-markup"),s=n(l)},{"../misago-markup":60,react:"react"}],54:[function(e,t,a){"use strict";function n(){return document.getElementById(d)}function r(){return document.getElementById(d).value}function o(e,t){return{start:e,end:t}}function l(){var e=n();if(document.selection){e.focus();var t=document.selection.createRange(),a=t.text.length;return t.moveStart("character",-e.value.length),o(t.text.length-a,t.text.length)}if(e.selectionStart||"0"==e.selectionStart)return o(e.selectionStart,e.selectionEnd)}function s(){var e=l();return $.trim(r().substring(e.start,e.end))}function i(e){var t=n();if(t.setSelectionRange)t.focus(),t.setSelectionRange(e.start,e.end);else if(t.createTextRange){var a=t.createTextRange();a.collapse(!0),a.moveStart("character",e.start),a.moveEnd("character",e.end),a.select()}}function u(e,t){var a=n(),r=a.value,l=r.substring(0,e.start);return a.value=r.substring(0,e.start)+t+r.substring(e.end),i(o(l.length+t.length,l.length+t.length)),a.value}function c(e){return u(l(),e)}Object.defineProperty(a,"__esModule",{value:!0}),a.getTextarea=n,a.getValue=r,a.getSelectionRange=o,a.getSelection=l,a.getSelectionText=s,a.setSelection=i,a._replace=u,a.replace=c;var d=a.textareaId="editor-textarea"},{}],55:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"isValidated",value:function(){return"undefined"!=typeof this.props.validation}},{key:"getClassName",value:function(){var e="form-group";return this.isValidated()&&(e+=" has-feedback",e+=null===this.props.validation?" has-success":" has-error"),e}},{key:"getFeedback",value:function(){var e=this;return this.props.validation?u["default"].createElement("div",{className:"help-block errors"},this.props.validation.map(function(t,a){return u["default"].createElement("p",{key:e.props["for"]+"FeedbackItem"+a},t)})):null}},{key:"getFeedbackDescription",value:function(){return this.isValidated()?u["default"].createElement("span",{id:this.props["for"]+"_status",className:"sr-only"},this.props.validation?gettext("(error)"):gettext("(success)")):null}},{key:"getHelpText",value:function(){return this.props.helpText?u["default"].createElement("p",{className:"help-block"},this.props.helpText):null}},{key:"render",value:function(){return u["default"].createElement("div",{className:this.getClassName()},u["default"].createElement("label",{className:"control-label "+(this.props.labelClass||""),htmlFor:this.props["for"]||""},this.props.label+":"),u["default"].createElement("div",{className:this.props.controlClass||""},this.props.children,this.getFeedbackDescription(),this.getFeedback(),this.getHelpText(),this.props.extra||null))}}]),t}(u["default"].Component);a["default"]=c},{react:"react"}],56:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function e(e,t){
for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=e("react"),c=n(u),d=e("../utils/validators"),f=e("../services/snackbar"),p=n(f),m=(0,d.required)(),h=function(e){function t(){var e,a,n,s;o(this,t);for(var i=arguments.length,u=Array(i),c=0;c<i;c++)u[c]=arguments[c];return a=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.bindInput=function(e){return function(t){n.changeValue(e,t.target.value)}},n.changeValue=function(e,t){var a=r({},e,t),o=n.state.errors||{};o[e]=n.validateField(e,a[e]),a.errors=o,n.setState(a)},n.handleSubmit=function(e){if(e&&e.preventDefault(),!n.state.isLoading&&n.clean()){n.setState({isLoading:!0});var t=n.send();t?t.then(function(e){n.setState({isLoading:!1}),n.handleSuccess(e)},function(e){n.setState({isLoading:!1}),n.handleError(e)}):n.setState({isLoading:!1})}},s=a,l(n,s)}return s(t,e),i(t,[{key:"validate",value:function(){var e={};if(!this.state.validators)return e;var t={required:this.state.validators.required||this.state.validators,optional:this.state.validators.optional||{}},a=[];for(var n in t.required)t.required.hasOwnProperty(n)&&t.required[n]&&a.push(n);for(var r in t.optional)t.optional.hasOwnProperty(r)&&t.optional[r]&&a.push(r);for(var o in a){var l=a[o],s=this.validateField(l,this.state[l]);null===s?e[l]=null:s&&(e[l]=s)}return e}},{key:"isValid",value:function(){var e=this.validate();for(var t in e)if(e.hasOwnProperty(t)&&null!==e[t])return!1;return!0}},{key:"validateField",value:function(e,t){var a=[];if(!this.state.validators)return a;var n={required:(this.state.validators.required||this.state.validators)[e],optional:(this.state.validators.optional||{})[e]},r=m(t)||!1;if(n.required){if(r)a=[r];else for(var o in n.required){var l=n.required[o](t);l&&a.push(l)}return a.length?a:null}if(r===!1&&n.optional){for(var s in n.optional){var i=n.optional[s](t);i&&a.push(i)}return a.length?a:null}return!1}},{key:"clean",value:function(){return!0}},{key:"send",value:function(){return null}},{key:"handleSuccess",value:function(e){}},{key:"handleError",value:function(e){p["default"].apiError(e)}}]),t}(c["default"].Component);a["default"]=h},{"../services/snackbar":376,"../utils/validators":393,react:"react"}],57:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"isActive",value:function(){return this.props.isControlled?this.props.isActive:!!this.props.path&&0===document.location.pathname.indexOf(this.props.path)}},{key:"getClassName",value:function(){return this.isActive()?(this.props.className||"")+" "+(this.props.activeClassName||"active"):this.props.className||""}},{key:"render",value:function(){return u["default"].createElement("li",{className:this.getClassName()},this.props.children)}}]),t}(u["default"].Component);a["default"]=c},{react:"react"}],58:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){return o["default"].createElement("div",{className:e.className||"loader"},o["default"].createElement("div",{className:"loader-spinning-wheel"}))};var r=e("react"),o=n(r)},{react:"react"}],59:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.choices,a=e.onChange,n=e.value;return t?d["default"].createElement(v["default"],{label:gettext("Best answer"),helpText:gettext("Please select the best answer for your newly merged thread. No posts will be deleted during the merge."),"for":"id_best_answer"},d["default"].createElement("select",{className:"form-control",id:"id_best_answer",onChange:a,value:n},t.map(function(e){return d["default"].createElement("option",{value:e[0],key:e[0]},e[1])}))):null}function i(e){var t=e.choices,a=e.onChange,n=e.value;return t?d["default"].createElement(v["default"],{label:gettext("Poll"),helpText:gettext("Please select the poll for your newly merged thread. Rejected polls will be permanently deleted and cannot be recovered."),"for":"id_poll"},d["default"].createElement("select",{className:"form-control",id:"id_poll",onChange:a,value:n},t.map(function(e){return d["default"].createElement("option",{value:e[0],key:e[0]},e[1])}))):null}Object.defineProperty(a,"__esModule",{value:!0});var u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a.BestAnswerSelect=s,a.PollSelect=i;var c=e("react"),d=n(c),f=e("./button"),p=n(f),m=e("./form"),h=n(m),b=e("./form-group"),v=n(b),_=e("../services/ajax"),g=n(_),y=e("../services/modal"),E=n(y),w=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleSuccess=function(e){a.props.onSuccess(e),E["default"].hide()},a.handleError=function(e){a.props.onError(e)},a.onBestAnswerChange=function(e){a.changeValue("bestAnswer",e.target.value)},a.onPollChange=function(e){a.changeValue("poll",e.target.value)},a.state={isLoading:!1,bestAnswer:"0",poll:"0"},a}return l(t,e),u(t,[{key:"clean",value:function(){if(this.props.polls&&"0"===this.state.poll){var e=confirm(gettext("Are you sure you want to delete all polls?"));return e}return!0}},{key:"send",value:function(){var e=Object.assign({},this.props.data,{best_answer:this.state.bestAnswer,poll:this.state.poll});return g["default"].post(this.props.api,e)}},{key:"render",value:function(){return d["default"].createElement("div",{className:"modal-dialog",role:"document"},d["default"].createElement("div",{className:"modal-content"},d["default"].createElement("div",{className:"modal-header"},d["default"].createElement("button",{"aria-label":gettext("Close"),className:"close","data-dismiss":"modal",type:"button"},d["default"].createElement("span",{"aria-hidden":"true"},"×")),d["default"].createElement("h4",{className:"modal-title"},gettext("Merge threads"))),d["default"].createElement("form",{onSubmit:this.handleSubmit},d["default"].createElement("div",{className:"modal-body"},d["default"].createElement(s,{choices:this.props.bestAnswers,onChange:this.onBestAnswerChange,value:this.state.bestAnswer}),d["default"].createElement(i,{choices:this.props.polls,onChange:this.onPollChange,value:this.state.poll})),d["default"].createElement("div",{className:"modal-footer"},d["default"].createElement("button",{className:"btn btn-default","data-dismiss":"modal",disabled:this.state.isLoading,type:"button"},gettext("Cancel")),d["default"].createElement(p["default"],{className:"btn-primary",loading:this.state.isLoading},gettext("Merge threads"))))))}}]),t}(h["default"]);a["default"]=w},{"../services/ajax":365,"../services/modal":371,"./button":8,"./form":56,"./form-group":55,react:"react"}],60:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.target;$(t).parent().parent().addClass("revealed")}Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=e("react"),c=n(u),d=e("../services/one-box"),f=n(d),p=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:"componentDidMount",value:function(){f["default"].render(this.documentNode),$(this.documentNode).find(".spoiler-reveal").click(s)}},{key:"componentDidUpdate",value:function(e,t){f["default"].render(this.documentNode),$(this.documentNode).find(".spoiler-reveal").click(s)}},{key:"shouldComponentUpdate",value:function(e,t){return e.markup!==this.props.markup}},{key:"render",value:function(){var e=this;return c["default"].createElement("article",{className:"misago-markup",dangerouslySetInnerHTML:{__html:this.props.markup},ref:function(t){e.documentNode=t}})}}]),t}(c["default"].Component);a["default"]=p},{"../services/one-box":372,react:"react"}],61:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=e("./loader"),d=n(c),f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"render",value:function(){return u["default"].createElement("div",{className:"modal-body modal-loader"},u["default"].createElement(d["default"],null))}}]),t}(u["default"].Component);a["default"]=f},{"./loader":58,react:"react"}],62:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=e("./panel-message"),d=n(c),f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"getHelpText",value:function(){return this.props.helpText?u["default"].createElement("p",{className:"help-block"},this.props.helpText):null}},{key:"render",value:function(){return u["default"].createElement("div",{className:"modal-body"},u["default"].createElement("div",{className:"message-icon"},u["default"].createElement("span",{className:"material-icon"},this.props.icon||"info_outline")),u["default"].createElement("div",{className:"message-body"},u["default"].createElement("p",{className:"lead"},this.props.message),this.getHelpText(),u["default"].createElement("button",{className:"btn btn-default","data-dismiss":"modal",type:"button"},gettext("Ok"))))}}]),t}(d["default"]);a["default"]=f},{"./panel-message":94,react:"react"}],63:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.filter(function(e){return e.results.count>0});return t.map(function(e){return Object.assign({},e,{count:e.results.count,results:e.results.results.slice(0,n)})})};var n=5},{}],64:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.HEADER="HEADER",a.RESULT="RESULT",a.FOOTER="FOOTER"},{}],65:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.children,a=e.onChange,n=e.query;return o["default"].createElement("ul",{className:"dropdown-menu dropdown-search-results",role:"menu"},o["default"].createElement("li",{className:"form-group"},o["default"].createElement(s["default"],{value:n,onChange:a})),t)};var r=e("react"),o=n(r),l=e("./input"),s=n(l)},{"./input":69,react:"react"}],66:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(){return o["default"].createElement("li",{className:"dropdown-search-message"},gettext("Search returned no results."))};var r=e("react"),o=n(r)},{react:"react"}],67:[function(e,t,a){"use strict";function n(e,t){for(var a=e.length,n=0;n<a;n++){var l=e[n];t.push({provider:l,type:o.HEADER}),r(l,t)}}function r(e,t){for(var a=e.results.length,n=0;n<a;n++){var r=e.results[n];t.push({provider:e,result:r,type:o.RESULT})}t.push({provider:e,type:o.FOOTER})}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=[];return n(e,t),t};var o=e("./constants")},{"./constants":64}],68:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};a["default"]=function(e){var t=e.isLoading,a=e.onChange,n=e.results,o=e.query;if(!o.trim().length)return l["default"].createElement(u["default"],{onChange:a,query:o});if(n.length){var i=(0,v["default"])(n);return l["default"].createElement(u["default"],{onChange:a,query:o},i.map(function(e){var t=e.type,a=e.provider,n=e.result;return t===s.RESULT?l["default"].createElement(h["default"],r({key:[a.id,t,n.id].join("_")},e)):l["default"].createElement(h["default"],r({key:[a.id,t].join("_"),query:o},e))}))}return t?l["default"].createElement(u["default"],{onChange:a,query:o},l["default"].createElement(p["default"],null)):l["default"].createElement(u["default"],{onChange:a,query:o},l["default"].createElement(d["default"],null))};var o=e("react"),l=n(o),s=e("./constants"),i=e("./dropdown-menu"),u=n(i),c=e("./empty"),d=n(c),f=e("./loader"),p=n(f),m=e("./result"),h=n(m),b=e("./flatten-results"),v=n(b)},{"./constants":64,"./dropdown-menu":65,"./empty":66,"./flatten-results":67,"./loader":70,"./result":73,react:"react"}],69:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.value,a=e.onChange;return o["default"].createElement("input",{"aria-haspopup":"true","aria-expanded":"false","aria-controls":"dropdown-menu dropdown-search-results",autoComplete:"off",className:"form-control",value:t,onChange:a,placeholder:gettext("Search"),role:"combobox",type:"text"})};var r=e("react"),o=n(r)},{react:"react"}],70:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){e.message;return o["default"].createElement("li",{className:"dropdown-search-loader"},o["default"].createElement(s["default"],null))};var r=e("react"),o=n(r),l=e("../../loader"),s=n(l)},{"../../loader":58,react:"react"}],71:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.provider,a=e.query,n=t.url+"?q="+encodeURI(a),r=ngettext('See full "%(provider)s" results page with %(count)s result.','See full "%(provider)s" results page with %(count)s results.',t.count);return o["default"].createElement("li",{className:"dropdown-search-footer"},o["default"].createElement("a",{href:n},interpolate(r,{count:t.count,provider:t.name},!0)))};var r=e("react"),o=n(r)},{react:"react"}],72:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.provider;return o["default"].createElement("li",{className:"dropdown-search-header"},t.name)};var r=e("react"),o=n(r)},{react:"react"}],73:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.provider,a=e.result,n=e.type,r=e.query;return n===l.HEADER?o["default"].createElement(c["default"],{provider:t}):n===l.FOOTER?o["default"].createElement(i["default"],{provider:t,query:r}):o["default"].createElement(f["default"],{provider:t,result:a})};var r=e("react"),o=n(r),l=e("../constants"),s=e("./footer"),i=n(s),u=e("./header"),c=n(u),d=e("./result"),f=n(d)},{"../constants":64,"./footer":71,"./header":72,"./result":74,react:"react"}],74:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.provider,a=e.result;return"threads"===t.id?o["default"].createElement(s["default"],{result:a}):o["default"].createElement(u["default"],{result:a})};var r=e("react"),o=n(r),l=e("./thread"),s=n(l),i=e("./user"),u=n(i)},{"./thread":75,"./user":76,react:"react"}],75:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.result,a=(t.poster,t.thread),n=gettext("Posted by %(poster)s on %(posted_on)s in %(category)s.");return s["default"].createElement("li",null,s["default"].createElement("a",{href:t.url.index,className:"dropdown-search-thread"},s["default"].createElement("h5",null,a.title),s["default"].createElement("small",{className:"dropdown-search-post-content"},$(t.content).text()),s["default"].createElement("small",{className:"dropdown-search-post-footer"},interpolate(n,{category:t.category.name,posted_on:(0,o["default"])(t.posted_on).format("LL"),poster:t.poster_name},!0))))};var r=e("moment"),o=n(r),l=e("react"),s=n(l)},{moment:"moment",react:"react"}],76:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.result,a=t.rank,n=gettext("%(title)s, joined on %(joined_on)s"),r=t.title||a.title||a.name;return s["default"].createElement("li",null,s["default"].createElement("a",{href:t.url,className:"dropdown-search-user"},s["default"].createElement("div",{className:"media"},s["default"].createElement("div",{className:"media-left"},s["default"].createElement(u["default"],{size:38,user:t})),s["default"].createElement("div",{className:"media-body"},s["default"].createElement("h5",{className:"media-heading"},t.username),s["default"].createElement("small",null,interpolate(n,{title:r,joined_on:(0,o["default"])(t.joined_on).format("LL")},!0))))))};var r=e("moment"),o=n(r),l=e("react"),s=n(l),i=e("../../../avatar"),u=n(i)},{"../../../avatar":6,moment:"moment",react:"react"}],77:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=e("../../services/ajax"),d=n(c),f=e("../../services/snackbar"),p=n(f),m=e("../.."),h=n(m),b=e("./clean-results"),v=n(b),_=e("./dropdown"),g=n(_),y=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onToggle=function(t){e.setState(function(t,a){return t.isOpen||window.setTimeout(function(){e.container.querySelector("input").focus()},100),{isOpen:!t.isOpen}})},e.onDocumentMouseDown=function(t){for(var a=!0,n=t.target;null!==n&&n!==document;){if(n===e.container)return void(a=!1);n=n.parentNode}a&&e.setState({isOpen:!1})},e.onEscape=function(t){"Escape"===t.key&&e.setState({isOpen:!1})},e.onChange=function(t){var a=t.target.value;e.setState({query:a}),e.loadResults(a.trim())},e.state={isLoading:!1,isOpen:!1,query:"",results:[]},e.intervalId=null,e}return l(t,e),s(t,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.onDocumentMouseDown),document.addEventListener("keydown",this.onEscape)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.onDocumentMouseDown),document.removeEventListener("keydown",this.onEscape)}},{key:"loadResults",value:function(e){var t=this;if(e.length){var a=300+300*Math.random();this.intervalId&&window.clearTimeout(this.intervalId),this.setState({isLoading:!0}),this.intervalId=window.setTimeout(function(){d["default"].get(h["default"].get("SEARCH_API"),{q:e}).then(function(e){t.setState({intervalId:null,isLoading:!1,results:(0,v["default"])(e)})},function(e){p["default"].apiError(e),t.setState({intervalId:null,isLoading:!1,results:[]})})},a)}}},{key:"render",value:function(){var e=this,t="navbar-search dropdown";return this.state.isOpen&&(t+=" open"),u["default"].createElement("div",{className:t,ref:function(t){return e.container=t}},u["default"].createElement("a",{"aria-haspopup":"true","aria-expanded":"false",className:"navbar-icon","data-toggle":"dropdown",href:h["default"].get("SEARCH_URL"),onClick:this.onToggle},u["default"].createElement("i",{className:"material-icon"},"search")),u["default"].createElement(g["default"],{isLoading:this.state.isLoading,onChange:this.onChange,results:this.state.results,query:this.state.query}))}}]),t}(u["default"].Component);a["default"]=y},{"../..":302,"../../services/ajax":365,"../../services/snackbar":376,"./clean-results":63,"./dropdown":68,react:"react"}],78:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(){return o["default"].createElement("div",{className:"panel panel-default panel-form"},o["default"].createElement("div",{className:"panel-heading"},o["default"].createElement("h3",{className:"panel-title"},gettext("Change username"))),o["default"].createElement(s["default"],null))};var r=e("react"),o=n(r),l=e("../../panel-loader"),s=n(l)},{"../../panel-loader":93,react:"react"}],79:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=e("../../panel-message"),d=n(c),f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"getHelpText",value:function(){return this.props.options.next_on?interpolate(gettext("You will be able to change your username %(next_change)s."),{next_change:this.props.options.next_on.fromNow()},!0):gettext("You have used up available name changes.")}},{key:"render",value:function(){return u["default"].createElement("div",{className:"panel panel-default panel-form"},u["default"].createElement("div",{className:"panel-heading"},u["default"].createElement("h3",{className:"panel-title"},gettext("Change username"))),u["default"].createElement(d["default"],{helpText:this.getHelpText(),message:gettext("You can't change your username at the moment.")}))}}]),t}(u["default"].Component);a["default"]=f},{"../../panel-message":94,react:"react"}],80:[function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=e("react"),c=r(u),d=e("../../button"),f=r(d),p=e("../../form"),m=r(p),h=e("../../form-group"),b=r(h),v=e("../../../services/ajax"),_=r(v),g=e("../../../services/snackbar"),y=r(g),E=e("../../../utils/validators"),w=n(E),O=function(e){function t(e){o(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={username:"",validators:{username:[w.usernameContent(),w.usernameMinLength(e.options.length_min),w.usernameMaxLength(e.options.length_max)]},isLoading:!1},a}return s(t,e),i(t,[{key:"getHelpText",value:function(){var e=[];if(this.props.options.changes_left>0){var t=ngettext("You can change your username %(changes_left)s more time.","You can change your username %(changes_left)s more times.",this.props.options.changes_left);e.push(interpolate(t,{changes_left:this.props.options.changes_left},!0))}if(this.props.user.acl.name_changes_expire>0){var a=ngettext("Used changes become available again after %(name_changes_expire)s day.","Used changes become available again after %(name_changes_expire)s days.",this.props.user.acl.name_changes_expire);e.push(interpolate(a,{name_changes_expire:this.props.user.acl.name_changes_expire},!0))}return e.length?e.join(" "):null}},{key:"clean",value:function(){var e=this.validate();return e.username?(y["default"].error(e.username[0]),!1):this.state.username.trim()!==this.props.user.username||(y["default"].info(gettext("Your new username is same as current one.")),!1)}},{key:"send",value:function(){return _["default"].post(this.props.user.api.username,{username:this.state.username})}},{key:"handleSuccess",value:function(e){this.setState({username:""}),this.props.complete(e.username,e.slug,e.options)}},{key:"handleError",value:function(e){y["default"].apiError(e)}},{key:"render",value:function(){return c["default"].createElement("form",{onSubmit:this.handleSubmit},c["default"].createElement("div",{className:"panel panel-default panel-form"},c["default"].createElement("div",{className:"panel-heading"},c["default"].createElement("h3",{className:"panel-title"},gettext("Change username"))),c["default"].createElement("div",{className:"panel-body"},c["default"].createElement(b["default"],{label:gettext("New username"),"for":"id_username",helpText:this.getHelpText()},c["default"].createElement("input",{type:"text",id:"id_username",className:"form-control",disabled:this.state.isLoading,onChange:this.bindInput("username"),value:this.state.username}))),c["default"].createElement("div",{className:"panel-footer"},c["default"].createElement(f["default"],{className:"btn-primary",loading:this.state.isLoading},gettext("Change username")))))}}]),t}(m["default"]);a["default"]=O},{"../../../services/ajax":365,"../../../services/snackbar":376,"../../../utils/validators":393,"../../button":8,"../../form":56,"../../form-group":55,react:"react"}],81:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("moment"),u=n(i),c=e("react"),d=n(c),f=e("./form-loading"),p=n(f),m=e("./form-locked"),h=n(m),b=e("./form"),v=n(b),_=e("../../username-history/root"),g=n(_),y=e("../../../index"),E=n(y),w=e("../../../reducers/username-history"),O=e("../../../reducers/users"),k=e("../../../services/ajax"),N=n(k),x=e("../../../services/page-title"),P=n(x),j=e("../../../services/snackbar"),C=n(j),S=e("../../../services/store"),M=n(S),T=function(e){
function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onComplete=function(e,t,n){a.setState({options:n}),M["default"].dispatch((0,w.addNameChange)({username:e,slug:t},a.props.user,a.props.user)),M["default"].dispatch((0,O.updateUsername)(a.props.user,e,t)),C["default"].success(gettext("Your username has been changed successfully."))},a.state={isLoaded:!1,options:null},a}return l(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this;P["default"].set({title:gettext("Change username"),parent:gettext("Change your options")}),Promise.all([N["default"].get(this.props.user.api.username),N["default"].get(E["default"].get("USERNAME_CHANGES_API"),{user:this.props.user.id})]).then(function(t){M["default"].dispatch((0,w.hydrate)(t[1].results)),e.setState({isLoaded:!0,options:{changes_left:t[0].changes_left,length_min:t[0].length_min,length_max:t[0].length_max,next_on:t[0].next_on?(0,u["default"])(t[0].next_on):null}})})}},{key:"getChangeForm",value:function(){return this.state.isLoaded?0===this.state.options.changes_left?d["default"].createElement(h["default"],{options:this.state.options}):d["default"].createElement(v["default"],{complete:this.onComplete,options:this.state.options,user:this.props.user}):d["default"].createElement(p["default"],null)}},{key:"render",value:function(){return d["default"].createElement("div",null,this.getChangeForm(),d["default"].createElement(g["default"],{changes:this.props["username-history"],isLoaded:this.state.isLoaded}))}}]),t}(d["default"].Component);a["default"]=T},{"../../../index":302,"../../../reducers/username-history":363,"../../../reducers/users":364,"../../../services/ajax":365,"../../../services/page-title":373,"../../../services/snackbar":376,"../../../services/store":377,"../../username-history/root":280,"./form":80,"./form-loading":78,"./form-locked":79,moment:"moment",react:"react"}],82:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=e("../button"),d=n(c),f=e("../../services/ajax"),p=n(f),m=e("../../services/page-title"),h=n(m),b=e("../../services/snackbar"),v=n(b),_=e("../../services/store"),g=(n(_),e("../..")),y=n(g),E=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onPasswordChange=function(e){a.setState({password:e.target.value})},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.isLoading,r=t.password,o=a.props.user;return 0==r.length?(v["default"].error(gettext("Enter your password to confirm account deletion.")),!1):!n&&(a.setState({isLoading:!0}),void p["default"].post(o.api["delete"],{password:r}).then(function(e){window.location.href=y["default"].get("MISAGO_PATH")},function(e){a.setState({isLoading:!1}),e.password?v["default"].error(e.password[0]):v["default"].apiError(e)}))},a.state={isLoading:!1,password:""},a}return l(t,e),s(t,[{key:"componentDidMount",value:function(){h["default"].set({title:gettext("Delete account"),parent:gettext("Change your options")})}},{key:"render",value:function(){return u["default"].createElement("form",{onSubmit:this.handleSubmit},u["default"].createElement("div",{className:"panel panel-danger panel-form"},u["default"].createElement("div",{className:"panel-heading"},u["default"].createElement("h3",{className:"panel-title"},gettext("Delete account"))),u["default"].createElement("div",{className:"panel-body"},u["default"].createElement("p",{className:"lead"},gettext("You are going to delete your account. This action is nonreversible, and will result in following data being deleted:")),u["default"].createElement("p",null,"-"," ",gettext("Stored IP addresses associated with content that you have posted will be deleted.")),u["default"].createElement("p",null,"-"," ",gettext("Your username will become available for other user to rename to or for new user to register their account with.")),u["default"].createElement("p",null,"-"," ",gettext("Your e-mail will become available for use in new account registration.")),u["default"].createElement("hr",null),u["default"].createElement("p",null,gettext("All your posted content will NOT be deleted, but username associated with it will be changed to one shared by all deleted accounts."))),u["default"].createElement("div",{className:"panel-footer"},u["default"].createElement("div",{className:"input-group"},u["default"].createElement("input",{className:"form-control",disabled:this.state.isLoading,name:"password-confirmation",type:"password",placeholder:gettext("Enter your password to confirm account deletion."),value:this.state.password,onChange:this.onPasswordChange}),u["default"].createElement("span",{className:"input-group-btn"},u["default"].createElement(d["default"],{className:"btn-danger",loading:this.state.isLoading},gettext("Delete my account")))))))}}]),t}(u["default"].Component);a["default"]=E},{"../..":302,"../../services/ajax":365,"../../services/page-title":373,"../../services/snackbar":376,"../../services/store":377,"../button":8,react:"react"}],83:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=e("moment"),d=n(c),f=e("../button"),p=n(f),m=e("../../services/ajax"),h=n(m),b=e("../../services/page-title"),v=n(b),_=e("../../services/snackbar"),g=n(_),y=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleLoadDownloads=function(){h["default"].get(a.props.user.api.data_downloads).then(function(e){a.setState({isLoading:!1,downloads:e})},function(e){g["default"].apiError(e)})},a.handleRequestDataDownload=function(){a.setState({isSubmiting:!0}),h["default"].post(a.props.user.api.request_data_download).then(function(){a.handleLoadDownloads(),g["default"].success(gettext("Your request for data download has been registered.")),a.setState({isSubmiting:!1})},function(e){console.log(e),g["default"].apiError(e),a.setState({isSubmiting:!1})})},a.state={isLoading:!1,isSubmiting:!1,downloads:[]},a}return l(t,e),s(t,[{key:"componentDidMount",value:function(){v["default"].set({title:gettext("Download your data"),parent:gettext("Change your options")}),this.handleLoadDownloads()}},{key:"render",value:function(){return u["default"].createElement("div",null,u["default"].createElement("div",{className:"panel panel-default panel-form"},u["default"].createElement("div",{className:"panel-heading"},u["default"].createElement("h3",{className:"panel-title"},gettext("Download your data"))),u["default"].createElement("div",{className:"panel-body"},u["default"].createElement("p",null,gettext('To download your data from the site, click the "Request data download" button. Depending on amount of data to be archived and number of users wanting to download their data at same time it may take up to few days for your download to be prepared. An e-mail with notification will be sent to you when your data is ready to be downloaded.')),u["default"].createElement("p",null,gettext("The download will only be available for limited amount of time, after which it will be deleted from the site and marked as expired."))),u["default"].createElement("table",{className:"table"},u["default"].createElement("thead",null,u["default"].createElement("tr",null,u["default"].createElement("th",null,gettext("Requested on")),u["default"].createElement("th",{className:"col-md-4"},gettext("Download")))),u["default"].createElement("tbody",null,this.state.downloads.map(function(e){return u["default"].createElement("tr",{key:e.id},u["default"].createElement("td",{style:E},(0,d["default"])(e.requested_on).fromNow()),u["default"].createElement("td",null,u["default"].createElement(k,{exportFile:e.file,status:e.status})))}),0==this.state.downloads.length?u["default"].createElement("tr",null,u["default"].createElement("td",{colSpan:"2"},gettext("You have no data downloads."))):null)),u["default"].createElement("div",{className:"panel-footer text-right"},u["default"].createElement(p["default"],{className:"btn-primary",loading:this.state.isSubmiting,type:"button",onClick:this.handleRequestDataDownload},gettext("Request data download")))))}}]),t}(u["default"].Component);a["default"]=y;var E={verticalAlign:"middle"},w=0,O=1,k=function(e){var t=e.exportFile,a=e.status;return a===w||a===O?u["default"].createElement(p["default"],{className:"btn-info btn-sm btn-block",disabled:!0,type:"button"},gettext("Download is being prepared")):t?u["default"].createElement("a",{className:"btn btn-success btn-sm btn-block",href:t},gettext("Download your data")):u["default"].createElement(p["default"],{className:"btn-default btn-sm btn-block",disabled:!0,type:"button"},gettext("Download is expired"))}},{"../../services/ajax":365,"../../services/page-title":373,"../../services/snackbar":376,"../button":8,moment:"moment",react:"react"}],84:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=e("../edit-details"),d=n(c),f=e("../../services/page-title"),p=n(f),m=e("../../services/snackbar"),h=n(m),b=function(e){function t(){var e,a,n,l;r(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onSuccess=function(){h["default"].info(gettext("Your details have been updated."))},l=a,o(n,l)}return l(t,e),s(t,[{key:"componentDidMount",value:function(){p["default"].set({title:gettext("Edit details"),parent:gettext("Change your options")})}},{key:"render",value:function(){return u["default"].createElement(d["default"],{api:this.props.user.api.edit_details,onSuccess:this.onSuccess})}}]),t}(u["default"].Component);a["default"]=b},{"../../services/page-title":373,"../../services/snackbar":376,"../edit-details":32,react:"react"}],85:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=e("../button"),d=n(c),f=e("../form"),p=n(f),m=e("../form-group"),h=n(m),b=e("../select"),v=n(b),_=e("../yes-no-switch"),g=n(_),y=e("../../reducers/auth"),E=e("../../services/ajax"),w=n(E),O=e("../../services/page-title"),k=n(O),N=e("../../services/snackbar"),x=n(N),P=e("../../services/store"),j=n(P),C=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={isLoading:!1,is_hiding_presence:e.user.is_hiding_presence,limits_private_thread_invites_to:e.user.limits_private_thread_invites_to,subscribe_to_started_threads:e.user.subscribe_to_started_threads,subscribe_to_replied_threads:e.user.subscribe_to_replied_threads,errors:{}},a.privateThreadInvitesChoices=[{value:0,icon:"help_outline",label:gettext("Everybody")},{value:1,icon:"done_all",label:gettext("Users I follow")},{value:2,icon:"highlight_off",label:gettext("Nobody")}],a.subscribeToChoices=[{value:0,icon:"star_border",label:gettext("No")},{value:1,icon:"star_half",label:gettext("Notify")},{value:2,icon:"star",label:gettext("Notify with e-mail")}],a}return l(t,e),s(t,[{key:"send",value:function(){return w["default"].post(this.props.user.api.options,{is_hiding_presence:this.state.is_hiding_presence,limits_private_thread_invites_to:this.state.limits_private_thread_invites_to,subscribe_to_started_threads:this.state.subscribe_to_started_threads,subscribe_to_replied_threads:this.state.subscribe_to_replied_threads})}},{key:"handleSuccess",value:function(){j["default"].dispatch((0,y.patch)({is_hiding_presence:this.state.is_hiding_presence,limits_private_thread_invites_to:this.state.limits_private_thread_invites_to,subscribe_to_started_threads:this.state.subscribe_to_started_threads,subscribe_to_replied_threads:this.state.subscribe_to_replied_threads})),x["default"].success(gettext("Your forum options have been changed."))}},{key:"handleError",value:function(e){400===e.status?x["default"].error(gettext("Please reload page and try again.")):x["default"].apiError(e)}},{key:"componentDidMount",value:function(){k["default"].set({title:gettext("Forum options"),parent:gettext("Change your options")})}},{key:"render",value:function(){return u["default"].createElement("form",{onSubmit:this.handleSubmit},u["default"].createElement("div",{className:"panel panel-default panel-form"},u["default"].createElement("div",{className:"panel-heading"},u["default"].createElement("h3",{className:"panel-title"},gettext("Change forum options"))),u["default"].createElement("div",{className:"panel-body"},u["default"].createElement("fieldset",null,u["default"].createElement("legend",null,gettext("Privacy settings")),u["default"].createElement(h["default"],{label:gettext("Hide my presence"),helpText:gettext("If you hide your presence, only members with permission to see hidden users will see when you are online."),"for":"id_is_hiding_presence"},u["default"].createElement(g["default"],{id:"id_is_hiding_presence",disabled:this.state.isLoading,iconOn:"visibility_off",iconOff:"visibility",labelOn:gettext("Hide my presence from other users"),labelOff:gettext("Show my presence to other users"),onChange:this.bindInput("is_hiding_presence"),value:this.state.is_hiding_presence})),u["default"].createElement(h["default"],{label:gettext("Private thread invitations"),"for":"id_limits_private_thread_invites_to"},u["default"].createElement(v["default"],{id:"id_limits_private_thread_invites_to",disabled:this.state.isLoading,onChange:this.bindInput("limits_private_thread_invites_to"),value:this.state.limits_private_thread_invites_to,choices:this.privateThreadInvitesChoices}))),u["default"].createElement("fieldset",null,u["default"].createElement("legend",null,gettext("Automatic subscriptions")),u["default"].createElement(h["default"],{label:gettext("Threads I start"),"for":"id_subscribe_to_started_threads"},u["default"].createElement(v["default"],{id:"id_subscribe_to_started_threads",disabled:this.state.isLoading,onChange:this.bindInput("subscribe_to_started_threads"),value:this.state.subscribe_to_started_threads,choices:this.subscribeToChoices})),u["default"].createElement(h["default"],{label:gettext("Threads I reply to"),"for":"id_subscribe_to_replied_threads"},u["default"].createElement(v["default"],{id:"id_subscribe_to_replied_threads",disabled:this.state.isLoading,onChange:this.bindInput("subscribe_to_replied_threads"),value:this.state.subscribe_to_replied_threads,choices:this.subscribeToChoices})))),u["default"].createElement("div",{className:"panel-footer"},u["default"].createElement(d["default"],{className:"btn-primary",loading:this.state.isLoading},gettext("Save changes")))))}}]),t}(p["default"]);a["default"]=C},{"../../reducers/auth":350,"../../services/ajax":365,"../../services/page-title":373,"../../services/snackbar":376,"../../services/store":377,"../button":8,"../form":56,"../form-group":55,"../select":210,"../yes-no-switch":300,react:"react"}],86:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){return s["default"].createElement("div",{className:"list-group nav-side"},e.options.map(function(t){return s["default"].createElement(i.Link,{to:e.baseUrl+t.component+"/",className:"list-group-item",activeClassName:"active",key:t.component},s["default"].createElement("span",{className:"material-icon"},t.icon),t.name)}))}function o(e){return s["default"].createElement("ul",{className:e.className||"dropdown-menu stick-to-bottom",role:"menu"},e.options.map(function(t){return s["default"].createElement(c["default"],{path:e.baseUrl+t.component+"/",key:t.component},s["default"].createElement(i.Link,{to:e.baseUrl+t.component+"/",onClick:e.hideNav},s["default"].createElement("span",{className:"material-icon hidden-sm"},t.icon),t.name))}))}Object.defineProperty(a,"__esModule",{value:!0}),a.SideNav=r,a.CompactNav=o;var l=e("react"),s=n(l),i=e("react-router"),u=e("../li"),c=n(u),d=e("../../index");n(d)},{"../../index":302,"../li":57,react:"react","react-router":"react-router"}],87:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{tick:e.tick.tick,user:e.auth.user,"username-history":e["username-history"]}}function i(){var e=S["default"].get("SETTINGS").enable_sso,t=[{path:S["default"].get("USERCP_URL")+"forum-options/",component:(0,f.connect)(s)(w["default"])},{path:S["default"].get("USERCP_URL")+"edit-details/",component:(0,f.connect)(s)(_["default"])}];return e||(t.push({path:S["default"].get("USERCP_URL")+"change-username/",component:(0,f.connect)(s)(k["default"])}),t.push({path:S["default"].get("USERCP_URL")+"sign-in-credentials/",component:(0,f.connect)(s)(x["default"])})),S["default"].get("ENABLE_DOWNLOAD_OWN_DATA")&&t.push({path:S["default"].get("USERCP_URL")+"download-data/",component:(0,f.connect)(s)(y["default"])}),!e&&S["default"].get("ENABLE_DELETE_OWN_ACCOUNT")&&t.push({path:S["default"].get("USERCP_URL")+"delete-account/",component:(0,f.connect)(s)(b["default"])}),t}Object.defineProperty(a,"__esModule",{value:!0});var u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a.select=s,a.paths=i;var c=e("react"),d=n(c),f=e("react-redux"),p=e("../dropdown-toggle"),m=(n(p),e("./navs")),h=e("./delete-account"),b=n(h),v=e("./edit-details"),_=n(v),g=e("./download-data"),y=n(g),E=e("./forum-options"),w=n(E),O=e("./change-username/root"),k=n(O),N=e("./sign-in-credentials/root"),x=n(N),P=e("../with-dropdown"),j=n(P),C=e("../../index"),S=n(C),M=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),u(t,[{key:"render",value:function(){return d["default"].createElement("div",{className:"page page-options"},d["default"].createElement("div",{className:"page-header-bg"},d["default"].createElement("div",{className:"page-header"},d["default"].createElement("div",{className:"container"},d["default"].createElement("h1",null,gettext("Change your options"))),d["default"].createElement("div",{className:"page-tabs visible-xs-block visible-sm-block"},d["default"].createElement("div",{className:"container"},d["default"].createElement(m.CompactNav,{className:"nav nav-pills",baseUrl:S["default"].get("USERCP_URL"),options:S["default"].get("USER_OPTIONS")}))))),d["default"].createElement("div",{className:"container"},d["default"].createElement("div",{className:"row"},d["default"].createElement("div",{className:"col-md-3 hidden-xs hidden-sm"},d["default"].createElement(m.SideNav,{baseUrl:S["default"].get("USERCP_URL"),options:S["default"].get("USER_OPTIONS")})),d["default"].createElement("div",{className:"col-md-9"},this.props.children))))}}]),t}(j["default"]);a["default"]=M},{"../../index":302,"../dropdown-toggle":27,"../with-dropdown":299,"./change-username/root":81,"./delete-account":82,"./download-data":83,"./edit-details":84,"./forum-options":85,"./navs":86,"./sign-in-credentials/root":91,react:"react","react-redux":"react-redux"}],88:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0});var r=e("react"),o=n(r),l=e("../../../index"),s=n(l),i=function(){return o["default"].createElement("div",{className:"panel panel-default panel-form"},o["default"].createElement("div",{className:"panel-heading"},o["default"].createElement("h3",{className:"panel-title"},gettext("Change email or password"))),o["default"].createElement("div",{className:"panel-body panel-message-body"},o["default"].createElement("div",{className:"message-icon"},o["default"].createElement("span",{className:"material-icon"},"info_outline")),o["default"].createElement("div",{className:"message-body"},o["default"].createElement("p",{className:"lead"},gettext("You need to set a password for your account to be able to change your username or email.")),o["default"].createElement("p",{className:"help-block"},o["default"].createElement("a",{className:"btn btn-primary",href:s["default"].get("FORGOTTEN_PASSWORD_URL")},gettext("Set password"))))))};a["default"]=i},{"../../../index":302,react:"react"}],89:[function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=e("react"),c=r(u),d=e("../../button"),f=r(d),p=e("../../form"),m=r(p),h=e("../../form-group"),b=r(h),v=e("../../../services/ajax"),_=r(v),g=e("../../../services/snackbar"),y=r(g),E=e("../../../utils/validators"),w=n(E),O=function(e){function t(e){o(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={new_email:"",password:"",validators:{new_email:[w.email()],password:[]},isLoading:!1},a}return s(t,e),i(t,[{key:"clean",value:function(){var e=this.validate(),t=[this.state.new_email.trim().length,this.state.password.trim().length];return t.indexOf(0)!==-1?(y["default"].error(gettext("Fill out all fields.")),!1):!e.new_email||(y["default"].error(e.new_email[0]),!1)}},{key:"send",value:function(){return _["default"].post(this.props.user.api.change_email,{new_email:this.state.new_email,password:this.state.password})}},{key:"handleSuccess",value:function(e){this.setState({new_email:"",password:""}),y["default"].success(e.detail)}},{key:"handleError",value:function(e){400===e.status?e.new_email?y["default"].error(e.new_email):y["default"].error(e.password):y["default"].apiError(e)}},{key:"render",value:function(){return c["default"].createElement("form",{onSubmit:this.handleSubmit},c["default"].createElement("input",{type:"type",style:{display:"none"}}),c["default"].createElement("input",{type:"password",style:{display:"none"}}),c["default"].createElement("div",{className:"panel panel-default panel-form"},c["default"].createElement("div",{className:"panel-heading"},c["default"].createElement("h3",{className:"panel-title"},gettext("Change e-mail address"))),c["default"].createElement("div",{className:"panel-body"},c["default"].createElement(b["default"],{label:gettext("New e-mail"),"for":"id_new_email"},c["default"].createElement("input",{type:"text",id:"id_new_email",className:"form-control",disabled:this.state.isLoading,onChange:this.bindInput("new_email"),value:this.state.new_email})),c["default"].createElement("hr",null),c["default"].createElement(b["default"],{label:gettext("Your current password"),"for":"id_confirm_email"},c["default"].createElement("input",{type:"password",id:"id_confirm_email",className:"form-control",disabled:this.state.isLoading,onChange:this.bindInput("password"),value:this.state.password}))),c["default"].createElement("div",{className:"panel-footer"},c["default"].createElement(f["default"],{className:"btn-primary",loading:this.state.isLoading},gettext("Change e-mail")))))}}]),t}(m["default"]);a["default"]=O},{"../../../services/ajax":365,"../../../services/snackbar":376,"../../../utils/validators":393,"../../button":8,"../../form":56,"../../form-group":55,react:"react"}],90:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=e("../../button"),d=n(c),f=e("../../form"),p=n(f),m=e("../../form-group"),h=n(m),b=e("../../../services/ajax"),v=n(b),_=e("../../../services/snackbar"),g=n(_),y=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={new_password:"",repeat_password:"",password:"",validators:{new_password:[],repeat_password:[],password:[]},isLoading:!1},a}return l(t,e),s(t,[{key:"clean",value:function(){var e=this.validate(),t=[this.state.new_password.trim().length,this.state.repeat_password.trim().length,this.state.password.trim().length];return t.indexOf(0)!==-1?(g["default"].error(gettext("Fill out all fields.")),!1):e.new_password?(g["default"].error(e.new_password[0]),!1):this.state.new_password===this.state.repeat_password||(g["default"].error(gettext("New passwords are different.")),!1)}},{key:"send",value:function(){return v["default"].post(this.props.user.api.change_password,{new_password:this.state.new_password,password:this.state.password})}},{key:"handleSuccess",value:function(e){this.setState({new_password:"",repeat_password:"",password:""}),g["default"].success(e.detail)}},{key:"handleError",value:function(e){400===e.status?e.new_password?g["default"].error(e.new_password):g["default"].error(e.password):g["default"].apiError(e)}},{key:"render",value:function(){return u["default"].createElement("form",{onSubmit:this.handleSubmit},u["default"].createElement("input",{type:"type",style:{display:"none"}}),u["default"].createElement("input",{type:"password",style:{display:"none"}}),u["default"].createElement("div",{className:"panel panel-default panel-form"},u["default"].createElement("div",{className:"panel-heading"},u["default"].createElement("h3",{className:"panel-title"},gettext("Change password"))),u["default"].createElement("div",{className:"panel-body"},u["default"].createElement(h["default"],{label:gettext("New password"),"for":"id_new_password"},u["default"].createElement("input",{type:"password",id:"id_new_password",className:"form-control",disabled:this.state.isLoading,onChange:this.bindInput("new_password"),value:this.state.new_password})),u["default"].createElement(h["default"],{label:gettext("Repeat password"),"for":"id_repeat_password"},u["default"].createElement("input",{type:"password",id:"id_repeat_password",className:"form-control",disabled:this.state.isLoading,onChange:this.bindInput("repeat_password"),value:this.state.repeat_password})),u["default"].createElement("hr",null),u["default"].createElement(h["default"],{label:gettext("Your current password"),"for":"id_confirm_password"},u["default"].createElement("input",{type:"password",id:"id_confirm_password",className:"form-control",disabled:this.state.isLoading,onChange:this.bindInput("password"),value:this.state.password}))),u["default"].createElement("div",{className:"panel-footer"},u["default"].createElement(d["default"],{className:"btn-primary",loading:this.state.isLoading},gettext("Change password")))))}}]),t}(p["default"]);a["default"]=y},{"../../../services/ajax":365,"../../../services/snackbar":376,
"../../button":8,"../../form":56,"../../form-group":55,react:"react"}],91:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=e("./change-email"),d=n(c),f=e("./change-password"),p=n(f),m=e("../../../index"),h=n(m),b=e("../../../services/page-title"),v=n(b),_=e("./UnusablePasswordMessage"),g=n(_),y=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"componentDidMount",value:function(){v["default"].set({title:gettext("Change email or password"),parent:gettext("Change your options")})}},{key:"render",value:function(){return this.props.user.has_usable_password?u["default"].createElement("div",null,u["default"].createElement(d["default"],{user:this.props.user}),u["default"].createElement(p["default"],{user:this.props.user}),u["default"].createElement("p",{className:"message-line"},u["default"].createElement("span",{className:"material-icon"},"warning"),u["default"].createElement("a",{href:h["default"].get("FORGOTTEN_PASSWORD_URL")},gettext("Change forgotten password")))):u["default"].createElement(g["default"],null)}}]),t}(u["default"].Component);a["default"]=y},{"../../../index":302,"../../../services/page-title":373,"./UnusablePasswordMessage":88,"./change-email":89,"./change-password":90,react:"react"}],92:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=e("../utils/string-count"),d=n(c),f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"getClassName",value:function(){return this.props.copy&&this.props.copy.length&&1===(0,d["default"])(this.props.copy,"<p")&&this.props.copy.indexOf("<br")===-1?"page-lead lead":"page-lead"}},{key:"render",value:function(){return this.props.copy&&this.props.copy.length?u["default"].createElement("div",{className:this.getClassName(),dangerouslySetInnerHTML:{__html:this.props.copy}}):null}}]),t}(u["default"].Component);a["default"]=f},{"../utils/string-count":392,react:"react"}],93:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=e("./loader"),d=n(c),f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"render",value:function(){return u["default"].createElement("div",{className:"panel-body panel-body-loading"},u["default"].createElement(d["default"],{className:"loader loader-spaced"}))}}]),t}(u["default"].Component);a["default"]=f},{"./loader":58,react:"react"}],94:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"getHelpText",value:function(){return this.props.helpText?u["default"].createElement("p",{className:"help-block"},this.props.helpText):null}},{key:"render",value:function(){return u["default"].createElement("div",{className:"panel-body panel-message-body"},u["default"].createElement("div",{className:"message-icon"},u["default"].createElement("span",{className:"material-icon"},this.props.icon||"info_outline")),u["default"].createElement("div",{className:"message-body"},u["default"].createElement("p",{className:"lead"},this.props.message),this.getHelpText()))}}]),t}(u["default"].Component);a["default"]=c},{react:"react"}],95:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=e("../add-participant"),d=n(c),f=e("../../services/modal"),p=n(f),m=function(e){function t(){var e,a,n,l;r(this,t);for(var s=arguments.length,i=Array(s),c=0;c<s;c++)i[c]=arguments[c];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onClick=function(){p["default"].show(u["default"].createElement(d["default"],{thread:n.props.thread}))},l=a,o(n,l)}return l(t,e),s(t,[{key:"render",value:function(){return this.props.thread.acl.can_add_participants?u["default"].createElement("div",{className:"col-xs-12 col-sm-3"},u["default"].createElement("button",{className:"btn btn-default btn-block",onClick:this.onClick,type:"button"},u["default"].createElement("span",{className:"material-icon"},"person_add"),gettext("Add participant"))):null}}]),t}(u["default"].Component);a["default"]=m},{"../../services/modal":371,"../add-participant":4,react:"react"}],96:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function o(e,t){m["default"].patch(e.api.index,[{op:"remove",path:"participants",value:t.id}]).then(function(){b["default"].success(gettext("You have left this thread.")),window.setTimeout(function(){window.location=f["default"].get("PRIVATE_THREADS_URL")},3e3)},function(e){b["default"].apiError(e)})}function l(e,t){m["default"].patch(e.api.index,[{op:"remove",path:"participants",value:t.id},{op:"add",path:"acl",value:1}]).then(function(e){_["default"].dispatch((0,c.updateAcl)(e)),_["default"].dispatch(u.replace(e.participants));var a=gettext("%(user)s has been removed from this thread.");b["default"].success(interpolate(a,{user:t.username},!0))},function(e){b["default"].apiError(e)})}function s(e,t){m["default"].patch(e.api.index,[{op:"replace",path:"owner",value:t.id},{op:"add",path:"acl",value:1}]).then(function(e){_["default"].dispatch((0,c.updateAcl)(e)),_["default"].dispatch(u.replace(e.participants));var a=gettext("%(user)s has been made new thread owner.");b["default"].success(interpolate(a,{user:t.username},!0))},function(e){b["default"].apiError(e)})}Object.defineProperty(a,"__esModule",{value:!0}),a.leave=o,a.remove=l,a.changeOwner=s;var i=e("../../../reducers/participants"),u=r(i),c=e("../../../reducers/thread"),d=e("../../.."),f=n(d),p=e("../../../services/ajax"),m=n(p),h=e("../../../services/snackbar"),b=n(h),v=e("../../../services/store"),_=n(v)},{"../../..":302,"../../../reducers/participants":351,"../../../reducers/thread":360,"../../../services/ajax":365,"../../../services/snackbar":376,"../../../services/store":377}],97:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){var t=e.isOwner;return t?l["default"].createElement("li",{className:"dropdown-header dropdown-header-owner"},l["default"].createElement("span",{className:"material-icon"},"start"),l["default"].createElement("span",{className:"icon-text"},gettext("Thread owner"))):null}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.participant,a="btn btn-default";return t.is_owner&&(a="btn btn-primary"),a+=" btn-user btn-block",l["default"].createElement("div",{className:"col-xs-12 col-sm-3 col-md-2 participant-card"},l["default"].createElement("div",{className:"dropdown"},l["default"].createElement("button",{"aria-haspopup":"true","aria-expanded":"false",className:a,"data-toggle":"dropdown",type:"button"},l["default"].createElement(f["default"],{size:"34",user:t}),l["default"].createElement("span",{className:"btn-text"},t.username)),l["default"].createElement("ul",{className:"dropdown-menu stick-to-bottom"},l["default"].createElement(r,{isOwner:t.is_owner}),l["default"].createElement("li",{className:"dropdown-header"}),l["default"].createElement("li",null,l["default"].createElement("a",{href:t.url},gettext("See profile"))),l["default"].createElement("li",{role:"separator",className:"divider"}),l["default"].createElement(i["default"],e),l["default"].createElement(c["default"],e))))},a.UserStatus=r;var o=e("react"),l=n(o),s=e("./make-owner"),i=n(s),u=e("./remove"),c=n(u),d=e("../../avatar"),f=n(d)},{"../../avatar":6,"./make-owner":99,"./remove":100,react:"react"}],98:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.participants,a=e.thread,n=e.user,r=e.userIsOwner;return o["default"].createElement("div",{className:"participants-cards"},o["default"].createElement("div",{className:"row"},t.map(function(e){return o["default"].createElement(s["default"],{key:e.id,participant:e,thread:a,user:n,userIsOwner:r})})))};var r=e("react"),o=n(r),l=e("./card"),s=n(l)},{"./card":97,react:"react"}],99:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=e("./actions"),d=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onClick=function(){var e=!1;if(a.isUser)e=confirm(gettext("Are you sure you want to take over this thread?"));else{var t=gettext("Are you sure you want to change thread owner to %(user)s?");e=confirm(interpolate(t,{user:a.props.participant.username},!0))}e&&(0,c.changeOwner)(a.props.thread,a.props.participant)},a.isUser=e.participant.id===e.user.id,a}return l(t,e),s(t,[{key:"render",value:function(){return this.props.participant.is_owner?null:this.props.thread.acl.can_change_owner?u["default"].createElement("li",null,u["default"].createElement("button",{className:"btn btn-link",onClick:this.onClick,type:"button"},gettext("Make owner"))):null}}]),t}(u["default"].Component);a["default"]=d},{"./actions":96,react:"react"}],100:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=e("./actions"),d=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onClick=function(){var e=!1;if(a.isUser)e=confirm(gettext("Are you sure you want to leave this thread?"));else{var t=gettext("Are you sure you want to remove %(user)s from this thread?");e=confirm(interpolate(t,{user:a.props.participant.username},!0))}e&&(a.isUser?(0,c.leave)(a.props.thread,a.props.participant):(0,c.remove)(a.props.thread,a.props.participant))},a.isUser=e.participant.id===e.user.id,a}return l(t,e),s(t,[{key:"render",value:function(){var e=this.props.user.acl.can_moderate_private_threads;return this.props.userIsOwner||this.isUser||e?u["default"].createElement("li",null,u["default"].createElement("button",{className:"btn btn-link",onClick:this.onClick,type:"button"},this.isUser?gettext("Leave thread"):gettext("Remove"))):null}}]),t}(u["default"].Component);a["default"]=d},{"./actions":96,react:"react"}],101:[function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){return t[0].id===e.id}Object.defineProperty(a,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};a["default"]=function(e){return e.participants.length?i["default"].createElement("div",{className:"panel panel-default panel-participants"},i["default"].createElement("div",{className:"panel-body"},i["default"].createElement(f["default"],l({userIsOwner:o(e.user,e.participants)},e)),i["default"].createElement("div",{className:"row"},i["default"].createElement(c["default"],{thread:e.thread}),i["default"].createElement("div",{className:"col-xs-12 col-sm-9"},i["default"].createElement("p",null,m.getParticipantsCopy(e.participants)))))):null},a.getUserIsOwner=o;var s=e("react"),i=r(s),u=e("./add-participant"),c=r(u),d=e("./cards-list"),f=r(d),p=e("./utils"),m=n(p)},{"./add-participant":95,"./cards-list":98,"./utils":102,react:"react"}],102:[function(e,t,a){"use strict";function n(e){var t=e.length,a=ngettext("This thread has %(users)s participant.","This thread has %(users)s participants.",t);return interpolate(a,{users:t},!0)}Object.defineProperty(a,"__esModule",{value:!0}),a.getParticipantsCopy=n},{}],103:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0}),a.LABELS=a.STYLES=void 0;var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=e("../services/zxcvbn"),d=n(c),f=a.STYLES=["progress-bar-danger","progress-bar-warning","progress-bar-warning","progress-bar-primary","progress-bar-success"],p=a.LABELS=[gettext("Entered password is very weak."),gettext("Entered password is weak."),gettext("Entered password is average."),gettext("Entered password is strong."),gettext("Entered password is very strong.")],m=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a._score=0,a._password=null,a._inputs=[],a.state={loaded:!1},a}return l(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this;d["default"].load().then(function(){e.setState({loaded:!0})})}},{key:"getScore",value:function(e,t){var a=this,n=!1;return e!==this._password&&(n=!0),t.length!==this._inputs.length?n=!0:t.map(function(e,t){e.trim()!==a._inputs[t]&&(n=!0)}),n&&(this._score=d["default"].scorePassword(e,t),this._password=e,this._inputs=t.map(function(e){return e.trim()})),this._score}},{key:"render",value:function(){if(!this.state.loaded)return null;var e=this.getScore(this.props.password,this.props.inputs);return u["default"].createElement("div",{className:"help-block password-strength"},u["default"].createElement("div",{className:"progress"},u["default"].createElement("div",{className:"progress-bar "+f[e],style:{width:20+20*e+"%"},role:"progress-bar","aria-valuenow":e,"aria-valuemin":"0","aria-valuemax":"4"},u["default"].createElement("span",{className:"sr-only"},p[e]))),u["default"].createElement("p",{className:"text-small"},p[e]))}}]),t}(u["default"].Component);a["default"]=m},{"../services/zxcvbn":378,react:"react"}],104:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(){for(var e="";12!=e.length;)e=Math.random().toString(36).replace(/[^a-zA-Z0-9]+/g,"").substr(1,12);return e}Object.defineProperty(a,"__esModule",{value:!0}),a.PollChoice=void 0;var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a.generateRandomHash=s;var u=e("react"),c=n(u),d=function(e){function t(){var e,a,n,l;r(this,t);for(var i=arguments.length,u=Array(i),c=0;c<i;c++)u[c]=arguments[c];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.onAdd=function(){var e=n.props.choices.slice();e.push({hash:s(),label:""}),n.props.setChoices(e)},n.onChange=function(e,t){var a=n.props.choices.map(function(a){return a.hash===e&&(a.label=t),a});n.props.setChoices(a)},n.onDelete=function(e){var t=n.props.choices.filter(function(t){return t.hash!==e});n.props.setChoices(t)},l=a,o(n,l)}return l(t,e),i(t,[{key:"render",value:function(){var e=this;return c["default"].createElement("div",{className:"poll-choices-control"},c["default"].createElement("ul",{className:"list-group"},this.props.choices.map(function(t){return c["default"].createElement(f,{canDelete:e.props.choices.length>2,choice:t,disabled:e.props.disabled,key:t.hash,onChange:e.onChange,onDelete:e.onDelete})})),c["default"].createElement("button",{className:"btn btn-default btn-sm",disabled:this.props.disabled,onClick:this.onAdd,type:"button"},gettext("Add choice")))}}]),t}(c["default"].Component);a["default"]=d;var f=a.PollChoice=function(e){function t(){var e,a,n,l;r(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onChange=function(e){n.props.onChange(n.props.choice.hash,e.target.value)},n.onDelete=function(){var e=confirm(gettext("Are you sure you want to delete this choice?"));e&&n.props.onDelete(n.props.choice.hash)},l=a,o(n,l)}return l(t,e),i(t,[{key:"render",value:function(){return c["default"].createElement("li",{className:"list-group-item"},c["default"].createElement("button",{className:"btn",disabled:!this.props.canDelete||this.props.disabled,onClick:this.onDelete,title:gettext("Delete this choice"),type:"button"},c["default"].createElement("span",{className:"material-icon"},"close")),c["default"].createElement("input",{disabled:this.props.disabled,maxLength:"255",placeholder:gettext("choice label"),type:"text",onChange:this.onChange,value:this.props.choice.label}))}}]),t}(c["default"].Component)},{react:"react"}],105:[function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return e.isEdit?null:d["default"].createElement("div",{className:"col-xs-12 col-sm-6"},d["default"].createElement(g["default"],{label:gettext("Make voting public"),helpText:gettext("Making voting public will allow everyone to access detailed list of votes, showing which users voted for which choices and at which times. This option can't be changed after poll's creation. Moderators may see voting details for all polls."),"for":"id_is_public"},d["default"].createElement(E["default"],{id:"id_is_public",disabled:e.disabled,iconOn:"visibility",iconOff:"visibility_off",labelOn:gettext("Votes are public"),labelOff:gettext("Votes are hidden"),onChange:e.bindInput("is_public"),value:e.value})))}Object.defineProperty(a,"__esModule",{value:!0});var u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a.PollPublicSwitch=i;var c=e("react"),d=r(c),f=e("./choices-control"),p=r(f),m=e("../../button"),h=r(m),b=e("../../form"),v=r(b),_=e("../../form-group"),g=r(_),y=e("../../yes-no-switch"),E=r(y),w=e("../../../reducers/poll"),O=n(w),k=e("../../../services/ajax"),N=r(k),x=e("../../../services/posting"),P=r(x),j=e("../../../services/snackbar"),C=r(j),S=e("../../../services/store"),M=r(S),T=function(e){function t(e){o(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.setChoices=function(e){var t=Object.assign({},t,{choices:null});a.setState({choices:e,errors:t})},a.onCancel=function(){var e=confirm(gettext("Are you sure you want to discard poll?"));e&&P["default"].close()};var n=e.poll||{question:"",choices:[{hash:"choice-10000",label:""},{hash:"choice-20000",label:""}],length:0,allowed_choices:1,allow_revotes:0,is_public:0};return a.state={isLoading:!1,isEdit:!!n.question,question:n.question,choices:n.choices,length:n.length,allowed_choices:n.allowed_choices,allow_revotes:n.allow_revotes,is_public:n.is_public,validators:{question:[],choices:[],length:[],allowed_choices:[]},errors:{}},a}return s(t,e),u(t,[{key:"send",value:function(){var e={question:this.state.question,choices:this.state.choices,length:this.state.length,allowed_choices:this.state.allowed_choices,allow_revotes:this.state.allow_revotes,is_public:this.state.is_public};return this.state.isEdit?N["default"].put(this.props.poll.api.index,e):N["default"].post(this.props.thread.api.poll,e)}},{key:"handleSuccess",value:function(e){M["default"].dispatch(O.replace(e)),this.state.isEdit?C["default"].success(gettext("Poll has been edited.")):C["default"].success(gettext("Poll has been posted.")),P["default"].close()}},{key:"handleError",value:function(e){400===e.status?(e.non_field_errors&&(e.allowed_choices=e.non_field_errors),this.setState({errors:Object.assign({},e)}),C["default"].error(gettext("Form contains errors."))):C["default"].apiError(e)}},{key:"render",value:function(){return d["default"].createElement("div",{className:"poll-form"},d["default"].createElement("div",{className:"container"},d["default"].createElement("form",{onSubmit:this.handleSubmit},d["default"].createElement("div",{className:"panel panel-default panel-form"},d["default"].createElement("div",{className:"panel-body"},d["default"].createElement("fieldset",null,d["default"].createElement("legend",null,gettext("Question and choices")),d["default"].createElement(g["default"],{label:gettext("Poll question"),"for":"id_questions",validation:this.state.errors.question},d["default"].createElement("input",{className:"form-control",disabled:this.state.isLoading,id:"id_questions",onChange:this.bindInput("question"),type:"text",maxLength:"255",value:this.state.question})),d["default"].createElement(g["default"],{label:gettext("Available choices"),validation:this.state.errors.choices},d["default"].createElement(p["default"],{choices:this.state.choices,disabled:this.state.isLoading,setChoices:this.setChoices}))),d["default"].createElement("fieldset",null,d["default"].createElement("legend",null,gettext("Voting")),d["default"].createElement("div",{className:"row"},d["default"].createElement("div",{className:"col-xs-12 col-sm-6"},d["default"].createElement(g["default"],{label:gettext("Poll length"),helpText:gettext("Enter number of days for which voting in this poll should be possible or zero to run this poll indefinitely."),"for":"id_length",validation:this.state.errors.length},d["default"].createElement("input",{className:"form-control",disabled:this.state.isLoading,id:"id_length",onChange:this.bindInput("length"),type:"text",value:this.state.length}))),d["default"].createElement("div",{className:"col-xs-12 col-sm-6"},d["default"].createElement(g["default"],{label:gettext("Allowed choices"),"for":"id_allowed_choices",validation:this.state.errors.allowed_choices},d["default"].createElement("input",{className:"form-control",disabled:this.state.isLoading,id:"id_allowed_choices",onChange:this.bindInput("allowed_choices"),type:"text",maxLength:"255",value:this.state.allowed_choices})))),d["default"].createElement("div",{className:"row"},d["default"].createElement(i,{bindInput:this.bindInput,disabled:this.state.isLoading,isEdit:this.state.isEdit,value:this.state.is_public}),d["default"].createElement("div",{className:"col-xs-12 col-sm-6"},d["default"].createElement(g["default"],{label:gettext("Allow vote changes"),"for":"id_allow_revotes"},d["default"].createElement(E["default"],{id:"id_allow_revotes",disabled:this.state.isLoading,iconOn:"check",iconOff:"close",labelOn:gettext("Allow participants to change their vote"),labelOff:gettext("Don't allow participants to change their vote"),onChange:this.bindInput("allow_revotes"),value:this.state.allow_revotes})))))),d["default"].createElement("div",{className:"panel-footer text-right"},d["default"].createElement("button",{className:"btn btn-default",disabled:this.state.isLoading,onClick:this.onCancel,type:"button"},gettext("Cancel"))," ",d["default"].createElement(h["default"],{className:"btn-primary",loading:this.state.isLoading},this.state.isEdit?gettext("Save changes"):gettext("Post poll")))))))}}]),t}(v["default"]);a["default"]=T},{"../../../reducers/poll":352,"../../../services/ajax":365,"../../../services/posting":375,"../../../services/snackbar":376,"../../../services/store":377,"../../button":8,"../../form":56,"../../form-group":55,"../../yes-no-switch":300,"./choices-control":104,react:"react"}],106:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a.PollForm=a.Poll=void 0;var r=e("./poll"),o=n(r),l=e("./form"),s=n(l);a.Poll=o["default"],a.PollForm=s["default"]},{"./form":105,"./poll":108}],107:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){var t=interpolate((0,m["default"])(gettext("Posted by %(poster)s %(posted_on)s.")),{poster:o(e.poll),posted_on:l(e.poll)},!0);return f["default"].createElement("li",{className:"poll-info-creation",dangerouslySetInnerHTML:{
__html:t}})}function o(e){return e.url.poster?interpolate(v,{url:(0,m["default"])(e.url.poster),user:(0,m["default"])(e.poster_name)},!0):interpolate(b,{user:(0,m["default"])(e.poster_name)},!0)}function l(e){return interpolate(h,{absolute:(0,m["default"])(e.posted_on.format("LLL")),relative:(0,m["default"])(e.posted_on.fromNow())},!0)}function s(e){if(!e.poll.length)return null;var t=interpolate((0,m["default"])(gettext("Voting ends %(ends_on)s.")),{ends_on:i(e.poll)},!0);return f["default"].createElement("li",{className:"poll-info-ends-on",dangerouslySetInnerHTML:{__html:t}})}function i(e){return interpolate(h,{absolute:(0,m["default"])(e.endsOn.format("LLL")),relative:(0,m["default"])(e.endsOn.fromNow())},!0)}function u(e){var t=ngettext("%(votes)s vote.","%(votes)s votes.",e.votes),a=interpolate(t,{votes:e.votes},!0);return f["default"].createElement("li",{className:"poll-info-votes"},a)}function c(e){return e.poll.is_public?f["default"].createElement("li",{className:"poll-info-public"},gettext("Votes are public.")):null}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){return f["default"].createElement("ul",{className:"list-unstyled list-inline poll-details"},f["default"].createElement(u,{votes:e.poll.votes}),f["default"].createElement(s,{poll:e.poll}),f["default"].createElement(c,{poll:e.poll}),f["default"].createElement(r,{poll:e.poll}))},a.PollCreation=r,a.getPoster=o,a.getPostedOn=l,a.PollLength=s,a.getEndsOn=i,a.PollVotes=u,a.PollIsPublic=c;var d=e("react"),f=n(d),p=e("../../utils/escape-html"),m=n(p),h='<abbr title="%(absolute)s">%(relative)s</abbr>',b='<span class="item-title">%(user)s</span>',v='<a href="%(url)s" class="item-title">%(user)s</a>'},{"../../utils/escape-html":383,react:"react"}],108:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return!!e.length&&(0,p["default"])().isAfter(e.endsOn)}Object.defineProperty(a,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a.getIsPollOver=s;var c=e("react"),d=n(c),f=e("moment"),p=n(f),m=e("./results"),h=n(m),b=e("./voting"),v=n(b),_=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.showResults=function(){a.setState({showResults:!0})},a.showVoting=function(){a.setState({showResults:!1})};var n=!0;return e.user.id&&!e.poll.hasSelectedChoices&&(n=!1),a.state={showResults:n},a}return l(t,e),u(t,[{key:"render",value:function(){if(!this.props.thread.poll)return null;var e=s(this.props.poll);return e||!this.props.poll.acl.can_vote||this.state.showResults?d["default"].createElement(h["default"],i({isPollOver:e,showVoting:this.showVoting},this.props)):d["default"].createElement(v["default"],i({showResults:this.showResults},this.props))}}]),t}(d["default"].Component);a["default"]=_},{"./results":110,"./voting":114,moment:"moment",react:"react"}],109:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){var t=0;return e.choice.votes&&e.poll.votes&&(t=Math.ceil(100*e.choice.votes/e.poll.votes)),u["default"].createElement("dl",{className:"dl-horizontal"},u["default"].createElement("dt",null,e.choice.label),u["default"].createElement("dd",null,u["default"].createElement("div",{className:"progress"},u["default"].createElement("div",{className:"progress-bar",role:"progressbar","aria-valuenow":t,"aria-valuemin":"0","aria-valuemax":"100",style:{width:t+"%"}},u["default"].createElement("span",{className:"sr-only"},l(e.votes,e.proc)))),u["default"].createElement("ul",{className:"list-unstyled list-inline poll-chart"},u["default"].createElement(o,{proc:t,votes:e.choice.votes}),u["default"].createElement(s,{selected:e.choice.selected}))))}function o(e){return u["default"].createElement("li",{className:"poll-chart-votes"},l(e.votes,e.proc))}function l(e,t){var a=ngettext("%(votes)s vote, %(proc)s% of total.","%(votes)s votes, %(proc)s% of total.",e);return interpolate(a,{votes:e,proc:t},!0)}function s(e){return e.selected?u["default"].createElement("li",{className:"poll-chart-selected"},u["default"].createElement("span",{className:"material-icon"},"check_box"),gettext("Your choice.")):null}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){return u["default"].createElement("div",{className:"poll-choices-bars"},e.poll.choices.map(function(t){return u["default"].createElement(r,{choice:t,key:t.hash,poll:e.poll})}))},a.PollChoice=r,a.ChoiceVotes=o,a.getVotesLabel=l,a.UserChoice=s;var i=e("react"),u=n(i)},{react:"react"}],110:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){return o["default"].createElement("div",{className:"panel panel-default panel-poll"},o["default"].createElement("div",{className:"panel-body"},o["default"].createElement("h2",null,e.poll.question),o["default"].createElement(d["default"],{poll:e.poll}),o["default"].createElement(s["default"],{poll:e.poll}),o["default"].createElement(u["default"],{isPollOver:e.isPollOver,poll:e.poll,showVoting:e.showVoting,thread:e.thread})))};var r=e("react"),o=n(r),l=e("./chart"),s=n(l),i=e("./options"),u=n(i),c=e("../info"),d=n(c)},{"../info":107,"./chart":109,"./options":112,react:"react"}],111:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return e.isLoading?v["default"].createElement(O["default"],null):e.error?v["default"].createElement(E["default"],{icon:"error_outline",message:e.error}):v["default"].createElement(i,{data:e.data})}function i(e){return v["default"].createElement("div",{className:"modal-body modal-poll-votes"},v["default"].createElement("ul",{className:"list-unstyled votes-details"},e.data.map(function(e){return v["default"].createElement(u,m({key:e.hash},e))})))}function u(e){return v["default"].createElement("li",null,v["default"].createElement("h4",null,e.label),v["default"].createElement(c,{votes:e.votes}),v["default"].createElement(d,{voters:e.voters}),v["default"].createElement("hr",null))}function c(e){var t=ngettext("%(votes)s user has voted for this choice.","%(votes)s users have voted for this choice.",e.votes),a=interpolate(t,{votes:e.votes},!0);return v["default"].createElement("p",null,a)}function d(e){return e.voters.length?v["default"].createElement("ul",{className:"list-unstyled"},e.voters.map(function(e){return v["default"].createElement(f,m({key:e.username},e))})):null}function f(e){return e.url?v["default"].createElement("li",null,v["default"].createElement("a",{className:"item-title",href:e.url},e.username)," ",v["default"].createElement(p,{voted_on:e.voted_on})):v["default"].createElement("li",null,v["default"].createElement("strong",null,e.username)," ",v["default"].createElement(p,{voted_on:e.voted_on}))}function p(e){return v["default"].createElement("abbr",{className:"text-muted",title:e.voted_on.format("LLL")},e.voted_on.fromNow())}Object.defineProperty(a,"__esModule",{value:!0});var m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a.ModalBody=s,a.ChoicesList=i,a.ChoiceDetails=u,a.VotesCount=c,a.VotesList=d,a.Voter=f,a.VoteDate=p;var b=e("react"),v=n(b),_=e("moment"),g=n(_),y=e("../../modal-message"),E=n(y),w=e("../../modal-loader"),O=n(w),k=e("../../../services/ajax"),N=n(k),x=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={isLoading:!0,error:null,data:[]},a}return l(t,e),h(t,[{key:"componentDidMount",value:function(){var e=this;N["default"].get(this.props.poll.api.votes).then(function(t){var a=t.map(function(e){return Object.assign({},e,{voters:e.voters.map(function(e){return Object.assign({},e,{voted_on:(0,g["default"])(e.voted_on)})})})});e.setState({isLoading:!1,data:a})},function(t){e.setState({isLoading:!1,error:t.detail})})}},{key:"render",value:function(){return v["default"].createElement("div",{className:"modal-dialog"+(this.state.error?" modal-message":" modal-sm"),role:"document"},v["default"].createElement("div",{className:"modal-content"},v["default"].createElement("div",{className:"modal-header"},v["default"].createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":gettext("Close")},v["default"].createElement("span",{"aria-hidden":"true"},"×")),v["default"].createElement("h4",{className:"modal-title"},gettext("Poll votes"))),v["default"].createElement(s,{data:this.state.data,error:this.state.error,isLoading:this.state.isLoading})))}}]),t}(v["default"].Component);a["default"]=x},{"../../../services/ajax":365,"../../modal-loader":61,"../../modal-message":62,moment:"moment",react:"react"}],112:[function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t,a){return a.is_public||t.can_delete||t.can_edit||t.can_see_votes||t.can_vote&&!e&&(!a.hasSelectedChoices||a.allow_revotes)}function u(e,t){var a="col-xs-6";return 1===e.length&&(a="col-xs-12"),3===e.length&&e[0]===t&&(a="col-xs-12"),a+" col-sm-3 col-md-2"}function c(e){var t=e.poll.acl.can_vote,a=!e.poll.hasSelectedChoices||e.poll.allow_revotes;return t&&a?p["default"].createElement("div",{className:u(e.controls,0)},p["default"].createElement("button",{className:"btn btn-default btn-block btn-sm",disabled:e.poll.isBusy,onClick:e.showVoting,type:"button"},gettext("Vote"))):null}Object.defineProperty(a,"__esModule",{value:!0}),a.Delete=a.Edit=a.SeeVotes=void 0;var d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a["default"]=function(e){var t=e.isPollOver,a=e.poll,n=e.showVoting,r=e.thread;if(!i(t,a.acl,a))return null;var o=[],l=a.acl.can_vote,s=!a.hasSelectedChoices||a.allow_revotes;return l&&s&&o.push(0),(a.is_public||a.acl.can_see_votes)&&o.push(1),a.acl.can_edit&&o.push(2),a.acl.can_delete&&o.push(3),p["default"].createElement("div",{className:"row poll-options"},p["default"].createElement(c,{controls:o,isPollOver:t,poll:a,showVoting:n}),p["default"].createElement(S,{controls:o,poll:a}),p["default"].createElement(M,{controls:o,poll:a,thread:r}),p["default"].createElement(T,{controls:o,poll:a}))},a.isVisible=i,a.getClassName=u,a.ChangeVote=c;var f=e("react"),p=r(f),m=e("./modal"),h=r(m),b=e("../../../reducers/poll"),v=n(b),_=e("../../../reducers/thread"),g=n(_),y=e("../../../services/ajax"),E=r(y),w=e("../../../services/modal"),O=r(w),k=e("../../../services/posting"),N=r(k),x=e("../../../services/snackbar"),P=r(x),j=e("../../../services/store"),C=r(j),S=a.SeeVotes=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onClick=function(){O["default"].show(p["default"].createElement(h["default"],{poll:n.props.poll}))},r=a,l(n,r)}return s(t,e),d(t,[{key:"render",value:function(){var e=this.props.poll.is_public||this.props.poll.acl.can_see_votes;return e?p["default"].createElement("div",{className:u(this.props.controls,1)},p["default"].createElement("button",{className:"btn btn-default btn-block btn-sm",disabled:this.props.poll.isBusy,onClick:this.onClick,type:"button"},gettext("See votes"))):null}}]),t}(p["default"].Component),M=a.Edit=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onClick=function(){N["default"].open({submit:n.props.poll.api.index,thread:n.props.thread,poll:n.props.poll,mode:"POLL"})},r=a,l(n,r)}return s(t,e),d(t,[{key:"render",value:function(){return this.props.poll.acl.can_edit?p["default"].createElement("div",{className:u(this.props.controls,2)},p["default"].createElement("button",{className:"btn btn-default btn-block btn-sm",disabled:this.props.poll.isBusy,onClick:this.onClick,type:"button"},gettext("Edit"))):null}}]),t}(p["default"].Component),T=a.Delete=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onClick=function(){var e=confirm(gettext("Are you sure you want to delete this poll? This action is not reversible."));return!!e&&(C["default"].dispatch(v.busy()),void E["default"]["delete"](n.props.poll.api.index).then(n.handleSuccess,n.handleError))},n.handleSuccess=function(e){P["default"].success("Poll has been deleted"),C["default"].dispatch(v.remove()),C["default"].dispatch(g.updateAcl(e))},n.handleError=function(e){P["default"].apiError(e),C["default"].dispatch(v.release())},r=a,l(n,r)}return s(t,e),d(t,[{key:"render",value:function(){return this.props.poll.acl.can_delete?p["default"].createElement("div",{className:u(this.props.controls,3)},p["default"].createElement("button",{className:"btn btn-default btn-block btn-sm",disabled:this.props.poll.isBusy,onClick:this.onClick,type:"button"},gettext("Delete"))):null}}]),t}(p["default"].Component)},{"../../../reducers/poll":352,"../../../reducers/thread":360,"../../../services/ajax":365,"../../../services/modal":371,"../../../services/posting":375,"../../../services/snackbar":376,"../../../services/store":377,"./modal":111,react:"react"}],113:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){var t=e.choicesLeft;if(0===t)return s["default"].createElement("li",{className:"poll-help-choices-left"},gettext("You can't select any more choices."));var a=ngettext("You can select %(choices)s more choice.","You can select %(choices)s more choices.",t),n=interpolate(a,{choices:t},!0);return s["default"].createElement("li",{className:"poll-help-choices-left"},n)}function o(e){return e.poll.allow_revotes?s["default"].createElement("li",{className:"poll-help-allow-revotes"},gettext("You can change your vote later.")):s["default"].createElement("li",{className:"poll-help-no-revotes"},gettext("Votes are final."))}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){return s["default"].createElement("ul",{className:"list-unstyled list-inline poll-help"},s["default"].createElement(r,{choicesLeft:e.choicesLeft}),s["default"].createElement(o,{poll:e.poll}))},a.PollChoicesLeft=r,a.PollAllowRevote=o;var l=e("react"),s=n(l),i=e("../../../utils/escape-html");n(i)},{"../../../utils/escape-html":383,react:"react"}],114:[function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=e("react"),c=r(u),d=e("./help"),f=r(d),p=e("./select"),m=r(p),h=e("./utils"),b=e("../info"),v=r(b),_=e("../results/options"),g=e("../../button"),y=r(g),E=e("../../form"),w=r(E),O=e("../../../reducers/poll"),k=n(O),N=e("../../../services/ajax"),x=r(N),P=e("../../../services/snackbar"),j=r(P),C=e("../../../services/store"),S=r(C),M=function(e){function t(e){o(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.toggleChoice=function(e){var t=(0,h.getChoiceFromHash)(a.state.choices,e),n=null;n=t.selected?a.deselectChoice(t,e):a.selectChoice(t,e),a.setState({choices:n,choicesLeft:(0,h.getChoicesLeft)(a.props.poll,n)})},a.selectChoice=function(e,t){var n=(0,h.getChoicesLeft)(a.props.poll,a.state.choices);if(!n)for(var r in a.state.choices.slice()){var o=a.state.choices[r];if(o.selected&&o.hash!=t){o.selected=!1;break}}return a.state.choices.map(function(e){return Object.assign({},e,{selected:e.hash==t||e.selected})})},a.deselectChoice=function(e,t){return a.state.choices.map(function(e){return Object.assign({},e,{selected:e.hash!=t&&e.selected})})},a.state={isLoading:!1,choices:e.poll.choices,choicesLeft:(0,h.getChoicesLeft)(e.poll,e.poll.choices)},a}return s(t,e),i(t,[{key:"clean",value:function(){return this.state.choicesLeft!==this.props.poll.allowed_choices||(j["default"].error(gettext("You need to select at least one choice")),!1)}},{key:"send",value:function(){var e=[];for(var t in this.state.choices.slice()){var a=this.state.choices[t];a.selected&&e.push(a.hash)}return x["default"].post(this.props.poll.api.votes,e)}},{key:"handleSuccess",value:function(e){S["default"].dispatch(k.replace(e)),j["default"].success(gettext("Your vote has been saved.")),this.props.showResults()}},{key:"handleError",value:function(e){400===e.status?j["default"].error(e.detail):j["default"].apiError(e)}},{key:"render",value:function(){var e=[];return this.props.poll.acl.can_vote&&e.push(0),(this.props.poll.is_public||this.props.poll.acl.can_see_votes)&&e.push(1),this.props.poll.acl.can_edit&&e.push(2),this.props.poll.acl.can_delete&&e.push(3),c["default"].createElement("div",{className:"panel panel-default panel-poll"},c["default"].createElement("form",{onSubmit:this.handleSubmit},c["default"].createElement("div",{className:"panel-body"},c["default"].createElement("h2",null,this.props.poll.question),c["default"].createElement(v["default"],{poll:this.props.poll}),c["default"].createElement(m["default"],{choices:this.state.choices,toggleChoice:this.toggleChoice}),c["default"].createElement(f["default"],{choicesLeft:this.state.choicesLeft,poll:this.props.poll})),c["default"].createElement("div",{className:"panel-footer"},c["default"].createElement("div",{className:"row"},c["default"].createElement("div",{className:(0,_.getClassName)(e,0)},c["default"].createElement(y["default"],{className:"btn-primary btn-block btn-sm",loading:this.state.isLoading},gettext("Save your vote"))),c["default"].createElement("div",{className:(0,_.getClassName)(e,1)},c["default"].createElement("button",{className:"btn btn-default btn-block btn-sm",disabled:this.state.isLoading,onClick:this.props.showResults,type:"button"},gettext("See results"))),c["default"].createElement(_.Edit,{controls:e,poll:this.props.poll,thread:this.props.thread}),c["default"].createElement(_.Delete,{controls:e,poll:this.props.poll})))))}}]),t}(w["default"]);a["default"]=M},{"../../../reducers/poll":352,"../../../services/ajax":365,"../../../services/snackbar":376,"../../../services/store":377,"../../button":8,"../../form":56,"../info":107,"../results/options":112,"./help":113,"./select":115,"./utils":116,react:"react"}],115:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0}),a.ChoiceSelect=void 0;var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a["default"]=function(e){return u["default"].createElement("ul",{className:"list-unstyled poll-select-choices"},e.choices.map(function(t){return u["default"].createElement(c,{choice:t,key:t.hash,toggleChoice:e.toggleChoice})}))};var i=e("react"),u=n(i),c=a.ChoiceSelect=function(e){function t(){var e,a,n,l;r(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onClick=function(){n.props.toggleChoice(n.props.choice.hash)},l=a,o(n,l)}return l(t,e),s(t,[{key:"render",value:function(){return u["default"].createElement("li",{className:"poll-select-choice"},u["default"].createElement("button",{className:this.props.choice.selected?"btn btn-selected":"btn",onClick:this.onClick,type:"button"},u["default"].createElement("span",{className:"material-icon"},this.props.choice.selected?"check_box":"check_box_outline_blank"),u["default"].createElement("strong",null,this.props.choice.label)))}}]),t}(u["default"].Component)},{react:"react"}],116:[function(e,t,a){"use strict";function n(e,t){for(var a in e){var n=e[a];if(n.hash===t)return n}return null}function r(e,t){var a=[];for(var n in t){var r=t[n];r.selected&&a.push(r)}return e.allowed_choices-a.length}Object.defineProperty(a,"__esModule",{value:!0}),a.getChoiceFromHash=n,a.getChoicesLeft=r},{}],117:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){return"?"===e.item[0]?null:i["default"].createElement("li",{className:o(e.item)},l(e.item))}function o(e){var t="diff-item";return"-"===e[0]?t+=" diff-item-sub":"+"===e[0]&&(t+=" diff-item-add"),t}function l(e){return e.substr(2)}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){return i["default"].createElement("div",{className:"modal-body post-changelog-diff"},i["default"].createElement("ul",{className:"list-unstyled"},e.diff.map(function(e,t){return i["default"].createElement(r,{item:e,key:t})})))},a.DiffItem=r,a.getItemClassName=o,a.cleanItem=l;var s=e("react"),i=n(s)},{react:"react"}],118:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=e("../button"),d=n(c),f=function(e){function t(){var e,a,n,l;r(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onClick=function(){n.props.revertEdit(n.props.edit.id)},l=a,o(n,l)}return l(t,e),s(t,[{key:"render",value:function(){return this.props.canRevert?u["default"].createElement("div",{className:"modal-footer visible-xs-block"},u["default"].createElement(d["default"],{className:"btn-default btn-sm btn-block",disabled:this.props.disabled,onClick:this.onClick,title:gettext("Revert post to state from before this edit.")},gettext("Revert"))):null}}]),t}(u["default"].Component);a["default"]=f},{"../button":8,react:"react"}],119:[function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return d["default"].createElement("div",{className:e.className||"modal-dialog",role:"document"},d["default"].createElement("div",{className:"modal-content"},d["default"].createElement("div",{className:"modal-header"},d["default"].createElement("button",{"aria-label":gettext("Close"),className:"close","data-dismiss":"modal",type:"button"},d["default"].createElement("span",{"aria-hidden":"true"},"×")),d["default"].createElement("h4",{className:"modal-title"},gettext("Post edits history"))),e.children))}Object.defineProperty(a,"__esModule",{value:!0});var u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a.ModalDialog=i;var c=e("react"),d=r(c),f=e("./diff"),p=r(f),m=e("./footer"),h=r(m),b=e("./toolbar"),v=r(b),_=e("./utils"),g=e("../modal-message"),y=r(g),E=e("../modal-loader"),w=r(E),O=e("../../reducers/post"),k=n(O),N=e("../../services/ajax"),x=r(N),P=e("../../services/modal"),j=r(P),C=e("../../services/snackbar"),S=r(C),M=e("../../services/store"),T=r(M),L=function(e){function t(e){o(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.goToEdit=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;a.setState({isBusy:!0});var t=a.props.post.api.edits;null!==e&&(t+="?edit="+e),x["default"].get(t).then(function(e){a.setState({isReady:!0,isBusy:!1,edit:(0,_.hydrateEdit)(e)})},function(e){a.setState({isReady:!0,isBusy:!1,error:e.detail})})},a.revertEdit=function(e){if(!a.state.isBusy){var t=confirm(gettext("Are you sure you with to revert this post to the state from before this edit?"));if(t){a.setState({isBusy:!0});var n=a.props.post.api.edits+"?edit="+e;x["default"].post(n).then(function(e){var t=k.hydrate(e);T["default"].dispatch(k.patch(e,t)),S["default"].success(gettext("Post has been reverted to previous state.")),j["default"].hide()},function(e){S["default"].apiError(e),a.setState({isBusy:!1})})}}},a.state={isReady:!1,isBusy:!0,canRevert:e.post.acl.can_edit,error:null,edit:null},a}return s(t,e),u(t,[{key:"componentDidMount",value:function(){this.goToEdit()}},{key:"render",value:function(){return this.state.error?d["default"].createElement(i,{className:"modal-dialog modal-message"},d["default"].createElement(y["default"],{message:this.state.error})):this.state.isReady?d["default"].createElement(i,null,d["default"].createElement(v["default"],{canRevert:this.state.canRevert,disabled:this.state.isBusy,edit:this.state.edit,goToEdit:this.goToEdit,revertEdit:this.revertEdit}),d["default"].createElement(p["default"],{diff:this.state.edit.diff}),d["default"].createElement(h["default"],{canRevert:this.state.canRevert,disabled:this.state.isBusy,edit:this.state.edit,revertEdit:this.revertEdit})):d["default"].createElement(i,null,d["default"].createElement(w["default"],null))}}]),t}(d["default"].Component);a["default"]=L},{"../../reducers/post":353,"../../services/ajax":365,"../../services/modal":371,"../../services/snackbar":376,"../../services/store":377,"../modal-loader":61,"../modal-message":62,"./diff":117,"./footer":118,"./toolbar":120,"./utils":121,react:"react"}],120:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return m["default"].createElement(b["default"],{className:"btn-default btn-block btn-icon btn-sm",disabled:e.disabled||!e.edit.previous,onClick:e.onClick,title:gettext("See previous change")},m["default"].createElement("span",{className:"material-icon"},"chevron_left"))}function i(e){return m["default"].createElement(b["default"],{className:"btn-default btn-block btn-icon btn-sm",disabled:e.disabled||!e.edit.next,onClick:e.onClick,title:gettext("See next change")},m["default"].createElement("span",{className:"material-icon"
},"chevron_right"))}function u(e){return m["default"].createElement(b["default"],{className:"btn-default btn-block btn-icon btn-sm",disabled:e.disabled||!e.edit.next,onClick:e.onClick,title:gettext("See previous change")},m["default"].createElement("span",{className:"material-icon"},"last_page"))}function c(e){return e.canRevert?m["default"].createElement("div",{className:"col-sm-3 hidden-xs"},m["default"].createElement(b["default"],{className:"btn-default btn-sm btn-block",disabled:e.disabled,onClick:e.onClick,title:gettext("Revert post to state from before this edit.")},gettext("Revert"))):null}function d(e){var t=null;t=e.edit.url.editor?interpolate(E,{url:(0,_["default"])(e.edit.url.editor),user:(0,_["default"])(e.edit.editor_name)},!0):interpolate(y,{user:(0,_["default"])(e.edit.editor_name)},!0);var a=interpolate(g,{absolute:(0,_["default"])(e.edit.edited_on.format("LLL")),relative:(0,_["default"])(e.edit.edited_on.fromNow())},!0),n=interpolate((0,_["default"])(gettext("By %(edited_by)s %(edited_on)s.")),{edited_by:t,edited_on:a},!0);return m["default"].createElement("p",{dangerouslySetInnerHTML:{__html:n}})}Object.defineProperty(a,"__esModule",{value:!0});var f=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a.GoBackBtn=s,a.GoForwardBtn=i,a.GoLastBtn=u,a.RevertBtn=c,a.Label=d;var p=e("react"),m=n(p),h=e("../button"),b=n(h),v=e("../../utils/escape-html"),_=n(v),g='<abbr title="%(absolute)s">%(relative)s</abbr>',y='<span class="item-title">%(user)s</span>',E='<a href="%(url)s" class="item-title">%(user)s</a>',w=function(e){function t(){var e,a,n,l;r(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.goLast=function(){n.props.goToEdit()},n.goForward=function(){n.props.goToEdit(n.props.edit.next)},n.goBack=function(){n.props.goToEdit(n.props.edit.previous)},n.revertEdit=function(){n.props.revertEdit(n.props.edit.id)},l=a,o(n,l)}return l(t,e),f(t,[{key:"render",value:function(){return m["default"].createElement("div",{className:"modal-toolbar post-changelog-toolbar"},m["default"].createElement("div",{className:"row"},m["default"].createElement("div",{className:"col-xs-12 col-sm-4"},m["default"].createElement("div",{className:"row"},m["default"].createElement("div",{className:"col-xs-4"},m["default"].createElement(s,{disabled:this.props.disabled,edit:this.props.edit,onClick:this.goBack})),m["default"].createElement("div",{className:"col-xs-4"},m["default"].createElement(i,{disabled:this.props.disabled,edit:this.props.edit,onClick:this.goForward})),m["default"].createElement("div",{className:"col-xs-4"},m["default"].createElement(u,{disabled:this.props.disabled,edit:this.props.edit,onClick:this.goLast})))),m["default"].createElement("div",{className:"col-xs-12 col-sm-5 xs-margin-top-half post-change-label"},m["default"].createElement(d,{edit:this.props.edit})),m["default"].createElement(c,{canRevert:this.props.canRevert,disabled:this.props.disabled,onClick:this.revertEdit})))}}]),t}(m["default"].Component);a["default"]=w},{"../../utils/escape-html":383,"../button":8,react:"react"}],121:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){return Object.assign({},e,{edited_on:(0,l["default"])(e.edited_on)})}Object.defineProperty(a,"__esModule",{value:!0}),a.hydrateEdit=r;var o=e("moment"),l=n(o)},{moment:"moment"}],122:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.isReady,a=e.posts,n=e.poster;return t?o["default"].createElement("ul",{className:"posts-list post-feed ui-ready"},a.map(function(e){return o["default"].createElement(s["default"],{key:e.id,post:e,poster:n})})):o["default"].createElement(u["default"],null)};var r=e("react"),o=n(r),l=e("./post"),s=n(l),i=e("./preview"),u=n(i)},{"./post":125,"./preview":131,react:"react"}],123:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){return s["default"].createElement("div",{className:"post-body"},s["default"].createElement(u["default"],{markup:e.post.content}))}function o(e){return s["default"].createElement("div",{className:"post-body post-body-invalid"},s["default"].createElement("p",{className:"lead"},gettext("This post's contents cannot be displayed.")),s["default"].createElement("p",{className:"text-muted"},gettext("This error is caused by invalid post content manipulation.")))}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){return e.post.content?s["default"].createElement(r,e):s["default"].createElement(o,e)},a.Default=r,a.Invalid=o;var l=e("react"),s=n(l),i=e("../../misago-markup"),u=n(i),c=e("../../../utils/escape-html");n(c)},{"../../../utils/escape-html":383,"../../misago-markup":60,react:"react"}],124:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.post,a=t.category,n=t.thread,r=interpolate(gettext("posted %(posted_on)s"),{posted_on:t.posted_on.format("LL, LT")},!0);return o["default"].createElement("div",{className:"post-heading"},o["default"].createElement("a",{className:"btn btn-link item-title",href:n.url},n.title),o["default"].createElement("a",{className:"btn btn-link post-category",href:a.url.index},a.name),o["default"].createElement("a",{href:t.url.index,className:"btn btn-link posted-on",title:r},t.posted_on.fromNow()))};var r=e("react"),o=n(r)},{react:"react"}],125:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.post,a=e.poster,n=a||t.poster,r="post";return n&&n.rank.css_class&&(r+=" post-"+n.rank.css_class),o["default"].createElement("li",{className:r,id:"post-"+t.id},o["default"].createElement("div",{className:"panel panel-default panel-post"},o["default"].createElement("div",{className:"panel-body"},o["default"].createElement(d["default"],{post:t,poster:n}),o["default"].createElement(u["default"],{post:t}),o["default"].createElement(s["default"],{post:t}))))};var r=e("react"),o=n(r),l=e("./body"),s=n(l),i=e("./header"),u=n(i),c=e("./post-side"),d=n(c)},{"./body":123,"./header":124,"./post-side":128,react:"react"}],126:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.post;return o["default"].createElement("div",{className:"post-side post-side-anonymous"},o["default"].createElement(u["default"],{post:t}),o["default"].createElement("div",{className:"media"},o["default"].createElement("div",{className:"media-left"},o["default"].createElement("span",null,o["default"].createElement(s["default"],{className:"poster-avatar",size:50}))),o["default"].createElement("div",{className:"media-body"},o["default"].createElement("div",{className:"media-heading"},o["default"].createElement("span",{className:"item-title"},t.poster_name)),o["default"].createElement("span",{className:"user-title user-title-anonymous"},gettext("Removed user")))))};var r=e("react"),o=n(r),l=e("../../../avatar"),s=n(l),i=e("./button"),u=n(i)},{"../../../avatar":6,"./button":127,react:"react"}],127:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.post;return o["default"].createElement("a",{className:"btn btn-default btn-icon pull-right",href:t.url.index},o["default"].createElement("span",{className:"btn-text-left hidden-xs"},gettext("See post")),o["default"].createElement("span",{className:"material-icon"},"chevron_right"))};var r=e("react"),o=n(r)},{react:"react"}],128:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.post,a=e.poster;return a.id?o["default"].createElement(u["default"],{post:t,poster:a}):o["default"].createElement(s["default"],{post:t})};var r=e("react"),o=n(r),l=e("./anonymous"),s=n(l),i=e("./registered"),u=n(i)},{"./anonymous":126,"./registered":129,react:"react"}],129:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.post,a=e.poster;return o["default"].createElement("div",{className:"post-side post-side-registered"},o["default"].createElement(u["default"],{post:t}),o["default"].createElement("div",{className:"media"},o["default"].createElement("div",{className:"media-left"},o["default"].createElement("a",{href:a.url},o["default"].createElement(s["default"],{className:"poster-avatar",size:50,user:a}))),o["default"].createElement("div",{className:"media-body"},o["default"].createElement("div",{className:"media-heading"},o["default"].createElement("a",{className:"item-title",href:a.url},a.username)),o["default"].createElement(d["default"],{title:a.title,rank:a.rank}))))};var r=e("react"),o=n(r),l=e("../../../avatar"),s=n(l),i=e("./button"),u=n(i),c=e("./user-title"),d=n(c)},{"../../../avatar":6,"./button":127,"./user-title":130,react:"react"}],130:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.rank,a=e.title,n=a||t.title||t.name,r="user-title";return t.css_class&&(r+=" user-title-"+t.css_class),t.is_tab?o["default"].createElement("a",{className:r,href:t.url},n):o["default"].createElement("span",{className:r},n)};var r=e("react"),o=n(r)},{react:"react"}],131:[function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(){return l["default"].createElement("ul",{className:"posts-list post-feed ui-preview"},l["default"].createElement("li",{className:"post"},l["default"].createElement("div",{className:"panel panel-default panel-post"},l["default"].createElement("div",{className:"panel-body"},l["default"].createElement("div",{className:"post-side post-side-anonymous"},l["default"].createElement("div",{className:"media"},l["default"].createElement("div",{className:"media-left"},l["default"].createElement("span",null,l["default"].createElement(i["default"],{className:"poster-avatar",size:50}))),l["default"].createElement("div",{className:"media-body"},l["default"].createElement("div",{className:"media-heading"},l["default"].createElement("span",{className:"item-title"},l["default"].createElement("span",{className:"ui-preview-text",style:{width:c["int"](30,200)+"px"}}," "))),l["default"].createElement("span",{className:"user-title user-title-anonymous"},l["default"].createElement("span",{className:"ui-preview-text",style:{width:c["int"](30,200)+"px"}}," "))))),l["default"].createElement("div",{className:"post-heading"},l["default"].createElement("span",{className:"ui-preview-text",style:{width:c["int"](30,200)+"px"}}," ")),l["default"].createElement("div",{className:"post-body"},l["default"].createElement("article",{className:"misago-markup"},l["default"].createElement("p",null,l["default"].createElement("span",{className:"ui-preview-text",style:{width:c["int"](30,200)+"px"}}," ")," ",l["default"].createElement("span",{className:"ui-preview-text",style:{width:c["int"](30,200)+"px"}}," ")," ",l["default"].createElement("span",{className:"ui-preview-text",style:{width:c["int"](30,200)+"px"}}," "))))))))};var o=e("react"),l=r(o),s=e("../avatar"),i=r(s),u=e("../../utils/random"),c=n(u)},{"../../utils/random":388,"../avatar":6,react:"react"}],132:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return Object.assign({},e,{liked_on:(0,v["default"])(e.liked_on)})}function i(e){var t=e.className,a=e.children,n=e.likes,r=gettext("Post Likes");if(n){var o=n.length,l=ngettext("%(likes)s like","%(likes)s likes",o);r=interpolate(l,{likes:o},!0)}return h["default"].createElement("div",{className:"modal-dialog "+(t||""),role:"document"},h["default"].createElement("div",{className:"modal-content"},h["default"].createElement("div",{className:"modal-header"},h["default"].createElement("button",{"aria-label":gettext("Close"),className:"close","data-dismiss":"modal",type:"button"},h["default"].createElement("span",{"aria-hidden":"true"},"×")),h["default"].createElement("h4",{className:"modal-title"},r)),a))}function u(e){return h["default"].createElement("div",{className:"modal-body modal-post-likers"},h["default"].createElement("ul",{className:"media-list"},e.likes.map(function(e){return h["default"].createElement(c,f({key:e.id},e))})))}function c(e){if(e.url){var t={id:e.liker_id,avatars:e.avatars};return h["default"].createElement("li",{className:"media"},h["default"].createElement("div",{className:"media-left"},h["default"].createElement("a",{className:"user-avatar",href:e.url},h["default"].createElement(g["default"],{size:"50",user:t}))),h["default"].createElement("div",{className:"media-body"},h["default"].createElement("a",{className:"item-title",href:e.url},e.username)," ",h["default"].createElement(d,{likedOn:e.liked_on})))}return h["default"].createElement("li",{className:"media"},h["default"].createElement("div",{className:"media-left"},h["default"].createElement("span",{className:"user-avatar"},h["default"].createElement(g["default"],{size:"50"}))),h["default"].createElement("div",{className:"media-body"},h["default"].createElement("strong",null,e.username)," ",h["default"].createElement(d,{likedOn:e.liked_on})))}function d(e){return h["default"].createElement("span",{className:"text-muted",title:e.likedOn.format("LLL")},e.likedOn.fromNow())}Object.defineProperty(a,"__esModule",{value:!0});var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a.hydrateLike=s,a.ModalDialog=i,a.LikesList=u,a.LikeDetails=c,a.LikeDate=d;var m=e("react"),h=n(m),b=e("moment"),v=n(b),_=e("./avatar"),g=n(_),y=e("./modal-message"),E=n(y),w=e("./modal-loader"),O=n(w),k=e("../services/ajax"),N=n(k),x=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={isReady:!1,error:null,likes:[]},a}return l(t,e),p(t,[{key:"componentDidMount",value:function(){var e=this;N["default"].get(this.props.post.api.likes).then(function(t){e.setState({isReady:!0,likes:t.map(s)})},function(t){e.setState({isReady:!0,error:t.detail})})}},{key:"render",value:function(){return this.state.error?h["default"].createElement(i,{className:"modal-message"},h["default"].createElement(E["default"],{message:this.state.error})):this.state.isReady?this.state.likes.length?h["default"].createElement(i,{className:"modal-sm",likes:this.state.likes},h["default"].createElement(u,{likes:this.state.likes})):h["default"].createElement(i,{className:"modal-message"},h["default"].createElement(E["default"],{message:gettext("No users have liked this post.")})):h["default"].createElement(i,{className:"modal-sm"},h["default"].createElement(O["default"],null))}}]),t}(h["default"].Component);a["default"]=x},{"../services/ajax":365,"./avatar":6,"./modal-loader":61,"./modal-message":62,moment:"moment",react:"react"}],133:[function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=e("react"),c=r(u),d=e("../editor"),f=r(d),p=e("../form"),m=r(p),h=e("./utils/container"),b=r(h),v=e("./utils/loader"),_=r(v),g=e("./utils/message"),y=r(g),E=e("./utils/attachments"),w=n(E),O=e("./utils/validators"),k=e("../../services/ajax"),N=r(k),x=e("../../services/posting"),P=r(x),j=e("../../services/snackbar"),C=r(j),S=function(e){function t(e){o(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.loadSuccess=function(e){a.setState({isReady:!0,post:e.post,attachments:w.hydrate(e.attachments),protect:e.is_protected,canProtect:e.can_protect})},a.loadError=function(e){a.setState({isErrored:e.detail})},a.onCancel=function(){var e=confirm(gettext("Are you sure you want to discard changes?"));e&&P["default"].close()},a.onProtect=function(){a.setState({protect:!0})},a.onUnprotect=function(){a.setState({protect:!1})},a.onPostChange=function(e){a.changeValue("post",e.target.value)},a.onAttachmentsChange=function(e){a.setState({attachments:e})},a.state={isReady:!1,isLoading:!1,isErrored:!1,post:"",attachments:[],protect:!1,canProtect:!1,validators:{post:(0,O.getPostValidators)()},errors:{}},a}return s(t,e),i(t,[{key:"componentDidMount",value:function(){N["default"].get(this.props.config).then(this.loadSuccess,this.loadError)}},{key:"clean",value:function(){if(!this.state.post.trim().length)return C["default"].error(gettext("You have to enter a message.")),!1;var e=this.validate();return!e.post||(C["default"].error(e.post[0]),!1)}},{key:"send",value:function(){return N["default"].put(this.props.submit,{post:this.state.post,attachments:w.clean(this.state.attachments),protect:this.state.protect})}},{key:"handleSuccess",value:function(e){C["default"].success(gettext("Reply has been edited.")),window.location=e.url.index,this.setState({isLoading:!0})}},{key:"handleError",value:function(e){if(400===e.status){var t=[].concat(e.non_field_errors||[],e.category||[],e.title||[],e.post||[],e.attachments||[]);C["default"].error(t[0])}else C["default"].apiError(e)}},{key:"render",value:function(){return this.state.isReady?c["default"].createElement(b["default"],{className:"posting-form"},c["default"].createElement("form",{onSubmit:this.handleSubmit,method:"POST"},c["default"].createElement("div",{className:"row"},c["default"].createElement("div",{className:"col-md-12"},c["default"].createElement(f["default"],{attachments:this.state.attachments,canProtect:this.state.canProtect,loading:this.state.isLoading,onAttachmentsChange:this.onAttachmentsChange,onCancel:this.onCancel,onChange:this.onPostChange,onProtect:this.onProtect,onUnprotect:this.onUnprotect,protect:this.state.protect,submitLabel:gettext("Edit reply"),value:this.state.post}))))):this.state.isErrored?c["default"].createElement(y["default"],{message:this.state.isErrored}):c["default"].createElement(_["default"],null)}}]),t}(m["default"]);a["default"]=S},{"../../services/ajax":365,"../../services/posting":375,"../../services/snackbar":376,"../editor":52,"../form":56,"./utils/attachments":138,"./utils/container":139,"./utils/loader":140,"./utils/message":141,"./utils/validators":144,react:"react"}],134:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){return"START"===e.mode?o["default"].createElement(s["default"],e):"START_PRIVATE"===e.mode?o["default"].createElement(u["default"],e):"REPLY"===e.mode?o["default"].createElement(d["default"],e):"EDIT"===e.mode?o["default"].createElement(p["default"],e):null};var r=e("react"),o=n(r),l=e("./start"),s=n(l),i=e("./start-private"),u=n(i),c=e("./reply"),d=n(c),f=e("./edit"),p=n(f)},{"./edit":133,"./reply":135,"./start":137,"./start-private":136,react:"react"}],135:[function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=e("react"),c=r(u),d=e("../editor"),f=r(d),p=e("../form"),m=r(p),h=e("./utils/container"),b=r(h),v=e("./utils/loader"),_=r(v),g=e("./utils/message"),y=r(g),E=e("./utils/attachments"),w=n(E),O=e("./utils/validators"),k=e("../../services/ajax"),N=r(k),x=e("../../services/posting"),P=r(x),j=e("../../services/snackbar"),C=r(j),S=function(e){function t(e){o(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.loadSuccess=function(e){a.setState({isReady:!0,post:e.post?'[quote="@'+e.poster+'"]\n'+e.post+"\n[/quote]":""})},a.loadError=function(e){a.setState({isErrored:e.detail})},a.appendData=function(e){var t=e.post?'[quote="@'+e.poster+'"]\n'+e.post+"\n[/quote]\n\n":"";a.setState(function(e,a){return e.post.length>0?{post:e.post+"\n\n"+t}:{post:t}})},a.onCancel=function(){var e=confirm(gettext("Are you sure you want to discard your reply?"));e&&P["default"].close()},a.onPostChange=function(e){a.changeValue("post",e.target.value)},a.onAttachmentsChange=function(e){a.setState({attachments:e})},a.state={isReady:!1,isLoading:!1,isErrored:!1,post:"",attachments:[],validators:{post:(0,O.getPostValidators)()},errors:{}},a}return s(t,e),i(t,[{key:"componentDidMount",value:function(){N["default"].get(this.props.config,this.props.context||null).then(this.loadSuccess,this.loadError)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.context,a=e.context;t&&a&&t.reply===a.reply||N["default"].get(e.config,e.context||null).then(this.appendData,C["default"].apiError)}},{key:"clean",value:function(){if(!this.state.post.trim().length)return C["default"].error(gettext("You have to enter a message.")),!1;var e=this.validate();return!e.post||(C["default"].error(e.post[0]),!1)}},{key:"send",value:function(){return N["default"].post(this.props.submit,{post:this.state.post,attachments:w.clean(this.state.attachments)})}},{key:"handleSuccess",value:function(e){C["default"].success(gettext("Your reply has been posted.")),window.location=e.url.index,this.setState({isLoading:!0})}},{key:"handleError",value:function(e){if(400===e.status){var t=[].concat(e.non_field_errors||[],e.post||[],e.attachments||[]);C["default"].error(t[0])}else C["default"].apiError(e)}},{key:"render",value:function(){return this.state.isReady?c["default"].createElement(b["default"],{className:"posting-form"},c["default"].createElement("form",{onSubmit:this.handleSubmit,method:"POST"},c["default"].createElement("div",{className:"row"},c["default"].createElement("div",{className:"col-md-12"},c["default"].createElement(f["default"],{attachments:this.state.attachments,loading:this.state.isLoading,onAttachmentsChange:this.onAttachmentsChange,onCancel:this.onCancel,onChange:this.onPostChange,submitLabel:gettext("Post reply"),value:this.state.post}))))):this.state.isErrored?c["default"].createElement(y["default"],{message:this.state.isErrored}):c["default"].createElement(_["default"],null)}}]),t}(m["default"]);a["default"]=S},{"../../services/ajax":365,"../../services/posting":375,"../../services/snackbar":376,"../editor":52,"../form":56,"./utils/attachments":138,"./utils/container":139,"./utils/loader":140,"./utils/message":141,"./utils/validators":144,react:"react"}],136:[function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=e("react"),c=r(u),d=e("../editor"),f=r(d),p=e("../form"),m=r(p),h=e("./utils/container"),b=r(h),v=e("./utils/message"),_=(r(v),e("./utils/attachments")),g=n(_),y=e("./utils/usernames"),E=r(y),w=e("./utils/validators"),O=e("../../services/ajax"),k=r(O),N=e("../../services/posting"),x=r(N),P=e("../../services/snackbar"),j=r(P),C=function(e){function t(e){o(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.onCancel=function(){var e=confirm(gettext("Are you sure you want to discard private thread?"));e&&x["default"].close()},a.onToChange=function(e){a.changeValue("to",e.target.value)},a.onTitleChange=function(e){a.changeValue("title",e.target.value)},a.onPostChange=function(e){a.changeValue("post",e.target.value)},a.onAttachmentsChange=function(e){a.setState({attachments:e})};var n=(e.to||[]).map(function(e){return e.username}).join(", ");return a.state={isLoading:!1,to:n,title:"",post:"",attachments:[],validators:{title:(0,w.getTitleValidators)(),post:(0,w.getPostValidators)()},errors:{}},a}return s(t,e),i(t,[{key:"clean",value:function(){if(!(0,E["default"])(this.state.to).length)return j["default"].error(gettext("You have to enter at least one recipient.")),!1;if(!this.state.title.trim().length)return j["default"].error(gettext("You have to enter thread title.")),!1;if(!this.state.post.trim().length)return j["default"].error(gettext("You have to enter a message.")),!1;var e=this.validate();return e.title?(j["default"].error(e.title[0]),!1):!e.post||(j["default"].error(e.post[0]),!1)}},{key:"send",value:function(){return k["default"].post(this.props.submit,{to:(0,E["default"])(this.state.to),title:this.state.title,post:this.state.post,attachments:g.clean(this.state.attachments)})}},{key:"handleSuccess",value:function(e){j["default"].success(gettext("Your thread has been posted.")),window.location=e.url,this.setState({isLoading:!0})}},{key:"handleError",value:function(e){if(400===e.status){var t=[].concat(e.non_field_errors||[],e.to||[],e.title||[],e.post||[],e.attachments||[]);j["default"].error(t[0])}else j["default"].apiError(e)}},{key:"render",value:function(){return c["default"].createElement(b["default"],{className:"posting-form",withFirstRow:!0},c["default"].createElement("form",{onSubmit:this.handleSubmit},c["default"].createElement("div",{className:"row first-row"},c["default"].createElement("div",{className:"col-xs-12"},c["default"].createElement("input",{className:"form-control",disabled:this.state.isLoading,onChange:this.onToChange,placeholder:gettext("Comma separated list of user names, eg.: Danny, Lisa"),type:"text",value:this.state.to}))),c["default"].createElement("div",{className:"row first-row"},c["default"].createElement("div",{className:"col-xs-12"},c["default"].createElement("input",{className:"form-control",disabled:this.state.isLoading,onChange:this.onTitleChange,placeholder:gettext("Thread title"),type:"text",value:this.state.title}))),c["default"].createElement("div",{className:"row"},c["default"].createElement("div",{className:"col-xs-12"},c["default"].createElement(f["default"],{attachments:this.state.attachments,loading:this.state.isLoading,onAttachmentsChange:this.onAttachmentsChange,onCancel:this.onCancel,onChange:this.onPostChange,submitLabel:gettext("Post thread"),value:this.state.post})))))}}]),t}(m["default"]);a["default"]=C},{"../../services/ajax":365,"../../services/posting":375,"../../services/snackbar":376,"../editor":52,"../form":56,"./utils/attachments":138,"./utils/container":139,"./utils/message":141,"./utils/usernames":143,"./utils/validators":144,react:"react"}],137:[function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=e("react"),c=r(u),d=e("../category-select"),f=r(d),p=e("../editor"),m=r(p),h=e("../form"),b=r(h),v=e("./utils/container"),_=r(v),g=e("./utils/loader"),y=r(g),E=e("./utils/message"),w=r(E),O=e("./utils/options"),k=r(O),N=e("./utils/attachments"),x=n(N),P=e("./utils/validators"),j=e("../../services/ajax"),C=r(j),S=e("../../services/posting"),M=r(S),T=e("../../services/snackbar"),L=r(T),A=function(e){function t(e){
o(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.loadSuccess=function(e){var t=null,n=!1,r=null,o=e.map(function(e){return e.post===!1||t&&e.id!=a.state.category||(t=e.id,r=e.post),e.post&&(e.post.close||e.post.hide||e.post.pin)&&(n=!0),Object.assign(e,{disabled:e.post===!1,label:e.name,value:e.id})});a.setState({isReady:!0,showOptions:n,categories:o,category:t,categoryOptions:r})},a.loadError=function(e){a.setState({isErrored:e.detail})},a.onCancel=function(){var e=confirm(gettext("Are you sure you want to discard thread?"));e&&M["default"].close()},a.onTitleChange=function(e){a.changeValue("title",e.target.value)},a.onCategoryChange=function(e){var t=a.state.categories.find(function(t){return e.target.value==t.value}),n=a.state.pin;t.post.pin&&t.post.pin<n&&(n=t.post.pin),a.setState({category:t.id,categoryOptions:t.post,pin:n})},a.onPostChange=function(e){a.changeValue("post",e.target.value)},a.onAttachmentsChange=function(e){a.setState({attachments:e})},a.onClose=function(){a.changeValue("close",!0)},a.onOpen=function(){a.changeValue("close",!1)},a.onPinGlobally=function(){a.changeValue("pin",2)},a.onPinLocally=function(){a.changeValue("pin",1)},a.onUnpin=function(){a.changeValue("pin",0)},a.onHide=function(){a.changeValue("hide",!0)},a.onUnhide=function(){a.changeValue("hide",!1)},a.state={isReady:!1,isLoading:!1,isErrored:!1,showOptions:!1,categoryOptions:null,title:"",category:e.category||null,categories:[],post:"",attachments:[],close:!1,hide:!1,pin:0,validators:{title:(0,P.getTitleValidators)(),post:(0,P.getPostValidators)()},errors:{}},a}return s(t,e),i(t,[{key:"componentDidMount",value:function(){C["default"].get(this.props.config).then(this.loadSuccess,this.loadError)}},{key:"clean",value:function(){if(!this.state.title.trim().length)return L["default"].error(gettext("You have to enter thread title.")),!1;if(!this.state.post.trim().length)return L["default"].error(gettext("You have to enter a message.")),!1;var e=this.validate();return e.title?(L["default"].error(e.title[0]),!1):!e.post||(L["default"].error(e.post[0]),!1)}},{key:"send",value:function(){return C["default"].post(this.props.submit,{title:this.state.title,category:this.state.category,post:this.state.post,attachments:x.clean(this.state.attachments),close:this.state.close,hide:this.state.hide,pin:this.state.pin})}},{key:"handleSuccess",value:function(e){L["default"].success(gettext("Your thread has been posted.")),window.location=e.url,this.setState({isLoading:!0})}},{key:"handleError",value:function(e){if(400===e.status){var t=[].concat(e.non_field_errors||[],e.category||[],e.title||[],e.post||[],e.attachments||[]);L["default"].error(t[0])}else L["default"].apiError(e)}},{key:"render",value:function(){if(this.state.isErrored)return c["default"].createElement(w["default"],{message:this.state.isErrored});if(!this.state.isReady)return c["default"].createElement(y["default"],null);var e=0;this.state.categoryOptions.close&&(e+=1),this.state.categoryOptions.hide&&(e+=1),this.state.categoryOptions.pin&&(e+=1);var t=null;return t=1===e?"col-sm-6":"col-sm-8",t+=3===e?" col-md-6":e?" col-md-7":" col-md-9",c["default"].createElement(_["default"],{className:"posting-form",withFirstRow:!0},c["default"].createElement("form",{onSubmit:this.handleSubmit},c["default"].createElement("div",{className:"row first-row"},c["default"].createElement("div",{className:t},c["default"].createElement("input",{className:"form-control",disabled:this.state.isLoading,onChange:this.onTitleChange,placeholder:gettext("Thread title"),type:"text",value:this.state.title})),c["default"].createElement("div",{className:"col-xs-12 col-sm-4 col-md-3 xs-margin-top"},c["default"].createElement(f["default"],{choices:this.state.categories,disabled:this.state.isLoading,onChange:this.onCategoryChange,value:this.state.category})),c["default"].createElement(k["default"],{close:this.state.close,columns:e,disabled:this.state.isLoading,hide:this.state.hide,onClose:this.onClose,onHide:this.onHide,onOpen:this.onOpen,onPinGlobally:this.onPinGlobally,onPinLocally:this.onPinLocally,onUnhide:this.onUnhide,onUnpin:this.onUnpin,options:this.state.categoryOptions,pin:this.state.pin,showOptions:this.state.showOptions})),c["default"].createElement("div",{className:"row"},c["default"].createElement("div",{className:"col-md-12"},c["default"].createElement(m["default"],{attachments:this.state.attachments,loading:this.state.isLoading,onAttachmentsChange:this.onAttachmentsChange,onCancel:this.onCancel,onChange:this.onPostChange,submitLabel:gettext("Post thread"),value:this.state.post})))))}}]),t}(b["default"]);a["default"]=A},{"../../services/ajax":365,"../../services/posting":375,"../../services/snackbar":376,"../category-select":21,"../editor":52,"../form":56,"./utils/attachments":138,"./utils/container":139,"./utils/loader":140,"./utils/message":141,"./utils/options":142,"./utils/validators":144,react:"react"}],138:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){var t=e.filter(function(e){return e.id&&!e.isRemoved});return t.map(function(e){return e.id})}function o(e){return e.map(function(e){return Object.assign({},e,{uploaded_on:(0,s["default"])(e.uploaded_on)})})}Object.defineProperty(a,"__esModule",{value:!0}),a.clean=r,a.hydrate=o;var l=e("moment"),s=n(l)},{moment:"moment"}],139:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){return o["default"].createElement("div",{className:e.className},o["default"].createElement("div",{className:"container"},e.children))};var r=e("react"),o=n(r)},{react:"react"}],140:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){return o["default"].createElement(s["default"],{className:"posting-loader"},o["default"].createElement(u["default"],null))};var r=e("react"),o=n(r),l=e("./container"),s=n(l),i=e("../../loader"),u=n(i)},{"../../loader":58,"./container":139,react:"react"}],141:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){return o["default"].createElement(s["default"],{className:"posting-message"},o["default"].createElement("div",{className:"message-body"},o["default"].createElement("p",null,o["default"].createElement("span",{className:"material-icon"},"error_outline"),e.message),o["default"].createElement("button",{type:"button",className:"btn btn-default",onClick:u["default"].close},gettext("Dismiss"))))};var r=e("react"),o=n(r),l=e("./container"),s=n(l),i=e("../../../services/posting"),u=n(i)},{"../../../services/posting":375,"./container":139,react:"react"}],142:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(!e.show)return null;var t=e.close?gettext("Closed"):gettext("Open");return i["default"].createElement("div",{className:e.className},i["default"].createElement("button",{className:"btn btn-default btn-block",disabled:e.disabled,onClick:e.close?e.onOpen:e.onClose,title:t,type:"button"},i["default"].createElement("span",{className:"material-icon"},e.close?"lock":"lock_outline"),i["default"].createElement("span",{className:e.textClassName},t)))}function o(e){if(!e.show)return null;var t=e.hide?gettext("Hidden"):gettext("Not hidden");return i["default"].createElement("div",{className:e.className},i["default"].createElement("button",{className:"btn btn-default btn-block",disabled:e.disabled,onClick:e.hide?e.onUnhide:e.onHide,title:t,type:"button"},i["default"].createElement("span",{className:"material-icon"},e.hide?"visibility_off":"visibility"),i["default"].createElement("span",{className:e.textClassName},t)))}function l(e){if(!e.show)return null;var t=null,a=null,n=null;switch(e.pin){case 0:t="radio_button_unchecked",a=e.onPinLocally,n=gettext("Unpinned");break;case 1:t="bookmark_outline",a=e.onPinGlobally,n=gettext("Pinned locally"),a=2==e.show?e.onPinGlobally:e.onUnpin;break;case 2:t="bookmark",a=e.onUnpin,n=gettext("Pinned globally")}return i["default"].createElement("div",{className:e.className},i["default"].createElement("button",{className:"btn btn-default btn-block",disabled:e.disabled,onClick:a,title:n,type:"button"},i["default"].createElement("span",{className:"material-icon"},t),i["default"].createElement("span",{className:e.textClassName},n)))}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){if(!e.showOptions)return null;var t=e.columns,a="col-xs-12 xs-margin-top";a+=1===t?" col-sm-2":" sm-margin-top",a+=3===t?" col-md-3":" col-md-2",a+=" posting-options";var n="col-xs-"+12/t,s="btn-text";return s+=3===t?" visible-sm-inline-block":2===t?" hidden-md hidden-lg":" hidden-sm",i["default"].createElement("div",{className:a},i["default"].createElement("div",{className:"row"},i["default"].createElement(l,{className:n,disabled:e.disabled,onPinGlobally:e.onPinGlobally,onPinLocally:e.onPinLocally,onUnpin:e.onUnpin,pin:e.pin,show:e.options.pin,textClassName:s}),i["default"].createElement(o,{className:n,disabled:e.disabled,hide:e.hide,onHide:e.onHide,onUnhide:e.onUnhide,show:e.options.hide,textClassName:s}),i["default"].createElement(r,{className:n,close:e.close,disabled:e.disabled,onClose:e.onClose,onOpen:e.onOpen,show:e.options.close,textClassName:s})))},a.CloseOptions=r,a.HideOptions=o,a.PinOptions=l;var s=e("react"),i=n(s)},{react:"react"}],143:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.split(",").map(function(e){return e.trim().toLowerCase()}),a=t.filter(function(e){return e.length>0}),n=a.filter(function(e,t){return a.indexOf(e)==t});return n}},{}],144:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){return[l(),s()]}function o(){return f["default"].get("SETTINGS").post_length_max?[i(),u()]:[i()]}function l(){return(0,c.minLength)(f["default"].get("SETTINGS").thread_title_length_min,function(e,t){var a=ngettext("Thread title should be at least %(limit_value)s character long (it has %(show_value)s).","Thread title should be at least %(limit_value)s characters long (it has %(show_value)s).",e);return interpolate(a,{limit_value:e,show_value:t},!0)})}function s(){return(0,c.maxLength)(f["default"].get("SETTINGS").thread_title_length_max,function(e,t){var a=ngettext("Thread title cannot be longer than %(limit_value)s character (it has %(show_value)s).","Thread title cannot be longer than %(limit_value)s characters (it has %(show_value)s).",e);return interpolate(a,{limit_value:e,show_value:t},!0)})}function i(){return(0,c.minLength)(f["default"].get("SETTINGS").post_length_min,function(e,t){var a=ngettext("Posted message should be at least %(limit_value)s character long (it has %(show_value)s).","Posted message should be at least %(limit_value)s characters long (it has %(show_value)s).",e);return interpolate(a,{limit_value:e,show_value:t},!0)})}function u(){return(0,c.maxLength)(f["default"].get("SETTINGS").post_length_max||1e6,function(e,t){var a=ngettext("Posted message cannot be longer than %(limit_value)s character (it has %(show_value)s).","Posted message cannot be longer than %(limit_value)s characters (it has %(show_value)s).",e);return interpolate(a,{limit_value:e,show_value:t},!0)})}Object.defineProperty(a,"__esModule",{value:!0}),a.getTitleValidators=r,a.getPostValidators=o,a.getTitleLengthMin=l,a.getTitleLengthMax=s,a.validatePostLengthMin=i,a.validatePostLengthMax=u;var c=e("../../../utils/validators"),d=e("../../.."),f=n(d)},{"../../..":302,"../../../utils/validators":393}],145:[function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return e.can_hide}Object.defineProperty(a,"__esModule",{value:!0}),a.Delete=a.Unhide=a.Hide=void 0;var u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a["default"]=function(e){return i(e.post.acl)?d["default"].createElement("li",{className:"event-controls"},d["default"].createElement(w,e),d["default"].createElement(O,e),d["default"].createElement(k,e)):null},a.isVisible=i;var c=e("react"),d=r(c),f=e("moment"),p=r(f),m=e("../../../reducers/post"),h=n(m),b=e("../../../services/ajax"),v=r(b),_=e("../../../services/snackbar"),g=r(_),y=e("../../../services/store"),E=r(y),w=a.Hide=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onClick=function(){E["default"].dispatch(h.patch(n.props.post,{is_hidden:!0,hidden_on:(0,p["default"])(),hidden_by_name:n.props.user.username,url:Object.assign(n.props.post.url,{hidden_by:n.props.user.url})}));var e={op:"replace",path:"is-hidden",value:!0};v["default"].patch(n.props.post.api.index,[e]).then(function(e){E["default"].dispatch(h.patch(n.props.post,e))},function(e){400===e.status?g["default"].error(e.detail[0]):g["default"].apiError(e),E["default"].dispatch(h.patch(n.props.post,{is_hidden:!1}))})},r=a,l(n,r)}return s(t,e),u(t,[{key:"render",value:function(){return this.props.post.is_hidden?null:d["default"].createElement("button",{type:"button",className:"btn btn-link",onClick:this.onClick},gettext("Hide"))}}]),t}(d["default"].Component),O=a.Unhide=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onClick=function(){E["default"].dispatch(h.patch(n.props.post,{is_hidden:!1}));var e={op:"replace",path:"is-hidden",value:!1};v["default"].patch(n.props.post.api.index,[e]).then(function(e){E["default"].dispatch(h.patch(n.props.post,e))},function(e){400===e.status?g["default"].error(e.detail[0]):g["default"].apiError(e),E["default"].dispatch(h.patch(n.props.post,{is_hidden:!0}))})},r=a,l(n,r)}return s(t,e),u(t,[{key:"render",value:function(){return this.props.post.is_hidden?d["default"].createElement("button",{type:"button",className:"btn btn-link",onClick:this.onClick},gettext("Unhide")):null}}]),t}(d["default"].Component),k=a.Delete=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onClick=function(){var e=confirm(gettext("Are you sure you wish to delete this event? This action is not reversible!"));e&&n["delete"]()},n["delete"]=function(){E["default"].dispatch(h.patch(n.props.post,{isDeleted:!0})),v["default"]["delete"](n.props.post.api.index).then(function(){g["default"].success(gettext("Event has been deleted."))},function(e){400===e.status?g["default"].error(e.detail[0]):g["default"].apiError(e),E["default"].dispatch(h.patch(n.props.post,{isDeleted:!1}))})},r=a,l(n,r)}return s(t,e),u(t,[{key:"render",value:function(){return d["default"].createElement("button",{type:"button",className:"btn btn-link",onClick:this.onClick},gettext("Delete"))}}]),t}(d["default"].Component)},{"../../../reducers/post":353,"../../../services/ajax":365,"../../../services/snackbar":376,"../../../services/store":377,moment:"moment",react:"react"}],146:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){return o["default"].createElement("div",{className:"post-avatar"},o["default"].createElement("span",{className:"material-icon"},l[e.post.event_type]))};var r=e("react"),o=n(r),l={changed_title:"edit",pinned_globally:"bookmark",pinned_locally:"bookmark_border",unpinned:"panorama_fish_eye",moved:"arrow_forward",merged:"call_merge",approved:"done",opened:"lock_open",closed:"lock_outline",unhid:"visibility",hid:"visibility_off",changed_owner:"grade",tookover:"grade",added_participant:"person_add",owner_left:"person_outline",participant_left:"person_outline",removed_participant:"remove_circle_outline"}},{react:"react"}],147:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t="event";return e.post.isDeleted?t="hide":e.post.is_hidden&&(t="event post-hidden"),o["default"].createElement("li",{id:"post-"+e.post.id,className:t},o["default"].createElement(p["default"],{post:e.post}),o["default"].createElement("div",{className:"row"},o["default"].createElement("div",{className:"col-xs-2 col-sm-3 text-right"},o["default"].createElement(s["default"],e)),o["default"].createElement("div",{className:"col-xs-10 col-sm-9 text-left"},o["default"].createElement(h["default"],{post:e.post},o["default"].createElement(d["default"],e),o["default"].createElement(u["default"],e)))))};var r=e("react"),o=n(r),l=e("./icon"),s=n(l),i=e("./info"),u=n(i),c=e("./message"),d=n(c),f=e("./unread-label"),p=n(f),m=e("../waypoint"),h=n(m)},{"../waypoint":173,"./icon":146,"./info":148,"./message":149,"./unread-label":150,react:"react"}],148:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(e.post.is_hidden){var t=null;t=e.post.url.hidden_by?interpolate(h,{url:(0,u["default"])(e.post.url.hidden_by),user:(0,u["default"])(e.post.hidden_by_name)},!0):interpolate(m,{user:(0,u["default"])(e.post.hidden_by_name)},!0);var a=interpolate(f,{absolute:(0,u["default"])(e.post.hidden_on.format("LLL")),relative:(0,u["default"])(e.post.hidden_on.fromNow())},!0),n=interpolate((0,u["default"])(gettext("Hidden by %(event_by)s %(event_on)s.")),{event_by:t,event_on:a},!0);return s["default"].createElement("li",{className:"event-hidden-message",dangerouslySetInnerHTML:{__html:n}})}return null}function o(e){var t=null;t=e.post.poster?interpolate(h,{url:(0,u["default"])(e.post.poster.url),user:(0,u["default"])(e.post.poster_name)},!0):interpolate(m,{user:(0,u["default"])(e.post.poster_name)},!0);var a=interpolate(p,{url:(0,u["default"])(e.post.url.index),absolute:(0,u["default"])(e.post.posted_on.format("LLL")),relative:(0,u["default"])(e.post.posted_on.fromNow())},!0),n=interpolate((0,u["default"])(gettext("By %(event_by)s %(event_on)s.")),{event_by:t,event_on:a},!0);return s["default"].createElement("li",{className:"event-posters",dangerouslySetInnerHTML:{__html:n}})}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){return s["default"].createElement("ul",{className:"list-inline event-info"},s["default"].createElement(r,e),s["default"].createElement(o,e),s["default"].createElement(d["default"],e))},a.Hidden=r,a.Poster=o;var l=e("react"),s=n(l),i=e("../../../utils/escape-html"),u=n(i),c=e("./controls"),d=n(c),f='<abbr title="%(absolute)s">%(relative)s</abbr>',p='<a href="%(url)s" title="%(absolute)s">%(relative)s</a>',m='<span class="item-title">%(user)s</span>',h='<a href="%(url)s" class="item-title">%(user)s</a>'},{"../../../utils/escape-html":383,"./controls":145,react:"react"}],149:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){var t=(0,p["default"])(gettext("Thread title has been changed from %(old_title)s.")),a=interpolate(b,{name:(0,p["default"])(e.post.event_context.old_title)},!0),n=interpolate(t,{old_title:a},!0);return d["default"].createElement("p",{className:"event-message",dangerouslySetInnerHTML:{__html:n}})}function o(e){var t=(0,p["default"])(gettext("Thread has been moved from %(from_category)s.")),a=interpolate(h,{url:(0,p["default"])(e.post.event_context.from_category.url),name:(0,p["default"])(e.post.event_context.from_category.name)},!0),n=interpolate(t,{from_category:a},!0);return d["default"].createElement("p",{className:"event-message",dangerouslySetInnerHTML:{__html:n}})}function l(e){var t=(0,p["default"])(gettext("The %(merged_thread)s thread has been merged into this thread.")),a=interpolate(b,{name:(0,p["default"])(e.post.event_context.merged_thread)},!0),n=interpolate(t,{merged_thread:a},!0);return d["default"].createElement("p",{className:"event-message",dangerouslySetInnerHTML:{__html:n}})}function s(e){var t=(0,p["default"])(gettext("Changed thread owner to %(user)s.")),a=interpolate(h,{url:(0,p["default"])(e.post.event_context.user.url),name:(0,p["default"])(e.post.event_context.user.username)},!0),n=interpolate(t,{user:a},!0);return d["default"].createElement("p",{className:"event-message",dangerouslySetInnerHTML:{__html:n}})}function i(e){var t=(0,p["default"])(gettext("Added %(user)s to thread.")),a=interpolate(h,{url:(0,p["default"])(e.post.event_context.user.url),name:(0,p["default"])(e.post.event_context.user.username)},!0),n=interpolate(t,{user:a},!0);return d["default"].createElement("p",{className:"event-message",dangerouslySetInnerHTML:{__html:n}})}function u(e){var t=(0,p["default"])(gettext("Removed %(user)s from thread.")),a=interpolate(h,{url:(0,p["default"])(e.post.event_context.user.url),name:(0,p["default"])(e.post.event_context.user.username)},!0),n=interpolate(t,{user:a},!0);return d["default"].createElement("p",{className:"event-message",dangerouslySetInnerHTML:{__html:n}})}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){return m[e.post.event_type]?d["default"].createElement("p",{className:"event-message"},m[e.post.event_type]):"changed_title"===e.post.event_type?d["default"].createElement(r,e):"moved"===e.post.event_type?d["default"].createElement(o,e):"merged"===e.post.event_type?d["default"].createElement(l,e):"changed_owner"===e.post.event_type?d["default"].createElement(s,e):"added_participant"===e.post.event_type?d["default"].createElement(i,e):"removed_participant"===e.post.event_type?d["default"].createElement(u,e):null},a.ChangedTitle=r,a.Moved=o,a.Merged=l,a.ChangedOwner=s,a.AddedParticipant=i,a.RemovedParticipant=u;var c=e("react"),d=n(c),f=e("../../../utils/escape-html"),p=n(f),m={pinned_globally:gettext("Thread has been pinned globally."),pinned_locally:gettext("Thread has been pinned locally."),unpinned:gettext("Thread has been unpinned."),approved:gettext("Thread has been approved."),opened:gettext("Thread has been opened."),closed:gettext("Thread has been closed."),unhid:gettext("Thread has been revealed."),hid:gettext("Thread has been made hidden."),tookover:gettext("Took thread over."),owner_left:gettext("Owner has left thread. This thread is now closed."),participant_left:gettext("Participant has left thread.")},h='<a href="%(url)s" class="item-title">%(name)s</a>',b='<span class="item-title">%(name)s</span>'},{"../../../utils/escape-html":383,react:"react"}],150:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.post;return t.is_read?null:o["default"].createElement("div",{className:"row"},o["default"].createElement("div",{className:"col-xs-10 col-xs-offset-2 col-sm-9 col-sm-offset-3 text-left"},o["default"].createElement("div",{className:"event-label"},o["default"].createElement("span",{className:"label label-unread"},gettext("New event")))))};var r=e("react"),o=n(r)},{react:"react"}],151:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){return e.post.is_event?s["default"].createElement(u["default"],e):s["default"].createElement(d["default"],e)}Object.defineProperty(a,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};a["default"]=function(e){return e.posts.isLoaded?s["default"].createElement("ul",{className:"posts-list ui-ready"},e.posts.results.map(function(t){return s["default"].createElement(r,o({key:t.id,post:t},e))})):s["default"].createElement("ul",{className:"posts-list ui-preview"},s["default"].createElement(p["default"],null))},a.ListItem=r;var l=e("react"),s=n(l),i=e("./event"),u=n(i),c=e("./post"),d=n(c),f=e("./post/preview"),p=n(f)},{"./event":147,"./post":163,"./post/preview":171,react:"react"}],152:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){return e.attachment.is_image?u["default"].createElement("div",{className:"post-attachment-preview"},u["default"].createElement(l,e)):u["default"].createElement("div",{className:"post-attachment-preview"},u["default"].createElement(o,e))}function o(e){return u["default"].createElement("a",{href:e.attachment.url.index,className:"material-icon"},"insert_drive_file")}function l(e){var t=e.attachment.url.thumb||e.attachment.url.index;return u["default"].createElement("a",{className:"post-thumbnail",href:e.attachment.url.index,style:{backgroundImage:'url("'+(0,f["default"])(t)+'")'}})}function s(e){var t=null;t=e.attachment.url.uploader?interpolate(v,{url:(0,f["default"])(e.attachment.url.uploader),user:(0,f["default"])(e.attachment.uploader_name)},!0):interpolate(b,{user:(0,f["default"])(e.attachment.uploader_name)},!0);var a=interpolate(h,{absolute:(0,f["default"])(e.attachment.uploaded_on.format("LLL")),relative:(0,f["default"])(e.attachment.uploaded_on.fromNow())},!0),n=interpolate((0,f["default"])(gettext("%(filetype)s, %(size)s, uploaded by %(uploader)s %(uploaded_on)s.")),{filetype:e.attachment.filetype,size:(0,m["default"])(e.attachment.size),uploader:t,uploaded_on:a},!0);return u["default"].createElement("p",{className:"post-attachment-description",dangerouslySetInnerHTML:{__html:n}})}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){return u["default"].createElement("div",{className:"col-xs-12 col-md-6"},u["default"].createElement(r,e),u["default"].createElement("div",{className:"post-attachment"},u["default"].createElement("a",{href:e.attachment.url.index,className:"attachment-name item-title"},e.attachment.filename),u["default"].createElement(s,e)))},a.AttachmentPreview=r,a.AttachmentIcon=o,a.AttachmentThumbnail=l,a.AttachmentDetails=s;var i=e("react"),u=n(i),c=e("../../../.."),d=(n(c),e("../../../../utils/escape-html")),f=n(d),p=e("../../../../utils/file-size"),m=n(p),h='<abbr title="%(absolute)s">%(relative)s</abbr>',b='<span class="item-title">%(user)s</span>',v='<a href="%(url)s" class="item-title">%(user)s</a>'},{"../../../..":302,"../../../../utils/escape-html":383,"../../../../utils/file-size":384,react:"react"}],153:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){return(!e.is_hidden||e.acl.can_see_hidden)&&e.attachments}function o(e){return s["default"].createElement("div",{className:"row"},e.row.map(function(e){return s["default"].createElement(d["default"],{attachment:e,key:e?e.id:0})}))}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){return r(e.post)?s["default"].createElement("div",{className:"post-attachments"},(0,u["default"])(e.post.attachments,2).map(function(e){var t=e.map(function(e){return e?e.id:0}).join("_");return s["default"].createElement(o,{key:t,row:e})})):null},a.isVisible=r,a.Row=o;var l=e("react"),s=n(l),i=e("../../../../utils/batch"),u=n(i),c=e("./attachment"),d=n(c)},{"../../../../utils/batch":380,"./attachment":152,react:"react"}],154:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){return i["default"].createElement(c["default"],{className:"post-body",post:e.post},i["default"].createElement(f["default"],{markup:e.post.content}))}function o(e){var t=null;t=e.post.hidden_by?interpolate(h,{url:(0,m["default"])(e.post.url.hidden_by),user:(0,m["default"])(e.post.hidden_by_name)},!0):interpolate(b,{user:(0,m["default"])(e.post.hidden_by_name)},!0);var a=interpolate(v,{absolute:(0,m["default"])(e.post.hidden_on.format("LLL")),relative:(0,m["default"])(e.post.hidden_on.fromNow())},!0),n=interpolate((0,m["default"])(gettext("Hidden by %(hidden_by)s %(hidden_on)s.")),{hidden_by:t,hidden_on:a},!0);return i["default"].createElement(c["default"],{className:"post-body post-body-hidden",post:e.post},i["default"].createElement("p",{className:"lead"},gettext("This post is hidden. You cannot see its contents.")),i["default"].createElement("p",{className:"text-muted",dangerouslySetInnerHTML:{__html:n}}))}function l(e){return i["default"].createElement(c["default"],{className:"post-body post-body-invalid",post:e.post},i["default"].createElement("p",{className:"lead"},gettext("This post's contents cannot be displayed.")),i["default"].createElement("p",{className:"text-muted"},gettext("This error is caused by invalid post content manipulation.")))}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){return e.post.is_hidden&&!e.post.acl.can_see_hidden?i["default"].createElement(o,e):e.post.content?i["default"].createElement(r,e):i["default"].createElement(l,e)},a.Default=r,a.Hidden=o,a.Invalid=l;var s=e("react"),i=n(s),u=e("../waypoint"),c=n(u),d=e("../../misago-markup"),f=n(d),p=e("../../../utils/escape-html"),m=n(p),h='<a href="%(url)s" class="item-title">%(user)s</a>',b='<span class="item-title">%(user)s</span>',v='<abbr class="last-title" title="%(absolute)s">%(relative)s</abbr>'},{"../../../utils/escape-html":383,"../../misago-markup":60,"../waypoint":173,react:"react"}],155:[function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){j["default"].dispatch(w.patch(e.post,{is_unapproved:!1}));var t=[{op:"replace",path:"is-unapproved",value:!1}],a={is_unapproved:e.post.is_unapproved};f(e,t,a)}function l(e){j["default"].dispatch(w.patch(e.post,{is_protected:!0}));var t=[{op:"replace",path:"is-protected",value:!0}],a={is_protected:e.post.is_protected};f(e,t,a)}function s(e){j["default"].dispatch(w.patch(e.post,{is_protected:!1}));var t=[{op:"replace",path:"is-protected",value:!1}],a={is_protected:e.post.is_protected};f(e,t,a)}function i(e){j["default"].dispatch(w.patch(e.post,{is_hidden:!0,hidden_on:(0,_["default"])(),hidden_by_name:e.user.username,url:Object.assign(e.post.url,{hidden_by:e.user.url})}));var t=[{op:"replace",path:"is-hidden",value:!0}],a={is_hidden:e.post.is_hidden,hidden_on:e.post.hidden_on,hidden_by_name:e.post.hidden_by_name,url:e.post.url};f(e,t,a)}function u(e){j["default"].dispatch(w.patch(e.post,{is_hidden:!1}));var t=[{op:"replace",path:"is-hidden",value:!1}],a={is_hidden:e.post.is_hidden};f(e,t,a)}function c(e){var t=e.post.last_likes||[],a=[e.user].concat(t),n=a.length>3?a.slice(0,-1):a;j["default"].dispatch(w.patch(e.post,{is_liked:!0,likes:e.post.likes+1,last_likes:n}));var r=[{op:"replace",path:"is-liked",value:!0}],o={is_liked:e.post.is_liked,likes:e.post.likes,last_likes:e.post.last_likes};f(e,r,o)}function d(e){j["default"].dispatch(w.patch(e.post,{is_liked:!1,likes:e.post.likes-1,last_likes:e.post.last_likes.filter(function(t){return!t.id||t.id!==e.user.id})}));var t=[{op:"replace",path:"is-liked",value:!1}],a={is_liked:e.post.is_liked,
likes:e.post.likes,last_likes:e.post.last_likes};f(e,t,a)}function f(e,t,a){k["default"].patch(e.post.api.index,t).then(function(t){j["default"].dispatch(w.patch(e.post,t))},function(t){400===t.status?x["default"].error(t.detail[0]):x["default"].apiError(t),j["default"].dispatch(w.patch(e.post,a))})}function p(e){var t=confirm(gettext("Are you sure you want to delete this post? This action is not reversible!"));t&&(j["default"].dispatch(w.patch(e.post,{isDeleted:!0})),k["default"]["delete"](e.post.api.index).then(function(){x["default"].success(gettext("Post has been deleted."))},function(t){400===t.status?x["default"].error(t.detail):x["default"].apiError(t),j["default"].dispatch(w.patch(e.post,{isDeleted:!1}))}))}function m(e){var t=e.post,a=e.user;j["default"].dispatch(y.update({best_answer:t.id,best_answer_is_protected:t.is_protected,best_answer_marked_on:(0,_["default"])(),best_answer_marked_by:a.id,best_answer_marked_by_name:a.username,best_answer_marked_by_slug:a.slug}));var n=[{op:"replace",path:"best-answer",value:t.id},{op:"add",path:"acl",value:!0}],r={best_answer:e.thread.best_answer,best_answer_is_protected:e.thread.best_answer_is_protected,best_answer_marked_on:e.thread.best_answer_marked_on,best_answer_marked_by:e.thread.best_answer_marked_by,best_answer_marked_by_name:e.thread.best_answer_marked_by_name,best_answer_marked_by_slug:e.thread.best_answer_marked_by_slug};b(e,n,r)}function h(e){var t=e.post;j["default"].dispatch(y.update({best_answer:null,best_answer_is_protected:!1,best_answer_marked_on:null,best_answer_marked_by:null,best_answer_marked_by_name:null,best_answer_marked_by_slug:null}));var a=[{op:"remove",path:"best-answer",value:t.id},{op:"add",path:"acl",value:!0}],n={best_answer:e.thread.best_answer,best_answer_is_protected:e.thread.best_answer_is_protected,best_answer_marked_on:e.thread.best_answer_marked_on,best_answer_marked_by:e.thread.best_answer_marked_by,best_answer_marked_by_name:e.thread.best_answer_marked_by_name,best_answer_marked_by_slug:e.thread.best_answer_marked_by_slug};b(e,a,n)}function b(e,t,a){k["default"].patch(e.thread.api.index,t).then(function(e){e.best_answer_marked_on&&(e.best_answer_marked_on=(0,_["default"])(e.best_answer_marked_on)),j["default"].dispatch(y.update(e))},function(e){400===e.status?x["default"].error(e.detail[0]):x["default"].apiError(e),j["default"].dispatch(y.update(a))})}Object.defineProperty(a,"__esModule",{value:!0}),a.approve=o,a.protect=l,a.unprotect=s,a.hide=i,a.unhide=u,a.like=c,a.unlike=d,a.patch=f,a.remove=p,a.markAsBestAnswer=m,a.unmarkBestAnswer=h,a.patchThread=b;var v=e("moment"),_=r(v),g=e("../../../../reducers/thread"),y=n(g),E=e("../../../../reducers/post"),w=n(E),O=e("../../../../services/ajax"),k=r(O),N=e("../../../../services/snackbar"),x=r(N),P=e("../../../../services/store"),j=r(P)},{"../../../../reducers/post":353,"../../../../reducers/thread":360,"../../../../services/ajax":365,"../../../../services/snackbar":376,"../../../../services/store":377,moment:"moment"}],156:[function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0}),a.Delete=a.Unhide=a.Hide=a.Unprotect=a.Protect=a.Split=a.Move=a.Approve=a.PostEdits=a.UnmarkMarkBestAnswer=a.MarkAsBestAnswer=a.Edit=a.Permalink=void 0;var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a["default"]=function(e){return c["default"].createElement("ul",{className:"dropdown-menu dropdown-menu-right stick-to-bottom"},c["default"].createElement(O,e),c["default"].createElement(k,e),c["default"].createElement(N,e),c["default"].createElement(x,e),c["default"].createElement(P,e),c["default"].createElement(j,e),c["default"].createElement(C,e),c["default"].createElement(S,e),c["default"].createElement(M,e),c["default"].createElement(T,e),c["default"].createElement(L,e),c["default"].createElement(A,e),c["default"].createElement(R,e))};var u=e("react"),c=r(u),d=e("../../../../services/modal"),f=r(d),p=e("../../../../services/posting"),m=r(p),h=e("./actions"),b=n(h),v=e("./move"),_=r(v),g=e("../../../post-changelog"),y=r(g),E=e("./split"),w=r(E),O=a.Permalink=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onClick=function(){var e=window.location.protocol+"//";e+=window.location.host,e+=n.props.post.url.index,prompt(gettext("Permament link to this post:"),e)},r=a,l(n,r)}return s(t,e),i(t,[{key:"render",value:function(){return c["default"].createElement("li",null,c["default"].createElement("button",{className:"btn btn-link",onClick:this.onClick,type:"button"},c["default"].createElement("span",{className:"material-icon"},"link"),gettext("Permament link")))}}]),t}(c["default"].Component),k=a.Edit=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onClick=function(){m["default"].open({mode:"EDIT",config:n.props.post.api.editor,submit:n.props.post.api.index})},r=a,l(n,r)}return s(t,e),i(t,[{key:"render",value:function(){return this.props.post.acl.can_edit?c["default"].createElement("li",null,c["default"].createElement("button",{className:"btn btn-link",onClick:this.onClick,type:"button"},c["default"].createElement("span",{className:"material-icon"},"edit"),gettext("Edit"))):null}}]),t}(c["default"].Component),N=a.MarkAsBestAnswer=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onClick=function(){b.markAsBestAnswer(n.props)},r=a,l(n,r)}return s(t,e),i(t,[{key:"render",value:function(){var e=this.props,t=e.post,a=e.thread;return a.acl.can_mark_best_answer&&t.acl.can_mark_as_best_answer?t.id===a.best_answer?null:a.best_answer&&!a.acl.can_change_best_answer?null:c["default"].createElement("li",null,c["default"].createElement("button",{className:"btn btn-link",onClick:this.onClick,type:"button"},c["default"].createElement("span",{className:"material-icon"},"check_box"),gettext("Mark as best answer"))):null}}]),t}(c["default"].Component),x=a.UnmarkMarkBestAnswer=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onClick=function(){b.unmarkBestAnswer(n.props)},r=a,l(n,r)}return s(t,e),i(t,[{key:"render",value:function(){var e=this.props,t=e.post,a=e.thread;return t.id!==a.best_answer?null:a.acl.can_unmark_best_answer?c["default"].createElement("li",null,c["default"].createElement("button",{className:"btn btn-link",onClick:this.onClick,type:"button"},c["default"].createElement("span",{className:"material-icon"},"check_box_outline_blank"),gettext("Unmark best answer"))):null}}]),t}(c["default"].Component),P=a.PostEdits=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onClick=function(){f["default"].show(c["default"].createElement(y["default"],{post:n.props.post}))},r=a,l(n,r)}return s(t,e),i(t,[{key:"render",value:function(){var e=this.props.post.is_hidden&&!this.props.post.acl.can_see_hidden,t=0===this.props.post.edits;if(e||t)return null;var a=ngettext("This post was edited %(edits)s time.","This post was edited %(edits)s times.",this.props.post.edits);interpolate(a,{edits:this.props.post.edits},!0);return c["default"].createElement("li",null,c["default"].createElement("button",{className:"btn btn-link",onClick:this.onClick,type:"button"},c["default"].createElement("span",{className:"material-icon"},"edit"),gettext("Changes history")))}}]),t}(c["default"].Component),j=a.Approve=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onClick=function(){b.approve(n.props)},r=a,l(n,r)}return s(t,e),i(t,[{key:"render",value:function(){return this.props.post.acl.can_approve&&this.props.post.is_unapproved?c["default"].createElement("li",null,c["default"].createElement("button",{className:"btn btn-link",onClick:this.onClick,type:"button"},c["default"].createElement("span",{className:"material-icon"},"done"),gettext("Approve"))):null}}]),t}(c["default"].Component),C=a.Move=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onClick=function(){f["default"].show(c["default"].createElement(_["default"],n.props))},r=a,l(n,r)}return s(t,e),i(t,[{key:"render",value:function(){return this.props.post.acl.can_move?c["default"].createElement("li",null,c["default"].createElement("button",{className:"btn btn-link",onClick:this.onClick,type:"button"},c["default"].createElement("span",{className:"material-icon"},"arrow_forward"),gettext("Move"))):null}}]),t}(c["default"].Component),S=a.Split=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onClick=function(){f["default"].show(c["default"].createElement(w["default"],n.props))},r=a,l(n,r)}return s(t,e),i(t,[{key:"render",value:function(){return this.props.post.acl.can_move?c["default"].createElement("li",null,c["default"].createElement("button",{className:"btn btn-link",onClick:this.onClick,type:"button"},c["default"].createElement("span",{className:"material-icon"},"call_split"),gettext("Split"))):null}}]),t}(c["default"].Component),M=a.Protect=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onClick=function(){b.protect(n.props)},r=a,l(n,r)}return s(t,e),i(t,[{key:"render",value:function(){return this.props.post.acl.can_protect?this.props.post.is_protected?null:c["default"].createElement("li",null,c["default"].createElement("button",{className:"btn btn-link",onClick:this.onClick,type:"button"},c["default"].createElement("span",{className:"material-icon"},"lock_outline"),gettext("Protect"))):null}}]),t}(c["default"].Component),T=a.Unprotect=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onClick=function(){b.unprotect(n.props)},r=a,l(n,r)}return s(t,e),i(t,[{key:"render",value:function(){return this.props.post.acl.can_protect&&this.props.post.is_protected?c["default"].createElement("li",null,c["default"].createElement("button",{className:"btn btn-link",onClick:this.onClick,type:"button"},c["default"].createElement("span",{className:"material-icon"},"lock_open"),gettext("Remove protection"))):null}}]),t}(c["default"].Component),L=a.Hide=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onClick=function(){b.hide(n.props)},r=a,l(n,r)}return s(t,e),i(t,[{key:"render",value:function(){var e=this.props,t=e.post,a=e.thread;return t.id===a.best_answer?null:t.acl.can_hide?t.is_hidden?null:c["default"].createElement("li",null,c["default"].createElement("button",{className:"btn btn-link",onClick:this.onClick,type:"button"},c["default"].createElement("span",{className:"material-icon"},"visibility_off"),gettext("Hide"))):null}}]),t}(c["default"].Component),A=a.Unhide=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onClick=function(){b.unhide(n.props)},r=a,l(n,r)}return s(t,e),i(t,[{key:"render",value:function(){return this.props.post.acl.can_unhide&&this.props.post.is_hidden?c["default"].createElement("li",null,c["default"].createElement("button",{className:"btn btn-link",onClick:this.onClick,type:"button"},c["default"].createElement("span",{className:"material-icon"},"visibility"),gettext("Unhide"))):null}}]),t}(c["default"].Component),R=a.Delete=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onClick=function(){b.remove(n.props)},r=a,l(n,r)}return s(t,e),i(t,[{key:"render",value:function(){var e=this.props,t=e.post,a=e.thread;return t.id===a.best_answer?null:t.acl.can_delete?c["default"].createElement("li",null,c["default"].createElement("button",{className:"btn btn-link",onClick:this.onClick,type:"button"},c["default"].createElement("span",{className:"material-icon"},"clear"),gettext("Delete"))):null}}]),t}(c["default"].Component)},{"../../../../services/modal":371,"../../../../services/posting":375,"../../../post-changelog":119,"./actions":155,"./move":158,"./split":159,react:"react"}],157:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){return o["default"].createElement("div",{className:"pull-right dropdown"},o["default"].createElement("button",{"aria-expanded":"true","aria-haspopup":"true",className:"btn btn-default btn-icon dropdown-toggle","data-toggle":"dropdown",type:"button"},o["default"].createElement("span",{className:"material-icon"},"expand_more")),o["default"].createElement(s["default"],e))};var r=e("react"),o=n(r),l=e("./dropdown"),s=n(l)},{"./dropdown":156,react:"react"}],158:[function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return d["default"].createElement("div",{className:"modal-header"},d["default"].createElement("button",{"aria-label":gettext("Close"),className:"close","data-dismiss":"modal",type:"button"},d["default"].createElement("span",{"aria-hidden":"true"},"×")),d["default"].createElement("h4",{className:"modal-title"},gettext("Move post")))}Object.defineProperty(a,"__esModule",{value:!0});var u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a.ModalHeader=i;var c=e("react"),d=r(c),f=e("../../../button"),p=(r(f),e("../../../form")),m=r(p),h=e("../../../form-group"),b=r(h),v=e("../../../../reducers/post"),_=n(v),g=e("../../../../services/ajax"),y=r(g),E=e("../../../../services/modal"),w=r(E),O=e("../../../../services/snackbar"),k=r(O),N=e("../../../../services/store"),x=r(N),P=function(e){function t(e){o(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onUrlChange=function(e){a.changeValue("url",e.target.value)},a.state={isLoading:!1,url:"",validators:{url:[]},errors:{}},a}return s(t,e),u(t,[{key:"clean",value:function(){return!!this.state.url.trim().length||(k["default"].error(gettext("You have to enter link to the other thread.")),!1)}},{key:"send",value:function(){return y["default"].post(this.props.thread.api.posts.move,{new_thread:this.state.url,posts:[this.props.post.id]})}},{key:"handleSuccess",value:function(e){x["default"].dispatch(_.patch(this.props.post,{isDeleted:!0})),w["default"].hide(),k["default"].success(gettext("Selected post was moved to the other thread."))}},{key:"handleError",value:function(e){400===e.status?k["default"].error(e.detail):k["default"].apiError(e)}},{key:"render",value:function(){return d["default"].createElement("div",{className:"modal-dialog",role:"document"},d["default"].createElement("form",{onSubmit:this.handleSubmit},d["default"].createElement("div",{className:"modal-content"},d["default"].createElement(i,null),d["default"].createElement("div",{className:"modal-body"},d["default"].createElement(b["default"],{"for":"id_url",label:gettext("Link to thread you want to move post to")},d["default"].createElement("input",{className:"form-control",disabled:this.state.isLoading,id:"id_url",onChange:this.onUrlChange,value:this.state.url}))),d["default"].createElement("div",{className:"modal-footer"},d["default"].createElement("button",{className:"btn btn-primary",loading:this.state.isLoading},gettext("Move post"))))))}}]),t}(m["default"]);a["default"]=P},{"../../../../reducers/post":353,"../../../../services/ajax":365,"../../../../services/modal":371,"../../../../services/snackbar":376,"../../../../services/store":377,"../../../button":8,"../../../form":56,"../../../form-group":55,react:"react"}],159:[function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(){return m["default"].createElement(c,{className:"modal-dialog"},m["default"].createElement(k["default"],null))}function u(e){return m["default"].createElement(c,{className:"modal-dialog modal-message"},m["default"].createElement("div",{className:"message-icon"},m["default"].createElement("span",{className:"material-icon"},"info_outline")),m["default"].createElement("div",{className:"message-body"},m["default"].createElement("p",{className:"lead"},gettext("You can't move this post at the moment.")),m["default"].createElement("p",null,e.message)))}function c(e){return m["default"].createElement("div",{className:e.className,role:"document"},m["default"].createElement("div",{className:"modal-content"},m["default"].createElement("div",{className:"modal-header"},m["default"].createElement("button",{"aria-label":gettext("Close"),className:"close","data-dismiss":"modal",type:"button"},m["default"].createElement("span",{"aria-hidden":"true"},"×")),m["default"].createElement("h4",{className:"modal-title"},gettext("Split post into new thread"))),e.children))}Object.defineProperty(a,"__esModule",{value:!0}),a.ModerationForm=a.PostingConfig=void 0;var d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};a["default"]=function(e){return m["default"].createElement(B,f({},e,{Form:H}))},a.Loader=i,a.Error=u,a.Modal=c;var p=e("react"),m=r(p),h=e("../../../button"),b=r(h),v=e("../../../form"),_=r(v),g=e("../../../form-group"),y=r(g),E=e("../../../category-select"),w=r(E),O=e("../../../modal-loader"),k=r(O),N=e("../../../select"),x=r(N),P=e("../../../../reducers/post"),j=n(P),C=e("../../../../services/ajax"),S=r(C),M=e("../../../../services/modal"),T=r(M),L=e("../../../../services/snackbar"),A=r(L),R=e("../../../../services/store"),I=r(R),D=e("../../../../utils/validators"),U=n(D),B=a.PostingConfig=function(e){function t(e){o(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={isLoaded:!1,isError:!1,categories:[]},a}return s(t,e),d(t,[{key:"componentDidMount",value:function(){var e=this;S["default"].get(misago.get("THREAD_EDITOR_API")).then(function(t){var a=t.map(function(e){return Object.assign(e,{disabled:e.post===!1,label:e.name,value:e.id,post:e.post})});e.setState({isLoaded:!0,categories:a})},function(t){e.setState({isError:t.detail})})}},{key:"render",value:function(){return this.state.isError?m["default"].createElement(u,{message:this.state.isError}):this.state.isLoaded?m["default"].createElement(H,f({},this.props,{categories:this.state.categories})):m["default"].createElement(i,null)}}]),t}(m["default"].Component),H=a.ModerationForm=function(e){function t(e){o(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onCategoryChange=function(e){var t=e.target.value,n={category:t};a.acl[t].can_pin_threads<n.weight&&(n.weight=0),a.acl[t].can_hide_threads||(n.is_hidden=0),a.acl[t].can_close_threads||(n.is_closed=!1),a.setState(n)},a.state={isLoading:!1,title:"",category:null,categories:e.categories,weight:0,is_hidden:0,is_closed:!1,validators:{title:[U.required()]},errors:{}},a.isHiddenChoices=[{value:0,icon:"visibility",label:gettext("No")},{value:1,icon:"visibility_off",label:gettext("Yes")}],a.isClosedChoices=[{value:!1,icon:"lock_outline",label:gettext("No")},{value:!0,icon:"lock",label:gettext("Yes")}],a.acl={},a.props.categories.forEach(function(e){e.post&&(a.state.category||(a.state.category=e.id),a.acl[e.id]={can_pin_threads:e.post.pin,can_close_threads:e.post.close,can_hide_threads:e.post.hide})}),a}return s(t,e),d(t,[{key:"clean",value:function(){return!!this.isValid()||(A["default"].error(gettext("Form contains errors.")),this.setState({errors:this.validate()}),!1)}},{key:"send",value:function(){return S["default"].post(this.props.thread.api.posts.split,{title:this.state.title,category:this.state.category,weight:this.state.weight,is_hidden:this.state.is_hidden,is_closed:this.state.is_closed,posts:[this.props.post.id]})}},{key:"handleSuccess",value:function(e){I["default"].dispatch(j.patch(this.props.post,{isDeleted:!0})),T["default"].hide(),A["default"].success(gettext("Selected post was split into new thread."))}},{key:"handleError",value:function(e){400===e.status?(this.setState({errors:Object.assign({},this.state.errors,e)}),A["default"].error(gettext("Form contains errors."))):403===e.status&&Array.isArray(e)?T["default"].show(m["default"].createElement(ErrorsModal,{errors:e})):A["default"].apiError(e)}},{key:"getWeightChoices",value:function(){var e=[{value:0,icon:"remove",label:gettext("Not pinned")},{value:1,icon:"bookmark_border",label:gettext("Pinned locally")}];return 2==this.acl[this.state.category].can_pin_threads&&e.push({value:2,icon:"bookmark",label:gettext("Pinned globally")}),e}},{key:"renderWeightField",value:function(){return this.acl[this.state.category].can_pin_threads?m["default"].createElement(y["default"],{label:gettext("Thread weight"),"for":"id_weight",labelClass:"col-sm-4",controlClass:"col-sm-8"},m["default"].createElement(x["default"],{id:"id_weight",onChange:this.bindInput("weight"),value:this.state.weight,choices:this.getWeightChoices()})):null}},{key:"renderHiddenField",value:function(){return this.acl[this.state.category].can_hide_threads?m["default"].createElement(y["default"],{label:gettext("Hide thread"),"for":"id_is_hidden",labelClass:"col-sm-4",controlClass:"col-sm-8"},m["default"].createElement(x["default"],{id:"id_is_closed",onChange:this.bindInput("is_hidden"),value:this.state.is_hidden,choices:this.isHiddenChoices})):null}},{key:"renderClosedField",value:function(){return this.acl[this.state.category].can_close_threads?m["default"].createElement(y["default"],{label:gettext("Close thread"),"for":"id_is_closed",labelClass:"col-sm-4",controlClass:"col-sm-8"},m["default"].createElement(x["default"],{id:"id_is_closed",onChange:this.bindInput("is_closed"),value:this.state.is_closed,choices:this.isClosedChoices})):null}},{key:"render",value:function(){return m["default"].createElement(c,{className:"modal-dialog"},m["default"].createElement("form",{onSubmit:this.handleSubmit},m["default"].createElement("div",{className:"modal-body"},m["default"].createElement(y["default"],{label:gettext("Thread title"),"for":"id_title",labelClass:"col-sm-4",controlClass:"col-sm-8",validation:this.state.errors.title},m["default"].createElement("input",{id:"id_title",className:"form-control",type:"text",onChange:this.bindInput("title"),value:this.state.title})),m["default"].createElement("div",{className:"clearfix"}),m["default"].createElement(y["default"],{label:gettext("Category"),"for":"id_category",labelClass:"col-sm-4",controlClass:"col-sm-8",validation:this.state.errors.category},m["default"].createElement(w["default"],{id:"id_category",onChange:this.onCategoryChange,value:this.state.category,choices:this.state.categories})),m["default"].createElement("div",{className:"clearfix"}),this.renderWeightField(),this.renderHiddenField(),this.renderClosedField()),m["default"].createElement("div",{className:"modal-footer"},m["default"].createElement(b["default"],{className:"btn-primary",loading:this.state.isLoading},gettext("Split post")))))}}]),t}(_["default"])},{"../../../../reducers/post":353,"../../../../services/ajax":365,"../../../../services/modal":371,"../../../../services/snackbar":376,"../../../../services/store":377,"../../../../utils/validators":393,"../../../button":8,"../../../category-select":21,"../../../form":56,"../../../form-group":55,"../../../modal-loader":61,"../../../select":210,react:"react"}],160:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){var t=e.post,a=e.thread,n=e.user;if(!i(t)||t.id!==a.best_answer)return null;var r=null;return r=n.id&&a.best_answer_marked_by===n.id?interpolate(gettext("Marked as best answer by you %(marked_on)s."),{marked_on:a.best_answer_marked_on.fromNow()},!0):interpolate(gettext("Marked as best answer by %(marked_by)s %(marked_on)s."),{marked_by:a.best_answer_marked_by_name,marked_on:a.best_answer_marked_on.fromNow()},!0),c["default"].createElement("div",{className:"post-status-message post-status-best-answer"},c["default"].createElement("span",{className:"material-icon"},"check_box"),c["default"].createElement("p",null,r))}function o(e){return i(e.post)&&e.post.is_hidden?c["default"].createElement("div",{className:"post-status-message post-status-hidden"},c["default"].createElement("span",{className:"material-icon"},"visibility_off"),c["default"].createElement("p",null,gettext("This post is hidden. Only users with permission may see its contents."))):null}function l(e){return i(e.post)&&e.post.is_unapproved?c["default"].createElement("div",{className:"post-status-message post-status-unapproved"},c["default"].createElement("span",{className:"material-icon"},"remove_circle_outline"),c["default"].createElement("p",null,gettext("This post is unapproved. Only users with permission to approve posts and its author may see its contents."))):null}function s(e){return i(e.post)&&e.post.is_protected?c["default"].createElement("div",{className:"post-status-message post-status-protected visible-xs-block"},c["default"].createElement("span",{className:"material-icon"},"lock_outline"),c["default"].createElement("p",null,gettext("This post is protected. Only moderators may change it."))):null}function i(e){return!e.is_hidden||e.acl.can_see_hidden}Object.defineProperty(a,"__esModule",{value:!0}),a.FlagBestAnswer=r,a.FlagHidden=o,a.FlagUnapproved=l,a.FlagProtected=s,a.isVisible=i;var u=e("react"),c=n(u)},{react:"react"}],161:[function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return(!e.is_hidden||e.acl.can_see_hidden)&&(e.acl.can_reply||e.acl.can_edit||e.acl.can_see_likes&&(e.last_likes||[]).length||e.acl.can_like)}function u(e,t){var a=t.slice(0,3).map(function(e){return e.username});if(1==a.length)return interpolate(gettext("%(user)s likes this."),{user:a[0]},!0);var n=e-a.length,r=a.slice(0,-1).join(", "),o=a.slice(-1)[0],l=interpolate(gettext("%(users)s and %(last_user)s"),{users:r,last_user:o},!0);if(0===n)return interpolate(gettext("%(users)s like this."),{users:l},!0);var s=ngettext("%(users)s and %(likes)s other user like this.","%(users)s and %(likes)s other users like this.",n);return interpolate(s,{users:a.join(", "),likes:n},!0)}Object.defineProperty(a,"__esModule",{value:!0}),a.Edit=a.Reply=a.LikesCompact=a.Likes=a.Like=a.MarkAsBestAnswerCompact=a.MarkAsBestAnswer=void 0;var c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};a["default"]=function(e){return i(e.post)?p["default"].createElement("div",{className:"post-footer"},p["default"].createElement(w,e),p["default"].createElement(O,e),p["default"].createElement(k,e),p["default"].createElement(N,d({lastLikes:e.post.last_likes,likes:e.post.likes},e)),p["default"].createElement(x,d({likes:e.post.likes},e)),p["default"].createElement(P,e),p["default"].createElement(j,e)):null},a.isVisible=i,a.getLikesMessage=u;var f=e("react"),p=r(f),m=e("./controls/actions"),h=n(m),b=e("../../post-likes"),v=r(b),_=e("../../../services/modal"),g=r(_),y=e("../../../services/posting"),E=r(y),w=a.MarkAsBestAnswer=function(e){
function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onClick=function(){h.markAsBestAnswer(n.props)},r=a,l(n,r)}return s(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=e.post,a=e.thread;return a.acl.can_mark_best_answer&&t.acl.can_mark_as_best_answer?a.best_answer&&!a.acl.can_change_best_answer?null:p["default"].createElement("button",{className:"hidden-xs btn btn-default btn-sm pull-left",disabled:this.props.post.isBusy||t.id===a.best_answer,onClick:this.onClick,type:"button"},p["default"].createElement("span",{className:"material-icon"},"check_box"),gettext("Best answer")):null}}]),t}(p["default"].Component),O=a.MarkAsBestAnswerCompact=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onClick=function(){h.markAsBestAnswer(n.props)},r=a,l(n,r)}return s(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=e.post,a=e.thread;return a.acl.can_mark_best_answer&&t.acl.can_mark_as_best_answer?a.best_answer&&!a.acl.can_change_best_answer?null:p["default"].createElement("button",{className:"visible-xs-inline-block btn btn-default btn-sm pull-left",disabled:this.props.post.isBusy||t.id===a.best_answer,onClick:this.onClick,type:"button"},p["default"].createElement("span",{className:"material-icon"},"check_box")):null}}]),t}(p["default"].Component),k=a.Like=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onClick=function(){n.props.post.is_liked?h.unlike(n.props):h.like(n.props)},r=a,l(n,r)}return s(t,e),c(t,[{key:"render",value:function(){if(!this.props.post.acl.can_like)return null;var e="btn btn-default btn-sm pull-left";return this.props.post.is_liked&&(e="btn btn-success btn-sm pull-left"),p["default"].createElement("button",{className:e,disabled:this.props.post.isBusy,onClick:this.onClick,type:"button"},this.props.post.is_liked?gettext("Liked"):gettext("Like"))}}]),t}(p["default"].Component),N=a.Likes=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onClick=function(){g["default"].show(p["default"].createElement(v["default"],{post:n.props.post}))},r=a,l(n,r)}return s(t,e),c(t,[{key:"render",value:function(){var e=(this.props.post.last_likes||[]).length>0;return this.props.post.acl.can_see_likes&&e?2===this.props.post.acl.can_see_likes?p["default"].createElement("button",{className:"btn btn-link btn-sm pull-left hidden-xs",onClick:this.onClick,type:"button"},u(this.props.likes,this.props.lastLikes)):p["default"].createElement("p",{className:"pull-left hidden-xs"},u(this.props.likes,this.props.lastLikes)):null}}]),t}(p["default"].Component),x=a.LikesCompact=function(e){function t(){return o(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),c(t,[{key:"render",value:function(){var e=(this.props.post.last_likes||[]).length>0;return this.props.post.acl.can_see_likes&&e?2===this.props.post.acl.can_see_likes?p["default"].createElement("button",{className:"btn btn-link btn-sm likes-compact pull-left visible-xs-block",onClick:this.onClick,type:"button"},p["default"].createElement("span",{className:"material-icon"},"favorite"),this.props.likes):p["default"].createElement("p",{className:"likes-compact pull-left visible-xs-block"},p["default"].createElement("span",{className:"material-icon"},"favorite"),this.props.likes):null}}]),t}(N),P=a.Reply=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onClick=function(){E["default"].open({mode:"REPLY",config:n.props.thread.api.editor,submit:n.props.thread.api.posts.index,context:{reply:n.props.post.id}})},r=a,l(n,r)}return s(t,e),c(t,[{key:"render",value:function(){return this.props.post.acl.can_reply?p["default"].createElement("button",{className:"btn btn-primary btn-sm pull-right",type:"button",onClick:this.onClick},gettext("Reply")):null}}]),t}(p["default"].Component),j=a.Edit=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onClick=function(){E["default"].open({mode:"EDIT",config:n.props.post.api.editor,submit:n.props.post.api.index})},r=a,l(n,r)}return s(t,e),c(t,[{key:"render",value:function(){return this.props.post.acl.can_edit?p["default"].createElement("button",{className:"hidden-xs btn btn-default btn-sm pull-right",type:"button",onClick:this.onClick},gettext("Edit")):null}}]),t}(p["default"].Component)},{"../../../services/modal":371,"../../../services/posting":375,"../../post-likes":132,"./controls/actions":155,react:"react"}],162:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return e.post.is_read?null:m["default"].createElement("span",{className:"label label-unread hidden-xs"},gettext("New post"))}function i(e){return e.post.is_read?null:m["default"].createElement("span",{className:"label label-unread visible-xs-inline-block"},gettext("New"))}function u(e){var t=interpolate(gettext("posted %(posted_on)s"),{posted_on:e.post.posted_on.format("LL, LT")},!0);return m["default"].createElement("a",{href:e.post.url.index,className:"btn btn-link posted-on hidden-xs",title:t},e.post.posted_on.fromNow())}function c(e){return m["default"].createElement("a",{href:e.post.url.index,className:"btn btn-link posted-on visible-xs-inline-block"},e.post.posted_on.fromNow(!0))}function d(e){var t=e.post.poster&&e.post.poster.id===e.user.id,a=e.post.acl.can_protect,n=e.user.id&&e.post.is_protected&&(t||a);return n?m["default"].createElement("span",{className:"label label-protected hidden-xs",title:gettext("This post is protected and may not be edited.")},m["default"].createElement("span",{className:"material-icon"},"lock_outline"),gettext("protected")):null}Object.defineProperty(a,"__esModule",{value:!0}),a.PostEditsCompacts=a.PostEdits=void 0;var f=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a["default"]=function(e){return m["default"].createElement("div",{className:"post-heading"},m["default"].createElement(s,e),m["default"].createElement(i,e),m["default"].createElement(u,e),m["default"].createElement(c,e),m["default"].createElement(O,e),m["default"].createElement(k,e),m["default"].createElement(d,e),m["default"].createElement(_["default"],e),m["default"].createElement(b["default"],e))},a.UnreadLabel=s,a.UnreadCompact=i,a.PostedOn=u,a.PostedOnCompact=c,a.ProtectedLabel=d;var p=e("react"),m=n(p),h=e("./controls"),b=n(h),v=e("./select"),_=n(v),g=(e("../../user-status"),e("../../post-changelog")),y=n(g),E=e("../../../services/modal"),w=n(E),O=a.PostEdits=function(e){function t(){var e,a,n,l;r(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onClick=function(){w["default"].show(m["default"].createElement(y["default"],{post:n.props.post}))},l=a,o(n,l)}return l(t,e),f(t,[{key:"render",value:function(){var e=this.props.post.is_hidden&&!this.props.post.acl.can_see_hidden,t=0===this.props.post.edits;if(e||t)return null;var a=ngettext("This post was edited %(edits)s time.","This post was edited %(edits)s times.",this.props.post.edits),n=interpolate(a,{edits:this.props.post.edits},!0),r=ngettext("edited %(edits)s time","edited %(edits)s times",this.props.post.edits);return m["default"].createElement("button",{className:"btn btn-link btn-see-edits hidden-xs",onClick:this.onClick,title:n,type:"button"},interpolate(r,{edits:this.props.post.edits},!0))}}]),t}(m["default"].Component),k=a.PostEditsCompacts=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),f(t,[{key:"render",value:function(){var e=this.props.post.is_hidden&&!this.props.post.acl.can_see_hidden,t=0===this.props.post.edits;if(e||t)return null;var a=ngettext("%(edits)s edit","%(edits)s edits",this.props.post.edits);return m["default"].createElement("button",{className:"btn btn-link btn-see-edits visible-xs-inline-block",onClick:this.onClick,type:"button"},interpolate(a,{edits:this.props.post.edits},!0))}}]),t}(O)},{"../../../services/modal":371,"../../post-changelog":119,"../../user-status":274,"./controls":157,"./select":172,react:"react"}],163:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t="post";return e.post.isDeleted?t="hide":e.post.is_hidden&&!e.post.acl.can_see_hidden&&(t="post post-hidden"),e.post.poster&&e.post.poster.rank.css_class&&(t+=" post-"+e.post.poster.rank.css_class),e.post.is_read||(t+=" post-new"),o["default"].createElement("li",{id:"post-"+e.post.id,className:t},o["default"].createElement("div",{className:"panel panel-default panel-post"},o["default"].createElement("div",{className:"panel-body"},o["default"].createElement("div",{className:"row"},o["default"].createElement(b["default"],e),o["default"].createElement("div",{className:"col-xs-12 col-md-9"},o["default"].createElement(m["default"],e),o["default"].createElement(c.FlagBestAnswer,e),o["default"].createElement(c.FlagUnapproved,e),o["default"].createElement(c.FlagProtected,e),o["default"].createElement(c.FlagHidden,e),o["default"].createElement(u["default"],e),o["default"].createElement(s["default"],e),o["default"].createElement(f["default"],e))))))};var r=e("react"),o=n(r),l=e("./attachments"),s=n(l),i=e("./body"),u=n(i),c=e("./flags"),d=e("./footer"),f=n(d),p=e("./header"),m=n(p),h=e("./post-side"),b=n(h)},{"./attachments":153,"./body":154,"./flags":160,"./footer":161,"./header":162,"./post-side":166,react:"react"}],164:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.post,a=e.thread;return o["default"].createElement("div",{className:"col-xs-12 col-md-3 post-side post-side-anonymous"},o["default"].createElement(d["default"],{post:t,thread:a}),o["default"].createElement(u["default"],{post:t,thread:a}),o["default"].createElement("div",{className:"media"},o["default"].createElement("div",{className:"media-left"},o["default"].createElement("span",null,o["default"].createElement(s["default"],{className:"poster-avatar",size:100}))),o["default"].createElement("div",{className:"media-body"},o["default"].createElement("span",{className:"media-heading item-title"},t.poster_name),o["default"].createElement("span",{className:"user-title user-title-anonymous"},gettext("Removed user")))))};var r=e("react"),o=n(r),l=e("../../../avatar"),s=n(l),i=e("../controls"),u=n(i),c=e("../select"),d=n(c),f=e("../../../user-status"),p=(n(f),e("./user-postcount")),m=(n(p),e("./user-title"));n(m)},{"../../../avatar":6,"../../../user-status":274,"../controls":157,"../select":172,"./user-postcount":168,"./user-title":170,react:"react"}],165:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.title,a=e.rank;return a.is_tab||!!t||!!a.title}},{}],166:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){return e.post.poster?o["default"].createElement(u["default"],e):o["default"].createElement(s["default"],e)};var r=e("react"),o=n(r),l=e("./anonymous"),s=n(l),i=e("./registered"),u=n(i)},{"./anonymous":164,"./registered":167,react:"react"}],167:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.post,a=e.thread,n=t.poster;return o["default"].createElement("div",{className:"col-xs-12 col-md-3 post-side post-side-registered"},o["default"].createElement(d["default"],{post:t,thread:a}),o["default"].createElement(u["default"],{post:t,thread:a}),o["default"].createElement("div",{className:"media"},o["default"].createElement("div",{className:"media-left"},o["default"].createElement("a",{href:n.url},o["default"].createElement(s["default"],{className:"poster-avatar",size:100,user:n}))),o["default"].createElement("div",{className:"media-body"},o["default"].createElement("div",{className:"media-heading"},o["default"].createElement("a",{className:"item-title",href:n.url},n.username),o["default"].createElement(p["default"],{status:n.status},o["default"].createElement(f.StatusIcon,{status:n.status}))),o["default"].createElement(g["default"],{rank:n.rank,title:n.title}),o["default"].createElement(v["default"],{poster:n}),o["default"].createElement(h["default"],{poster:n}))))};var r=e("react"),o=n(r),l=e("../../../avatar"),s=n(l),i=e("../controls"),u=n(i),c=e("../select"),d=n(c),f=e("../../../user-status"),p=n(f),m=e("./user-postcount"),h=n(m),b=e("./user-status"),v=n(b),_=e("./user-title"),g=n(_)},{"../../../avatar":6,"../../../user-status":274,"../controls":157,"../select":172,"./user-postcount":168,"./user-status":169,"./user-title":170,react:"react"}],168:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.poster,a=ngettext("%(posts)s post","%(posts)s posts",t.posts),n="user-postcount";return(0,s["default"])(t)&&(n+=" hidden-xs hidden-sm"),o["default"].createElement("span",{className:n},interpolate(a,{posts:t.posts},!0))};var r=e("react"),o=n(r),l=e("./has-visible-title"),s=n(l)},{"./has-visible-title":165,react:"react"}],169:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.poster,a="hidden-xs";return(0,u["default"])(t)&&(a+=" hidden-sm"),o["default"].createElement("span",{className:a},o["default"].createElement(s["default"],{status:t.status},o["default"].createElement(l.StatusLabel,{status:t.status,user:t})))};var r=e("react"),o=n(r),l=e("../../../user-status"),s=n(l),i=e("./has-visible-title"),u=n(i)},{"../../../user-status":274,"./has-visible-title":165,react:"react"}],170:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.rank,a=e.title,n=a||t.title;if(!n&&t.is_tab&&(n=t.name),!n)return null;var r="user-title";return t.css_class&&(r+=" user-title-"+t.css_class),t.is_tab?o["default"].createElement("div",{className:r},o["default"].createElement("a",{href:t.url},n)):o["default"].createElement("div",{className:r},n)};var r=e("react"),o=n(r)},{react:"react"}],171:[function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){return l["default"].createElement("li",{className:"post"},l["default"].createElement("div",{className:"post-border"},l["default"].createElement("div",{className:"post-avatar"},l["default"].createElement(i["default"],{size:"100"})),l["default"].createElement("div",{className:"post-body"},l["default"].createElement("div",{className:"panel panel-default panel-post"},l["default"].createElement("div",{className:"panel-heading post-heading"},l["default"].createElement("span",{className:"ui-preview-text",style:{width:c["int"](30,100)+"px"}}," "),l["default"].createElement("span",{className:"ui-preview-text",style:{width:c["int"](30,100)+"px"}}," ")),l["default"].createElement("div",{className:"panel-body"},l["default"].createElement("article",{className:"misago-markup"},l["default"].createElement("p",{className:"ui-preview-text",style:{width:c["int"](50,100)+"%"}}," "),l["default"].createElement("p",{className:"ui-preview-text",style:{width:c["int"](50,100)+"%"}}," "),l["default"].createElement("p",{className:"ui-preview-text",style:{width:c["int"](50,100)+"%"}}," ")))))))};var o=e("react"),l=r(o),s=e("../../avatar"),i=r(s),u=e("../../../utils/random"),c=n(u)},{"../../../utils/random":388,"../../avatar":6,react:"react"}],172:[function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return e.can_approve||e.can_hide||e.can_protect||e.can_unhide||e.can_delete||e.can_move}Object.defineProperty(a,"__esModule",{value:!0});var u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a.isVisible=i;var c=e("react"),d=r(c),f=e("../../../reducers/posts"),p=n(f),m=e("../../../services/store"),h=r(m),b=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onClick=function(){n.props.post.isSelected?h["default"].dispatch(p.deselect(n.props.post)):h["default"].dispatch(p.select(n.props.post))},r=a,l(n,r)}return s(t,e),u(t,[{key:"render",value:function(){return this.props.thread.acl.can_merge_posts||i(this.props.post.acl)?d["default"].createElement("div",{className:"pull-right hidden-xs"},d["default"].createElement("button",{className:"btn btn-default btn-icon",onClick:this.onClick,type:"button"},d["default"].createElement("span",{className:"material-icon"},this.props.post.isSelected?"check_box":"check_box_outline_blank"))):null}}]),t}(d["default"].Component);a["default"]=b},{"../../../reducers/posts":354,"../../../services/store":377,react:"react"}],173:[function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=e("react"),c=r(u),d=e("../../reducers/post"),f=n(d),p=e("../../reducers/thread"),m=n(p),h=e("../../services/ajax"),b=r(h),v=e("../../services/snackbar"),_=r(v),g=e("../../services/store"),y=r(g),E=function(e){function t(){return o(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this;this.props.post.is_read||$(this.documentNode).waypoint({handler:function(t){"down"!==t||e.props.post.is_read||window.setTimeout(function(){var t=e.documentNode.getBoundingClientRect(),a=t.height+t.top,n=document.documentElement.clientHeight;a<5||a>n||(y["default"].dispatch(f.patch(e.props.post,{is_read:!0})),b["default"].post(e.props.post.api.read).then(function(t){y["default"].dispatch(m.update(e.props.thread,{is_read:t.thread_is_read}))},function(e){_["default"].apiError(e)}))},1e3)},offset:"bottom-in-view"})}},{key:"render",value:function(){var e=this;return c["default"].createElement("div",{className:this.props.className,ref:function(t){e.documentNode=t}},this.props.children)}}]),t}(c["default"].Component);a["default"]=E},{"../../reducers/post":353,"../../reducers/thread":360,"../../services/ajax":365,"../../services/snackbar":376,"../../services/store":377,react:"react"}],174:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("moment"),u=n(i),c=e("react"),d=n(c),f=e("../panel-loader"),p=n(f),m=e("../panel-message"),h=n(m),b=e("../../index"),v=n(b),_=e("../../services/polls"),g=n(_),y=e("../../services/page-title"),E=n(y),w=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.update=function(e){e.expires_on&&(e.expires_on=(0,u["default"])(e.expires_on)),a.setState({isLoaded:!0,error:null,ban:e})},a.error=function(e){a.setState({isLoaded:!0,error:e.detail,ban:null})},v["default"].has("PROFILE_BAN")?a.initWithPreloadedData(v["default"].pop("PROFILE_BAN")):a.initWithoutPreloadedData(),a.startPolling(e.profile.api.ban),a}return l(t,e),s(t,[{key:"initWithPreloadedData",value:function(e){e.expires_on&&(e.expires_on=(0,u["default"])(e.expires_on)),this.state={isLoaded:!0,ban:e}}},{key:"initWithoutPreloadedData",value:function(){this.state={isLoaded:!1}}},{key:"startPolling",value:function(e){g["default"].start({poll:"ban-details",url:e,frequency:9e4,update:this.update,error:this.error})}},{key:"componentDidMount",value:function(){E["default"].set({title:gettext("Ban details"),parent:this.props.profile.username})}},{key:"componentWillUnmount",value:function(){g["default"].stop("ban-details")}},{key:"getUserMessage",value:function(){return this.state.ban.user_message?d["default"].createElement("div",{className:"panel-body ban-message ban-user-message"},d["default"].createElement("h4",null,gettext("User-shown ban message")),d["default"].createElement("div",{className:"lead",dangerouslySetInnerHTML:{__html:this.state.ban.user_message.html}})):null}},{key:"getStaffMessage",value:function(){return this.state.ban.staff_message?d["default"].createElement("div",{className:"panel-body ban-message ban-staff-message"},d["default"].createElement("h4",null,gettext("Team-shown ban message")),d["default"].createElement("div",{className:"lead",dangerouslySetInnerHTML:{__html:this.state.ban.staff_message.html}})):null}},{key:"getExpirationMessage",value:function(){if(this.state.ban.expires_on){if(this.state.ban.expires_on.isAfter((0,u["default"])())){var e=interpolate(gettext("This ban expires on %(expires_on)s."),{expires_on:this.state.ban.expires_on.format("LL, LT")},!0),t=interpolate(gettext("This ban expires %(expires_on)s."),{expires_on:this.state.ban.expires_on.fromNow()},!0);return d["default"].createElement("abbr",{title:e},t)}return gettext("This ban has expired.")}return interpolate(gettext("%(username)s's ban is permanent."),{username:this.props.profile.username},!0)}},{key:"getPanelBody",value:function(){return this.state.ban?Object.keys(this.state.ban).length?d["default"].createElement("div",null,this.getUserMessage(),this.getStaffMessage(),d["default"].createElement("div",{className:"panel-body ban-expires"},d["default"].createElement("h4",null,gettext("Ban expiration")),d["default"].createElement("p",{className:"lead"},this.getExpirationMessage()))):d["default"].createElement("div",null,d["default"].createElement(h["default"],{message:gettext("No ban is active at the moment.")})):this.state.error?d["default"].createElement("div",null,d["default"].createElement(h["default"],{icon:"error_outline",message:this.state.error})):d["default"].createElement("div",null,d["default"].createElement(p["default"],null))}},{key:"render",value:function(){return d["default"].createElement("div",{className:"profile-ban-details"},d["default"].createElement("div",{className:"panel panel-default"},d["default"].createElement("div",{className:"panel-heading"},d["default"].createElement("h3",{className:"panel-title"},gettext("Ban details"))),this.getPanelBody()))}}]),t}(d["default"].Component);a["default"]=w},{"../../index":302,"../../services/page-title":373,"../../services/polls":374,"../panel-loader":93,"../panel-message":94,moment:"moment",react:"react"}],175:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.isAuthenticated,a=e.profile,n=null;return n=t?gettext("You are not sharing any details with others."):interpolate(gettext("%(username)s is not sharing any details with others."),{username:a.username},!0),o["default"].createElement("div",{className:"panel panel-default"},o["default"].createElement("div",{className:"panel-body text-center lead"},n))};var r=e("react"),o=n(r)},{react:"react"}],176:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){var t=e.text,a=e.url;return a?l["default"].createElement("p",null,l["default"].createElement("a",{href:a,target:"_blank",rel:"nofollow"},t||a)):t?l["default"].createElement("p",null,t):null}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.html,a=e.text,n=e.url;return t?l["default"].createElement("div",{className:"form-control-static col-md-9",dangerouslySetInnerHTML:{__html:t}}):l["default"].createElement("div",{className:"form-control-static col-md-9"},l["default"].createElement(r,{text:a,url:n}))},a.SafeValue=r;var o=e("react"),l=n(o)},{react:"react"}],177:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){return o["default"].createElement("div",{className:"form-group"},o["default"].createElement("strong",{className:"control-label col-md-3"},e.name,":"),o["default"].createElement(s["default"],e))};var r=e("react"),o=n(r),l=e("./field-value"),s=n(l)},{"./field-value":176,react:"react"}],178:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.api,a=e.display,n=e.onCancel,r=e.onSuccess;return a?o["default"].createElement(s["default"],{api:t,onCancel:n,onSuccess:r}):null};var r=e("react"),o=n(r),l=e("../../edit-details"),s=n(l)},{"../../edit-details":32,react:"react"}],179:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.fields,a=e.name;return o["default"].createElement("div",{className:"panel panel-default panel-profile-details-group"},o["default"].createElement("div",{className:"panel-heading"},o["default"].createElement("h3",{className:"panel-title"},a)),o["default"].createElement("div",{className:"panel-body"},o["default"].createElement("div",{className:"form-horizontal"},t.map(function(e){var t=e.fieldname,a=e.html,n=e.name,r=e.text,l=e.url;return o["default"].createElement(s["default"],{key:t,name:n,html:a,text:r,url:l})}))))};var r=e("react"),o=n(r),l=e("./field"),s=n(l)},{"./field":177,react:"react"}],180:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.display,a=e.groups,n=e.isAuthenticated,r=e.loading,l=e.profile;return t?r?o["default"].createElement(d["default"],null):a.length?o["default"].createElement("div",null,a.map(function(e,t){return o["default"].createElement(u["default"],{fields:e.fields,key:t,name:e.name})})):o["default"].createElement(s["default"],{isAuthenticated:n,profile:l}):null};var r=e("react"),o=n(r),l=e("./empty-message"),s=n(l),i=e("./group"),u=n(i),c=e("../../loader"),d=n(c)},{"../../loader":58,"./empty-message":175,"./group":179,react:"react"}],181:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){var t=e.onEdit,a=e.showEditButton;return a?l["default"].createElement("div",{className:"col-sm-4 col-md-2"},l["default"].createElement("button",{className:"btn btn-default btn-outline btn-block",onClick:t,type:"button"},gettext("Edit"))):null}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.onEdit,a=e.showEditButton;return l["default"].createElement("div",null,l["default"].createElement("nav",{className:"toolbar"},l["default"].createElement("div",{className:"row"},l["default"].createElement("div",{className:"col-sm-8 col-md-10"},l["default"].createElement("h3",{className:"md-margin-top-no"},gettext("Details"))),l["default"].createElement(r,{onEdit:t,showEditButton:a}))))},a.EditButton=r;var o=e("react"),l=n(o)},{react:"react"}],182:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t);
}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=e("./form"),d=n(c),f=e("./groups-list"),p=n(f),m=e("./header"),h=n(m),b=e("../../../data/profile-details"),v=n(b),_=e("../../../reducers/profile-details"),g=e("../../../services/page-title"),y=n(g),E=e("../../../services/snackbar"),w=n(E),O=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onCancel=function(){a.setState({editing:!1})},a.onEdit=function(){a.setState({editing:!0})},a.onSuccess=function(e){var t=a.props,n=t.dispatch,r=t.isAuthenticated,o=t.profile,l=null;l=r?gettext("Your details have been updated."):interpolate(gettext("%(username)s's details have been updated."),{username:o.username},!0),w["default"].info(l),n((0,_.load)(e)),a.setState({editing:!1})},a.state={editing:!1},a}return l(t,e),s(t,[{key:"componentDidMount",value:function(){y["default"].set({title:gettext("Details"),parent:this.props.profile.username})}},{key:"render",value:function(){var e=this.props,t=e.dispatch,a=e.isAuthenticated,n=e.profile,r=e.profileDetails,o=r.id!==n.id;return u["default"].createElement(v["default"],{data:r,dispatch:t,user:n},u["default"].createElement("div",{className:"profile-details"},u["default"].createElement(h["default"],{onEdit:this.onEdit,showEditButton:!!r.edit&&!this.state.editing}),u["default"].createElement(p["default"],{display:!this.state.editing,groups:r.groups,isAuthenticated:a,loading:o,profile:n}),u["default"].createElement(d["default"],{api:n.api.edit_details,dispatch:t,display:this.state.editing,onCancel:this.onCancel,onSuccess:this.onSuccess})))}}]),t}(u["default"].Component);a["default"]=O},{"../../../data/profile-details":301,"../../../reducers/profile-details":355,"../../../services/page-title":373,"../../../services/snackbar":376,"./form":178,"./groups-list":180,"./header":181,react:"react"}],183:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){var t=null;t=e.user.id===e.profile.id?gettext("You have no started threads."):interpolate(gettext("%(username)s started no threads."),{username:e.profile.username},!0);var a=null;if(e.posts.isLoaded)if(e.profile.id===e.user.id){var n=ngettext("You have started %(threads)s thread.","You have started %(threads)s threads.",e.profile.threads);a=interpolate(n,{threads:e.profile.threads},!0)}else{var r=ngettext("%(username)s has started %(threads)s thread.","%(username)s has started %(threads)s threads.",e.profile.threads);a=interpolate(r,{username:e.profile.username,threads:e.profile.threads},!0)}else a=gettext("Loading...");return i["default"].createElement(c["default"],l({api:e.profile.api.threads,emptyMessage:t,header:a,title:gettext("Threads")},e))}function o(e){var t=null;t=e.user.id===e.profile.id?gettext("You have posted no messages."):interpolate(gettext("%(username)s posted no messages."),{username:e.profile.username},!0);var a=null;if(e.posts.isLoaded)if(e.profile.id===e.user.id){var n=ngettext("You have posted %(posts)s message.","You have posted %(posts)s messages.",e.profile.posts);a=interpolate(n,{posts:e.profile.posts},!0)}else{var r=ngettext("%(username)s has posted %(posts)s message.","%(username)s has posted %(posts)s messages.",e.profile.posts);a=interpolate(r,{username:e.profile.username,posts:e.profile.posts},!0)}else a=gettext("Loading...");return i["default"].createElement(c["default"],l({api:e.profile.api.posts,emptyMessage:t,header:a,title:gettext("Posts")},e))}Object.defineProperty(a,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};a.Threads=r,a.Posts=o;var s=e("react"),i=n(s),u=e("./route"),c=n(u)},{"./route":184,react:"react"}],184:[function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return e.posts.results.length?p["default"].createElement("div",null,p["default"].createElement(h["default"],{isReady:e.posts.isLoaded,posts:e.posts.results,poster:e.profile}),p["default"].createElement(u,{isLoading:e.isLoading,loadMore:e.loadMore,next:e.posts.next})):p["default"].createElement("p",{className:"lead"},e.emptyMessage)}function u(e){return e.next?p["default"].createElement("div",{className:"pager-more"},p["default"].createElement(v["default"],{className:"btn btn-default btn-outline",loading:e.isLoading,onClick:e.loadMore},gettext("Show older activity"))):null}Object.defineProperty(a,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a.Feed=i,a.LoadMoreButton=u;var f=e("react"),p=r(f),m=e("../../post-feed"),h=r(m),b=e("../../button"),v=r(b),_=e("../../../reducers/posts"),g=n(_),y=e("../../../services/page-title"),E=r(y),w=e("../../../services/ajax"),O=r(w),k=e("../../../services/snackbar"),N=r(k),x=e("../../../services/store"),P=r(x),j=function(e){function t(e){o(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.loadMore=function(){a.setState({isLoading:!0}),a.loadItems(a.props.posts.next)},a.state={isLoading:!1},a}return s(t,e),d(t,[{key:"loadItems",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;O["default"].get(this.props.api,{start:t||0}).then(function(a){0===t?P["default"].dispatch(g.load(a)):P["default"].dispatch(g.append(a)),e.setState({isLoading:!1})},function(t){e.setState({isLoading:!1}),N["default"].apiError(t)})}},{key:"componentDidMount",value:function(){E["default"].set({title:this.props.title,parent:this.props.profile.username}),this.loadItems()}},{key:"render",value:function(){return p["default"].createElement("div",{className:"profile-feed"},p["default"].createElement("nav",{className:"toolbar"},p["default"].createElement("h3",{className:"toolbar-left"},this.props.header)),p["default"].createElement(i,c({isLoading:this.state.isLoading,loadMore:this.loadMore},this.props)))}}]),t}(p["default"].Component);a["default"]=j},{"../../../reducers/posts":354,"../../../services/ajax":365,"../../../services/page-title":373,"../../../services/snackbar":376,"../../../services/store":377,"../../button":8,"../../post-feed":122,react:"react"}],185:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=e("../button"),d=n(c),f=e("../../reducers/profile"),p=e("../../services/ajax"),m=n(p),h=e("../../services/snackbar"),b=n(h),v=e("../../services/store"),_=n(v),g=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.action=function(){a.setState({isLoading:!0}),a.props.profile.is_followed?_["default"].dispatch((0,f.patch)({is_followed:!1,followers:a.props.profile.followers-1})):_["default"].dispatch((0,f.patch)({is_followed:!0,followers:a.props.profile.followers+1})),m["default"].post(a.props.profile.api.follow).then(function(e){a.setState({isLoading:!1}),_["default"].dispatch((0,f.patch)(e))},function(e){a.setState({isLoading:!1}),b["default"].apiError(e)})},a.state={isLoading:!1},a}return l(t,e),s(t,[{key:"getClassName",value:function(){return this.props.profile.is_followed?this.props.className+" btn-default btn-following":this.props.className+" btn-default btn-follow"}},{key:"getIcon",value:function(){return this.props.profile.is_followed?"favorite":"favorite_border"}},{key:"getLabel",value:function(){return this.props.profile.is_followed?gettext("Following"):gettext("Follow")}},{key:"render",value:function(){return u["default"].createElement(d["default"],{className:this.getClassName(),disabled:this.state.isLoading,onClick:this.action},u["default"].createElement("span",{className:"material-icon"},this.getIcon()),this.getLabel())}}]),t}(u["default"].Component);a["default"]=g},{"../../reducers/profile":356,"../../services/ajax":365,"../../services/snackbar":376,"../../services/store":377,"../button":8,react:"react"}],186:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=e("../button"),d=n(c),f=e("../quick-search"),p=n(f),m=e("../users-list"),h=n(m),b=e("../../index"),v=n(b),_=e("../../reducers/users"),g=e("../../services/ajax"),y=n(g),E=e("../../services/snackbar"),w=n(E),O=e("../../services/store"),k=n(O),N=e("../../services/page-title"),x=n(N),P=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.loadMore=function(){a.setState({isBusy:!0}),a.loadUsers(a.state.page+1,a.state.search)},a.search=function(e){a.setState({isLoaded:!1,isBusy:!0,search:e.target.value,count:0,more:0,page:1,pages:1}),a.loadUsers(1,e.target.value)},a.setSpecialProps(),v["default"].has(a.PRELOADED_DATA_KEY)?a.initWithPreloadedData(v["default"].pop(a.PRELOADED_DATA_KEY)):a.initWithoutPreloadedData(),a}return l(t,e),s(t,[{key:"setSpecialProps",value:function(){this.PRELOADED_DATA_KEY="PROFILE_FOLLOWERS",this.TITLE=gettext("Followers"),this.API_FILTER="followers"}},{key:"initWithPreloadedData",value:function(e){this.state={isLoaded:!0,isBusy:!1,search:"",count:e.count,more:e.more,page:e.page,pages:e.pages},k["default"].dispatch((0,_.hydrate)(e.results))}},{key:"initWithoutPreloadedData",value:function(){this.state={isLoaded:!1,isBusy:!1,search:"",count:0,more:0,page:1,pages:1},this.loadUsers()}},{key:"loadUsers",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.props.profile.api[this.API_FILTER];y["default"].get(n,{search:a,page:t||1},"user-"+this.API_FILTER).then(function(a){1===t?k["default"].dispatch((0,_.hydrate)(a.results)):k["default"].dispatch((0,_.append)(a.results)),e.setState({isLoaded:!0,isBusy:!1,count:a.count,more:a.more,page:a.page,pages:a.pages})},function(e){w["default"].apiError(e)})}},{key:"componentDidMount",value:function(){x["default"].set({title:this.TITLE,parent:this.props.profile.username})}},{key:"getLabel",value:function(){if(this.state.isLoaded){if(this.state.search){var e=ngettext("Found %(users)s user.","Found %(users)s users.",this.state.count);return interpolate(e,{users:this.state.count},!0)}if(this.props.profile.id===this.props.user.id){var t=ngettext("You have %(users)s follower.","You have %(users)s followers.",this.state.count);return interpolate(t,{users:this.state.count},!0)}var a=ngettext("%(username)s has %(users)s follower.","%(username)s has %(users)s followers.",this.state.count);return interpolate(a,{username:this.props.profile.username,users:this.state.count},!0)}return gettext("Loading...")}},{key:"getEmptyMessage",value:function(){return this.state.search?gettext("Search returned no users matching specified criteria."):this.props.user.id===this.props.profile.id?gettext("You have no followers."):interpolate(gettext("%(username)s has no followers."),{username:this.props.profile.username},!0)}},{key:"getMoreButton",value:function(){return this.state.more?u["default"].createElement("div",{className:"pager-more"},u["default"].createElement(d["default"],{className:"btn btn-default btn-outline",loading:this.state.isBusy,onClick:this.loadMore},interpolate(gettext("Show more (%(more)s)"),{more:this.state.more},!0))):null}},{key:"getListBody",value:function(){return this.state.isLoaded&&0===this.state.count?u["default"].createElement("p",{className:"lead"},this.getEmptyMessage()):u["default"].createElement("div",null,u["default"].createElement(h["default"],{cols:3,isReady:this.state.isLoaded,users:this.props.users}),this.getMoreButton())}},{key:"getClassName",value:function(){return"profile-"+this.API_FILTER}},{key:"render",value:function(){return u["default"].createElement("div",{className:this.getClassName()},u["default"].createElement("nav",{className:"toolbar"},u["default"].createElement("h3",{className:"toolbar-left"},this.getLabel()),u["default"].createElement(p["default"],{className:"toolbar-right",value:this.state.search,onChange:this.search,placeholder:gettext("Search users...")})),this.getListBody())}}]),t}(u["default"].Component);a["default"]=P},{"../../index":302,"../../reducers/users":364,"../../services/ajax":365,"../../services/page-title":373,"../../services/snackbar":376,"../../services/store":377,"../button":8,"../quick-search":197,"../users-list":284,react:"react"}],187:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=(n(i),e("./followers")),c=n(u),d=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"setSpecialProps",value:function(){this.PRELOADED_DATA_KEY="PROFILE_FOLLOWS",this.TITLE=gettext("Follows"),this.API_FILTER="follows"}},{key:"getLabel",value:function(){if(this.state.isLoaded){if(this.state.search){var e=ngettext("Found %(users)s user.","Found %(users)s users.",this.state.count);return interpolate(e,{users:this.state.count},!0)}if(this.props.profile.id===this.props.user.id){var t=ngettext("You are following %(users)s user.","You are following %(users)s users.",this.state.count);return interpolate(t,{users:this.state.count},!0)}var a=ngettext("%(username)s is following %(users)s user.","%(username)s is following %(users)s users.",this.state.count);return interpolate(a,{username:this.props.profile.username,users:this.state.count},!0)}return gettext("Loading...")}},{key:"getEmptyMessage",value:function(){return this.state.search?gettext("Search returned no users matching specified criteria."):this.props.user.id===this.props.profile.id?gettext("You are not following any users."):interpolate(gettext("%(username)s is not following any users."),{username:this.props.profile.username},!0)}}]),t}(c["default"]);a["default"]=d},{"./followers":186,react:"react"}],188:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.isActive,a=e.isDeletingAccount;if(t!==!1&&a!==!0)return null;var n=null;return n=a?gettext("This user is deleting their account."):gettext("This user's account has been disabled by administrator."),d["default"].createElement("div",{className:"alert alert-danger"},d["default"].createElement("p",null,n))}function i(e,t){var a="";return 1==e&&(a="col-xs-12"),2==e&&(a="col-xs-6 col-sm-6"),3==e&&(2==t?a="col-xs-12 col-sm-4 xs-margin-top":a+="col-xs-6 col-sm-4"),a}Object.defineProperty(a,"__esModule",{value:!0});var u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a.IsDisabledMessage=s,a.getColStyle=i;var c=e("react"),d=n(c),f=e("../avatar"),p=n(f),m=e("../dropdown-toggle"),h=(n(m),e("./follow-button")),b=n(h),v=e("./message-button"),_=n(v),g=e("./moderation/nav"),y=n(g),E=e("./navs"),w=e("../user-status"),O=n(w),k=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),u(t,[{key:"getUserStatus",value:function(){return d["default"].createElement("li",{className:"user-status-display"},d["default"].createElement(O["default"],{user:this.props.profile,status:this.props.profile.status},d["default"].createElement(w.StatusIcon,{user:this.props.profile,status:this.props.profile.status}),d["default"].createElement(w.StatusLabel,{user:this.props.profile,status:this.props.profile.status,className:"status-label"})))}},{key:"getUserRank",value:function(){return this.props.profile.rank.is_tab?d["default"].createElement("li",{className:"user-rank"},d["default"].createElement("a",{href:this.props.profile.rank.url,className:"item-title"},this.props.profile.rank.name)):d["default"].createElement("li",{className:"user-rank"},d["default"].createElement("span",{className:"item-title"},this.props.profile.rank.name))}},{key:"getUserTitle",value:function(){return this.props.profile.title?d["default"].createElement("li",{className:"user-title"},this.props.profile.title):this.props.profile.rank.title?d["default"].createElement("li",{className:"user-title"},this.props.profile.rank.title):null}},{key:"getJoinedOn",value:function(){var e=interpolate(gettext("Joined on %(joined_on)s"),{joined_on:this.props.profile.joined_on.format("LL, LT")},!0),t=interpolate(gettext("Joined %(joined_on)s"),{joined_on:this.props.profile.joined_on.fromNow()},!0);return d["default"].createElement("li",{className:"user-joined-on"},d["default"].createElement("abbr",{title:e},t))}},{key:"getEmail",value:function(){return this.props.profile.email?d["default"].createElement("li",{className:"user-email"},d["default"].createElement("a",{href:"mailto:"+this.props.profile.email,className:"item-title"},this.props.profile.email)):null}},{key:"getFollowButton",value:function(){return this.props.profile.acl.can_follow?d["default"].createElement(b["default"],{className:"btn btn-block btn-outline",profile:this.props.profile}):null}},{key:"getModerationButton",value:function(){return this.props.profile.acl.can_moderate?d["default"].createElement("div",{className:"btn-group btn-group-justified"},d["default"].createElement("div",{className:"btn-group"},d["default"].createElement("button",{className:"btn btn-default btn-moderate btn-outline dropdown-toggle",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},d["default"].createElement("span",{className:"material-icon"},"tonality"),gettext("Moderation")),d["default"].createElement(y["default"],{profile:this.props.profile}))):null}},{key:"render",value:function(){var e=this.props.profile.acl.can_follow,t=this.props.profile.acl.can_moderate,a=this.props.user.id===this.props.profile.id,n=!a&&this.props.user.acl.can_start_private_threads,r=0;e&&(r+=1),t&&(r+=1),n&&(r+=1);var o=r?2*r+1:0,l="page-header";return this.props.profile.rank.css_class&&(l+=" page-header-rank-"+this.props.profile.rank.css_class),d["default"].createElement("div",{className:"page-header-bg"},d["default"].createElement("div",{className:l},d["default"].createElement("div",{className:"container"},d["default"].createElement(s,{isActive:this.props.profile.is_active,isDeletingAccount:this.props.profile.is_deleting_account}),d["default"].createElement("div",{className:"row"},d["default"].createElement("div",{className:"col-md-9 col-md-offset-3"},d["default"].createElement("div",{className:"row"},d["default"].createElement("div",{className:"col-sm-"+(12-o)},d["default"].createElement(p["default"],{className:"user-avatar user-avatar-sm",user:this.props.profile,size:"100",size2x:"200"}),d["default"].createElement("h1",null,this.props.profile.username)),!!r&&d["default"].createElement("div",{className:"col-sm-"+o},d["default"].createElement("div",{className:"row xs-margin-top sm-margin-top"},!!n&&d["default"].createElement("div",{className:i(r,0)},d["default"].createElement(_["default"],{className:"btn btn-default btn-block btn-outline",profile:this.props.profile,user:this.props.user})),!!e&&d["default"].createElement("div",{className:i(r,1)},this.getFollowButton()),!!t&&d["default"].createElement("div",{className:i(r,2)},this.getModerationButton()))))))),d["default"].createElement("div",{className:"header-stats"},d["default"].createElement("div",{className:"container"},d["default"].createElement("div",{className:"row"},d["default"].createElement("div",{className:"col-md-9 col-md-offset-3"},d["default"].createElement("ul",{className:"list-inline"},this.getUserStatus(),this.getUserRank(),this.getUserTitle(),this.getJoinedOn(),this.getEmail()))))),d["default"].createElement(E.CompactNav,{baseUrl:this.props.baseUrl,pages:this.props.pages,profile:this.props.profile})))}}]),t}(d["default"].Component);a["default"]=k},{"../avatar":6,"../dropdown-toggle":27,"../user-status":274,"./follow-button":185,"./message-button":189,"./moderation/nav":193,"./navs":194,react:"react"}],189:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=e("../../services/posting"),d=n(c),f=e("../.."),p=n(f),m=function(e){function t(){var e,a,n,l;r(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onClick=function(){d["default"].open({mode:"START_PRIVATE",submit:p["default"].get("PRIVATE_THREADS_API"),to:[n.props.profile]})},l=a,o(n,l)}return l(t,e),s(t,[{key:"render",value:function(){var e=this.props.user.acl.can_start_private_threads,t=this.props.user.id===this.props.profile.id;return!e||t?null:u["default"].createElement("button",{className:this.props.className,onClick:this.onClick,type:"button"},u["default"].createElement("span",{className:"material-icon"},"comment"),gettext("Message"))}}]),t}(u["default"].Component);a["default"]=m},{"../..":302,"../../services/posting":375,react:"react"}],190:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=e("../../button"),d=n(c),f=e("../../form"),p=n(f),m=e("../../form-group"),h=n(m),b=e("../../modal-loader"),v=n(b),_=e("../../yes-no-switch"),g=n(_),y=e("../../modal-message"),E=n(y),w=e("../../../reducers/users"),O=e("../../../services/ajax"),k=n(O),N=e("../../../services/snackbar"),x=n(N),P=e("../../../services/store"),j=n(P),C=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={isLoaded:!1,isLoading:!1,error:null,is_avatar_locked:"",avatar_lock_user_message:"",avatar_lock_staff_message:""},a}return l(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this;k["default"].get(this.props.profile.api.moderate_avatar).then(function(t){e.setState({isLoaded:!0,is_avatar_locked:t.is_avatar_locked,avatar_lock_user_message:t.avatar_lock_user_message||"",avatar_lock_staff_message:t.avatar_lock_staff_message||""})},function(t){e.setState({isLoaded:!0,error:t.detail})})}},{key:"clean",value:function(){return!!this.isValid()||(x["default"].error(this.validate().username[0]),!1)}},{key:"send",value:function(){return k["default"].post(this.props.profile.api.moderate_avatar,{is_avatar_locked:this.state.is_avatar_locked,avatar_lock_user_message:this.state.avatar_lock_user_message,avatar_lock_staff_message:this.state.avatar_lock_staff_message})}},{key:"handleSuccess",value:function(e){j["default"].dispatch((0,w.updateAvatar)(this.props.profile,e.avatar_hash)),x["default"].success(gettext("Avatar controls have been changed."))}},{key:"getFormBody",value:function(){return u["default"].createElement("form",{onSubmit:this.handleSubmit},u["default"].createElement("div",{className:"modal-body"},u["default"].createElement(h["default"],{label:gettext("Lock avatar"),helpText:gettext("Locking user avatar will prohibit user from changing his avatar and will reset his/her avatar to default one."),"for":"id_is_avatar_locked"},u["default"].createElement(g["default"],{id:"id_is_avatar_locked",disabled:this.state.isLoading,iconOn:"lock_outline",iconOff:"lock_open",labelOn:gettext("Disallow user from changing avatar"),labelOff:gettext("Allow user to change avatar"),onChange:this.bindInput("is_avatar_locked"),value:this.state.is_avatar_locked})),u["default"].createElement(h["default"],{label:gettext("User message"),helpText:gettext("Optional message for user explaining why he/she is prohibited form changing avatar."),"for":"id_avatar_lock_user_message"},u["default"].createElement("textarea",{id:"id_avatar_lock_user_message",className:"form-control",rows:"4",disabled:this.state.isLoading,onChange:this.bindInput("avatar_lock_user_message"),value:this.state.avatar_lock_user_message})),u["default"].createElement(h["default"],{label:gettext("Staff message"),helpText:gettext("Optional message for forum team members explaining why user is prohibited form changing avatar."),"for":"id_avatar_lock_staff_message"},u["default"].createElement("textarea",{id:"id_avatar_lock_staff_message",className:"form-control",rows:"4",disabled:this.state.isLoading,onChange:this.bindInput("avatar_lock_staff_message"),value:this.state.avatar_lock_staff_message}))),u["default"].createElement("div",{className:"modal-footer"},u["default"].createElement("button",{type:"button",className:"btn btn-default","data-dismiss":"modal"},gettext("Close")),u["default"].createElement(d["default"],{className:"btn-primary",loading:this.state.isLoading},gettext("Save changes"))))}},{key:"getModalBody",value:function(){return this.state.error?u["default"].createElement(E["default"],{icon:"remove_circle_outline",message:this.state.error}):this.state.isLoaded?this.getFormBody():u["default"].createElement(v["default"],null)}},{key:"getClassName",value:function(){return this.state.error?"modal-dialog modal-message modal-avatar-controls":"modal-dialog modal-avatar-controls"}},{key:"render",value:function(){return u["default"].createElement("div",{className:this.getClassName(),role:"document"},u["default"].createElement("div",{className:"modal-content"},u["default"].createElement("div",{className:"modal-header"},u["default"].createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":gettext("Close")},u["default"].createElement("span",{"aria-hidden":"true"},"×")),u["default"].createElement("h4",{className:"modal-title"},gettext("Avatar controls"))),this.getModalBody()))}}]),t}(p["default"]);a["default"]=C},{"../../../reducers/users":364,"../../../services/ajax":365,"../../../services/snackbar":376,"../../../services/store":377,"../../button":8,"../../form":56,"../../form-group":55,"../../modal-loader":61,"../../modal-message":62,"../../yes-no-switch":300,react:"react"}],191:[function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);
return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=e("react"),c=r(u),d=e("../../button"),f=r(d),p=e("../../form"),m=r(p),h=e("../../form-group"),b=r(h),v=e("../../modal-loader"),_=r(v),g=e("../../modal-message"),y=r(g),E=e("../../../reducers/username-history"),w=e("../../../reducers/users"),O=e("../../../services/ajax"),k=r(O),N=e("../../../services/snackbar"),x=r(N),P=e("../../../services/store"),j=r(P),C=e("../../../utils/validators"),S=n(C),M=function(e){function t(e){o(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={isLoaded:!1,isLoading:!1,error:null,username:"",validators:{username:[S.usernameContent()]}},a}return s(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this;k["default"].get(this.props.profile.api.moderate_username).then(function(){e.setState({isLoaded:!0})},function(t){e.setState({isLoaded:!0,error:t.detail})})}},{key:"clean",value:function(){return!!this.isValid()||(x["default"].error(this.validate().username[0]),!1)}},{key:"send",value:function(){return k["default"].post(this.props.profile.api.moderate_username,{username:this.state.username})}},{key:"handleSuccess",value:function(e){this.setState({username:""}),j["default"].dispatch((0,E.addNameChange)(e,this.props.profile,this.props.user)),j["default"].dispatch((0,w.updateUsername)(this.props.profile,e.username,e.slug)),x["default"].success(gettext("Username has been changed."))}},{key:"getFormBody",value:function(){return c["default"].createElement("form",{onSubmit:this.handleSubmit},c["default"].createElement("div",{className:"modal-body"},c["default"].createElement(b["default"],{label:gettext("New username"),"for":"id_username"},c["default"].createElement("input",{type:"text",id:"id_username",className:"form-control",disabled:this.state.isLoading,onChange:this.bindInput("username"),value:this.state.username}))),c["default"].createElement("div",{className:"modal-footer"},c["default"].createElement("button",{className:"btn btn-default","data-dismiss":"modal",disabled:this.state.isLoading,type:"button"},gettext("Cancel")),c["default"].createElement(f["default"],{className:"btn-primary",loading:this.state.isLoading},gettext("Change username"))))}},{key:"getModalBody",value:function(){return this.state.error?c["default"].createElement(y["default"],{icon:"remove_circle_outline",message:this.state.error}):this.state.isLoaded?this.getFormBody():c["default"].createElement(_["default"],null)}},{key:"getClassName",value:function(){return this.state.error?"modal-dialog modal-message modal-rename-user":"modal-dialog modal-rename-user"}},{key:"render",value:function(){return c["default"].createElement("div",{className:this.getClassName(),role:"document"},c["default"].createElement("div",{className:"modal-content"},c["default"].createElement("div",{className:"modal-header"},c["default"].createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":gettext("Close")},c["default"].createElement("span",{"aria-hidden":"true"},"×")),c["default"].createElement("h4",{className:"modal-title"},gettext("Change username"))),this.getModalBody()))}}]),t}(m["default"]);a["default"]=M},{"../../../reducers/username-history":363,"../../../reducers/users":364,"../../../services/ajax":365,"../../../services/snackbar":376,"../../../services/store":377,"../../../utils/validators":393,"../../button":8,"../../form":56,"../../form-group":55,"../../modal-loader":61,"../../modal-message":62,react:"react"}],192:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=e("../../button"),d=n(c),f=e("../../form"),p=n(f),m=e("../../form-group"),h=n(m),b=e("../../modal-loader"),v=n(b),_=e("../../modal-message"),g=n(_),y=e("../../yes-no-switch"),E=n(y),w=e("../../../index"),O=n(w),k=e("../../../services/ajax"),N=n(k),x=e("../../../services/polls"),P=n(x),j=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.countdown=function(){window.setTimeout(function(){a.state.countdown>1?(a.setState({countdown:a.state.countdown-1}),a.countdown()):a.state.confirm||a.setState({confirm:!0})},1e3)},a.state={isLoaded:!1,isLoading:!1,isDeleted:!1,error:null,countdown:5,confirm:!1,with_content:!1},a}return l(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this;N["default"].get(this.props.profile.api["delete"]).then(function(){e.setState({isLoaded:!0}),e.countdown()},function(t){e.setState({isLoaded:!0,error:t.detail})})}},{key:"send",value:function(){return N["default"].post(this.props.profile.api["delete"],{with_content:this.state.with_content})}},{key:"handleSuccess",value:function(){P["default"].stop("user-profile"),this.state.with_content?this.setState({isDeleted:interpolate(gettext("%(username)s's account, threads, posts and other content has been deleted."),{username:this.props.profile.username},!0)}):this.setState({isDeleted:interpolate(gettext("%(username)s's account has been deleted and other content has been hidden."),{username:this.props.profile.username},!0)})}},{key:"getButtonLabel",value:function(){return this.state.confirm?interpolate(gettext("Delete %(username)s"),{username:this.props.profile.username},!0):interpolate(gettext("Please wait... (%(countdown)ss)"),{countdown:this.state.countdown},!0)}},{key:"getForm",value:function(){return u["default"].createElement("form",{onSubmit:this.handleSubmit},u["default"].createElement("div",{className:"modal-body"},u["default"].createElement(h["default"],{label:gettext("User content"),"for":"id_with_content"},u["default"].createElement(E["default"],{id:"id_with_content",disabled:this.state.isLoading,labelOn:gettext("Delete together with user's account"),labelOff:gettext("Hide after deleting user's account"),onChange:this.bindInput("with_content"),value:this.state.with_content}))),u["default"].createElement("div",{className:"modal-footer"},u["default"].createElement("button",{type:"button",className:"btn btn-default","data-dismiss":"modal"},gettext("Cancel")),u["default"].createElement(d["default"],{className:"btn-danger",loading:this.state.isLoading,disabled:!this.state.confirm},this.getButtonLabel())))}},{key:"getDeletedBody",value:function(){return u["default"].createElement("div",{className:"modal-body"},u["default"].createElement("div",{className:"message-icon"},u["default"].createElement("span",{className:"material-icon"},"info_outline")),u["default"].createElement("div",{className:"message-body"},u["default"].createElement("p",{className:"lead"},this.state.isDeleted),u["default"].createElement("p",null,u["default"].createElement("a",{href:O["default"].get("USERS_LIST_URL")},gettext("Return to users list")))))}},{key:"getModalBody",value:function(){return this.state.error?u["default"].createElement(g["default"],{icon:"remove_circle_outline",message:this.state.error}):this.state.isLoaded?this.state.isDeleted?this.getDeletedBody():this.getForm():u["default"].createElement(v["default"],null)}},{key:"getClassName",value:function(){return this.state.error||this.state.isDeleted?"modal-dialog modal-message modal-delete-account":"modal-dialog modal-delete-account"}},{key:"render",value:function(){return u["default"].createElement("div",{className:this.getClassName(),role:"document"},u["default"].createElement("div",{className:"modal-content"},u["default"].createElement("div",{className:"modal-header"},u["default"].createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":gettext("Close")},u["default"].createElement("span",{"aria-hidden":"true"},"×")),u["default"].createElement("h4",{className:"modal-title"},gettext("Delete user account"))),this.getModalBody()))}}]),t}(p["default"]);a["default"]=j},{"../../../index":302,"../../../services/ajax":365,"../../../services/polls":374,"../../button":8,"../../form":56,"../../form-group":55,"../../modal-loader":61,"../../modal-message":62,"../../yes-no-switch":300,react:"react"}],193:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=e("react-redux"),d=e("./avatar-controls"),f=n(d),p=e("./change-username"),m=n(p),h=e("./delete-account"),b=n(h),v=e("../../../services/modal"),_=n(v),g=function(e){return{tick:e.tick,user:e.auth,profile:e.profile}},y=function(e){function t(){var e,a,n,l;r(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.showAvatarDialog=function(){_["default"].show((0,c.connect)(g)(f["default"]))},n.showRenameDialog=function(){_["default"].show((0,c.connect)(g)(m["default"]))},n.showDeleteDialog=function(){_["default"].show((0,c.connect)(g)(b["default"]))},l=a,o(n,l)}return l(t,e),s(t,[{key:"getAvatarButton",value:function(){return this.props.profile.acl.can_moderate_avatar?u["default"].createElement("li",null,u["default"].createElement("button",{type:"button",className:"btn btn-link",onClick:this.showAvatarDialog},u["default"].createElement("span",{className:"material-icon"},"portrait"),gettext("Avatar controls"))):null}},{key:"getRenameButton",value:function(){return this.props.profile.acl.can_rename?u["default"].createElement("li",null,u["default"].createElement("button",{type:"button",className:"btn btn-link",onClick:this.showRenameDialog},u["default"].createElement("span",{className:"material-icon"},"credit_card"),gettext("Change username"))):null}},{key:"getDeleteButton",value:function(){return this.props.profile.acl.can_delete?u["default"].createElement("li",null,u["default"].createElement("button",{type:"button",className:"btn btn-link",onClick:this.showDeleteDialog},u["default"].createElement("span",{className:"material-icon"},"clear"),gettext("Delete account"))):null}},{key:"render",value:function(){return u["default"].createElement("ul",{className:"dropdown-menu dropdown-menu-right stick-to-bottom",role:"menu"},this.getAvatarButton(),this.getRenameButton(),this.getDeleteButton())}}]),t}(u["default"].Component);a["default"]=y},{"../../../services/modal":371,"./avatar-controls":190,"./change-username":191,"./delete-account":192,react:"react","react-redux":"react-redux"}],194:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return c["default"].createElement("div",{className:"page-tabs hidden-md hidden-lg"},c["default"].createElement("div",{className:"container"},c["default"].createElement("ul",{className:"nav nav-pills",role:"menu"},e.pages.map(function(t){return c["default"].createElement(p["default"],{path:e.baseUrl+t.component+"/",key:t.component},c["default"].createElement(d.Link,{to:e.baseUrl+t.component+"/",onClick:e.hideNav},c["default"].createElement("span",{className:"material-icon"},t.icon),t.name))}))))}Object.defineProperty(a,"__esModule",{value:!0}),a.SideNav=void 0;var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a.CompactNav=s;var u=e("react"),c=n(u),d=e("react-router"),f=e("../li"),p=n(f),m=e("./follow-button"),h=(n(m),e("../../index"));n(h),a.SideNav=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:"render",value:function(){var e=this;return c["default"].createElement("div",{className:"list-group nav-side"},this.props.pages.map(function(t){return c["default"].createElement(d.Link,{to:e.props.baseUrl+t.component+"/",className:"list-group-item",activeClassName:"active",key:t.component},c["default"].createElement("span",{className:"material-icon"},t.icon),t.name)}))}}]),t}(c["default"].Component)},{"../../index":302,"../li":57,"./follow-button":185,react:"react","react-router":"react-router"}],195:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{isAuthenticated:e.auth.user.id===e.profile.id,tick:e.tick.tick,user:e.auth.user,users:e.users,posts:e.posts,profile:e.profile,profileDetails:e["profile-details"],"username-history":e["username-history"]}}function i(){var e=[];return L["default"].get("PROFILE_PAGES").forEach(function(t){e.push(Object.assign({},t,{path:L["default"].get("PROFILE").url+t.component+"/",component:(0,f.connect)(s)(H[t.component])}))}),e}Object.defineProperty(a,"__esModule",{value:!0});var u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a.select=s,a.paths=i;var c=e("react"),d=n(c),f=e("react-redux"),p=e("./ban-details"),m=n(p),h=e("./details"),b=n(h),v=e("./feed"),_=e("./followers"),g=n(_),y=e("./follows"),E=n(y),w=e("./username-history"),O=n(w),k=e("./header"),N=n(k),x=e("./moderation/nav"),P=(n(x),e("./navs")),j=e("../avatar"),C=n(j),S=e("../with-dropdown"),M=n(S),T=e("../.."),L=n(T),A=e("../../reducers/profile"),R=e("../../services/polls"),I=n(R),D=e("../../services/store"),U=n(D),B=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.update=function(e){U["default"].dispatch((0,A.hydrate)(e))},a.startPolling(e.profile.api.index),a}return l(t,e),u(t,[{key:"startPolling",value:function(e){I["default"].start({poll:"user-profile",url:e,frequency:9e4,update:this.update})}},{key:"render",value:function(){var e=L["default"].get("PROFILE").url,t=L["default"].get("PROFILE_PAGES");return d["default"].createElement("div",{className:"page page-user-profile"},d["default"].createElement(N["default"],{baseUrl:e,pages:t,profile:this.props.profile,toggleNav:this.toggleNav,toggleModeration:this.toggleModeration,user:this.props.user}),d["default"].createElement("div",{className:"container"},d["default"].createElement("div",{className:"row"},d["default"].createElement("div",{className:"col-md-3 hidden-xs hidden-sm"},d["default"].createElement("div",{className:"profile-side-avatar"},d["default"].createElement(C["default"],{user:this.props.profile,size:"400"})),d["default"].createElement(P.SideNav,{baseUrl:e,pages:t,profile:this.props.profile})),d["default"].createElement("div",{className:"col-md-9"},this.props.children))))}}]),t}(M["default"]);a["default"]=B;var H={posts:v.Posts,threads:v.Threads,followers:g["default"],follows:E["default"],details:b["default"],"username-history":O["default"],"ban-details":m["default"]}},{"../..":302,"../../reducers/profile":356,"../../services/polls":374,"../../services/store":377,"../avatar":6,"../with-dropdown":299,"./ban-details":174,"./details":182,"./feed":183,"./followers":186,"./follows":187,"./header":188,"./moderation/nav":193,"./navs":194,"./username-history":196,react:"react","react-redux":"react-redux"}],196:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=e("../button"),d=n(c),f=e("../quick-search"),p=n(f),m=e("../username-history/root"),h=n(m),b=e("../../index"),v=n(b),_=e("../../reducers/username-history"),g=e("../../services/ajax"),y=n(g),E=e("../../services/snackbar"),w=n(E),O=e("../../services/store"),k=n(O),N=e("../../services/page-title"),x=n(N),P=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.loadMore=function(){a.setState({isBusy:!0}),a.loadChanges(a.state.page+1,a.state.search)},a.search=function(e){a.setState({isLoaded:!1,isBusy:!0,search:e.target.value,count:0,more:0,page:1,pages:1}),a.loadChanges(1,e.target.value)},v["default"].has("PROFILE_NAME_HISTORY")?a.initWithPreloadedData(v["default"].pop("PROFILE_NAME_HISTORY")):a.initWithoutPreloadedData(),a}return l(t,e),s(t,[{key:"initWithPreloadedData",value:function(e){this.state={isLoaded:!0,isBusy:!1,search:"",count:e.count,more:e.more,page:e.page,pages:e.pages},k["default"].dispatch((0,_.hydrate)(e.results))}},{key:"initWithoutPreloadedData",value:function(){this.state={isLoaded:!1,isBusy:!1,search:"",count:0,more:0,page:1,pages:1},this.loadChanges()}},{key:"loadChanges",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;y["default"].get(v["default"].get("USERNAME_CHANGES_API"),{user:this.props.profile.id,search:a,page:t||1},"search-username-history").then(function(a){1===t?k["default"].dispatch((0,_.hydrate)(a.results)):k["default"].dispatch((0,_.append)(a.results)),e.setState({isLoaded:!0,isBusy:!1,count:a.count,more:a.more,page:a.page,pages:a.pages})},function(e){w["default"].apiError(e)})}},{key:"componentDidMount",value:function(){x["default"].set({title:gettext("Username history"),parent:this.props.profile.username})}},{key:"getLabel",value:function(){if(this.state.isLoaded){if(this.state.search){var e=ngettext("Found %(changes)s username change.","Found %(changes)s username changes.",this.state.count);return interpolate(e,{changes:this.state.count},!0)}if(this.props.profile.id===this.props.user.id){var t=ngettext("Your username was changed %(changes)s time.","Your username was changed %(changes)s times.",this.state.count);return interpolate(t,{changes:this.state.count},!0)}var a=ngettext("%(username)s's username was changed %(changes)s time.","%(username)s's username was changed %(changes)s times.",this.state.count);return interpolate(a,{username:this.props.profile.username,changes:this.state.count},!0)}return gettext("Loading...")}},{key:"getEmptyMessage",value:function(){return this.state.search?gettext("Search returned no username changes matching specified criteria."):this.props.user.id===this.props.profile.id?gettext("No name changes have been recorded for your account."):interpolate(gettext("%(username)s's username was never changed."),{username:this.props.profile.username},!0)}},{key:"getMoreButton",value:function(){return this.state.more?u["default"].createElement("div",{className:"pager-more"},u["default"].createElement(d["default"],{className:"btn btn-default btn-outline",loading:this.state.isBusy,onClick:this.loadMore},interpolate(gettext("Show older (%(more)s)"),{more:this.state.more},!0))):null}},{key:"render",value:function(){return u["default"].createElement("div",{className:"profile-username-history"},u["default"].createElement("nav",{className:"toolbar"},u["default"].createElement("h3",{className:"toolbar-left"},this.getLabel()),u["default"].createElement(p["default"],{className:"toolbar-right",value:this.state.search,onChange:this.search,placeholder:gettext("Search history...")})),u["default"].createElement(h["default"],{isLoaded:this.state.isLoaded,emptyMessage:this.getEmptyMessage(),changes:this.props["username-history"]}),this.getMoreButton())}}]),t}(u["default"].Component);a["default"]=P},{"../../index":302,"../../reducers/username-history":363,"../../services/ajax":365,"../../services/page-title":373,"../../services/snackbar":376,"../../services/store":377,"../button":8,"../quick-search":197,"../username-history/root":280,react:"react"}],197:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"getClassName",value:function(){return this.props.className?"form-search "+this.props.className:"form-search"}},{key:"render",value:function(){return u["default"].createElement("div",{className:this.getClassName()},u["default"].createElement("input",{type:"text",className:"form-control",value:this.props.value,onChange:this.props.onChange,placeholder:this.props.placeholder||gettext("Search...")}),u["default"].createElement("span",{className:"material-icon"},"search"))}}]),t}(u["default"].Component);a["default"]=c},{react:"react"}],198:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=e("./loader"),d=n(c),f=e("./register.js"),p=n(f),m=e("../services/ajax"),h=n(m),b=e("../services/captcha"),v=n(b),_=e("../services/modal"),g=n(_),y=e("../services/snackbar"),E=n(y),w=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showRegisterForm=function(){"closed"===misago.get("SETTINGS").account_activation?E["default"].info(gettext("New registrations are currently disabled.")):a.state.isLoaded?g["default"].show(u["default"].createElement(p["default"],{criteria:a.state.criteria})):(a.setState({isLoading:!0}),Promise.all([v["default"].load(),h["default"].get(misago.get("AUTH_CRITERIA_API"))]).then(function(e){a.setState({isLoading:!1,isLoaded:!0,criteria:e[1]}),g["default"].show(u["default"].createElement(p["default"],{criteria:e[1]}))},function(){a.setState({isLoading:!1}),E["default"].error(gettext("Registration is currently unavailable due to an error."))}))},a.state={isLoading:!1,isLoaded:!1,criteria:null},a}return l(t,e),s(t,[{key:"getClassName",value:function(){return this.props.className+(this.state.isLoading?" btn-loading":"")}},{key:"render",value:function(){return u["default"].createElement("button",{className:"btn "+this.getClassName(),disabled:this.state.isLoading,onClick:this.showRegisterForm,type:"button"},gettext("Register"),this.state.isLoading?u["default"].createElement(d["default"],null):null)}}]),t}(u["default"].Component);a["default"]=w},{"../services/ajax":365,"../services/captcha":367,"../services/modal":371,"../services/snackbar":376,"./loader":58,"./register.js":199,react:"react"}],199:[function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0}),a.RegisterComplete=a.RegisterForm=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=e("react"),f=r(d),p=e("./button"),m=r(p),h=e("./form"),b=r(h),v=e("./form-group"),_=r(v),g=e("./password-strength"),y=r(g),E=e("./RegisterLegalFootnote"),w=r(E),O=e("./StartSocialAuth"),k=r(O),N=e(".."),x=r(N),P=e("../services/ajax"),j=r(P),C=e("../services/auth"),S=r(C),M=e("../services/captcha"),T=r(M),L=e("../services/modal"),A=r(L),R=e("../services/snackbar"),I=r(R),D=e("../utils/banned-page"),U=r(D),B=e("../utils/validators"),H=n(B),z=a.RegisterForm=function(e){function t(e){l(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.handlePrivacyPolicyChange=function(e){var t=e.target.value;a.handleToggleAgreement("privacyPolicy",t)},a.handleTermsOfServiceChange=function(e){var t=e.target.value;a.handleToggleAgreement("termsOfService",t)},a.handleToggleAgreement=function(e,t){a.setState(function(n,r){if(null===n[e]){var l=u({},n.errors,o({},e,null));return o({errors:l},e,t)}var s=a.state.validators[e][0],i=u({},n.errors,o({},e,[s(null)]));return o({errors:i},e,null)})};var n=a.props.criteria,r=n.username,i=n.password,c=0;i.forEach(function(e){"MinimumLengthValidator"===e.name&&(c=e.min_length)});var d={username:[H.usernameContent(),H.usernameMinLength(r.min_length),H.usernameMaxLength(r.max_length)],email:[H.email()],password:[H.passwordMinLength(c)],captcha:T["default"].validator()};return x["default"].get("TERMS_OF_SERVICE_ID")&&(d.termsOfService=[H.requiredTermsOfService()]),x["default"].get("PRIVACY_POLICY_ID")&&(d.privacyPolicy=[H.requiredPrivacyPolicy()]),a.state={isLoading:!1,username:"",email:"",password:"",captcha:"",termsOfService:null,privacyPolicy:null,validators:d,errors:{}},a}return i(t,e),c(t,[{key:"clean",value:function(){return!!this.isValid()||(I["default"].error(gettext("Form contains errors.")),this.setState({errors:this.validate()}),!1)}},{key:"send",value:function(){return j["default"].post(x["default"].get("USERS_API"),{username:this.state.username,email:this.state.email,password:this.state.password,captcha:this.state.captcha,terms_of_service:this.state.termsOfService,privacy_policy:this.state.privacyPolicy})}},{key:"handleSuccess",value:function(e){this.props.callback(e)}},{key:"handleError",value:function(e){400===e.status?(this.setState({errors:Object.assign({},this.state.errors,e)}),e.__all__&&e.__all__.length>0?I["default"].error(e.__all__[0]):I["default"].error(gettext("Form contains errors."))):403===e.status&&e.ban?((0,U["default"])(e.ban),A["default"].hide()):I["default"].apiError(e)}},{key:"render",value:function(){return f["default"].createElement("div",{
className:"modal-dialog modal-register",role:"document"},f["default"].createElement("div",{className:"modal-content"},f["default"].createElement("div",{className:"modal-header"},f["default"].createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":gettext("Close")},f["default"].createElement("span",{"aria-hidden":"true"},"×")),f["default"].createElement("h4",{className:"modal-title"},gettext("Register"))),f["default"].createElement("form",{onSubmit:this.handleSubmit},f["default"].createElement("input",{type:"type",style:{display:"none"}}),f["default"].createElement("input",{type:"password",style:{display:"none"}}),f["default"].createElement("div",{className:"modal-body"},f["default"].createElement(k["default"],{buttonClassName:"col-xs-12 col-sm-6",buttonLabel:gettext("Join with %(site)s"),formLabel:gettext("Or create forum account:")}),f["default"].createElement(_["default"],{label:gettext("Username"),"for":"id_username",validation:this.state.errors.username},f["default"].createElement("input",{type:"text",id:"id_username",className:"form-control","aria-describedby":"id_username_status",disabled:this.state.isLoading,onChange:this.bindInput("username"),value:this.state.username})),f["default"].createElement(_["default"],{label:gettext("E-mail"),"for":"id_email",validation:this.state.errors.email},f["default"].createElement("input",{type:"text",id:"id_email",className:"form-control","aria-describedby":"id_email_status",disabled:this.state.isLoading,onChange:this.bindInput("email"),value:this.state.email})),f["default"].createElement(_["default"],{label:gettext("Password"),"for":"id_password",validation:this.state.errors.password,extra:f["default"].createElement(y["default"],{password:this.state.password,inputs:[this.state.username,this.state.email]})},f["default"].createElement("input",{type:"password",id:"id_password",className:"form-control","aria-describedby":"id_password_status",disabled:this.state.isLoading,onChange:this.bindInput("password"),value:this.state.password})),T["default"].component({form:this}),f["default"].createElement(w["default"],{errors:this.state.errors,privacyPolicy:this.state.privacyPolicy,termsOfService:this.state.termsOfService,onPrivacyPolicyChange:this.handlePrivacyPolicyChange,onTermsOfServiceChange:this.handleTermsOfServiceChange})),f["default"].createElement("div",{className:"modal-footer"},f["default"].createElement("button",{className:"btn btn-default","data-dismiss":"modal",disabled:this.state.isLoading,type:"button"},gettext("Cancel")),f["default"].createElement(m["default"],{className:"btn-primary",loading:this.state.isLoading},gettext("Register account"))))))}}]),t}(b["default"]),F=a.RegisterComplete=function(e){function t(){return l(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),c(t,[{key:"getLead",value:function(){return"user"===this.props.activation?gettext("%(username)s, your account has been created but you need to activate it before you will be able to sign in."):"admin"===this.props.activation?gettext("%(username)s, your account has been created but board administrator will have to activate it before you will be able to sign in."):void 0}},{key:"getSubscript",value:function(){return"user"===this.props.activation?gettext("We have sent an e-mail to %(email)s with link that you have to click to activate your account."):"admin"===this.props.activation?gettext("We will send an e-mail to %(email)s when this takes place."):void 0}},{key:"render",value:function(){return f["default"].createElement("div",{className:"modal-dialog modal-message modal-register",role:"document"},f["default"].createElement("div",{className:"modal-content"},f["default"].createElement("div",{className:"modal-header"},f["default"].createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":gettext("Close")},f["default"].createElement("span",{"aria-hidden":"true"},"×")),f["default"].createElement("h4",{className:"modal-title"},gettext("Registration complete"))),f["default"].createElement("div",{className:"modal-body"},f["default"].createElement("div",{className:"message-icon"},f["default"].createElement("span",{className:"material-icon"},"info_outline")),f["default"].createElement("div",{className:"message-body"},f["default"].createElement("p",{className:"lead"},interpolate(this.getLead(),{username:this.props.username},!0)),f["default"].createElement("p",null,interpolate(this.getSubscript(),{email:this.props.email},!0)),f["default"].createElement("button",{className:"btn btn-default","data-dismiss":"modal",type:"button"},gettext("Ok"))))))}}]),t}(f["default"].Component),q=function(e){function t(e){l(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.completeRegistration=function(e){"active"===e.activation?(A["default"].hide(),S["default"].signIn(e)):a.setState({complete:e})},a.state={complete:!1},a}return i(t,e),c(t,[{key:"render",value:function(){return this.state.complete?f["default"].createElement(F,{activation:this.state.complete.activation,email:this.state.complete.email,username:this.state.complete.username}):f["default"].createElement(z,u({callback:this.completeRegistration},this.props))}}]),t}(f["default"].Component);a["default"]=q},{"..":302,"../services/ajax":365,"../services/auth":366,"../services/captcha":367,"../services/modal":371,"../services/snackbar":376,"../utils/banned-page":379,"../utils/validators":393,"./RegisterLegalFootnote":1,"./StartSocialAuth":2,"./button":8,"./form":56,"./form-group":55,"./password-strength":103,react:"react"}],200:[function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0}),a.LinkSent=a.RequestLinkForm=void 0;var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=e("react"),c=r(u),d=e("../index"),f=r(d),p=e("./button"),m=r(p),h=e("./form"),b=r(h),v=e("../services/ajax"),_=r(v),g=e("../services/snackbar"),y=r(g),E=e("../utils/validators"),w=n(E),O=e("../utils/banned-page"),k=r(O),N=a.RequestLinkForm=function(e){function t(e){o(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={isLoading:!1,email:"",validators:{email:[w.email()]}},a}return s(t,e),i(t,[{key:"clean",value:function(){return!!this.isValid()||(y["default"].error(gettext("Enter a valid email address.")),!1)}},{key:"send",value:function(){return _["default"].post(f["default"].get("SEND_ACTIVATION_API"),{email:this.state.email})}},{key:"handleSuccess",value:function(e){this.props.callback(e)}},{key:"handleError",value:function(e){["already_active","inactive_admin"].indexOf(e.code)>-1?y["default"].info(e.detail):403===e.status&&e.ban?(0,k["default"])(e.ban):y["default"].apiError(e)}},{key:"render",value:function(){return c["default"].createElement("div",{className:"well well-form well-form-request-activation-link"},c["default"].createElement("form",{onSubmit:this.handleSubmit},c["default"].createElement("div",{className:"form-group"},c["default"].createElement("div",{className:"control-input"},c["default"].createElement("input",{type:"text",className:"form-control",placeholder:gettext("Your e-mail address"),disabled:this.state.isLoading,onChange:this.bindInput("email"),value:this.state.email}))),c["default"].createElement(m["default"],{className:"btn-primary btn-block",loading:this.state.isLoading},gettext("Send link"))))}}]),t}(b["default"]),x=a.LinkSent=function(e){function t(){return o(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),i(t,[{key:"getMessage",value:function(){return interpolate(gettext("Activation link was sent to %(email)s"),{email:this.props.user.email},!0)}},{key:"render",value:function(){return c["default"].createElement("div",{className:"well well-form well-form-request-activation-link well-done"},c["default"].createElement("div",{className:"done-message"},c["default"].createElement("div",{className:"message-icon"},c["default"].createElement("span",{className:"material-icon"},"check")),c["default"].createElement("div",{className:"message-body"},c["default"].createElement("p",null,this.getMessage())),c["default"].createElement("button",{className:"btn btn-primary btn-block",type:"button",onClick:this.props.callback},gettext("Request another link"))))}}]),t}(c["default"].Component),P=function(e){function t(e){o(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.complete=function(e){a.setState({complete:e})},a.reset=function(){a.setState({complete:!1})},a.state={complete:!1},a}return s(t,e),i(t,[{key:"render",value:function(){return this.state.complete?c["default"].createElement(x,{user:this.state.complete,callback:this.reset}):c["default"].createElement(N,{callback:this.complete})}}]),t}(c["default"].Component);a["default"]=P},{"../index":302,"../services/ajax":365,"../services/snackbar":376,"../utils/banned-page":379,"../utils/validators":393,"./button":8,"./form":56,react:"react"}],201:[function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0}),a.AccountInactivePage=a.LinkSent=a.RequestResetForm=void 0;var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=e("react"),c=r(u),d=e("react-dom"),f=r(d),p=e("../index"),m=r(p),h=e("./button"),b=r(h),v=e("./form"),_=r(v),g=e("../services/ajax"),y=r(g),E=e("../services/snackbar"),w=r(E),O=e("../utils/validators"),k=n(O),N=e("../utils/banned-page"),x=r(N),P=a.RequestResetForm=function(e){function t(e){o(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={isLoading:!1,email:"",validators:{email:[k.email()]}},a}return s(t,e),i(t,[{key:"clean",value:function(){return!!this.isValid()||(w["default"].error(gettext("Enter a valid email address.")),!1)}},{key:"send",value:function(){return y["default"].post(m["default"].get("SEND_PASSWORD_RESET_API"),{email:this.state.email})}},{key:"handleSuccess",value:function(e){this.props.callback(e)}},{key:"handleError",value:function(e){["inactive_user","inactive_admin"].indexOf(e.code)>-1?this.props.showInactivePage(e):403===e.status&&e.ban?(0,x["default"])(e.ban):w["default"].apiError(e)}},{key:"render",value:function(){return c["default"].createElement("div",{className:"well well-form well-form-request-password-reset"},c["default"].createElement("form",{onSubmit:this.handleSubmit},c["default"].createElement("div",{className:"form-group"},c["default"].createElement("div",{className:"control-input"},c["default"].createElement("input",{type:"text",className:"form-control",placeholder:gettext("Your e-mail address"),disabled:this.state.isLoading,onChange:this.bindInput("email"),value:this.state.email}))),c["default"].createElement(b["default"],{className:"btn-primary btn-block",loading:this.state.isLoading},gettext("Send link"))))}}]),t}(_["default"]),j=a.LinkSent=function(e){function t(){return o(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),i(t,[{key:"getMessage",value:function(){return interpolate(gettext("Reset password link was sent to %(email)s"),{email:this.props.user.email},!0)}},{key:"render",value:function(){return c["default"].createElement("div",{className:"well well-form well-form-request-password-reset well-done"},c["default"].createElement("div",{className:"done-message"},c["default"].createElement("div",{className:"message-icon"},c["default"].createElement("span",{className:"material-icon"},"check")),c["default"].createElement("div",{className:"message-body"},c["default"].createElement("p",null,this.getMessage())),c["default"].createElement("button",{type:"button",className:"btn btn-primary btn-block",onClick:this.props.callback},gettext("Request another link"))))}}]),t}(c["default"].Component),C=a.AccountInactivePage=function(e){function t(){return o(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),i(t,[{key:"getActivateButton",value:function(){return"inactive_user"===this.props.activation?c["default"].createElement("p",null,c["default"].createElement("a",{href:m["default"].get("REQUEST_ACTIVATION_URL")},gettext("Activate your account."))):null}},{key:"render",value:function(){return c["default"].createElement("div",{className:"page page-message page-message-info page-forgotten-password-inactive"},c["default"].createElement("div",{className:"container"},c["default"].createElement("div",{className:"message-panel"},c["default"].createElement("div",{className:"message-icon"},c["default"].createElement("span",{className:"material-icon"},"info_outline")),c["default"].createElement("div",{className:"message-body"},c["default"].createElement("p",{className:"lead"},gettext("Your account is inactive.")),c["default"].createElement("p",null,this.props.message),this.getActivateButton()))))}}]),t}(c["default"].Component),S=function(e){function t(e){o(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.complete=function(e){a.setState({complete:e})},a.reset=function(){a.setState({complete:!1})},a.state={complete:!1},a}return s(t,e),i(t,[{key:"showInactivePage",value:function(e){f["default"].render(c["default"].createElement(C,{activation:e.code,message:e.detail}),document.getElementById("page-mount"))}},{key:"render",value:function(){return this.state.complete?c["default"].createElement(j,{callback:this.reset,user:this.state.complete}):c["default"].createElement(P,{callback:this.complete,showInactivePage:this.showInactivePage})}}]),t}(c["default"].Component);a["default"]=S},{"../index":302,"../services/ajax":365,"../services/snackbar":376,"../utils/banned-page":379,"../utils/validators":393,"./button":8,"./form":56,react:"react","react-dom":"react-dom"}],202:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0}),a.PasswordChangedPage=a.ResetPasswordForm=void 0;var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=e("react-dom"),d=n(c),f=e("../index"),p=n(f),m=e("./button"),h=n(m),b=e("./form"),v=n(b),_=e("./sign-in.js"),g=n(_),y=e("../services/ajax"),E=n(y),w=e("../services/auth"),O=n(w),k=e("../services/modal"),N=n(k),x=e("../services/snackbar"),P=n(x),j=e("../utils/banned-page"),C=n(j),S=a.ResetPasswordForm=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={isLoading:!1,password:""},a}return l(t,e),s(t,[{key:"clean",value:function(){return!!this.state.password.trim().length||(P["default"].error(gettext("Enter new password.")),!1)}},{key:"send",value:function(){return E["default"].post(p["default"].get("CHANGE_PASSWORD_API"),{password:this.state.password})}},{key:"handleSuccess",value:function(e){this.props.callback(e)}},{key:"handleError",value:function(e){403===e.status&&e.ban?(0,C["default"])(e.ban):P["default"].apiError(e)}},{key:"render",value:function(){return u["default"].createElement("div",{className:"well well-form well-form-reset-password"},u["default"].createElement("form",{onSubmit:this.handleSubmit},u["default"].createElement("div",{className:"form-group"},u["default"].createElement("div",{className:"control-input"},u["default"].createElement("input",{type:"password",className:"form-control",placeholder:gettext("Enter new password"),disabled:this.state.isLoading,onChange:this.bindInput("password"),value:this.state.password}))),u["default"].createElement(h["default"],{className:"btn-primary btn-block",loading:this.state.isLoading},gettext("Change password"))))}}]),t}(v["default"]),M=a.PasswordChangedPage=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"getMessage",value:function(){return interpolate(gettext("%(username)s, your password has been changed successfully."),{username:this.props.user.username},!0)}},{key:"showSignIn",value:function(){N["default"].show(g["default"])}},{key:"render",value:function(){return u["default"].createElement("div",{className:"page page-message page-message-success page-forgotten-password-changed"},u["default"].createElement("div",{className:"container"},u["default"].createElement("div",{className:"message-panel"},u["default"].createElement("div",{className:"message-icon"},u["default"].createElement("span",{className:"material-icon"},"check")),u["default"].createElement("div",{className:"message-body"},u["default"].createElement("p",{className:"lead"},this.getMessage()),u["default"].createElement("p",null,gettext("You will have to sign in using new password before continuing.")),u["default"].createElement("p",null,u["default"].createElement("button",{type:"button",className:"btn btn-primary",onClick:this.showSignIn},gettext("Sign in")))))))}}]),t}(u["default"].Component),T=function(e){function t(){var e,a,n,l;r(this,t);for(var s=arguments.length,i=Array(s),c=0;c<s;c++)i[c]=arguments[c];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.complete=function(e){O["default"].softSignOut(),$('#hidden-login-form input[name="redirect_to"]').remove(),d["default"].render(u["default"].createElement(M,{user:e}),document.getElementById("page-mount"))},l=a,o(n,l)}return l(t,e),s(t,[{key:"render",value:function(){return u["default"].createElement(S,{callback:this.complete})}}]),t}(u["default"].Component);a["default"]=T},{"../index":302,"../services/ajax":365,"../services/auth":366,"../services/modal":371,"../services/snackbar":376,"../utils/banned-page":379,"./button":8,"./form":56,"./sign-in.js":211,react:"react","react-dom":"react-dom"}],203:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=e("../.."),d=n(c),f=e("../form"),p=n(f),m=e("../../reducers/posts"),h=e("../../reducers/search"),b=e("../../reducers/users"),v=e("../../services/ajax"),_=n(v),g=e("../../services/snackbar"),y=n(g),E=e("../../services/store"),w=n(E),O=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onQueryChange=function(e){a.changeValue("query",e.target.value)},a.state={isLoading:!1,query:e.search.query},a}return l(t,e),s(t,[{key:"componentDidMount",value:function(){this.state.query.length&&this.handleSubmit()}},{key:"clean",value:function(){return!!this.state.query.trim().length||(y["default"].error(gettext("You have to enter search query.")),!1)}},{key:"send",value:function(){return w["default"].dispatch((0,h.update)({isLoading:!0})),_["default"].get(d["default"].get("SEARCH_API"),{q:this.state.query.trim()})}},{key:"handleSuccess",value:function(e){w["default"].dispatch((0,h.update)({query:this.state.query.trim(),isLoading:!1,providers:e})),e.forEach(function(e){"users"===e.id?w["default"].dispatch((0,b.hydrate)(e.results.results)):"threads"===e.id&&w["default"].dispatch((0,m.load)(e.results))})}},{key:"handleError",value:function(e){y["default"].apiError(e),w["default"].dispatch((0,h.update)({isLoading:!1}))}},{key:"render",value:function(){return u["default"].createElement("div",{className:"page-header-bg"},u["default"].createElement("div",{className:"page-header page-search-form"},u["default"].createElement("form",{onSubmit:this.handleSubmit},u["default"].createElement("div",{className:"container"},u["default"].createElement("div",{className:"row"},u["default"].createElement("div",{className:"col-xs-12 col-md-3"},u["default"].createElement("h1",null,gettext("Search"))),u["default"].createElement("div",{className:"col-xs-12 col-md-9"},u["default"].createElement("div",{className:"row xs-margin-top sm-margin-top"},u["default"].createElement("div",{className:"col-xs-12 col-sm-8 col-md-9"},u["default"].createElement("div",{className:"form-group"},u["default"].createElement("input",{className:"form-control",disabled:this.props.search.isLoading||this.state.isLoading,onChange:this.onQueryChange,type:"text",value:this.state.query}))),u["default"].createElement("div",{className:"col-xs-12 col-sm-4 col-md-3"},u["default"].createElement("button",{className:"btn btn-primary btn-block btn-outline",disabled:this.props.search.isLoading||this.state.isLoading},gettext("Search"))))))))))}}]),t}(p["default"]);a["default"]=O},{"../..":302,"../../reducers/posts":354,"../../reducers/search":357,"../../reducers/users":364,"../../services/ajax":365,"../../services/snackbar":376,"../../services/store":377,"../form":56,react:"react"}],204:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){return{posts:e.posts,search:e.search,tick:e.tick.tick,user:e.auth.user,users:e.users}}Object.defineProperty(a,"__esModule",{value:!0}),a.select=r,a["default"]=function(e){return e.map(function(e){return{path:e.url,component:(0,o.connect)(r)(c[e.id]),provider:e}})};var o=e("react-redux"),l=e("./threads"),s=n(l),i=e("./users"),u=n(i),c={threads:s["default"],users:u["default"]}},{"./threads":207,"./users":209,"react-redux":"react-redux"}],205:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){var t=null;if(e.search.providers.forEach(function(a){a.id===e.provider.id&&(t=a.time)}),null===t)return null;var a=gettext("Search took %(time)s s to complete");return l["default"].createElement("footer",{className:"search-footer"},l["default"].createElement("p",null,interpolate(a,{time:t},!0)))}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){return l["default"].createElement("div",{className:"page page-search"},l["default"].createElement(i["default"],{provider:e.provider,search:e.search}),l["default"].createElement("div",{className:"container"},l["default"].createElement("div",{className:"row"},l["default"].createElement("div",{className:"col-md-3"},l["default"].createElement(c["default"],{providers:e.search.providers})),l["default"].createElement("div",{className:"col-md-9"},e.children,l["default"].createElement(r,{provider:e.provider,search:e.search})))))},a.SearchTime=r;var o=e("react"),l=n(o),s=e("./form"),i=n(s),u=e("./sidenav"),c=n(u)},{"./form":203,"./sidenav":206,react:"react"}],206:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(!e.results)return null;var t=e.results.count;return t>1e6?t=Math.ceil(t/1e6)+"KK":t>1e3&&(t=Math.ceil(t/1e3)+"K"),l["default"].createElement("span",{className:"badge"},t)}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){return l["default"].createElement("div",{className:"list-group nav-side"},e.providers.map(function(e){return l["default"].createElement(s.Link,{activeClassName:"active",className:"list-group-item",key:e.id,to:e.url},l["default"].createElement("span",{className:"material-icon"},e.icon),e.name,l["default"].createElement(r,{results:e.results}))}))},a.Badge=r;var o=e("react"),l=n(o),s=e("react-router")},{react:"react","react-router":"react-router"}],207:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){return e.posts&&e.posts.count?e.children:e.query.length?s["default"].createElement("p",{className:"lead"},gettext("No threads matching search query have been found.")):s["default"].createElement("p",{className:"lead"},gettext("Enter at least two characters to search threads."))}Object.defineProperty(a,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};a["default"]=function(e){return s["default"].createElement(u["default"],{provider:e.route.provider,search:e.search},s["default"].createElement(r,{query:e.search.query,posts:e.posts},s["default"].createElement(d["default"],o({provider:e.route.provider,query:e.search.query},e.posts))))},a.Blankslate=r;var l=e("react"),s=n(l),i=e("../page"),u=n(i),c=e("./results"),d=n(c)},{"../page":205,"./results":208,react:"react"}],208:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0}),a.LoadMore=void 0;var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a["default"]=function(e){return u["default"].createElement("div",null,u["default"].createElement(d["default"],{isReady:!0,posts:e.results}),u["default"].createElement(O,e))};var i=e("react"),u=n(i),c=e("../../post-feed"),d=n(c),f=e("../../button"),p=n(f),m=e("../../misago-markup"),h=(n(m),e("../../../reducers/posts")),b=e("../../../reducers/search"),v=e("../../../services/ajax"),_=n(v),g=e("../../../services/snackbar"),y=n(g),E=e("../../../services/store"),w=n(E),O=a.LoadMore=function(e){function t(){var e,a,n,l;r(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onClick=function(){w["default"].dispatch((0,h.update)({isBusy:!0})),_["default"].get(n.props.provider.api,{q:n.props.query,page:n.props.next}).then(function(e){e.forEach(function(e){"threads"===e.id&&(w["default"].dispatch((0,h.append)(e.results)),w["default"].dispatch((0,b.updateProvider)(e)))}),w["default"].dispatch((0,h.update)({isBusy:!1}))},function(e){y["default"].apiError(e),w["default"].dispatch((0,h.update)({isBusy:!1}))})},l=a,o(n,l)}return l(t,e),s(t,[{key:"render",value:function(){return this.props.more?u["default"].createElement("div",{className:"pager-more"},u["default"].createElement(p["default"],{className:"btn btn-default btn-outline",loading:this.props.isBusy,onClick:this.onClick},gettext("Show more"))):null}}]),t}(u["default"].Component)},{"../../../reducers/posts":354,"../../../reducers/search":357,"../../../services/ajax":365,"../../../services/snackbar":376,"../../../services/store":377,"../../button":8,"../../misago-markup":60,"../../post-feed":122,react:"react"}],209:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){return e.users.length?e.children:e.query.length?l["default"].createElement("p",{className:"lead"},gettext("No users matching search query have been found.")):l["default"].createElement("p",{className:"lead"},gettext("Enter at least two characters to search users."))}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){return l["default"].createElement(i["default"],{provider:e.route.provider,search:e.search},l["default"].createElement(r,{query:e.search.query,users:e.users},l["default"].createElement(c["default"],{cols:3,isReady:!0,users:e.users})))},a.Blankslate=r;var o=e("react"),l=n(o),s=e("../page"),i=n(s),u=e("../../users-list"),c=n(u)},{"../../users-list":284,"../page":205,react:"react"}],210:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.icon;return t?c["default"].createElement("span",{className:"material-icon"},t):null}Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a.Icon=s;
var u=e("react"),c=n(u),d=function(e){function t(){var e,a,n,l;r(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.change=function(e){return function(){n.props.onChange({target:{value:e}})}},l=a,o(n,l)}return l(t,e),i(t,[{key:"getChoice",value:function(){var e=this,t=null;return this.props.choices.map(function(a){a.value===e.props.value&&(t=a)}),t}},{key:"getIcon",value:function(){return this.getChoice().icon}},{key:"getLabel",value:function(){return this.getChoice().label}},{key:"render",value:function(){var e=this;return c["default"].createElement("div",{className:"btn-group btn-select-group"},c["default"].createElement("button",{type:"button",className:"btn btn-select dropdown-toggle",id:this.props.id||null,"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false","aria-describedby":this.props["aria-describedby"]||null,disabled:this.props.disabled||!1},c["default"].createElement(s,{icon:this.getIcon()}),this.getLabel()),c["default"].createElement("ul",{className:"dropdown-menu"},this.props.choices.map(function(t,a){return c["default"].createElement("li",{key:a},c["default"].createElement("button",{type:"button",className:"btn-link",onClick:e.change(t.value)},c["default"].createElement(s,{icon:t.icon}),t.label))})))}}]),t}(c["default"].Component);a["default"]=d},{react:"react"}],211:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=e("../index"),d=n(c),f=e("./button"),p=n(f),m=e("./form"),h=n(m),b=e("./StartSocialAuth"),v=n(b),_=e("../services/ajax"),g=n(_),y=e("../services/modal"),E=n(y),w=e("../services/snackbar"),O=n(w),k=e("../utils/banned-page"),N=n(k),x=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={isLoading:!1,showActivation:!1,username:"",password:"",validators:{username:[],password:[]}},a}return l(t,e),s(t,[{key:"clean",value:function(){return!!this.isValid()||(O["default"].error(gettext("Fill out both fields.")),!1)}},{key:"send",value:function(){return g["default"].post(d["default"].get("AUTH_API"),{username:this.state.username,password:this.state.password})}},{key:"handleSuccess",value:function(){var e=$("#hidden-login-form");e.append('<input type="text" name="username" />'),e.append('<input type="password" name="password" />'),e.find('input[type="hidden"]').val(g["default"].getCsrfToken()),e.find('input[name="redirect_to"]').val(window.location.pathname),e.find('input[name="username"]').val(this.state.username),e.find('input[name="password"]').val(this.state.password),e.submit(),this.setState({isLoading:!0})}},{key:"handleError",value:function(e){400===e.status?"inactive_admin"===e.code?O["default"].info(e.detail):"inactive_user"===e.code?(O["default"].info(e.detail),this.setState({showActivation:!0})):"banned"===e.code?((0,N["default"])(e.detail),E["default"].hide()):O["default"].error(e.detail):403===e.status&&e.ban?((0,N["default"])(e.ban),E["default"].hide()):O["default"].apiError(e)}},{key:"getActivationButton",value:function(){return this.state.showActivation?u["default"].createElement("a",{className:"btn btn-success btn-block",href:d["default"].get("REQUEST_ACTIVATION_URL")},gettext("Activate account")):null}},{key:"render",value:function(){return u["default"].createElement("div",{className:"modal-dialog modal-sm modal-sign-in",role:"document"},u["default"].createElement("div",{className:"modal-content"},u["default"].createElement("div",{className:"modal-header"},u["default"].createElement("button",{"aria-label":gettext("Close"),className:"close","data-dismiss":"modal",type:"button"},u["default"].createElement("span",{"aria-hidden":"true"},"×")),u["default"].createElement("h4",{className:"modal-title"},gettext("Sign in"))),u["default"].createElement("form",{onSubmit:this.handleSubmit},u["default"].createElement("div",{className:"modal-body"},u["default"].createElement(v["default"],{buttonLabel:gettext("Sign in with %(site)s"),formLabel:gettext("Or use your forum account:"),labelClassName:"text-center"}),u["default"].createElement("div",{className:"form-group"},u["default"].createElement("div",{className:"control-input"},u["default"].createElement("input",{className:"form-control input-lg",disabled:this.state.isLoading,id:"id_username",onChange:this.bindInput("username"),placeholder:gettext("Username or e-mail"),type:"text",value:this.state.username}))),u["default"].createElement("div",{className:"form-group"},u["default"].createElement("div",{className:"control-input"},u["default"].createElement("input",{className:"form-control input-lg",disabled:this.state.isLoading,id:"id_password",onChange:this.bindInput("password"),placeholder:gettext("Password"),type:"password",value:this.state.password})))),u["default"].createElement("div",{className:"modal-footer"},this.getActivationButton(),u["default"].createElement(p["default"],{className:"btn-primary btn-block",loading:this.state.isLoading},gettext("Sign in")),u["default"].createElement("a",{className:"btn btn-default btn-block",href:d["default"].get("FORGOTTEN_PASSWORD_URL")},gettext("Forgot password?"))))))}}]),t}(h["default"]);a["default"]=x},{"../index":302,"../services/ajax":365,"../services/modal":371,"../services/snackbar":376,"../utils/banned-page":379,"./StartSocialAuth":2,"./button":8,"./form":56,react:"react"}],212:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return e.snackbar}Object.defineProperty(a,"__esModule",{value:!0}),a.Snackbar=void 0;var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a.select=s;var u=e("react"),c=n(u),d={info:"alert-info",success:"alert-success",warning:"alert-warning",error:"alert-danger"};a.Snackbar=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:"getSnackbarClass",value:function(){var e="alerts-snackbar";return e+=this.props.isVisible?" in":" out"}},{key:"render",value:function(){return c["default"].createElement("div",{className:this.getSnackbarClass()},c["default"].createElement("p",{className:"alert "+d[this.props.type]},this.props.message))}}]),t}(c["default"].Component)},{react:"react"}],213:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0});var r=e("react"),o=n(r),l=e("./header"),s=n(l),i=e("../.."),u=n(i),c=function(e){var t=e.activation,a=e.backend_name,n=e.username,r="",l="";return l="user"===t?gettext("%(username)s, your account has been created but you need to activate it before you will be able to sign in."):"admin"===t?gettext("%(username)s, your account has been created but board administrator will have to activate it before you will be able to sign in."):gettext("%(username)s, your account has been created and you have been signed in to it."),r="active"===t?"check":"info_outline",o["default"].createElement("div",{className:"page page-social-auth page-social-sauth-register"},o["default"].createElement(s["default"],{backendName:a}),o["default"].createElement("div",{className:"container"},o["default"].createElement("div",{className:"row"},o["default"].createElement("div",{className:"col-md-6 col-md-offset-3"},o["default"].createElement("div",{className:"panel panel-default panel-form"},o["default"].createElement("div",{className:"panel-heading"},o["default"].createElement("h3",{className:"panel-title"},gettext("Registration completed!"))),o["default"].createElement("div",{className:"panel-body panel-message-body"},o["default"].createElement("div",{className:"message-icon"},o["default"].createElement("span",{className:"material-icon"},r)),o["default"].createElement("div",{className:"message-body"},o["default"].createElement("p",{className:"lead"},interpolate(l,{username:n},!0)),o["default"].createElement("p",{className:"help-block"},o["default"].createElement("a",{className:"btn btn-default",href:u["default"].get("MISAGO_PATH")},gettext("Return to forum index"))))))))))};a["default"]=c},{"../..":302,"./header":214,react:"react"}],214:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0});var r=e("react"),o=n(r),l=function(e){var t=e.backendName,a=gettext("Sign in with %(backend)s"),n=interpolate(a,{backend:t},!0);return o["default"].createElement("div",{className:"page-header-bg"},o["default"].createElement("div",{className:"page-header"},o["default"].createElement("div",{className:"container"},o["default"].createElement("h1",null,n))))};a["default"]=l},{react:"react"}],215:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=e("./register"),d=n(c),f=e("./complete"),p=n(f),m=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleRegistrationComplete=function(e){var t=e.activation,n=e.email,r=e.step,o=e.username;a.setState({activation:t,email:n,step:r,username:o})},a.state={step:e.step,activation:e.activation||"",email:e.email||"",username:e.username||""},a}return l(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.backend_name,a=e.url,n=this.state,r=n.activation,o=n.email,l=n.step,s=n.username;return"register"===l?u["default"].createElement(d["default"],{backend_name:t,email:o,url:a,username:s,onRegistrationComplete:this.handleRegistrationComplete}):u["default"].createElement(p["default"],{activation:r,backend_name:t,email:o,url:a,username:s})}}]),t}(u["default"].Component);a["default"]=m},{"./complete":213,"./register":216,react:"react"}],216:[function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=e("react"),f=r(d),p=e("../.."),m=r(p),h=e("../RegisterLegalFootnote"),b=r(h),v=e("../button"),_=r(v),g=e("../form"),y=r(g),E=e("../form-group"),w=r(E),O=e("../../services/ajax"),k=r(O),N=e("../../services/snackbar"),x=r(N),P=e("../../utils/validators"),j=n(P),C=e("./header"),S=r(C),M=function(e){function t(e){l(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.handlePrivacyPolicyChange=function(e){var t=e.target.value;a.handleToggleAgreement("privacyPolicy",t)},a.handleTermsOfServiceChange=function(e){var t=e.target.value;a.handleToggleAgreement("termsOfService",t)},a.handleToggleAgreement=function(e,t){a.setState(function(n,r){if(null===n[e]){var l=u({},n.errors,o({},e,null));return o({errors:l},e,t)}var s=a.state.validators[e][0],i=u({},n.errors,o({},e,[s(null)]));return o({errors:i},e,null)})};var n={email:[j.email()],username:[j.usernameContent()]};return m["default"].get("TERMS_OF_SERVICE_ID")&&(n.termsOfService=[j.requiredTermsOfService()]),m["default"].get("PRIVACY_POLICY_ID")&&(n.privacyPolicy=[j.requiredPrivacyPolicy()]),a.state={email:e.email||"",emailProtected:!!e.email,username:e.username||"",termsOfService:null,privacyPolicy:null,validators:n,errors:{},isLoading:!1},a}return i(t,e),c(t,[{key:"clean",value:function(){var e=(this.validate(),[this.state.email.trim().length,this.state.username.trim().length]);if(e.indexOf(0)!==-1)return x["default"].error(gettext("Fill out all fields.")),!1;var t=this.state.validators,a=!!m["default"].get("TERMS_OF_SERVICE_ID");if(a&&null===this.state.termsOfService)return x["default"].error(t.termsOfService[0](null)),!1;var n=!!m["default"].get("PRIVACY_POLICY_ID");return!n||null!==this.state.privacyPolicy||(x["default"].error(t.privacyPolicy[0](null)),x["default"].error(gettext("You need to accept the privacy policy.")),!1)}},{key:"send",value:function(){return k["default"].post(this.props.url,{email:this.state.email,username:this.state.username,terms_of_service:this.state.termsOfService,privacy_policy:this.state.privacyPolicy})}},{key:"handleSuccess",value:function(e){var t=this.props.onRegistrationComplete;t(e)}},{key:"handleError",value:function(e){if(200===e.status){var t=this.props.onRegistrationComplete,a=this.state.username;t({activation:"active",step:"done",username:a})}else if(400===e.status){var n={errors:e};e.email&&(n.emailProtected=!1),this.setState(n)}else x["default"].apiError(e)}},{key:"render",value:function(){var e=this.props.backend_name,t=this.state,a=t.email,n=t.emailProtected,r=t.username,o=t.isLoading,l=null;if(n){var s=gettext("Your e-mail address has been verified by %(backend)s.");l=interpolate(s,{backend:e},!0)}return f["default"].createElement("div",{className:"page page-social-auth page-social-sauth-register"},f["default"].createElement(S["default"],{backendName:e}),f["default"].createElement("div",{className:"container"},f["default"].createElement("div",{className:"row"},f["default"].createElement("div",{className:"col-md-6 col-md-offset-3"},f["default"].createElement("form",{onSubmit:this.handleSubmit},f["default"].createElement("div",{className:"panel panel-default panel-form"},f["default"].createElement("div",{className:"panel-heading"},f["default"].createElement("h3",{className:"panel-title"},gettext("Complete your details"))),f["default"].createElement("div",{className:"panel-body"},f["default"].createElement(w["default"],{"for":"id_username",label:gettext("Username"),validation:this.state.errors.username},f["default"].createElement("input",{type:"text",id:"id_username",className:"form-control",disabled:o,onChange:this.bindInput("username"),value:r})),f["default"].createElement(w["default"],{"for":"id_email",label:gettext("E-mail address"),helpText:l,validation:n?null:this.state.errors.email},f["default"].createElement("input",{type:"email",id:"id_email",className:"form-control",disabled:o||n,onChange:this.bindInput("email"),value:a})),f["default"].createElement(b["default"],{errors:this.state.errors,privacyPolicy:this.state.privacyPolicy,termsOfService:this.state.termsOfService,onPrivacyPolicyChange:this.handlePrivacyPolicyChange,onTermsOfServiceChange:this.handleTermsOfServiceChange})),f["default"].createElement("div",{className:"panel-footer"},f["default"].createElement(_["default"],{className:"btn-primary",loading:this.state.isLoading},gettext("Sign in")))))))))}}]),t}(y["default"]);a["default"]=M},{"../..":302,"../../services/ajax":365,"../../services/snackbar":376,"../../utils/validators":393,"../RegisterLegalFootnote":1,"../button":8,"../form":56,"../form-group":55,"./header":214,react:"react"}],217:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){return s["default"].createElement("li",null,s["default"].createElement("a",{href:e.node.url.index},e.node.name))}function o(e){var t=e.path[e.path.length-1];return s["default"].createElement("a",{href:t.url.index,className:"go-back-sm visible-xs-block"},s["default"].createElement("span",{className:"material-icon"},"chevron_left"),t.name)}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){return s["default"].createElement("div",{className:"page-breadcrumbs"},s["default"].createElement("div",{className:"container"},s["default"].createElement("ol",{className:"breadcrumb hidden-xs"},e.path.map(function(e){return s["default"].createElement(r,{key:e.id,node:e})})),s["default"].createElement(o,e)))},a.Breadcrumb=r,a.GoBack=o;var l=e("react"),s=n(l)},{react:"react"}],218:[function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return f["default"].createElement("div",{className:e.isSingle?"col-xs-12":"col-xs-6"},f["default"].createElement("div",{className:"btn-group btn-group-justified"},f["default"].createElement("div",{className:"btn-group"},f["default"].createElement("button",{"aria-expanded":"false","aria-haspopup":"true",className:"btn btn-default btn-outline dropdown-toggle","data-toggle":"dropdown",disabled:e.thread.isBusy,type:"button"},f["default"].createElement("span",{className:"material-icon"},"settings"),f["default"].createElement("span",{className:e.isSingle?"":"hidden-sm"},gettext("Moderation"))),f["default"].createElement(h.ModerationControls,{posts:e.posts,thread:e.thread,user:e.user}))))}Object.defineProperty(a,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a.Moderation=i;var d=e("react"),f=r(d),p=e("./breadcrumbs"),m=r(p),h=e("../moderation/thread"),b=e("./stats"),v=r(b),_=e("../../form"),g=r(_),y=e("../../posting/utils/validators"),E=e("../../../services/ajax"),w=r(E),O=e("../../../services/snackbar"),k=r(O),N=e("../../../services/store"),x=r(N),P=e("../../../reducers/thread"),j=n(P),C=function(e){function t(e){o(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onChange=function(e){a.changeValue("title",e.target.value)},a.onEdit=function(){a.setState({isEditing:!0})},a.onCancel=function(){a.setState({title:a.props.thread.title,isEditing:!1})},a.state={isEditing:!1,isLoading:!1,title:e.thread.title,validators:{title:(0,y.getTitleValidators)()},errors:{}},a}return s(t,e),c(t,[{key:"clean",value:function(){if(!this.state.title.trim().length)return k["default"].error(gettext("You have to enter thread title.")),!1;var e=this.validate();return!e.title||(k["default"].error(e.title[0]),!1)}},{key:"send",value:function(){return w["default"].patch(this.props.thread.api.index,[{op:"replace",path:"title",value:this.state.title}])}},{key:"handleSuccess",value:function(e){x["default"].dispatch(j.update(e)),this.setState({isEditing:!1})}},{key:"handleError",value:function(e){400===e.status?k["default"].error(e.detail[0]):k["default"].apiError(e)}},{key:"render",value:function(){var e=this.props,t=e.thread,a=e.user,n=!!a.id&&(0,h.isModerationVisible)(t);return this.state.isEditing?f["default"].createElement("div",{className:"page-header"},f["default"].createElement(m["default"],{path:t.path}),f["default"].createElement("div",{className:"container"},f["default"].createElement("div",{className:"row xs-margin-top title-edit-form"},f["default"].createElement("form",{onSubmit:this.handleSubmit},f["default"].createElement("div",{className:"col-sm-6 col-md-6"},f["default"].createElement("input",{className:"form-control",type:"text",value:this.state.title,onChange:this.onChange})),f["default"].createElement("div",{className:"col-sm-6 col-md-4"},f["default"].createElement("div",{className:"row xs-margin-top-half sm-margin-top-no md-margin-top-no"},f["default"].createElement("div",{className:"col-xs-6"},f["default"].createElement("button",{className:"btn btn-primary btn-block btn-outline",disabled:this.state.isLoading,title:gettext("Change title")},gettext("Save changes"))),f["default"].createElement("div",{className:"col-xs-6"},f["default"].createElement("button",{className:"btn btn-default btn-block btn-outline",disabled:this.state.isLoading,onClick:this.onCancel,title:gettext("Cancel"),type:"button"},gettext("Cancel")))))))),f["default"].createElement(v["default"],{thread:t})):a.id&&t.acl.can_edit?f["default"].createElement("div",{className:"page-header"},f["default"].createElement(m["default"],{path:t.path}),f["default"].createElement("div",{className:"container"},f["default"].createElement("div",{className:"row"},f["default"].createElement("div",{className:n?"col-sm-9 col-md-8":"col-sm-10 col-md-10"},f["default"].createElement("h1",null,t.title)),f["default"].createElement("div",{className:n?"col-sm-3 col-md-4":"col-sm-3 col-md-2"},f["default"].createElement("div",{className:"row xs-margin-top md-margin-top-no"},f["default"].createElement("div",{className:n?"col-xs-6":"col-xs-12"},f["default"].createElement("button",{className:"btn btn-default btn-block btn-outline",onClick:this.onEdit,title:gettext("Edit title"),type:"button"},f["default"].createElement("span",{className:"material-icon"},"edit"),f["default"].createElement("span",{className:"hidden-sm"},gettext("Edit")))),n&&f["default"].createElement(i,this.props))))),f["default"].createElement(v["default"],{thread:t})):n?f["default"].createElement("div",{className:"page-header"},f["default"].createElement(m["default"],{path:t.path}),f["default"].createElement("div",{className:"container"},f["default"].createElement("div",{className:"row"},f["default"].createElement("div",{className:"col-sm-9 col-md-10"},f["default"].createElement("h1",null,t.title)),f["default"].createElement("div",{className:"col-sm-3 col-md-2"},f["default"].createElement("div",{className:"row xs-margin-top md-margin-top-no"},f["default"].createElement(i,u({isSingle:!0},this.props)))))),f["default"].createElement(v["default"],{thread:t})):f["default"].createElement("div",{className:"page-header"},f["default"].createElement(m["default"],{path:t.path}),f["default"].createElement("div",{className:"container"},f["default"].createElement("h1",null,t.title)),f["default"].createElement(v["default"],{thread:t}))}}]),t}(g["default"]);a["default"]=C},{"../../../reducers/thread":360,"../../../services/ajax":365,"../../../services/snackbar":376,"../../../services/store":377,"../../form":56,"../../posting/utils/validators":144,"../moderation/thread":227,"./breadcrumbs":217,"./stats":219,react:"react"}],219:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){return 2==e.thread.weight?d["default"].createElement("li",{className:"thread-pinned-globally"},d["default"].createElement("span",{className:"material-icon"},"bookmark"),d["default"].createElement("span",{className:"icon-legend"},gettext("Pinned globally"))):1==e.thread.weight?d["default"].createElement("li",{className:"thread-pinned-locally"},d["default"].createElement("span",{className:"material-icon"},"bookmark_border"),d["default"].createElement("span",{className:"icon-legend"},gettext("Pinned locally"))):null}function o(e){return e.thread.is_unapproved?d["default"].createElement("li",{className:"thread-unapproved"},d["default"].createElement("span",{className:"material-icon"},"remove_circle"),d["default"].createElement("span",{className:"icon-legend"},gettext("Unapproved"))):e.thread.has_unapproved_posts?d["default"].createElement("li",{className:"thread-unapproved-posts"},d["default"].createElement("span",{className:"material-icon"},"remove_circle_outline"),d["default"].createElement("span",{className:"icon-legend"},gettext("Unapproved posts"))):null}function l(e){return e.thread.is_hidden?d["default"].createElement("li",{className:"thread-hidden"},d["default"].createElement("span",{className:"material-icon"},"visibility_off"),d["default"].createElement("span",{className:"icon-legend"},gettext("Hidden"))):null}function s(e){return e.thread.is_closed?d["default"].createElement("li",{className:"thread-closed"},d["default"].createElement("span",{className:"material-icon"},"lock_outline"),d["default"].createElement("span",{className:"icon-legend"},gettext("Closed"))):null}function i(e){var t=ngettext("%(replies)s reply","%(replies)s replies",e.thread.replies),a=interpolate(t,{replies:e.thread.replies},!0);return d["default"].createElement("li",{className:"thread-replies"},d["default"].createElement("span",{className:"material-icon"},"forum"),d["default"].createElement("span",{className:"icon-legend"},a))}function u(e){var t=null;t=e.thread.url.last_poster?interpolate(m,{url:(0,p["default"])(e.thread.url.last_poster),user:(0,p["default"])(e.thread.last_poster_name)},!0):interpolate(h,{user:(0,p["default"])(e.thread.last_poster_name)},!0);var a=interpolate(b,{absolute:(0,p["default"])(e.thread.last_post_on.format("LLL")),relative:(0,p["default"])(e.thread.last_post_on.fromNow())},!0),n=interpolate((0,p["default"])(gettext("last reply by %(user)s %(date)s")),{date:a,user:t},!0);return d["default"].createElement("li",{className:"thread-last-reply",dangerouslySetInnerHTML:{__html:n}})}Object.defineProperty(a,"__esModule",{value:!0}),a.Weight=r,a.Unapproved=o,a.IsHidden=l,a.IsClosed=s,a.Replies=i,a.LastReply=u,a["default"]=function(e){return d["default"].createElement("div",{className:"header-stats"},d["default"].createElement("div",{className:"container"},d["default"].createElement("ul",{className:"list-inline"},d["default"].createElement(r,{thread:e.thread}),d["default"].createElement(o,{thread:e.thread}),d["default"].createElement(l,{thread:e.thread}),d["default"].createElement(s,{thread:e.thread}),d["default"].createElement(i,{thread:e.thread}),d["default"].createElement(u,{thread:e.thread}))))};var c=e("react"),d=n(c),f=e("../../../utils/escape-html"),p=n(f),m='<a href="%(url)s" class="poster-title">%(user)s</a>',h='<span class="poster-title">%(user)s</span>',b='<abbr class="last-title" title="%(absolute)s">%(relative)s</abbr>'},{"../../../utils/escape-html":383,react:"react"}],220:[function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=e.selection,a=[{op:"replace",path:"is-unapproved",value:!1}],n=t.map(function(e){return{id:e.id,is_unapproved:!1}}),r=t.map(function(e){return{id:e.id,is_unapproved:e.is_unapproved}});c(e,a,n,r)}function l(e){var t=e.selection,a=[{op:"replace",path:"is-protected",value:!0}],n=t.map(function(e){return{id:e.id,is_protected:!0}}),r=t.map(function(e){return{id:e.id,is_protected:e.is_protected}});c(e,a,n,r)}function s(e){var t=e.selection,a=[{op:"replace",path:"is-protected",value:!1}],n=t.map(function(e){return{id:e.id,is_protected:!1}}),r=t.map(function(e){return{id:e.id,is_protected:e.is_protected}});c(e,a,n,r)}function i(e){var t=e.selection,a=[{op:"replace",path:"is-hidden",value:!0}],n=t.map(function(t){return{id:t.id,is_hidden:!0,hidden_on:(0,m["default"])(),hidden_by_name:e.user.username,url:Object.assign(t.url,{hidden_by:e.user.url})}}),r=t.map(function(e){return{id:e.id,is_hidden:e.is_hidden,hidden_on:e.hidden_on,hidden_by_name:e.hidden_by_name,url:e.url}});c(e,a,n,r)}function u(e){var t=e.selection,a=[{op:"replace",path:"is-hidden",value:!1}],n=t.map(function(t){return{id:t.id,is_hidden:!1,hidden_on:(0,m["default"])(),hidden_by_name:e.user.username,url:Object.assign(t.url,{hidden_by:e.user.url})}}),r=t.map(function(e){return{id:e.id,is_hidden:e.is_hidden,hidden_on:e.hidden_on,hidden_by_name:e.hidden_by_name,url:e.url}});c(e,a,n,r)}function c(e,t,a,n){var r=e.selection,o=e.thread;a.forEach(function(e){_.patch(e,e)}),j["default"].dispatch(y.deselectAll());var l={ops:t,ids:r.map(function(e){return e.id})};w["default"].patch(o.api.posts.index,l).then(function(e){e.forEach(function(e){j["default"].dispatch(_.patch(e,e))})},function(e){if(400!==e.status)return n.forEach(function(e){j["default"].dispatch(_.patch(e,e))}),x["default"].apiError(e);var t=[],a=[];e.forEach(function(e){e.detail?(t.push(e),a.push(e.id)):j["default"].dispatch(_.patch(e,e)),n.forEach(function(e){a.indexOf(e)!==-1&&j["default"].dispatch(_.patch(e,e))})});var o={};r.forEach(function(e){o[e.id]=e}),k["default"].show(b["default"].createElement(S["default"],{errors:t,posts:o}))})}function d(e){var t=confirm(gettext("Are you sure you want to merge selected posts? This action is not reversible!"));t&&(e.selection.slice(1).map(function(e){
j["default"].dispatch(_.patch(e,{isDeleted:!0}))}),w["default"].post(e.thread.api.posts.merge,{posts:e.selection.map(function(e){return e.id})}).then(function(e){j["default"].dispatch(_.patch(e,_.hydrate(e)))},function(t){400===t.status?x["default"].error(t.detail):x["default"].apiError(t),e.selection.slice(1).map(function(e){j["default"].dispatch(_.patch(e,{isDeleted:!1}))})}),j["default"].dispatch(y.deselectAll()))}function f(e){var t=confirm(gettext("Are you sure you want to delete selected posts? This action is not reversible!"));if(t){e.selection.map(function(e){j["default"].dispatch(_.patch(e,{isDeleted:!0}))});var a=e.selection.map(function(e){return e.id});w["default"]["delete"](e.thread.api.posts.index,a).then(function(){},function(t){400===t.status?x["default"].error(t.detail):x["default"].apiError(t),e.selection.map(function(e){j["default"].dispatch(_.patch(e,{isDeleted:!1}))})}),j["default"].dispatch(y.deselectAll())}}Object.defineProperty(a,"__esModule",{value:!0}),a.approve=o,a.protect=l,a.unprotect=s,a.hide=i,a.unhide=u,a.patch=c,a.merge=d,a.remove=f;var p=e("moment"),m=r(p),h=e("react"),b=r(h),v=e("../../../../reducers/post"),_=n(v),g=e("../../../../reducers/posts"),y=n(g),E=e("../../../../services/ajax"),w=r(E),O=e("../../../../services/modal"),k=r(O),N=e("../../../../services/snackbar"),x=r(N),P=e("../../../../services/store"),j=r(P),C=e("./errors-list"),S=r(C)},{"../../../../reducers/post":353,"../../../../reducers/posts":354,"../../../../services/ajax":365,"../../../../services/modal":371,"../../../../services/snackbar":376,"../../../../services/store":377,"./errors-list":222,moment:"moment",react:"react"}],221:[function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0}),a.Delete=a.Unhide=a.Hide=a.Unprotect=a.Protect=a.Split=a.Move=a.Merge=a.Approve=void 0;var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a["default"]=function(e){return c["default"].createElement("ul",{className:"dropdown-menu"},c["default"].createElement(g,e),c["default"].createElement(y,e),c["default"].createElement(E,e),c["default"].createElement(w,e),c["default"].createElement(O,e),c["default"].createElement(k,e),c["default"].createElement(x,e),c["default"].createElement(N,e),c["default"].createElement(P,e))};var u=e("react"),c=r(u),d=e("../../../../services/modal"),f=r(d),p=e("./actions"),m=n(p),h=e("./move"),b=r(h),v=e("./split"),_=r(v),g=a.Approve=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onClick=function(){m.approve(n.props)},r=a,l(n,r)}return s(t,e),i(t,[{key:"render",value:function(){var e=this.props.selection.find(function(e){return e.acl.can_approve&&e.is_unapproved});return e?c["default"].createElement("li",null,c["default"].createElement("button",{type:"button",className:"btn btn-link",onClick:this.onClick},c["default"].createElement("span",{className:"material-icon"},"done"),gettext("Approve"))):null}}]),t}(c["default"].Component),y=a.Merge=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onClick=function(){m.merge(n.props)},r=a,l(n,r)}return s(t,e),i(t,[{key:"render",value:function(){var e=this.props.selection.length>1&&this.props.selection.find(function(e){return e.acl.can_merge});return e?c["default"].createElement("li",null,c["default"].createElement("button",{type:"button",className:"btn btn-link",onClick:this.onClick},c["default"].createElement("span",{className:"material-icon"},"call_merge"),gettext("Merge"))):null}}]),t}(c["default"].Component),E=a.Move=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onClick=function(){f["default"].show(c["default"].createElement(b["default"],n.props))},r=a,l(n,r)}return s(t,e),i(t,[{key:"render",value:function(){var e=this.props.selection.find(function(e){return e.acl.can_move});return e?c["default"].createElement("li",null,c["default"].createElement("button",{type:"button",className:"btn btn-link",onClick:this.onClick},c["default"].createElement("span",{className:"material-icon"},"arrow_forward"),gettext("Move"))):null}}]),t}(c["default"].Component),w=a.Split=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onClick=function(){f["default"].show(c["default"].createElement(_["default"],n.props))},r=a,l(n,r)}return s(t,e),i(t,[{key:"render",value:function(){var e=this.props.selection.find(function(e){return e.acl.can_move});return e?c["default"].createElement("li",null,c["default"].createElement("button",{type:"button",className:"btn btn-link",onClick:this.onClick},c["default"].createElement("span",{className:"material-icon"},"call_split"),gettext("Split"))):null}}]),t}(c["default"].Component),O=a.Protect=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onClick=function(){m.protect(n.props)},r=a,l(n,r)}return s(t,e),i(t,[{key:"render",value:function(){var e=this.props.selection.find(function(e){return!e.is_protected&&e.acl.can_protect});return e?c["default"].createElement("li",null,c["default"].createElement("button",{type:"button",className:"btn btn-link",onClick:this.onClick},c["default"].createElement("span",{className:"material-icon"},"lock_outline"),gettext("Protect"))):null}}]),t}(c["default"].Component),k=a.Unprotect=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onClick=function(){m.unprotect(n.props)},r=a,l(n,r)}return s(t,e),i(t,[{key:"render",value:function(){var e=this.props.selection.find(function(e){return e.is_protected&&e.acl.can_protect});return e?c["default"].createElement("li",null,c["default"].createElement("button",{type:"button",className:"btn btn-link",onClick:this.onClick},c["default"].createElement("span",{className:"material-icon"},"lock_open"),gettext("Unprotect"))):null}}]),t}(c["default"].Component),N=a.Hide=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onClick=function(){m.hide(n.props)},r=a,l(n,r)}return s(t,e),i(t,[{key:"render",value:function(){var e=this.props.selection.find(function(e){return e.acl.can_hide&&!e.is_hidden});return e?c["default"].createElement("li",null,c["default"].createElement("button",{type:"button",className:"btn btn-link",onClick:this.onClick},c["default"].createElement("span",{className:"material-icon"},"visibility_off"),gettext("Hide"))):null}}]),t}(c["default"].Component),x=a.Unhide=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onClick=function(){m.unhide(n.props)},r=a,l(n,r)}return s(t,e),i(t,[{key:"render",value:function(){var e=this.props.selection.find(function(e){return e.acl.can_unhide&&e.is_hidden});return e?c["default"].createElement("li",null,c["default"].createElement("button",{type:"button",className:"btn btn-link",onClick:this.onClick},c["default"].createElement("span",{className:"material-icon"},"visibility"),gettext("Unhide"))):null}}]),t}(c["default"].Component),P=a.Delete=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onClick=function(){m.remove(n.props)},r=a,l(n,r)}return s(t,e),i(t,[{key:"render",value:function(){var e=this.props.selection.find(function(e){return e.acl.can_delete});return e?c["default"].createElement("li",null,c["default"].createElement("button",{type:"button",className:"btn btn-link",onClick:this.onClick},c["default"].createElement("span",{className:"material-icon"},"clear"),gettext("Delete"))):null}}]),t}(c["default"].Component)},{"../../../../services/modal":371,"./actions":220,"./move":224,"./split":225,react:"react"}],222:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){var t=e.errors,a=e.post,n=interpolate(gettext("%(username)s on %(posted_on)s"),{posted_on:a.posted_on.format("LL, LT"),username:a.poster_name},!0);return l["default"].createElement("li",null,l["default"].createElement("h5",null,n,":"),t.map(function(e,t){return l["default"].createElement("p",{key:t},e)}))}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.errors,a=e.posts;return l["default"].createElement("div",{className:"modal-dialog",role:"document"},l["default"].createElement("div",{className:"modal-content"},l["default"].createElement("div",{className:"modal-header"},l["default"].createElement("button",{"aria-label":gettext("Close"),className:"close","data-dismiss":"modal",type:"button"},l["default"].createElement("span",{"aria-hidden":"true"},"×")),l["default"].createElement("h4",{className:"modal-title"},gettext("Moderation"))),l["default"].createElement("div",{className:"modal-body"},l["default"].createElement("p",{className:"lead"},gettext("One or more posts could not be changed:")),l["default"].createElement("ul",{className:"list-unstyled list-errored-items"},t.map(function(e){return l["default"].createElement(r,{errors:e.detail,key:e.id,post:a[e.id]})})))))},a.PostErrors=r;var o=e("react"),l=n(o)},{react:"react"}],223:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(e.acl.can_merge_posts&&t.length>1)return!0;var a=!1;return t.forEach(function(e){if(!e.is_event){var t=e.acl.can_approve&&e.is_unapproved||e.acl.can_delete||!e.is_hidden&&e.acl.can_hide||e.acl.can_move||e.acl.can_merge||e.acl.can_protect||e.is_hidden&&e.acl.can_unhide||e.acl.can_unprotect;t&&(a=!0)}}),a}Object.defineProperty(a,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};a["default"]=function(e){if(!e.user.id||!r(e.thread,e.posts.results))return null;var t=e.posts.results.filter(function(e){return e.isSelected});return s["default"].createElement("div",{className:"dropup"},s["default"].createElement("button",{"aria-expanded":"true","aria-haspopup":"true",className:"btn btn-default dropdown-toggle btn-block btn-outline","data-toggle":"dropdown",disabled:!t.length,type:"button"},gettext("Posts options")),s["default"].createElement(u["default"],o({selection:t},e)))},a.isVisible=r;var l=e("react"),s=n(l),i=e("./dropdown"),u=n(i)},{"./dropdown":221,react:"react"}],224:[function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return d["default"].createElement("div",{className:"modal-header"},d["default"].createElement("button",{"aria-label":gettext("Close"),className:"close","data-dismiss":"modal",type:"button"},d["default"].createElement("span",{"aria-hidden":"true"},"×")),d["default"].createElement("h4",{className:"modal-title"},gettext("Move posts")))}Object.defineProperty(a,"__esModule",{value:!0});var u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a.ModalHeader=i;var c=e("react"),d=r(c),f=e("../../../button"),p=(r(f),e("../../../form")),m=r(p),h=e("../../../form-group"),b=r(h),v=e("../../../../reducers/post"),_=n(v),g=e("../../../../services/ajax"),y=r(g),E=e("../../../../services/modal"),w=r(E),O=e("../../../../services/snackbar"),k=r(O),N=e("../../../../services/store"),x=r(N),P=function(e){function t(e){o(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onUrlChange=function(e){a.changeValue("url",e.target.value)},a.state={isLoading:!1,url:"",validators:{url:[]},errors:{}},a}return s(t,e),u(t,[{key:"clean",value:function(){return!!this.state.url.trim().length||(k["default"].error(gettext("You have to enter link to the other thread.")),!1)}},{key:"send",value:function(){return y["default"].post(this.props.thread.api.posts.move,{new_thread:this.state.url,posts:this.props.selection.map(function(e){return e.id})})}},{key:"handleSuccess",value:function(e){this.props.selection.forEach(function(e){x["default"].dispatch(_.patch(e,{isDeleted:!0}))}),w["default"].hide(),k["default"].success(gettext("Selected posts were moved to the other thread."))}},{key:"handleError",value:function(e){400===e.status?k["default"].error(e.detail):k["default"].apiError(e)}},{key:"render",value:function(){return d["default"].createElement("div",{className:"modal-dialog",role:"document"},d["default"].createElement("form",{onSubmit:this.handleSubmit},d["default"].createElement("div",{className:"modal-content"},d["default"].createElement(i,null),d["default"].createElement("div",{className:"modal-body"},d["default"].createElement(b["default"],{"for":"id_url",label:gettext("Link to thread you want to move posts to")},d["default"].createElement("input",{className:"form-control",disabled:this.state.isLoading,id:"id_url",onChange:this.onUrlChange,value:this.state.url}))),d["default"].createElement("div",{className:"modal-footer"},d["default"].createElement("button",{className:"btn btn-default","data-dismiss":"modal",disabled:this.state.isLoading,type:"button"},gettext("Cancel")),d["default"].createElement("button",{className:"btn btn-primary",loading:this.state.isLoading},gettext("Move posts"))))))}}]),t}(m["default"]);a["default"]=P},{"../../../../reducers/post":353,"../../../../services/ajax":365,"../../../../services/modal":371,"../../../../services/snackbar":376,"../../../../services/store":377,"../../../button":8,"../../../form":56,"../../../form-group":55,react:"react"}],225:[function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(){return m["default"].createElement(c,{className:"modal-dialog"},m["default"].createElement(k["default"],null))}function u(e){return m["default"].createElement(c,{className:"modal-dialog modal-message"},m["default"].createElement("div",{className:"message-icon"},m["default"].createElement("span",{className:"material-icon"},"info_outline")),m["default"].createElement("div",{className:"message-body"},m["default"].createElement("p",{className:"lead"},gettext("You can't move selected posts at the moment.")),m["default"].createElement("p",null,e.message),m["default"].createElement("button",{className:"btn btn-default","data-dismiss":"modal",type:"button"},gettext("Ok"))))}function c(e){return m["default"].createElement("div",{className:e.className,role:"document"},m["default"].createElement("div",{className:"modal-content"},m["default"].createElement("div",{className:"modal-header"},m["default"].createElement("button",{"aria-label":gettext("Close"),className:"close","data-dismiss":"modal",type:"button"},m["default"].createElement("span",{"aria-hidden":"true"},"×")),m["default"].createElement("h4",{className:"modal-title"},gettext("Split posts into new thread"))),e.children))}Object.defineProperty(a,"__esModule",{value:!0}),a.ModerationForm=a.PostingConfig=void 0;var d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};a["default"]=function(e){return m["default"].createElement(B,f({},e,{Form:H}))},a.Loader=i,a.Error=u,a.Modal=c;var p=e("react"),m=r(p),h=e("../../../button"),b=r(h),v=e("../../../form"),_=r(v),g=e("../../../form-group"),y=r(g),E=e("../../../category-select"),w=r(E),O=e("../../../modal-loader"),k=r(O),N=e("../../../select"),x=r(N),P=e("../../../../reducers/post"),j=n(P),C=e("../../../../services/ajax"),S=r(C),M=e("../../../../services/modal"),T=r(M),L=e("../../../../services/snackbar"),A=r(L),R=e("../../../../services/store"),I=r(R),D=e("../../../../utils/validators"),U=n(D),B=a.PostingConfig=function(e){function t(e){o(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={isLoaded:!1,isError:!1,categories:[]},a}return s(t,e),d(t,[{key:"componentDidMount",value:function(){var e=this;S["default"].get(misago.get("THREAD_EDITOR_API")).then(function(t){var a=t.map(function(e){return Object.assign(e,{disabled:e.post===!1,label:e.name,value:e.id,post:e.post})});e.setState({isLoaded:!0,categories:a})},function(t){e.setState({isError:t.detail})})}},{key:"render",value:function(){return this.state.isError?m["default"].createElement(u,{message:this.state.isError}):this.state.isLoaded?m["default"].createElement(H,f({},this.props,{categories:this.state.categories})):m["default"].createElement(i,null)}}]),t}(m["default"].Component),H=a.ModerationForm=function(e){function t(e){o(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onCategoryChange=function(e){var t=e.target.value,n={category:t};a.acl[t].can_pin_threads<n.weight&&(n.weight=0),a.acl[t].can_hide_threads||(n.is_hidden=0),a.acl[t].can_close_threads||(n.is_closed=!1),a.setState(n)},a.state={isLoading:!1,title:"",category:null,categories:e.categories,weight:0,is_hidden:0,is_closed:!1,validators:{title:[U.required()]},errors:{}},a.isHiddenChoices=[{value:0,icon:"visibility",label:gettext("No")},{value:1,icon:"visibility_off",label:gettext("Yes")}],a.isClosedChoices=[{value:!1,icon:"lock_outline",label:gettext("No")},{value:!0,icon:"lock",label:gettext("Yes")}],a.acl={},a.props.categories.forEach(function(e){e.post&&(a.state.category||(a.state.category=e.id),a.acl[e.id]={can_pin_threads:e.post.pin,can_close_threads:e.post.close,can_hide_threads:e.post.hide})}),a}return s(t,e),d(t,[{key:"clean",value:function(){return!!this.isValid()||(A["default"].error(gettext("Form contains errors.")),this.setState({errors:this.validate()}),!1)}},{key:"send",value:function(){return S["default"].post(this.props.thread.api.posts.split,{title:this.state.title,category:this.state.category,weight:this.state.weight,is_hidden:this.state.is_hidden,is_closed:this.state.is_closed,posts:this.props.selection.map(function(e){return e.id})})}},{key:"handleSuccess",value:function(e){this.props.selection.forEach(function(e){I["default"].dispatch(j.patch(e,{isDeleted:!0}))}),T["default"].hide(),A["default"].success(gettext("Selected posts were split into new thread."))}},{key:"handleError",value:function(e){400===e.status?(this.setState({errors:Object.assign({},this.state.errors,e)}),A["default"].error(gettext("Form contains errors."))):403===e.status&&Array.isArray(e)?T["default"].show(m["default"].createElement(ErrorsModal,{errors:e})):A["default"].apiError(e)}},{key:"getWeightChoices",value:function(){var e=[{value:0,icon:"remove",label:gettext("Not pinned")},{value:1,icon:"bookmark_border",label:gettext("Pinned locally")}];return 2==this.acl[this.state.category].can_pin_threads&&e.push({value:2,icon:"bookmark",label:gettext("Pinned globally")}),e}},{key:"renderWeightField",value:function(){return this.acl[this.state.category].can_pin_threads?m["default"].createElement(y["default"],{label:gettext("Thread weight"),"for":"id_weight",labelClass:"col-sm-4",controlClass:"col-sm-8"},m["default"].createElement(x["default"],{id:"id_weight",onChange:this.bindInput("weight"),value:this.state.weight,choices:this.getWeightChoices()})):null}},{key:"renderHiddenField",value:function(){return this.acl[this.state.category].can_hide_threads?m["default"].createElement(y["default"],{label:gettext("Hide thread"),"for":"id_is_hidden",labelClass:"col-sm-4",controlClass:"col-sm-8"},m["default"].createElement(x["default"],{id:"id_is_closed",onChange:this.bindInput("is_hidden"),value:this.state.is_hidden,choices:this.isHiddenChoices})):null}},{key:"renderClosedField",value:function(){return this.acl[this.state.category].can_close_threads?m["default"].createElement(y["default"],{label:gettext("Close thread"),"for":"id_is_closed",labelClass:"col-sm-4",controlClass:"col-sm-8"},m["default"].createElement(x["default"],{id:"id_is_closed",onChange:this.bindInput("is_closed"),value:this.state.is_closed,choices:this.isClosedChoices})):null}},{key:"render",value:function(){return m["default"].createElement(c,{className:"modal-dialog"},m["default"].createElement("form",{onSubmit:this.handleSubmit},m["default"].createElement("div",{className:"modal-body"},m["default"].createElement(y["default"],{label:gettext("Thread title"),"for":"id_title",labelClass:"col-sm-4",controlClass:"col-sm-8",validation:this.state.errors.title},m["default"].createElement("input",{id:"id_title",className:"form-control",type:"text",onChange:this.bindInput("title"),value:this.state.title})),m["default"].createElement("div",{className:"clearfix"}),m["default"].createElement(y["default"],{label:gettext("Category"),"for":"id_category",labelClass:"col-sm-4",controlClass:"col-sm-8",validation:this.state.errors.category},m["default"].createElement(w["default"],{id:"id_category",onChange:this.onCategoryChange,value:this.state.category,choices:this.state.categories})),m["default"].createElement("div",{className:"clearfix"}),this.renderWeightField(),this.renderHiddenField(),this.renderClosedField()),m["default"].createElement("div",{className:"modal-footer"},m["default"].createElement("button",{className:"btn btn-default","data-dismiss":"modal",disabled:this.state.isLoading,type:"button"},gettext("Cancel")),m["default"].createElement(b["default"],{className:"btn-primary",loading:this.state.isLoading},gettext("Split posts")))))}}]),t}(_["default"])},{"../../../../reducers/post":353,"../../../../services/ajax":365,"../../../../services/modal":371,"../../../../services/snackbar":376,"../../../../services/store":377,"../../../../utils/validators":393,"../../../button":8,"../../../category-select":21,"../../../form":56,"../../../form-group":55,"../../../modal-loader":61,"../../../select":210,react:"react"}],226:[function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=e("react"),c=r(u),d=e("./merge"),f=r(d),p=e("./move"),m=r(p),h=e("../../../../reducers/thread"),b=n(h),v=e("../../../../services/ajax"),_=r(v),g=e("../../../../services/modal"),y=r(g),E=e("../../../../services/snackbar"),w=r(E),O=e("../../../../services/store"),k=r(O),N=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.callApi=function(e,t){k["default"].dispatch(b.busy()),e.push({op:"add",path:"acl",value:!0}),_["default"].patch(n.props.thread.api.index,e).then(function(e){k["default"].dispatch(b.update(e)),k["default"].dispatch(b.release()),w["default"].success(t)},function(e){k["default"].dispatch(b.release()),400===e.status?w["default"].error(e.detail[0]):w["default"].apiError(e)})},n.pinGlobally=function(){n.callApi([{op:"replace",path:"weight",value:2}],gettext("Thread has been pinned globally."))},n.pinLocally=function(){n.callApi([{op:"replace",path:"weight",value:1}],gettext("Thread has been pinned locally."))},n.unpin=function(){n.callApi([{op:"replace",path:"weight",value:0}],gettext("Thread has been unpinned."))},n.approve=function(){n.callApi([{op:"replace",path:"is-unapproved",value:!1}],gettext("Thread has been approved."))},n.open=function(){n.callApi([{op:"replace",path:"is-closed",value:!1}],gettext("Thread has been opened."))},n.close=function(){n.callApi([{op:"replace",path:"is-closed",value:!0}],gettext("Thread has been closed."))},n.unhide=function(){n.callApi([{op:"replace",path:"is-hidden",value:!1}],gettext("Thread has been made visible."))},n.hide=function(){n.callApi([{op:"replace",path:"is-hidden",value:!0}],gettext("Thread has been made hidden."))},n.move=function(){y["default"].show(c["default"].createElement(m["default"],{posts:n.props.posts,thread:n.props.thread}))},n.merge=function(){y["default"].show(c["default"].createElement(f["default"],{thread:n.props.thread}))},n["delete"]=function(){confirm(gettext("Are you sure you want to delete this thread?"))&&(k["default"].dispatch(b.busy()),_["default"]["delete"](n.props.thread.api.index).then(function(e){w["default"].success(gettext("Thread has been deleted.")),window.location=n.props.thread.category.url.index},function(e){k["default"].dispatch(b.release()),w["default"].apiError(e)}))},r=a,l(n,r)}return s(t,e),i(t,[{key:"getPinGloballyButton",value:function(){return 2===this.props.thread.weight?null:this.props.thread.acl.can_pin_globally?c["default"].createElement("li",null,c["default"].createElement("button",{className:"btn btn-link",onClick:this.pinGlobally,type:"button"},c["default"].createElement("span",{className:"material-icon"},"bookmark"),gettext("Pin globally"))):null}},{key:"getPinLocallyButton",value:function(){return 1===this.props.thread.weight?null:this.props.thread.acl.can_pin?c["default"].createElement("li",null,c["default"].createElement("button",{className:"btn btn-link",onClick:this.pinLocally,type:"button"},c["default"].createElement("span",{className:"material-icon"},"bookmark_border"),gettext("Pin locally"))):null}},{key:"getUnpinButton",value:function(){return 0===this.props.thread.weight?null:this.props.thread.acl.can_pin?c["default"].createElement("li",null,c["default"].createElement("button",{className:"btn btn-link",onClick:this.unpin,type:"button"},c["default"].createElement("span",{className:"material-icon"},"panorama_fish_eye"),gettext("Unpin"))):null}},{key:"getMoveButton",value:function(){return this.props.thread.acl.can_move?c["default"].createElement("li",null,c["default"].createElement("button",{className:"btn btn-link",onClick:this.move,type:"button"},c["default"].createElement("span",{className:"material-icon"},"arrow_forward"),gettext("Move"))):null}},{key:"getMergeButton",value:function(){return this.props.thread.acl.can_merge?c["default"].createElement("li",null,c["default"].createElement("button",{className:"btn btn-link",onClick:this.merge,type:"button"},c["default"].createElement("span",{className:"material-icon"},"call_merge"),gettext("Merge"))):null}},{key:"getApproveButton",value:function(){return this.props.thread.is_unapproved&&this.props.thread.acl.can_approve?c["default"].createElement("li",null,c["default"].createElement("button",{className:"btn btn-link",onClick:this.approve,type:"button"},c["default"].createElement("span",{className:"material-icon"},"done"),gettext("Approve"))):null}},{key:"getOpenButton",value:function(){return this.props.thread.is_closed&&this.props.thread.acl.can_close?c["default"].createElement("li",null,c["default"].createElement("button",{className:"btn btn-link",onClick:this.open,type:"button"},c["default"].createElement("span",{className:"material-icon"},"lock_open"),gettext("Open"))):null}},{key:"getCloseButton",value:function(){return this.props.thread.is_closed?null:this.props.thread.acl.can_close?c["default"].createElement("li",null,c["default"].createElement("button",{className:"btn btn-link",onClick:this.close,type:"button"},c["default"].createElement("span",{className:"material-icon"},"lock_outline"),gettext("Close"))):null}},{key:"getUnhideButton",value:function(){return this.props.thread.is_hidden&&this.props.thread.acl.can_unhide?c["default"].createElement("li",null,c["default"].createElement("button",{className:"btn btn-link",onClick:this.unhide,type:"button"},c["default"].createElement("span",{className:"material-icon"},"visibility"),gettext("Unhide"))):null}},{key:"getHideButton",value:function(){return this.props.thread.is_hidden?null:this.props.thread.acl.can_hide?c["default"].createElement("li",null,c["default"].createElement("button",{
className:"btn btn-link",onClick:this.hide,type:"button"},c["default"].createElement("span",{className:"material-icon"},"visibility_off"),gettext("Hide"))):null}},{key:"getDeleteButton",value:function(){return this.props.thread.acl.can_delete?c["default"].createElement("li",null,c["default"].createElement("button",{className:"btn btn-link",onClick:this["delete"],type:"button"},c["default"].createElement("span",{className:"material-icon"},"clear"),gettext("Delete"))):null}},{key:"render",value:function(){return c["default"].createElement("ul",{className:"dropdown-menu dropdown-menu-right stick-to-bottom"},this.getPinGloballyButton(),this.getPinLocallyButton(),this.getUnpinButton(),this.getMoveButton(),this.getMergeButton(),this.getApproveButton(),this.getOpenButton(),this.getCloseButton(),this.getUnhideButton(),this.getHideButton(),this.getDeleteButton())}}]),t}(c["default"].Component);a["default"]=N},{"../../../../reducers/thread":360,"../../../../services/ajax":365,"../../../../services/modal":371,"../../../../services/snackbar":376,"../../../../services/store":377,"./merge":229,"./move":230,react:"react"}],227:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a.isModerationVisible=a.ModerationControls=void 0;var r=e("./controls"),o=n(r),l=e("./is-visible"),s=n(l);a.ModerationControls=o["default"],a.isModerationVisible=s["default"]},{"./controls":226,"./is-visible":228}],228:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){return!!(e.acl.can_approve&&e.is_unapproved||e.acl.can_close||e.acl.can_delete||e.acl.can_hide||e.acl.can_move||e.acl.can_merge||e.acl.can_pin||e.acl.can_pin_globally&&2!==e.weight||e.acl.can_unhide&&e.is_hidden)}},{}],229:[function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return d["default"].createElement("div",{className:"modal-header"},d["default"].createElement("button",{"aria-label":gettext("Close"),className:"close","data-dismiss":"modal",type:"button"},d["default"].createElement("span",{"aria-hidden":"true"},"×")),d["default"].createElement("h4",{className:"modal-title"},gettext("Merge thread")))}Object.defineProperty(a,"__esModule",{value:!0});var u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a.ModalHeader=i;var c=e("react"),d=r(c),f=e("../../../form"),p=r(f),m=e("../../../form-group"),h=r(m),b=e("../../../merge-conflict"),v=r(b),_=e("../../../../reducers/thread"),g=n(_),y=e("../../../../services/ajax"),E=r(y),w=e("../../../../services/modal"),O=r(w),k=e("../../../../services/snackbar"),N=r(k),x=e("../../../../services/store"),P=r(x),j=function(e){function t(e){o(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleSuccess=function(e){a.handleSuccessUnmounted(e),a.setState({isLoading:!0})},a.handleSuccessUnmounted=function(e){N["default"].success(gettext("Thread has been merged with other one.")),window.location=e.url},a.handleError=function(e){P["default"].dispatch(g.release()),400===e.status?e.best_answers||e.polls?O["default"].show(d["default"].createElement(v["default"],{api:a.props.thread.api.merge,bestAnswers:e.best_answers,data:{other_thread:a.state.url},polls:e.polls,onError:a.handleError,onSuccess:a.handleSuccessUnmounted})):e.best_answer?N["default"].error(e.best_answer[0]):e.poll?N["default"].error(e.poll[0]):N["default"].error(e.detail):N["default"].apiError(e)},a.onUrlChange=function(e){a.changeValue("url",e.target.value)},a.state={isLoading:!1,url:"",validators:{url:[]},errors:{}},a}return s(t,e),u(t,[{key:"clean",value:function(){return!!this.state.url.trim().length||(N["default"].error(gettext("You have to enter link to the other thread.")),!1)}},{key:"send",value:function(){return P["default"].dispatch(g.busy()),E["default"].post(this.props.thread.api.merge,{other_thread:this.state.url})}},{key:"render",value:function(){return d["default"].createElement("div",{className:"modal-dialog",role:"document"},d["default"].createElement("form",{onSubmit:this.handleSubmit},d["default"].createElement("div",{className:"modal-content"},d["default"].createElement(i,null),d["default"].createElement("div",{className:"modal-body"},d["default"].createElement(h["default"],{"for":"id_url",label:gettext("Link to thread you want to merge with"),help_text:gettext("Merge will delete current thread and move its contents to the thread specified here.")},d["default"].createElement("input",{className:"form-control",disabled:this.state.isLoading||this.props.thread.isBusy,id:"id_url",onChange:this.onUrlChange,value:this.state.url}))),d["default"].createElement("div",{className:"modal-footer"},d["default"].createElement("button",{className:"btn btn-default","data-dismiss":"modal",disabled:this.state.isLoading,type:"button"},gettext("Cancel")),d["default"].createElement("button",{className:"btn btn-primary",loading:this.state.isLoading||this.props.thread.isBusy},gettext("Merge thread"))))))}}]),t}(p["default"]);a["default"]=j},{"../../../../reducers/thread":360,"../../../../services/ajax":365,"../../../../services/modal":371,"../../../../services/snackbar":376,"../../../../services/store":377,"../../../form":56,"../../../form-group":55,"../../../merge-conflict":59,react:"react"}],230:[function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return p["default"].createElement("div",{className:"modal-header"},p["default"].createElement("button",{"aria-label":gettext("Close"),className:"close","data-dismiss":"modal",type:"button"},p["default"].createElement("span",{"aria-hidden":"true"},"×")),p["default"].createElement("h4",{className:"modal-title"},gettext("Move thread")))}function u(e){return p["default"].createElement("div",{className:"modal-dialog",role:"document"},p["default"].createElement("div",{className:"modal-content"},p["default"].createElement(i,null),p["default"].createElement(E["default"],null)))}function c(e){return p["default"].createElement("div",{className:"modal-dialog modal-message",role:"document"},p["default"].createElement("div",{className:"modal-content"},p["default"].createElement(i,null),p["default"].createElement("div",{className:"message-icon"},p["default"].createElement("span",{className:"material-icon"},"info_outline")),p["default"].createElement("div",{className:"message-body"},p["default"].createElement("p",{className:"lead"},gettext("You can't move this thread at the moment.")),p["default"].createElement("p",null,e.message),p["default"].createElement("button",{className:"btn btn-default","data-dismiss":"modal",type:"button"},gettext("Ok")))))}Object.defineProperty(a,"__esModule",{value:!0});var d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a.ModalHeader=i,a.ModalLoading=u,a.ModalMessage=c;var f=e("react"),p=r(f),m=e("../../../form"),h=r(m),b=e("../../../form-group"),v=r(b),_=e("../../../category-select"),g=r(_),y=e("../../../modal-loader"),E=r(y),w=e("../../../../reducers/posts"),O=n(w),k=e("../../../../reducers/thread"),N=n(k),x=e("../../../.."),P=r(x),j=e("../../../../services/ajax"),C=r(j),S=e("../../../../services/modal"),M=r(S),T=e("../../../../services/snackbar"),L=r(T),A=e("../../../../services/store"),R=r(A),I=function(e){function t(e){o(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onCategoryChange=function(e){a.changeValue("category",e.target.value)},a.state={isReady:!1,isLoading:!1,isError:!1,category:null,categories:[]},a}return s(t,e),d(t,[{key:"componentDidMount",value:function(){var e=this;C["default"].get(P["default"].get("THREAD_EDITOR_API")).then(function(t){var a=null,n=t.map(function(e){return e.post===!1||a||(a=e.id),Object.assign(e,{disabled:e.post===!1,label:e.name,value:e.id})});e.setState({isReady:!0,category:a,categories:n})},function(t){e.setState({isError:t.detail})})}},{key:"send",value:function(){return R["default"].dispatch(N.busy()),C["default"].patch(this.props.thread.api.index,[{op:"replace",path:"category",value:this.state.category}])}},{key:"handleSuccess",value:function(){C["default"].get(this.props.thread.api.posts.index,{page:this.props.posts.page}).then(function(e){R["default"].dispatch(N.replace(e)),R["default"].dispatch(O.load(e.post_set)),R["default"].dispatch(N.release()),L["default"].success(gettext("Thread has been moved.")),M["default"].hide()},function(e){R["default"].dispatch(N.release()),L["default"].apiError(e)})}},{key:"handleError",value:function(e){400===e.status?L["default"].error(e.detail[0]):L["default"].apiError(e)}},{key:"render",value:function(){return this.state.isReady?p["default"].createElement("div",{className:"modal-dialog",role:"document"},p["default"].createElement("form",{onSubmit:this.handleSubmit},p["default"].createElement("div",{className:"modal-content"},p["default"].createElement(i,null),p["default"].createElement("div",{className:"modal-body"},p["default"].createElement(v["default"],{"for":"id_category",label:gettext("New category")},p["default"].createElement(g["default"],{choices:this.state.categories,disabled:this.state.isLoading||this.props.thread.isBusy,id:"id_category",onChange:this.onCategoryChange,value:this.state.category}))),p["default"].createElement("div",{className:"modal-footer"},p["default"].createElement("button",{className:"btn btn-default","data-dismiss":"modal",disabled:this.state.isLoading,type:"button"},gettext("Cancel")),p["default"].createElement("button",{className:"btn btn-primary",loading:this.state.isLoading||this.props.thread.isBusy},gettext("Move thread")))))):this.state.isError?p["default"].createElement(c,{message:this.state.isError}):p["default"].createElement(u,null)}}]),t}(h["default"]);a["default"]=I},{"../../../..":302,"../../../../reducers/posts":354,"../../../../reducers/thread":360,"../../../../services/ajax":365,"../../../../services/modal":371,"../../../../services/snackbar":376,"../../../../services/store":377,"../../../category-select":21,"../../../form":56,"../../../form-group":55,"../../../modal-loader":61,react:"react"}],231:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){return d["default"].createElement("div",{className:"row row-paginator"},d["default"].createElement("div",{className:"col-xs-3"},d["default"].createElement(o,e)),d["default"].createElement("div",{className:"col-xs-3"},d["default"].createElement(l,e)),d["default"].createElement("div",{className:"col-xs-3"},d["default"].createElement(s,e)),d["default"].createElement("div",{className:"col-xs-3"},d["default"].createElement(i,e)))}function o(e){return e.posts.isLoaded&&e.posts.first?d["default"].createElement(f.Link,{className:"btn btn-default btn-block btn-outline btn-icon",to:e.thread.url.index,title:gettext("Go to first page")},d["default"].createElement("span",{className:"material-icon"},"first_page")):d["default"].createElement("span",{className:"btn btn-default btn-block btn-outline btn-icon disabled",title:gettext("Go to first page")},d["default"].createElement("span",{className:"material-icon"},"first_page"))}function l(e){if(e.posts.isLoaded&&e.posts.page>1){var t="";return e.posts.previous&&(t=e.posts.previous+"/"),d["default"].createElement(f.Link,{className:"btn btn-default btn-block btn-outline btn-icon",to:e.thread.url.index+t,title:gettext("Go to previous page")},d["default"].createElement("span",{className:"material-icon"},"chevron_left"))}return d["default"].createElement("span",{className:"btn btn-default btn-block btn-outline btn-icon disabled",title:gettext("Go to previous page")},d["default"].createElement("span",{className:"material-icon"},"chevron_left"))}function s(e){if(e.posts.isLoaded&&e.posts.more){var t="";return e.posts.next&&(t=e.posts.next+"/"),d["default"].createElement(f.Link,{className:"btn btn-default btn-block btn-outline btn-icon",to:e.thread.url.index+t,title:gettext("Go to next page")},d["default"].createElement("span",{className:"material-icon"},"chevron_right"))}return d["default"].createElement("span",{className:"btn btn-default btn-block btn-outline btn-icon disabled",title:gettext("Go to next page")},d["default"].createElement("span",{className:"material-icon"},"chevron_right"))}function i(e){return e.posts.isLoaded&&e.posts.last?d["default"].createElement(f.Link,{className:"btn btn-default btn-block btn-outline btn-icon",to:e.thread.url.index+e.posts.last+"/",title:gettext("Go to last page")},d["default"].createElement("span",{className:"material-icon"},"last_page")):d["default"].createElement("span",{className:"btn btn-default btn-block btn-outline btn-icon disabled",title:gettext("Go to last page")},d["default"].createElement("span",{className:"material-icon"},"last_page"))}function u(e){var t=null;return e.more?(t=ngettext("There is %(more)s more post in this thread.","There are %(more)s more posts in this thread.",e.more),t=interpolate(t,{more:e.more},!0)):t=gettext("There are no more posts in this thread."),d["default"].createElement("p",null,t)}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){return d["default"].createElement("nav",{className:"misago-pagination pull-left"},d["default"].createElement(r,e),d["default"].createElement(u,{more:e.posts.more}))},a.Pager=r,a.FirstPage=o,a.PreviousPage=l,a.NextPage=s,a.LastPage=i,a.More=u;var c=e("react"),d=n(c),f=e("react-router")},{react:"react","react-router":"react-router"}],232:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){return o["default"].createElement("button",{className:e.className||"btn btn-primary btn-outline",onClick:e.onClick,type:"button"},o["default"].createElement("span",{className:"material-icon"},"chat"),gettext("Reply"))};var r=e("react"),o=n(r)},{react:"react"}],233:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){return{participants:e.participants,poll:e.poll,posts:e.posts,thread:e.thread,tick:e.tick.tick,user:e.auth.user}}function o(){var e=c["default"].get("THREAD"),t=e.url.index.replace(e.slug+"-"+e.pk,":slug");return[{path:t,component:(0,l.connect)(r)(i["default"])},{path:t+":page/",component:(0,l.connect)(r)(i["default"])}]}Object.defineProperty(a,"__esModule",{value:!0}),a.select=r,a.paths=o;var l=e("react-redux"),s=e("./route"),i=n(s),u=e("../../index"),c=n(u)},{"../../index":302,"./route":234,"react-redux":"react-redux"}],234:[function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=e("react"),d=r(c),f=e("../participants"),p=r(f),m=e("../poll"),h=e("../posts-list"),b=r(h),v=e("./header"),_=r(v),g=e("./toolbar-top"),y=r(g),E=e("./toolbar-bottom"),w=r(E),O=e("../../reducers/participants"),k=n(O),N=e("../../reducers/poll"),x=n(N),P=e("../../reducers/posts"),j=n(P),C=e("../../reducers/thread"),S=n(C),M=e("../../services/ajax"),T=r(M),L=e("../../services/polls"),A=r(L),R=e("../../services/snackbar"),I=r(R),D=e("../../services/posting"),U=r(D),B=e("../../services/store"),H=r(B),z=e("../../services/page-title"),F=r(z),q=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.update=function(e){H["default"].dispatch(S.replace(e)),H["default"].dispatch(j.load(e.post_set)),e.participants&&H["default"].dispatch(k.replace(e.participants)),e.poll&&H["default"].dispatch(x.replace(e.poll)),n.setPageTitle()},n.openReplyForm=function(){U["default"].open({mode:"REPLY",config:n.props.thread.api.editor,submit:n.props.thread.api.posts.index})},r=a,l(n,r)}return s(t,e),u(t,[{key:"componentDidMount",value:function(){this.shouldFetchData()&&(this.fetchData(),this.setPageTitle()),this.startPollingApi()}},{key:"componentDidUpdate",value:function(){this.shouldFetchData()&&(this.fetchData(),this.startPollingApi(),this.setPageTitle())}},{key:"componentWillUnmount",value:function(){this.stopPollingApi()}},{key:"shouldFetchData",value:function(){if(this.props.posts.isLoaded){var e=1*(this.props.params.page||1);return e!=this.props.posts.page}return!1}},{key:"fetchData",value:function(){var e=this;H["default"].dispatch(j.unload()),T["default"].get(this.props.thread.api.posts.index,{page:this.props.params.page||1},"posts").then(function(t){e.update(t)},function(e){I["default"].apiError(e)})}},{key:"startPollingApi",value:function(){A["default"].start({poll:"thread-posts",url:this.props.thread.api.posts.index,data:{page:this.props.params.page||1},update:this.update,frequency:12e4,delayed:!0})}},{key:"stopPollingApi",value:function(){A["default"].stop("thread-posts")}},{key:"setPageTitle",value:function(){F["default"].set({title:this.props.thread.title,parent:this.props.thread.category.name,page:1*(this.props.params.page||1)})}},{key:"render",value:function(){var e="page page-thread";return this.props.thread.category.css_class&&(e+=" page-thread-"+this.props.thread.category.css_class),d["default"].createElement("div",{className:e},d["default"].createElement("div",{className:"page-header-bg"},d["default"].createElement(_["default"],this.props)),d["default"].createElement("div",{className:"container"},d["default"].createElement(y["default"],i({openReplyForm:this.openReplyForm},this.props)),d["default"].createElement(m.Poll,{poll:this.props.poll,thread:this.props.thread,user:this.props.user}),d["default"].createElement(p["default"],{participants:this.props.participants,thread:this.props.thread,user:this.props.user}),d["default"].createElement(b["default"],this.props),d["default"].createElement(w["default"],i({openReplyForm:this.openReplyForm},this.props))))}}]),t}(d["default"].Component);a["default"]=q},{"../../reducers/participants":351,"../../reducers/poll":352,"../../reducers/posts":354,"../../reducers/thread":360,"../../services/ajax":365,"../../services/page-title":373,"../../services/polls":374,"../../services/posting":375,"../../services/snackbar":376,"../../services/store":377,"../participants":101,"../poll":106,"../posts-list":151,"./header":218,"./toolbar-bottom":236,"./toolbar-top":237,react:"react"}],235:[function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return e===!0?"star":e===!1?"star_half":"star_border"}function u(e){return e===!0?gettext("E-mail"):e===!1?gettext("Enabled"):gettext("Disabled")}function c(e){return m["default"].createElement("ul",{className:e.dropdownClassName||"dropdown-menu stick-to-bottom"},m["default"].createElement(O,e),m["default"].createElement(k,e),m["default"].createElement(N,e))}function d(e,t,a){var n={subscription:e.subscription};w["default"].dispatch(b.update({subscription:t})),_["default"].patch(e.api.index,[{op:"replace",path:"subscription",value:a}]).then(function(e){w["default"].dispatch(b.update(e))},function(e){400===e.status?y["default"].error(e.detail[0]):y["default"].apiError(e),w["default"].dispatch(b.update(n))})}Object.defineProperty(a,"__esModule",{value:!0}),a.Email=a.Enable=a.Disable=void 0;var f=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a["default"]=function(e){return e.user.id?m["default"].createElement("div",{className:e.className},m["default"].createElement("button",{"aria-expanded":"true","aria-haspopup":"true",className:"btn btn-default dropdown-toggle btn-block btn-outline","data-toggle":"dropdown",type:"button"},m["default"].createElement("span",{className:"material-icon"},i(e.thread.subscription)),u(e.thread.subscription)),m["default"].createElement(c,e)):null},a.getIcon=i,a.getLabel=u,a.Dropdown=c,a.update=d;var p=e("react"),m=r(p),h=e("../../reducers/thread"),b=n(h),v=e("../../services/ajax"),_=r(v),g=e("../../services/snackbar"),y=r(g),E=e("../../services/store"),w=r(E),O=a.Disable=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onClick=function(){null!==n.props.thread.subscription&&d(n.props.thread,null,"unsubscribe")},r=a,l(n,r)}return s(t,e),f(t,[{key:"render",value:function(){return m["default"].createElement("li",null,m["default"].createElement("button",{className:"btn btn-link",onClick:this.onClick},m["default"].createElement("span",{className:"material-icon"},"star_border"),gettext("Unsubscribe")))}}]),t}(m["default"].Component),k=a.Enable=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onClick=function(){n.props.thread.subscription!==!1&&d(n.props.thread,!1,"notify")},r=a,l(n,r)}return s(t,e),f(t,[{key:"render",value:function(){return m["default"].createElement("li",null,m["default"].createElement("button",{className:"btn btn-link",onClick:this.onClick},m["default"].createElement("span",{className:"material-icon"},"star_half"),gettext("Subscribe")))}}]),t}(m["default"].Component),N=a.Email=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onClick=function(){n.props.thread.subscription!==!0&&d(n.props.thread,!0,"email")},r=a,l(n,r)}return s(t,e),f(t,[{key:"render",value:function(){return m["default"].createElement("li",null,m["default"].createElement("button",{className:"btn btn-link",onClick:this.onClick},m["default"].createElement("span",{className:"material-icon"},"star"),gettext("Subscribe with e-mail")))}}]),t}(m["default"].Component)},{"../../reducers/thread":360,"../../services/ajax":365,"../../services/snackbar":376,"../../services/store":377,react:"react"}],236:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){return e.visible?d["default"].createElement("div",{className:"col-md-5"},e.children):null}function o(e){return e.user.id?d["default"].createElement("div",{className:"col-sm-4 hidden-xs"},d["default"].createElement(m["default"],e)):null}function l(e){var t="col-xs-6";return e.thread.acl.can_reply||(t="col-xs-12"),d["default"].createElement("div",{className:t+" col-sm-4"},d["default"].createElement(_["default"],u({btnClassName:"btn-block",className:"dropup"},e)))}function s(e){return e.thread.acl.can_reply?d["default"].createElement("div",{className:"col-xs-6 col-sm-4"},d["default"].createElement(b["default"],{className:"btn btn-primary btn-block btn-outline",onClick:e.onClick})):null}function i(e){return e.thread.acl.can_reply?null:d["default"].createElement("div",{className:"hidden-xs hidden-sm col-sm-4"})}Object.defineProperty(a,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};a["default"]=function(e){return d["default"].createElement("div",{className:"row row-toolbar"},d["default"].createElement("div",{className:"col-xs-12 text-center visible-xs-block"},d["default"].createElement(f.More,{more:e.posts.more}),d["default"].createElement("div",{className:"toolbar-vertical-spacer"})),d["default"].createElement("div",{className:"col-md-7"},d["default"].createElement("div",{className:"row"},d["default"].createElement("div",{className:"col-sm-4 col-md-5"},d["default"].createElement(f.Pager,e)),d["default"].createElement("div",{className:"col-sm-8 col-md-7 hidden-xs"},d["default"].createElement(f.More,{more:e.posts.more})))),d["default"].createElement(r,{visible:!!e.user.id},d["default"].createElement("div",{className:"toolbar-vertical-spacer hidden-md hidden-lg"}),d["default"].createElement("div",{className:"row"},d["default"].createElement(i,e),d["default"].createElement(o,e),d["default"].createElement(l,e),d["default"].createElement(s,{thread:e.thread,onClick:e.openReplyForm}))))},a.Options=r,a.Moderation=o,a.Subscription=l,a.Reply=s,a.Spacer=i;var c=e("react"),d=n(c),f=e("./paginator"),p=e("./moderation/posts"),m=n(p),h=e("./reply-button"),b=n(h),v=e("./subscription"),_=n(v)},{"./moderation/posts":223,"./paginator":231,"./reply-button":232,"./subscription":235,react:"react"}],237:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.user,a="col-xs-3 col-sm-3 col-md-5";return t.is_anonymous&&(a="col-xs-12 col-sm-3 col-md-5"),w["default"].createElement("div",{className:a},w["default"].createElement("div",{className:"row hidden-xs hidden-sm"},w["default"].createElement(d,{thread:e.thread}),w["default"].createElement(i,{thread:e.thread}),w["default"].createElement(u,{thread:e.thread}),w["default"].createElement(c,{thread:e.thread})),w["default"].createElement(f,e))}function i(e){return e.thread.is_new?w["default"].createElement("div",{className:"col-sm-4"},w["default"].createElement("a",{href:e.thread.url.new_post,className:"btn btn-default btn-block btn-outline",title:gettext("Go to first new post")},gettext("New"))):null}function u(e){return e.thread.best_answer?w["default"].createElement("div",{className:"col-sm-4"},w["default"].createElement("a",{href:e.thread.url.best_answer,className:"btn btn-default btn-block btn-outline",title:gettext("Go to best answer")},gettext("Best answer"))):null}function c(e){return e.thread.has_unapproved_posts&&e.thread.acl.can_approve?w["default"].createElement("div",{className:"col-sm-4"},w["default"].createElement("a",{href:e.thread.url.unapproved_post,className:"btn btn-default btn-block btn-outline",title:gettext("Go to first unapproved post")},gettext("Unapproved"))):null}function d(e){return w["default"].createElement("div",{className:"col-sm-4"},w["default"].createElement("a",{href:e.thread.url.last_post,className:"btn btn-default btn-block btn-outline",title:gettext("Go to last post")},gettext("Last")))}function f(e){var t=e.user;return t.is_anonymous?w["default"].createElement("div",{className:"visible-xs-block visible-sm-block"},w["default"].createElement("a",{href:e.thread.url.last_post,className:"btn btn-default btn-block btn-outline"},gettext("Last post"))):w["default"].createElement("div",{className:"dropdown visible-xs-block visible-sm-block"},w["default"].createElement("button",{"aria-expanded":"true","aria-haspopup":"true",className:"btn btn-default dropdown-toggle btn-block btn-outline","data-toggle":"dropdown",type:"button"},w["default"].createElement("span",{className:"material-icon"},"expand_more"),w["default"].createElement("span",{className:"btn-text hidden-xs"},gettext("Options"))),w["default"].createElement("ul",{className:"dropdown-menu"},w["default"].createElement(S,e),w["default"].createElement(p,e),w["default"].createElement(m,e),w["default"].createElement(h,e)))}function p(e){return e.thread.is_new?w["default"].createElement("li",null,w["default"].createElement("a",{href:e.thread.url.new_post,className:"btn btn-link"},gettext("Go to first new post"))):null}function m(e){return e.thread.has_unapproved_posts&&e.thread.acl.can_approve?w["default"].createElement("li",null,w["default"].createElement("a",{href:e.thread.url.unapproved_post,className:"btn btn-link"},gettext("Go to first unapproved post"))):null}function h(e){return w["default"].createElement("li",null,w["default"].createElement("a",{href:e.thread.url.last_post,className:"btn btn-link"},gettext("Go to last post")))}function b(e){return e.thread.acl.can_reply?w["default"].createElement("div",{
className:"col-sm-4 hidden-xs"},w["default"].createElement(k["default"],{className:"btn btn-primary btn-block btn-outline",onClick:e.openReplyForm})):null}function v(e){return e.user.id?w["default"].createElement("div",{className:"col-xs-12 col-sm-4"},w["default"].createElement(x["default"],y({className:"dropdown",dropdownClassName:"dropdown-menu dropdown-menu-right stick-to-bottom"},e))):null}function _(e){return e.visible?w["default"].createElement("div",{className:"col-sm-4 hidden-xs"}):null}Object.defineProperty(a,"__esModule",{value:!0}),a.StartPollCompact=a.StartPoll=void 0;var g=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};a["default"]=function(e){var t=!e.thread.acl.can_start_poll||e.thread.poll;return w["default"].createElement("div",{className:"row row-toolbar row-toolbar-bottom-margin"},w["default"].createElement(s,e),w["default"].createElement("div",{className:"col-xs-9 col-md-5 col-md-offset-2"},w["default"].createElement("div",{className:"row"},w["default"].createElement(_,{visible:!e.user.id}),w["default"].createElement(_,{visible:t}),w["default"].createElement(v,e),w["default"].createElement(C,e),w["default"].createElement(b,e))))},a.GotoMenu=s,a.GotoNew=i,a.GotoBestAnswer=u,a.GotoUnapproved=c,a.GotoLast=d,a.CompactOptions=f,a.GotoNewCompact=p,a.GotoUnapprovedCompact=m,a.GotoLastCompact=h,a.Reply=b,a.SubscriptionMenu=v,a.Spacer=_;var E=e("react"),w=n(E),O=e("./reply-button"),k=n(O),N=e("./subscription"),x=n(N),P=e("../../services/posting"),j=n(P),C=a.StartPoll=function(e){function t(){var e,a,n,l;r(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onClick=function(){j["default"].open({mode:"POLL",submit:n.props.thread.api.poll,thread:n.props.thread,poll:null})},l=a,o(n,l)}return l(t,e),g(t,[{key:"render",value:function(){return!this.props.thread.acl.can_start_poll||this.props.thread.poll?null:w["default"].createElement("div",{className:"col-sm-4 hidden-xs"},w["default"].createElement("button",{className:"btn btn-default btn-block btn-outline",onClick:this.onClick,type:"button"},w["default"].createElement("span",{className:"material-icon"},"poll"),gettext("Add poll")))}}]),t}(w["default"].Component),S=a.StartPollCompact=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),g(t,[{key:"render",value:function(){return!this.props.thread.acl.can_start_poll||this.props.thread.poll?null:w["default"].createElement("li",null,w["default"].createElement("button",{className:"btn btn-link",onClick:this.onClick,type:"button"},gettext("Add poll")))}}]),t}(C)},{"../../services/posting":375,"./reply-button":232,"./subscription":235,react:"react"}],238:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){return e.isLoaded?0===e.threads.length?o["default"].createElement(s["default"],{diffSize:e.diffSize,applyDiff:e.applyDiff},e.children):o["default"].createElement(u["default"],{activeCategory:e.category,categories:e.categories,list:e.list,threads:e.threads,diffSize:e.diffSize,applyDiff:e.applyDiff,showOptions:e.showOptions,selection:e.selection,busyThreads:e.busyThreads}):o["default"].createElement(d["default"],null)};var r=e("react"),o=n(r),l=e("./list/empty"),s=n(l),i=e("./list/ready"),u=n(i),c=e("./list/preview"),d=n(c)},{"./list/empty":240,"./list/preview":241,"./list/ready":242,react:"react"}],239:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){var t=ngettext("There is %(threads)s new or updated thread. Click this message to show it.","There are %(threads)s new or updated threads. Click this message to show them.",e);return interpolate(t,{threads:e},!0)}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.applyDiff,a=e.diffSize;return 0===a?null:l["default"].createElement("li",{className:"list-group-item threads-diff-message"},l["default"].createElement("button",{type:"button",className:"btn btn-block btn-default",onClick:t},l["default"].createElement("span",{className:"material-icon"},"cached"),l["default"].createElement("span",{className:"diff-message"},r(a))))},a.getMessage=r;var o=e("react"),l=n(o)},{react:"react"}],240:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=e("./diff-message"),d=n(c),f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"getDiffMessage",value:function(){return 0===this.props.diffSize?null:u["default"].createElement(d["default"],{applyDiff:this.props.applyDiff,diffSize:this.props.diffSize})}},{key:"render",value:function(){return u["default"].createElement("div",{className:"threads-list ui-ready"},u["default"].createElement("ul",{className:"list-group"},this.getDiffMessage(),this.props.children))}}]),t}(u["default"].Component);a["default"]=f},{"./diff-message":239,react:"react"}],241:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=e("../thread/preview"),d=n(c),f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return u["default"].createElement("div",{className:"threads-list ui-preview"},u["default"].createElement("ul",{className:"list-group"},u["default"].createElement(d["default"],null)))}}]),t}(u["default"].Component);a["default"]=f},{"../thread/preview":249,react:"react"}],242:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){return o["default"].createElement("div",{className:"threads-list ui-ready"},o["default"].createElement("ul",{className:"list-group"},o["default"].createElement(s["default"],{diffSize:e.diffSize,applyDiff:e.applyDiff}),e.threads.map(function(t){return o["default"].createElement(u["default"],{activeCategory:e.activeCategory,categories:e.categories,list:e.list,thread:t,showOptions:e.showOptions,isSelected:e.selection.indexOf(t.id)>=0,isBusy:e.busyThreads.indexOf(t.id)>=0,key:t.id})})))};var r=e("react"),o=n(r),l=e("./diff-message"),s=n(l),i=e("../thread/ready"),u=n(i)},{"../thread/ready":250,"./diff-message":239,react:"react"}],243:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){var t=e.display,a=e.textClassName;return t?f["default"].createElement("span",{className:"thread-detail-hidden"},f["default"].createElement("span",{className:"material-icon"},"visibility_off"),f["default"].createElement("span",{className:a},gettext("Hidden"))):null}function o(e){var t=e.display,a=e.textClassName;return t?f["default"].createElement("span",{className:"thread-detail-closed"},f["default"].createElement("span",{className:"material-icon"},"lock_outline"),f["default"].createElement("span",{className:a},gettext("Closed"))):null}function l(e){var t=e.display,a=e.textClassName;return t?f["default"].createElement("span",{className:"thread-detail-poll"},f["default"].createElement("span",{className:"material-icon"},"assessment"),f["default"].createElement("span",{className:a},gettext("Poll"))):null}function s(e){var t=e.thread;return t.best_answer?f["default"].createElement("a",{className:"visible-xs-inline-block thread-detail-answered",href:t.url.best_answer},f["default"].createElement("span",{className:"material-icon"},"check_box")):null}function i(e){var t=e.replies,a=e.forceFullText,n=ngettext("%(replies)s reply","%(replies)s replies",t),r="",o="";return a?(r="detail-text hide",o="detail-text"):(r="detail-text visible-xs-inline-block",o="detail-text hidden-xs"),f["default"].createElement("span",{className:"thread-detail-replies"},f["default"].createElement("span",{className:"material-icon"},"forum"),f["default"].createElement("span",{className:r},t),f["default"].createElement("span",{className:o},interpolate(n,{replies:t},!0)))}function u(e){var t=e.datetime,a=e.url;return f["default"].createElement("a",{className:"visible-sm-inline-block thread-detail-last-reply",href:a,title:t.format("LLL")},t.fromNow(!0))}function c(e){var t=e.posterName,a=e.url,n="visible-sm-inline-block item-title thread-last-poster";return a?f["default"].createElement("a",{className:n,href:a},t):f["default"].createElement("span",{className:n},t)}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.category,a=e.isBusy,n=e.showOptions,d=e.isSelected,p=e.thread,b="col-xs-12 col-sm-12";n&&(b=p.moderation.length?"col-xs-6 col-sm-12":"col-xs-9 col-sm-12");var v=0;p.is_hidden&&(v+=1),p.is_closed&&(v+=1),p.has_poll&&(v+=1);var _=n&&3===v,g="detail-text hidden-xs";return _&&(g+=" hidden-sm"),f["default"].createElement("div",{className:"row thread-details-bottom"},f["default"].createElement("div",{className:b},f["default"].createElement(m["default"],{className:"item-title thread-detail-category hidden-xs",category:t}),f["default"].createElement(r,{textClassName:g,display:p.is_hidden}),f["default"].createElement(o,{textClassName:g,display:p.is_closed}),f["default"].createElement(l,{textClassName:g,display:p.has_poll}),f["default"].createElement(s,{thread:p}),f["default"].createElement(i,{forceFullText:!n||v<2,replies:p.replies}),f["default"].createElement(u,{datetime:p.last_post_on,url:p.url.last_post}),f["default"].createElement(c,{posterName:p.last_poster_name,url:p.url.last_poster})),f["default"].createElement(h.OptionsXs,{disabled:a,display:n,isSelected:d,thread:p}))},a.HiddenLabel=r,a.ClosedLabel=o,a.PollLabel=l,a.BestAnswerLabel=s,a.RepliesLabel=i,a.LastReplyLabel=u,a.LastPoster=c;var d=e("react"),f=n(d),p=e("./category"),m=n(p),h=e("../options")},{"../options":248,"./category":244,react:"react"}],244:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.category,a=e.className;return t?(t.css_class&&(a+=" thread-detail-category-"+t.css_class),o["default"].createElement("a",{className:a,href:t.url.index},t.name)):null};var r=e("react"),o=n(r)},{react:"react"}],245:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a.TopDetails=a.BottomDetails=void 0;var r=e("./bottom"),o=n(r),l=e("./top"),s=n(l);a.BottomDetails=o["default"],a.TopDetails=s["default"]},{"./bottom":243,"./top":246}],246:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){var t=e.isRead,a=e.url;return t?null:d["default"].createElement("a",{className:"thread-detail-new",href:a},d["default"].createElement("span",{className:"material-icon"},"comment"),d["default"].createElement("span",{className:"detail-text"},gettext("New posts")))}function o(e){var t=e.weight;if(0===t)return null;var a="thread-detail-pinned-globally",n="bookmark",r=gettext("Pinned globally");return 1===t&&(a="thread-detail-pinned-locally",n="bookmark_border",r=gettext("Pinned locally")),d["default"].createElement("span",{className:a},d["default"].createElement("span",{className:"material-icon"},n),d["default"].createElement("span",{className:"detail-text"},r))}function l(e){var t=e.posts,a=e.thread;if(!t&&!a)return null;var n="thread-detail-unapproved-posts",r="remove_circle_outline",o=gettext("Unapproved posts");return a&&(n="thread-detail-unapproved",r="remove_circle",o=gettext("Unapproved")),d["default"].createElement("span",{className:n},d["default"].createElement("span",{className:"material-icon"},r),d["default"].createElement("span",{className:"detail-text"},o))}function s(e){var t=e.thread;return t.best_answer?d["default"].createElement("a",{className:"hidden-xs thread-detail-answered",href:t.url.best_answer},d["default"].createElement("span",{className:"material-icon"},"check_box"),d["default"].createElement("span",{className:"detail-text"},gettext("Answered"))):null}function i(e){var t=e.datetime,a=e.url;return d["default"].createElement("a",{className:"visible-xs-inline-block thread-detail-last-reply",href:a,title:t.format("LLL")},t.fromNow(!0))}function u(e){var t=e.posterName,a=e.url;return a?d["default"].createElement("a",{className:"visible-xs-inline-block item-title thread-last-poster",href:a},t):d["default"].createElement("span",{className:"visible-xs-inline-block item-title thread-last-poster"},t)}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.category,a=e.thread;return d["default"].createElement("div",{className:"thread-details-top"},d["default"].createElement(r,{isRead:a.is_read,url:a.url.new_post}),d["default"].createElement(o,{weight:a.weight}),d["default"].createElement(l,{thread:a.is_unapproved,posts:a.has_unapproved_posts}),d["default"].createElement(s,{thread:a}),d["default"].createElement(p["default"],{className:"item-title thread-detail-category visible-xs-inline-block",category:t}),d["default"].createElement(i,{datetime:a.last_post_on,url:a.url.last_post}),d["default"].createElement(u,{posterName:a.last_poster_name,url:a.url.last_poster}))},a.NewLabel=r,a.PinnedLabel=o,a.UnapprovedLabel=l,a.BestAnswerLabel=s,a.LastReplyLabel=i,a.LastPoster=u;var c=e("react"),d=n(c),f=e("./category"),p=n(f)},{"./category":244,react:"react"}],247:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){var t=e.datetime,a=e.url;return l["default"].createElement("a",{className:"thread-last-reply",href:a,title:t.format("LLL")},t.fromNow(!0))}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.thread;return l["default"].createElement("div",{className:"media"},l["default"].createElement("div",{className:"media-left"},l["default"].createElement(c["default"],{className:"thread-last-poster-avatar",title:t.last_poster_name,url:t.url.last_poster},l["default"].createElement(i["default"],{className:"media-object",size:40,user:t.last_poster}))),l["default"].createElement("div",{className:"media-body"},l["default"].createElement(c["default"],{className:"item-title thread-last-poster",url:t.url.last_poster},t.last_poster_name),l["default"].createElement(r,{datetime:t.last_post_on,url:t.url.last_post})))},a.Timestamp=r;var o=e("react"),l=n(o),s=e("../../avatar"),i=n(s),u=e("./user-url"),c=n(u)},{"../../avatar":6,"./user-url":255,react:"react"}],248:[function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){var t=e.display,a=e.disabled,n=e.isSelected,r=e.thread;if(!t)return null;var o="col-sm-2 col-md-2 hidden-xs";return r.moderation.length&&(o="col-sm-3 col-md-2 hidden-xs"),f["default"].createElement("div",{className:o},f["default"].createElement("div",{className:"row thread-options"},f["default"].createElement(b["default"],{thread:r,disabled:a}),f["default"].createElement(m["default"],{thread:r,disabled:a}),f["default"].createElement(E,{thread:r,disabled:a,isSelected:n})))}function u(e){var t=e.display,a=e.disabled,n=e.isSelected,r=e.thread;if(!t)return null;var o="";return o+=r.moderation.length?"col-xs-6":"col-xs-3",o+=" visible-xs-block thread-options-xs",f["default"].createElement("div",{className:o},f["default"].createElement("div",{className:"row thread-options"},f["default"].createElement(b["default"],{thread:r,disabled:a}),f["default"].createElement(m["default"],{thread:r,disabled:a}),f["default"].createElement(E,{thread:r,disabled:a,isSelected:n})))}Object.defineProperty(a,"__esModule",{value:!0}),a.Checkbox=void 0;var c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a.Options=i,a.OptionsXs=u;var d=e("react"),f=r(d),p=e("./subscription/compact"),m=r(p),h=e("./subscription/full"),b=r(h),v=e("../../../reducers/selection"),_=n(v),g=e("../../../services/store"),y=r(g),E=a.Checkbox=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.toggleSelection=function(){y["default"].dispatch(_.item(n.props.thread.id))},r=a,l(n,r)}return s(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=e.disabled,a=e.isSelected,n=e.thread;return n.moderation.length?f["default"].createElement("div",{className:"col-xs-6"},f["default"].createElement("button",{className:"btn btn-default btn-icon btn-block",onClick:this.toggleSelection,disabled:t},f["default"].createElement("span",{className:"material-icon"},a?"check_box":"check_box_outline_blank"))):null}}]),t}(f["default"].Component)},{"../../../reducers/selection":358,"../../../services/store":377,"./subscription/compact":251,"./subscription/full":252,react:"react"}],249:[function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=e("react"),c=r(u),d=e("../../../utils/random"),f=n(d),p=function(e){function t(){return o(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),i(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return c["default"].createElement("li",{className:"list-group-item thread-preview"},c["default"].createElement("div",{className:"thread-details-top visible-xs-block"},c["default"].createElement("span",{className:"ui-preview-text",style:{width:f["int"](30,80)+"px"}}," "),c["default"].createElement("span",{className:"ui-preview-text",style:{width:f["int"](30,80)+"px"}}," "),c["default"].createElement("span",{className:"ui-preview-text",style:{width:f["int"](30,80)+"px"}}," ")),c["default"].createElement("span",{className:"item-title thread-title"},c["default"].createElement("span",{className:"ui-preview-text",style:{width:f["int"](60,200)+"px"}}," "),c["default"].createElement("span",{className:"ui-preview-text hidden-xs",style:{width:f["int"](60,200)+"px"}}," "),c["default"].createElement("span",{className:"ui-preview-text hidden-xs",style:{width:f["int"](60,200)+"px"}}," ")),c["default"].createElement("div",{className:"thread-details-bottom"},c["default"].createElement("div",null,c["default"].createElement("span",{className:"ui-preview-text",style:{width:f["int"](30,80)+"px"}}," "),c["default"].createElement("span",{className:"ui-preview-text",style:{width:f["int"](30,80)+"px"}}," "),c["default"].createElement("span",{className:"ui-preview-text",style:{width:f["int"](30,80)+"px"}}," "))))}}]),t}(c["default"].Component);a["default"]=p},{"../../../utils/random":388,react:"react"}],250:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,a,n){var r=["list-group-item"];return n&&n.css_class&&(r.push("list-group-category-has-flavor"),r.push("list-group-item-category-"+n.css_class)),e?r.push("thread-read"):r.push("thread-new"),t?r.push("thread-busy"):a&&r.push("thread-selected"),r.join(" ")}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.activeCategory,a=e.categories,n=(e.list,e.thread),o=e.isBusy,s=e.isSelected,c=e.showOptions,p=null;t.id!==n.category&&(p=a[n.category]);var h=p||t,b="thread-main col-xs-12";return b+=c?n.moderation.length?" col-sm-9 col-md-7":" col-sm-10 col-md-7":" col-sm-12 col-md-9",l["default"].createElement("li",{className:r(n.is_read,o,s,h)},l["default"].createElement(u.TopDetails,{category:p,thread:n}),l["default"].createElement("div",{className:"row thread-row"},l["default"].createElement("div",{className:b},l["default"].createElement("div",{className:"media"},l["default"].createElement("div",{className:"media-left hidden-xs"},l["default"].createElement(m["default"],{className:"thread-starter-avatar",title:n.starter_name,url:n.url.starter},l["default"].createElement(i["default"],{size:40,user:n.starter}))),l["default"].createElement("div",{className:"media-body"},l["default"].createElement("a",{href:n.url.index,className:"item-title thread-title"},n.title),l["default"].createElement(u.BottomDetails,{category:p,disabled:o,isSelected:s,showOptions:c,thread:n})))),l["default"].createElement("div",{className:"col-md-3 hidden-xs hidden-sm thread-last-action"},l["default"].createElement(d["default"],{thread:n})),l["default"].createElement(f.Options,{disabled:o,display:c,isSelected:s,thread:n})))},a.getClassName=r;var o=e("react"),l=n(o),s=e("../../avatar"),i=n(s),u=e("./details"),c=e("./last-action"),d=n(c),f=e("./options"),p=e("./user-url"),m=n(p)},{"../../avatar":6,"./details":245,"./last-action":247,"./options":248,"./user-url":255,react:"react"}],251:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=e("./full"),d=n(c),f=e("./modal"),p=n(f),m=e("../../../../services/modal"),h=n(m),b=function(e){function t(){var e,a,n,l;r(this,t);for(var s=arguments.length,i=Array(s),c=0;c<s;c++)i[c]=arguments[c];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.showOptions=function(){h["default"].show(u["default"].createElement(p["default"],{thread:n.props.thread}))},l=a,o(n,l)}return l(t,e),s(t,[{key:"render",value:function(){var e=this.props.thread.moderation,t="";return t+=e.length?"col-xs-6":"col-xs-12",t+=" hidden-md hidden-lg",u["default"].createElement("div",{className:t},u["default"].createElement("button",{type:"button",className:this.getClassName(),disabled:this.props.disabled,onClick:this.showOptions},u["default"].createElement("span",{className:"material-icon"},this.getIcon())))}}]),t}(d["default"]);a["default"]=b},{"../../../../services/modal":371,"./full":252,"./modal":253,react:"react"}],252:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.moderation,a=e.subscription;if(t.length)return null;var n=gettext("Disabled");return a===!0?n=gettext("E-mail"):a===!1&&(n=gettext("Enabled")),c["default"].createElement("span",{className:"btn-text"},n)}Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a.Label=s;var u=e("react"),c=n(u),d=e("./options"),f=n(d),p=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:"getIcon",value:function(){return this.props.thread.subscription===!0?"star":this.props.thread.subscription===!1?"star_half":"star_border"}},{key:"getClassName",value:function(){return this.props.thread.subscription===!0?"btn btn-default btn-icon btn-block btn-subscribe btn-subscribe-full dropdown-toggle":this.props.thread.subscription===!1?"btn btn-default btn-icon btn-block btn-subscribe btn-subscribe-half dropdown-toggle":"btn btn-default btn-icon btn-block btn-subscribe dropdown-toggle"}},{key:"render",value:function(){var e=this.props.thread,t=e.moderation,a=e.subscription,n=!t.length,r=n?"col-xs-12":"col-xs-6";return r+=" hidden-xs hidden-sm",c["default"].createElement("div",{className:r},c["default"].createElement("div",{className:"btn-group btn-group-justified"},c["default"].createElement("div",{className:"btn-group"},c["default"].createElement("button",{type:"button",className:this.getClassName(),disabled:this.props.disabled,"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},c["default"].createElement("span",{className:"material-icon"},this.getIcon()),c["default"].createElement(s,{moderation:t,subscription:a})),c["default"].createElement(f["default"],{className:"dropdown-menu dropdown-menu-right",thread:this.props.thread}))))}}]),t}(c["default"].Component);a["default"]=p},{"./options":254,react:"react"}],253:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=e("./options"),d=n(c),f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"render",value:function(){return u["default"].createElement("div",{className:"modal-dialog modal-sm",role:"document"},u["default"].createElement("div",{className:"modal-content"},u["default"].createElement("div",{className:"modal-header"},u["default"].createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":gettext("Close")},u["default"].createElement("span",{"aria-hidden":"true"},"×")),u["default"].createElement("h4",{className:"modal-title"},gettext("Change subscription"))),u["default"].createElement(d["default"],{className:"modal-menu",thread:this.props.thread})))}}]),t}(u["default"].Component);a["default"]=f},{"./options":254,react:"react"}],254:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,
n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=e("../../../button"),d=(n(c),e("../../../../reducers/threads")),f=e("../../../../services/ajax"),p=n(f),m=e("../../../../services/modal"),h=n(m),b=e("../../../../services/snackbar"),v=n(b),_=e("../../../../services/store"),g=n(_),y={unsubscribe:null,notify:!1,email:!0},E=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.setSubscription=function(e){h["default"].hide(),a.setState({isLoading:!0});var t=a.props.thread.subscription;g["default"].dispatch((0,d.patch)(a.props.thread,{subscription:y[e]})),p["default"].patch(a.props.thread.api.index,[{op:"replace",path:"subscription",value:e}]).then(function(){a.setState({isLoading:!1})},function(e){a.setState({isLoading:!1}),g["default"].dispatch((0,d.patch)(a.props.thread,{subscription:y[t]})),v["default"].apiError(e)})},a.unsubscribe=function(){a.setSubscription("unsubscribe")},a.notify=function(){a.setSubscription("notify")},a.email=function(){a.setSubscription("email")},a.state={isLoading:!1},a}return l(t,e),s(t,[{key:"render",value:function(){return u["default"].createElement("ul",{className:this.props.className},u["default"].createElement("li",null,u["default"].createElement("button",{className:"btn-link",onClick:this.unsubscribe},u["default"].createElement("span",{className:"material-icon"},"star_border"),gettext("Unsubscribe"))),u["default"].createElement("li",null,u["default"].createElement("button",{className:"btn-link",onClick:this.notify},u["default"].createElement("span",{className:"material-icon"},"star_half"),gettext("Subscribe"))),u["default"].createElement("li",null,u["default"].createElement("button",{className:"btn-link",onClick:this.email},u["default"].createElement("span",{className:"material-icon"},"star"),gettext("Subscribe with e-mail"))))}}]),t}(u["default"].Component);a["default"]=E},{"../../../../reducers/threads":361,"../../../../services/ajax":365,"../../../../services/modal":371,"../../../../services/snackbar":376,"../../../../services/store":377,"../../../button":8,react:"react"}],255:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.children,a=e.className,n=e.title,r=e.url;return r?o["default"].createElement("a",{className:a,href:r,title:n},t):o["default"].createElement("span",{className:a,title:n},t)};var r=e("react"),o=n(r)},{react:"react"}],256:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0}),a.Subcategory=void 0;var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=e("react-router"),d=a.Subcategory=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"getUrl",value:function(){return this.props.listPath?this.props.category.url.index+this.props.listPath:this.props.category.url.index}},{key:"render",value:function(){return u["default"].createElement("li",null,u["default"].createElement(c.Link,{to:this.getUrl(),className:"btn btn-link"},this.props.category.name))}}]),t}(u["default"].Component),f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"render",value:function(){var e=this;return u["default"].createElement("div",{className:"dropdown category-picker"},u["default"].createElement("button",{type:"button",className:"btn btn-default btn-outline dropdown-toggle btn-block","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},u["default"].createElement("span",{className:"material-icon"},"label_outline"),u["default"].createElement("span",{className:"hidden-xs"},gettext("Category"))),u["default"].createElement("ul",{className:"dropdown-menu stick-to-bottom categories-menu"},this.props.choices.map(function(t){return e.props.categories[t]?u["default"].createElement(d,{category:e.props.categories[t],listPath:e.props.list.path,key:t}):null})))}}]),t}(u["default"].Component);a["default"]=f},{react:"react","react-router":"react-router"}],257:[function(e,t,a){"use strict";function n(e,t){return e.last_post>t.last_post?-1:e.last_post<t.last_post?1:0}function r(e,t){return 2===e.weight&&e.weight>t.weight?-1:2===t.weight&&e.weight<t.weight?1:n(e,t)}function o(e,t){return e.weight>t.weight?-1:e.weight<t.weight?1:n(e,t)}Object.defineProperty(a,"__esModule",{value:!0}),a.compareLastPostAge=n,a.compareGlobalWeight=r,a.compareWeight=o},{}],258:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=e("../page-lead"),d=n(c),f=e("./toolbar"),p=n(f),m=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"getCategoryDescription",value:function(){return this.props.pageLead?u["default"].createElement("div",{className:"category-description"},u["default"].createElement("div",{className:"page-lead"},u["default"].createElement("p",null,this.props.pageLead))):this.props.route.category.description?u["default"].createElement("div",{className:"category-description"},u["default"].createElement(d["default"],{copy:this.props.route.category.description.html})):null}},{key:"getDisableToolbar",value:function(){return!this.props.isLoaded||this.props.isBusy||this.props.busyThreads.length}},{key:"getToolbar",value:function(){var e=this.props.subcategories.length||this.props.user.id;return e?u["default"].createElement(p["default"],{subcategories:this.props.subcategories,categories:this.props.route.categories,categoriesMap:this.props.route.categoriesMap,list:this.props.route.list,threads:this.props.threads,moderation:this.props.moderation,selection:this.props.selection,selectAllThreads:this.props.selectAllThreads,selectNoneThreads:this.props.selectNoneThreads,addThreads:this.props.addThreads,freezeThread:this.props.freezeThread,deleteThread:this.props.deleteThread,updateThread:this.props.updateThread,api:this.props.api,route:this.props.route,disabled:this.getDisableToolbar(),user:this.props.user}):null}},{key:"render",value:function(){return u["default"].createElement("div",{className:"container"},this.getCategoryDescription(),this.getToolbar(),this.props.children)}}]),t}(u["default"].Component);a["default"]=m},{"../page-lead":92,"./toolbar":269,react:"react"}],259:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.categories,a=e.category;if(!a)return null;var n=t[a];return c["default"].createElement(d.Link,{className:"go-back-sm visible-xs-block",to:n.url.index},c["default"].createElement("span",{className:"material-icon"},"chevron_left"),n.parent?n.name:gettext("Threads"))}Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a.ParentCategory=s;var u=e("react"),c=n(u),d=e("react-router"),f=e("../button"),p=n(f),m=e("../dropdown-toggle"),h=(n(m),e("./nav")),b=n(h),v=e("../../services/ajax"),_=(n(v),e("../../services/posting")),g=n(_),y=e("../../services/snackbar"),E=(n(y),e("../../services/store")),w=(n(E),e("../..")),O=n(w),k=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.startThread=function(){g["default"].open(a.props.startThread||{mode:"START",config:O["default"].get("THREAD_EDITOR_API"),submit:O["default"].get("THREADS_API"),category:a.props.route.category.id})},a.state={isBusy:!1},a}return l(t,e),i(t,[{key:"hasGoBackButton",value:function(){return!!this.props.route.category.parent}},{key:"getGoBackButton",value:function(){if(!this.props.route.category.parent)return null;var e=this.props.categories[this.props.route.category.parent];return c["default"].createElement("div",{className:"hidden-xs col-sm-2 col-lg-1"},c["default"].createElement(d.Link,{className:"btn btn-default btn-icon btn-aligned btn-go-back btn-block btn-outline",to:e.url.index+this.props.route.list.path},c["default"].createElement("span",{className:"material-icon"},"keyboard_arrow_left")))}},{key:"getStartThreadButton",value:function(){return this.props.user.id?c["default"].createElement(p["default"],{className:"btn-primary btn-block btn-outline",onClick:this.startThread,disabled:this.props.disabled},c["default"].createElement("span",{className:"material-icon"},"chat"),gettext("Start thread")):null}},{key:"render",value:function(){var e="col-xs-12";this.hasGoBackButton()&&(e+=" col-sm-10 col-lg-11 sm-align-row-buttons");var t=!!this.props.user.id;return c["default"].createElement("div",{className:"page-header-bg"},c["default"].createElement("div",{className:"page-header"},c["default"].createElement("div",{className:"container"},c["default"].createElement("div",{className:"row"},c["default"].createElement("div",{className:t?"col-sm-9 col-md-10":"col-xs-12"},c["default"].createElement("div",{className:"row"},this.getGoBackButton(),c["default"].createElement("div",{className:e},c["default"].createElement(s,{categories:this.props.categories,category:this.props.route.category.parent}),c["default"].createElement("h1",null,this.props.title)))),t&&c["default"].createElement("div",{className:"col-sm-3 col-md-2 xs-margin-top"},this.getStartThreadButton()))),c["default"].createElement(b["default"],{baseUrl:this.props.route.category.url.index,list:this.props.route.list,lists:this.props.route.lists})))}}]),t}(c["default"].Component);a["default"]=k},{"../..":302,"../../services/ajax":365,"../../services/posting":375,"../../services/snackbar":376,"../../services/store":377,"../button":8,"../dropdown-toggle":27,"./nav":266,react:"react","react-router":"react-router"}],260:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"render",value:function(){return"all"===this.props.list.type?this.props.emptyMessage?u["default"].createElement("li",{className:"list-group-item empty-message"},u["default"].createElement("p",{className:"lead"},this.props.emptyMessage),u["default"].createElement("p",null,gettext("Why not start one yourself?"))):u["default"].createElement("li",{className:"list-group-item empty-message"},u["default"].createElement("p",{className:"lead"},this.props.category.special_role?gettext("There are no threads on this forum... yet!"):gettext("There are no threads in this category.")),u["default"].createElement("p",null,gettext("Why not start one yourself?"))):u["default"].createElement("li",{className:"list-group-item empty-message"},gettext("No threads matching specified criteria were found."))}}]),t}(u["default"].Component);a["default"]=c},{react:"react"}],261:[function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=e("react"),c=r(u),d=e("./errors-list"),f=r(d),p=e("./merge"),m=r(p),h=e("./move"),b=r(h),v=e("../../../reducers/selection"),_=(n(v),e("../../../services/ajax")),g=r(_),y=e("../../../services/modal"),E=r(y),w=e("../../../services/snackbar"),O=r(w),k=e("../../../services/store"),N=(r(k),e("../../../utils/countdown")),x=(r(N),function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.callApi=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;n.props.threads.forEach(function(e){n.props.freezeThread(e.id)});var r=n.props.threads.map(function(e){return e.id});e.push({op:"add",path:"acl",value:!0}),g["default"].patch(n.props.api,{ids:r,ops:e}).then(function(e){n.props.threads.forEach(function(e){n.props.freezeThread(e.id)}),e.forEach(function(e){n.props.updateThread(e)}),O["default"].success(t),a&&a()},function(e){if(n.props.threads.forEach(function(e){n.props.freezeThread(e.id)}),400!==e.status)return O["default"].apiError(e);var t=[],a={};n.props.threads.forEach(function(e){a[e.id]=e}),e.forEach(function(e){var n=e.id,r=e.detail;"undefined"!=typeof a[n]&&t.push({errors:r,thread:a[n]})}),E["default"].show(c["default"].createElement(f["default"],{errors:t}))})},n.pinGlobally=function(){n.callApi([{op:"replace",path:"weight",value:2}],gettext("Selected threads were pinned globally."))},n.pinLocally=function(){n.callApi([{op:"replace",path:"weight",value:1}],gettext("Selected threads were pinned locally."))},n.unpin=function(){n.callApi([{op:"replace",path:"weight",value:0}],gettext("Selected threads were unpinned."))},n.approve=function(){n.callApi([{op:"replace",path:"is-unapproved",value:!1}],gettext("Selected threads were approved."))},n.open=function(){n.callApi([{op:"replace",path:"is-closed",value:!1}],gettext("Selected threads were opened."))},n.close=function(){n.callApi([{op:"replace",path:"is-closed",value:!0}],gettext("Selected threads were closed."))},n.unhide=function(){n.callApi([{op:"replace",path:"is-hidden",value:!1}],gettext("Selected threads were unhidden."))},n.hide=function(){n.callApi([{op:"replace",path:"is-hidden",value:!0}],gettext("Selected threads were hidden."))},n.move=function(){E["default"].show(c["default"].createElement(b["default"],{callApi:n.callApi,categories:n.props.categories,categoriesMap:n.props.categoriesMap,route:n.props.route,user:n.props.user}))},n.merge=function(){var e=[];if(n.props.threads.forEach(function(t){t.acl.can_merge||e.append({id:t.id,title:t.title,errors:[gettext("You don't have permission to merge this thread with others.")]})}),n.props.threads.length<2)O["default"].info(gettext("You have to select at least two threads to merge."));else{if(e.length)return void E["default"].show(c["default"].createElement(f["default"],{errors:e}));E["default"].show(c["default"].createElement(m["default"],n.props))}},n["delete"]=function(){if(confirm(gettext("Are you sure you want to delete selected threads?"))){n.props.threads.map(function(e){n.props.freezeThread(e.id)});var e=n.props.threads.map(function(e){return e.id});g["default"]["delete"](n.props.api,e).then(function(){n.props.threads.map(function(e){n.props.freezeThread(e.id),n.props.deleteThread(e)}),O["default"].success(gettext("Selected threads were deleted."))},function(e){if(400===e.status){var t=e.map(function(e){return e.id});n.props.threads.map(function(e){n.props.freezeThread(e.id),t.indexOf(e.id)===-1&&n.props.deleteThread(e)}),E["default"].show(c["default"].createElement(f["default"],{errors:e}))}else O["default"].apiError(e)})}},r=a,l(n,r)}return s(t,e),i(t,[{key:"getPinGloballyButton",value:function(){return this.props.moderation.can_pin_globally?c["default"].createElement("li",null,c["default"].createElement("button",{className:"btn btn-link",onClick:this.pinGlobally,type:"button"},c["default"].createElement("span",{className:"material-icon"},"bookmark"),gettext("Pin threads globally"))):null}},{key:"getPinLocallyButton",value:function(){return this.props.moderation.can_pin?c["default"].createElement("li",null,c["default"].createElement("button",{className:"btn btn-link",onClick:this.pinLocally,type:"button"},c["default"].createElement("span",{className:"material-icon"},"bookmark_border"),gettext("Pin threads locally"))):null}},{key:"getUnpinButton",value:function(){return this.props.moderation.can_pin?c["default"].createElement("li",null,c["default"].createElement("button",{className:"btn btn-link",onClick:this.unpin,type:"button"},c["default"].createElement("span",{className:"material-icon"},"panorama_fish_eye"),gettext("Unpin threads"))):null}},{key:"getMoveButton",value:function(){return this.props.moderation.can_move?c["default"].createElement("li",null,c["default"].createElement("button",{className:"btn btn-link",onClick:this.move,type:"button"},c["default"].createElement("span",{className:"material-icon"},"arrow_forward"),gettext("Move threads"))):null}},{key:"getMergeButton",value:function(){return this.props.moderation.can_merge?c["default"].createElement("li",null,c["default"].createElement("button",{className:"btn btn-link",onClick:this.merge,type:"button"},c["default"].createElement("span",{className:"material-icon"},"call_merge"),gettext("Merge threads"))):null}},{key:"getApproveButton",value:function(){return this.props.moderation.can_approve?c["default"].createElement("li",null,c["default"].createElement("button",{className:"btn btn-link",onClick:this.approve,type:"button"},c["default"].createElement("span",{className:"material-icon"},"done"),gettext("Approve threads"))):null}},{key:"getOpenButton",value:function(){return this.props.moderation.can_close?c["default"].createElement("li",null,c["default"].createElement("button",{className:"btn btn-link",onClick:this.open,type:"button"},c["default"].createElement("span",{className:"material-icon"},"lock_open"),gettext("Open threads"))):null}},{key:"getCloseButton",value:function(){return this.props.moderation.can_close?c["default"].createElement("li",null,c["default"].createElement("button",{className:"btn btn-link",onClick:this.close,type:"button"},c["default"].createElement("span",{className:"material-icon"},"lock_outline"),gettext("Close threads"))):null}},{key:"getUnhideButton",value:function(){return this.props.moderation.can_unhide?c["default"].createElement("li",null,c["default"].createElement("button",{className:"btn btn-link",onClick:this.unhide,type:"button"},c["default"].createElement("span",{className:"material-icon"},"visibility"),gettext("Unhide threads"))):null}},{key:"getHideButton",value:function(){return this.props.moderation.can_hide?c["default"].createElement("li",null,c["default"].createElement("button",{onClick:this.hide,type:"button",className:"btn btn-link"},c["default"].createElement("span",{className:"material-icon"},"visibility_off"),gettext("Hide threads"))):null}},{key:"getDeleteButton",value:function(){return this.props.moderation.can_delete?c["default"].createElement("li",null,c["default"].createElement("button",{className:"btn btn-link",onClick:this["delete"],type:"button"},c["default"].createElement("span",{className:"material-icon"},"clear"),gettext("Delete threads"))):null}},{key:"render",value:function(){return c["default"].createElement("ul",{className:this.props.className},this.getPinGloballyButton(),this.getPinLocallyButton(),this.getUnpinButton(),this.getMoveButton(),this.getMergeButton(),this.getApproveButton(),this.getOpenButton(),this.getCloseButton(),this.getUnhideButton(),this.getHideButton(),this.getDeleteButton())}}]),t}(c["default"].Component));a["default"]=x},{"../../../reducers/selection":358,"../../../services/ajax":365,"../../../services/modal":371,"../../../services/snackbar":376,"../../../services/store":377,"../../../utils/countdown":382,"./errors-list":262,"./merge":263,"./move":264,react:"react"}],262:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.errors,a=e.thread;return c["default"].createElement("li",null,c["default"].createElement("h5",null,a.title),t.map(function(e,t){return c["default"].createElement("p",null,e)}))}Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a.ThreadErrors=s;var u=e("react"),c=n(u),d=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:"render",value:function(){return c["default"].createElement("div",{className:"modal-dialog",role:"document"},c["default"].createElement("div",{className:"modal-content"},c["default"].createElement("div",{className:"modal-header"},c["default"].createElement("button",{"aria-label":gettext("Close"),className:"close","data-dismiss":"modal",type:"button"},c["default"].createElement("span",{"aria-hidden":"true"},"×")),c["default"].createElement("h4",{className:"modal-title"},gettext("Threads moderation"))),c["default"].createElement("div",{className:"modal-body"},c["default"].createElement("p",{className:"lead"},gettext("One or more threads could not be deleted:")),c["default"].createElement("ul",{className:"list-unstyled list-errored-items"},this.props.errors.map(function(e){return c["default"].createElement(s,{errors:e.errors,key:e.thread.id,thread:e.thread})})))))}}]),t}(c["default"].Component);a["default"]=d},{react:"react"}],263:[function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=e("react"),c=r(u),d=e("../../button"),f=r(d),p=e("../../form"),m=r(p),h=e("../../form-group"),b=r(h),v=e("../../category-select"),_=r(v),g=e("../../select"),y=r(g),E=e("../../../index"),w=r(E),O=e("../../../reducers/threads"),k=e("../../../reducers/selection"),N=n(k),x=e("./errors-list"),P=r(x),j=e("../../merge-conflict"),C=r(j),S=e("../../../services/ajax"),M=r(S),T=e("../../../services/modal"),L=r(T),A=e("../../../services/snackbar"),R=r(A),I=e("../../../services/store"),D=r(I),U=e("../../../utils/validators"),B=n(U),H=function(e){function t(e){o(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.getFormdata=function(){return{threads:a.props.threads.map(function(e){return e.id}),title:a.state.title,category:a.state.category,weight:a.state.weight,is_hidden:a.state.is_hidden,is_closed:a.state.is_closed}},a.handleSuccess=function(e){a.props.threads.forEach(function(e){a.props.freezeThread(e.id),a.props.deleteThread(e)}),D["default"].dispatch(N.none()),a.props.addThreads([e]),D["default"].dispatch((0,O.filterThreads)(a.props.route.category,a.props.categoriesMap)),L["default"].hide()},a.handleError=function(e){400===e.status?e.best_answers||e.polls?L["default"].show(c["default"].createElement(C["default"],{api:w["default"].get("MERGE_THREADS_API"),bestAnswers:e.best_answers,data:a.getFormdata(),polls:e.polls,onError:a.handleError,onSuccess:a.handleSuccess})):(a.setState({errors:Object.assign({},a.state.errors,e)}),R["default"].error(gettext("Form contains errors."))):403===e.status&&Array.isArray(e)?L["default"].show(c["default"].createElement(P["default"],{errors:e})):e.best_answer?R["default"].error(e.best_answer[0]):e.poll?R["default"].error(e.poll[0]):R["default"].apiError(e)},a.onCategoryChange=function(e){var t=e.target.value,n={category:t};a.acl[t].can_pin_threads<n.weight&&(n.weight=0),a.acl[t].can_hide_threads||(n.is_hidden=0),a.acl[t].can_close_threads||(n.is_closed=!1),a.setState(n)},a.state={isLoading:!1,title:"",category:null,weight:0,is_hidden:0,is_closed:!1,validators:{title:[B.required()]},errors:{}},a.acl={};for(var n in e.user.acl.categories)if(e.user.acl.categories.hasOwnProperty(n)){var r=e.user.acl.categories[n];a.acl[r.id]=r}return a.categoryChoices=[],e.categories.forEach(function(e){if(e.level>0){var t=a.acl[e.id],n=!t.can_start_threads||e.is_closed&&!t.can_close_threads;a.categoryChoices.push({value:e.id,disabled:n,level:e.level-1,label:e.name}),n||a.state.category||(a.state.category=e.id)}}),a.isHiddenChoices=[{value:0,icon:"visibility",label:gettext("No")},{value:1,icon:"visibility_off",label:gettext("Yes")}],a.isClosedChoices=[{value:!1,icon:"lock_outline",label:gettext("No")},{value:!0,icon:"lock",label:gettext("Yes")}],a}return s(t,e),i(t,[{key:"clean",value:function(){return!!this.isValid()||(R["default"].error(gettext("Form contains errors.")),this.setState({errors:this.validate()}),!1)}},{key:"send",value:function(){return M["default"].post(w["default"].get("MERGE_THREADS_API"),this.getFormdata())}},{key:"getWeightChoices",value:function(){var e=[{value:0,icon:"remove",label:gettext("Not pinned")},{value:1,icon:"bookmark_border",label:gettext("Pinned locally")}];return 2==this.acl[this.state.category].can_pin_threads&&e.push({value:2,icon:"bookmark",label:gettext("Pinned globally")}),e}},{key:"renderWeightField",value:function(){return this.acl[this.state.category].can_pin_threads?c["default"].createElement(b["default"],{label:gettext("Thread weight"),"for":"id_weight"},c["default"].createElement(y["default"],{id:"id_weight",onChange:this.bindInput("weight"),value:this.state.weight,choices:this.getWeightChoices()})):null}},{key:"renderHiddenField",value:function(){return this.acl[this.state.category].can_hide_threads?c["default"].createElement(b["default"],{label:gettext("Hide thread"),"for":"id_is_hidden"},c["default"].createElement(y["default"],{id:"id_is_closed",onChange:this.bindInput("is_hidden"),value:this.state.is_hidden,choices:this.isHiddenChoices})):null}},{key:"renderClosedField",value:function(){return this.acl[this.state.category].can_close_threads?c["default"].createElement(b["default"],{label:gettext("Close thread"),"for":"id_is_closed"},c["default"].createElement(y["default"],{id:"id_is_closed",onChange:this.bindInput("is_closed"),value:this.state.is_closed,choices:this.isClosedChoices})):null}},{key:"renderForm",value:function(){return c["default"].createElement("form",{onSubmit:this.handleSubmit},c["default"].createElement("div",{className:"modal-body"},c["default"].createElement(b["default"],{label:gettext("Thread title"),"for":"id_title",validation:this.state.errors.title},c["default"].createElement("input",{id:"id_title",className:"form-control",type:"text",onChange:this.bindInput("title"),value:this.state.title})),c["default"].createElement("div",{className:"clearfix"}),c["default"].createElement(b["default"],{label:gettext("Category"),"for":"id_category",validation:this.state.errors.category},c["default"].createElement(_["default"],{id:"id_category",onChange:this.onCategoryChange,value:this.state.category,choices:this.categoryChoices})),c["default"].createElement("div",{className:"clearfix"}),this.renderWeightField(),this.renderHiddenField(),this.renderClosedField()),c["default"].createElement("div",{className:"modal-footer"},c["default"].createElement("button",{
className:"btn btn-default","data-dismiss":"modal",disabled:this.state.isLoading,type:"button"},gettext("Cancel")),c["default"].createElement(f["default"],{className:"btn-primary",loading:this.state.isLoading},gettext("Merge threads"))))}},{key:"renderCantMergeMessage",value:function(){return c["default"].createElement("div",{className:"modal-body"},c["default"].createElement("div",{className:"message-icon"},c["default"].createElement("span",{className:"material-icon"},"info_outline")),c["default"].createElement("div",{className:"message-body"},c["default"].createElement("p",{className:"lead"},gettext("You can't move threads because there are no categories you are allowed to move them to.")),c["default"].createElement("p",null,gettext("You need permission to start threads in category to be able to merge threads to it.")),c["default"].createElement("button",{className:"btn btn-default","data-dismiss":"modal",type:"button"},gettext("Ok"))))}},{key:"getClassName",value:function(){return this.state.category?"modal-dialog":"modal-dialog modal-message"}},{key:"render",value:function(){return c["default"].createElement("div",{className:this.getClassName(),role:"document"},c["default"].createElement("div",{className:"modal-content"},c["default"].createElement("div",{className:"modal-header"},c["default"].createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":gettext("Close")},c["default"].createElement("span",{"aria-hidden":"true"},"×")),c["default"].createElement("h4",{className:"modal-title"},gettext("Merge threads"))),this.state.category?this.renderForm():this.renderCantMergeMessage()))}}]),t}(m["default"]);a["default"]=H},{"../../../index":302,"../../../reducers/selection":358,"../../../reducers/threads":361,"../../../services/ajax":365,"../../../services/modal":371,"../../../services/snackbar":376,"../../../services/store":377,"../../../utils/validators":393,"../../button":8,"../../category-select":21,"../../form":56,"../../form-group":55,"../../merge-conflict":59,"../../select":210,"./errors-list":262,react:"react"}],264:[function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=e("react"),c=r(u),d=e("../../form"),f=r(d),p=e("../../form-group"),m=r(p),h=e("../../category-select"),b=r(h),v=e("../../../reducers/selection"),_=n(v),g=e("../../../reducers/threads"),y=e("../../../services/modal"),E=r(y),w=e("../../../services/store"),O=r(w),k=function(e){function t(e){o(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.handleSubmit=function(e){e.preventDefault(),E["default"].hide();var t=function(){O["default"].dispatch((0,g.filterThreads)(a.props.route.category,a.props.categoriesMap));var e=O["default"].getState(),t=e.threads.map(function(e){return e.id});O["default"].dispatch(_.all(e.selection.filter(function(e){return t.indexOf(e)!==-1})))};a.props.callApi([{op:"replace",path:"category",value:a.state.category},{op:"replace",path:"flatten-categories",value:null},{op:"add",path:"acl",value:!0}],gettext("Selected threads were moved."),t)},a.state={category:null};var n={};for(var r in e.user.acl.categories)if(e.user.acl.categories.hasOwnProperty(r)){var s=e.user.acl.categories[r];n[s.id]=s}return a.categoryChoices=[],e.categories.forEach(function(e){if(e.level>0){var t=n[e.id],r=!t.can_start_threads||e.is_closed&&!t.can_close_threads;a.categoryChoices.push({value:e.id,disabled:r,level:e.level-1,label:e.name}),r||a.state.category||(a.state.category=e.id)}}),a}return s(t,e),i(t,[{key:"getClassName",value:function(){return this.state.category?"modal-dialog":"modal-dialog modal-message"}},{key:"renderForm",value:function(){return c["default"].createElement("form",{onSubmit:this.handleSubmit},c["default"].createElement("div",{className:"modal-body"},c["default"].createElement(m["default"],{label:gettext("New category"),"for":"id_new_category"},c["default"].createElement(b["default"],{id:"id_new_category",onChange:this.bindInput("category"),value:this.state.category,choices:this.categoryChoices}))),c["default"].createElement("div",{className:"modal-footer"},c["default"].createElement("button",{className:"btn btn-default","data-dismiss":"modal",disabled:this.state.isLoading,type:"button"},gettext("Cancel")),c["default"].createElement("button",{className:"btn btn-primary"},gettext("Move threads"))))}},{key:"renderCantMoveMessage",value:function(){return c["default"].createElement("div",{className:"modal-body"},c["default"].createElement("div",{className:"message-icon"},c["default"].createElement("span",{className:"material-icon"},"info_outline")),c["default"].createElement("div",{className:"message-body"},c["default"].createElement("p",{className:"lead"},gettext("You can't move threads because there are no categories you are allowed to move them to.")),c["default"].createElement("p",null,gettext("You need permission to start threads in category to be able to move threads to it.")),c["default"].createElement("button",{className:"btn btn-default","data-dismiss":"modal",type:"button"},gettext("Ok"))))}},{key:"render",value:function(){return c["default"].createElement("div",{className:this.getClassName(),role:"document"},c["default"].createElement("div",{className:"modal-content"},c["default"].createElement("div",{className:"modal-header"},c["default"].createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":gettext("Close")},c["default"].createElement("span",{"aria-hidden":"true"},"×")),c["default"].createElement("h4",{className:"modal-title"},gettext("Move threads"))),this.state.category?this.renderForm():this.renderCantMoveMessage()))}}]),t}(f["default"]);a["default"]=k},{"../../../reducers/selection":358,"../../../reducers/threads":361,"../../../services/modal":371,"../../../services/store":377,"../../category-select":21,"../../form":56,"../../form-group":55,react:"react"}],265:[function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=e("react"),c=r(u),d=e("../../../reducers/selection"),f=n(d),p=e("../../../services/store"),m=r(p),h=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.selectAll=function(){m["default"].dispatch(f.all(n.props.threads.map(function(e){return e.id})))},n.selectNone=function(){m["default"].dispatch(f.none())},r=a,l(n,r)}return s(t,e),i(t,[{key:"render",value:function(){return c["default"].createElement("ul",{className:this.props.className},c["default"].createElement("li",null,c["default"].createElement("button",{className:"btn btn-link",type:"button",onClick:this.selectAll},c["default"].createElement("span",{className:"material-icon"},"check_box"),gettext("Select all"))),c["default"].createElement("li",null,c["default"].createElement("button",{className:"btn btn-link",type:"button",onClick:this.selectNone},c["default"].createElement("span",{className:"material-icon"},"check_box_outline_blank"),gettext("Select none"))))}}]),t}(c["default"].Component);a["default"]=h},{"../../../reducers/selection":358,"../../../services/store":377,react:"react"}],266:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.baseUrl,a=e.list,n=e.lists;return n.length<2?null:o["default"].createElement("div",{className:"page-tabs"},o["default"].createElement("div",{className:"container"},o["default"].createElement("ul",{className:"nav nav-pills"},n.map(function(e){return o["default"].createElement(i["default"],{isControlled:!0,isActive:e.path===a.path,key:t+e.path},o["default"].createElement(l.Link,{to:t+e.path},e.name))}))))};var r=e("react"),o=n(r),l=e("react-router"),s=e("../li"),i=n(s)},{"../li":57,react:"react","react-router":"react-router"}],267:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){return function(t){return{options:e,selection:t.selection,threads:t.threads,tick:t.tick.tick,user:t.auth.user}}}function o(e){var t=[{type:"all",path:"",name:gettext("All"),longName:gettext("All threads")}];return e.id&&(t.push({type:"my",path:"my/",name:gettext("My"),longName:gettext("My threads")}),t.push({type:"new",path:"new/",name:gettext("New"),longName:gettext("New threads")}),t.push({type:"unread",path:"unread/",name:gettext("Unread"),longName:gettext("Unread threads")}),t.push({type:"subscribed",path:"subscribed/",name:gettext("Subscribed"),longName:gettext("Subscribed threads")}),e.acl.can_see_unapproved_content_lists&&t.push({type:"unapproved",path:"unapproved/",name:gettext("Unapproved"),longName:gettext("Unapproved content")})),t}function l(e,t){var a=o(e),n=[],l={};return d["default"].get("CATEGORIES").forEach(function(e){a.forEach(function(o){l[e.id]=e,n.push({path:e.url.index+o.path,component:(0,s.connect)(r(t))(u["default"]),categories:d["default"].get("CATEGORIES"),categoriesMap:l,category:e,lists:a,list:o})})}),n}Object.defineProperty(a,"__esModule",{value:!0}),a.getSelect=r,a.getLists=o,a.paths=l;var s=e("react-redux"),i=e("./route"),u=n(i),c=e("../../index"),d=n(c)},{"../../index":302,"./route":268,"react-redux":"react-redux"}],268:[function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return!(e.route.category.level||!P["default"].get("THREADS_ON_INDEX"))&&!e.options.title}Object.defineProperty(a,"__esModule",{value:!0});var u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=e("react"),d=r(c),f=e("../button"),p=r(f),m=e("./compare"),h=e("./container"),b=r(h),v=e("./header"),_=r(v),g=e("./utils"),y=e("../threads-list"),E=r(y),w=e("./list-empty"),O=r(w),k=e("../with-dropdown"),N=r(k),x=e("../../index"),P=r(x),j=e("../../reducers/selection"),C=n(j),S=e("../../reducers/threads"),M=e("../../services/ajax"),T=r(M),L=e("../../services/polls"),A=r(L),R=e("../../services/snackbar"),I=r(R),D=e("../../services/store"),U=r(D),B=e("../../services/page-title"),H=r(B),z=e("../../utils/sets"),F=n(z),q=function(e){function t(e){o(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.loadMore=function(){a.setState({isBusy:!0}),a.loadThreads(a.getCategory(),a.state.next)},a.pollResponse=function(e){a.setState({diff:Object.assign({},e,{results:(0,g.diffThreads)(a.props.threads,e.results)})})},a.addThreads=function(e){U["default"].dispatch((0,S.append)(e,a.getSorting()))},a.applyDiff=function(){a.addThreads(a.state.diff.results),a.setState(Object.assign({},a.state.diff,{moderation:(0,g.getModerationActions)(U["default"].getState().threads),diff:{results:[]}}))},a.freezeThread=function(e){a.setState(function(t){return{busyThreads:F.toggle(t.busyThreads,e)}})},a.updateThread=function(e){U["default"].dispatch((0,S.patch)(e,e,a.getSorting()))},a.deleteThread=function(e){U["default"].dispatch((0,S.deleteThread)(e))},a.state={isMounted:!0,isLoaded:!1,isBusy:!1,diff:{results:[]},moderation:[],busyThreads:[],dropdown:!1,subcategories:[],next:0};var n=a.getCategory();return P["default"].has("THREADS")?a.initWithPreloadedData(n,P["default"].get("THREADS")):a.initWithoutPreloadedData(n),a}return s(t,e),u(t,[{key:"getCategory",value:function(){return this.props.route.category.special_role?null:this.props.route.category.id}},{key:"initWithPreloadedData",value:function(e,t){this.state=Object.assign(this.state,{moderation:(0,g.getModerationActions)(t.results),subcategories:t.subcategories,next:t.next}),this.startPolling(e)}},{key:"initWithoutPreloadedData",value:function(e){this.loadThreads(e)}},{key:"loadThreads",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;T["default"].get(this.props.options.api,{category:e,list:this.props.route.list.type,start:a||0},"threads").then(function(n){t.state.isMounted&&(0===a?U["default"].dispatch((0,S.hydrate)(n.results)):U["default"].dispatch((0,S.append)(n.results,t.getSorting())),t.setState({isLoaded:!0,isBusy:!1,moderation:(0,g.getModerationActions)(U["default"].getState().threads),subcategories:n.subcategories,next:n.next}),t.startPolling(e))},function(e){I["default"].apiError(e)})}},{key:"startPolling",value:function(e){A["default"].start({poll:"threads",url:this.props.options.api,data:{category:e,list:this.props.route.list.type},frequency:12e4,update:this.pollResponse})}},{key:"componentDidMount",value:function(){this.setPageTitle(),P["default"].has("THREADS")&&(U["default"].dispatch((0,S.hydrate)(P["default"].pop("THREADS").results)),this.setState({isLoaded:!0})),U["default"].dispatch(C.none())}},{key:"componentWillUnmount",value:function(){this.state.isMounted=!1,A["default"].stop("threads")}},{key:"getTitle",value:function(){return this.props.options.title?this.props.options.title:(0,g.getTitle)(this.props.route)}},{key:"setPageTitle",value:function(){this.props.route.category.level||!P["default"].get("THREADS_ON_INDEX")?H["default"].set((0,g.getPageTitle)(this.props.route)):this.props.options.title?H["default"].set(this.props.options.title):P["default"].get("SETTINGS").index_title?document.title=P["default"].get("SETTINGS").index_title:document.title=P["default"].get("SETTINGS").forum_name}},{key:"getSorting",value:function(){return this.props.route.category.level?m.compareWeight:m.compareGlobalWeight}},{key:"getMoreButton",value:function(){return this.state.next?d["default"].createElement("div",{className:"pager-more"},d["default"].createElement(p["default"],{className:"btn btn-default btn-outline",loading:this.state.isBusy||this.state.busyThreads.length,onClick:this.loadMore},gettext("Show more"))):null}},{key:"getClassName",value:function(){var e="page page-threads";return e+=" page-threads-"+this.props.route.list.type,i(this.props)&&(e+=" page-threads-index"),this.props.route.category.css_class&&(e+=" page-threads-"+this.props.route.category.css_class),e}},{key:"render",value:function(){return d["default"].createElement("div",{className:this.getClassName()},d["default"].createElement(_["default"],{categories:this.props.route.categoriesMap,disabled:!this.state.isLoaded,startThread:this.props.options.startThread,threads:this.props.threads,title:this.getTitle(),toggleNav:this.toggleNav,route:this.props.route,user:this.props.user}),d["default"].createElement(b["default"],{api:this.props.options.api,route:this.props.route,subcategories:this.state.subcategories,user:this.props.user,pageLead:this.props.options.pageLead,threads:this.props.threads,threadsCount:this.state.count,moderation:this.state.moderation,selection:this.props.selection,busyThreads:this.state.busyThreads,addThreads:this.addThreads,freezeThread:this.freezeThread,deleteThread:this.deleteThread,updateThread:this.updateThread,isLoaded:this.state.isLoaded,isBusy:this.state.isBusy},d["default"].createElement(E["default"],{category:this.props.route.category,categories:this.props.route.categoriesMap,list:this.props.route.list,selection:this.props.selection,threads:this.props.threads,diffSize:this.state.diff.results.length,applyDiff:this.applyDiff,showOptions:!!this.props.user.id,isLoaded:this.state.isLoaded,busyThreads:this.state.busyThreads},d["default"].createElement(O["default"],{category:this.props.route.category,emptyMessage:this.props.options.emptyMessage,list:this.props.route.list})),this.getMoreButton()))}}]),t}(N["default"]);a["default"]=q},{"../../index":302,"../../reducers/selection":358,"../../reducers/threads":361,"../../services/ajax":365,"../../services/page-title":373,"../../services/polls":374,"../../services/snackbar":376,"../../services/store":377,"../../utils/sets":391,"../button":8,"../threads-list":238,"../with-dropdown":299,"./compare":257,"./container":258,"./header":259,"./list-empty":260,"./utils":270,react:"react"}],269:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=e("./category-picker"),d=n(c),f=e("./moderation/controls"),p=n(f),m=e("./moderation/selection"),h=n(m),b=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"getCategoryPicker",value:function(){return this.props.subcategories.length?u["default"].createElement(d["default"],{categories:this.props.categoriesMap,choices:this.props.subcategories,list:this.props.list}):null}},{key:"showModerationOptions",value:function(){return this.props.user.id&&this.props.moderation.allow}},{key:"getSelectedThreads",value:function(){var e=this;return this.props.threads.filter(function(t){return e.props.selection.indexOf(t.id)>=0})}},{key:"getModerationButton",value:function(){return this.showModerationOptions()?u["default"].createElement("div",{className:"col-xs-6 col-sm-3 col-md-2"},u["default"].createElement("div",{className:"btn-group btn-group-justified"},u["default"].createElement("div",{className:"btn-group dropdown"},u["default"].createElement("button",{type:"button",className:"btn btn-default btn-outline dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:this.props.disabled||!this.props.selection.length},u["default"].createElement("span",{className:"material-icon"},"settings"),gettext("Options")),u["default"].createElement(p["default"],{addThreads:this.props.addThreads,api:this.props.api,categories:this.props.categories,categoriesMap:this.props.categoriesMap,className:"dropdown-menu dropdown-menu-right stick-to-bottom",deleteThread:this.props.deleteThread,freezeThread:this.props.freezeThread,moderation:this.props.moderation,route:this.props.route,threads:this.getSelectedThreads(),updateThread:this.props.updateThread,user:this.props.user})))):null}},{key:"getSelectionButton",value:function(){return this.showModerationOptions()?u["default"].createElement("div",{className:"col-xs-3 col-sm-2 col-md-1"},u["default"].createElement("div",{className:"btn-group btn-group-justified"},u["default"].createElement("div",{className:"btn-group dropdown"},u["default"].createElement("button",{type:"button",className:"btn btn-default btn-outline btn-icon dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:this.props.disabled},u["default"].createElement("span",{className:"material-icon"},"select_all")),u["default"].createElement(h["default"],{className:"dropdown-menu dropdown-menu-right stick-to-bottom",threads:this.props.threads})))):null}},{key:"render",value:function(){return u["default"].createElement("div",{className:"row row-toolbar row-toolbar-bottom-margin"},u["default"].createElement("div",{className:"col-xs-3 col-sm-3 col-md-2 dropdown"},this.getCategoryPicker()),u["default"].createElement("div",{className:"hidden-xs col-sm-4 col-md-7"}),this.getModerationButton(),this.getSelectionButton())}}]),t}(u["default"].Component);a["default"]=b},{"./category-picker":256,"./moderation/controls":261,"./moderation/selection":265,react:"react"}],270:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){return e.category.level?e.list.path?{title:e.list.longName,parent:e.category.name}:{title:e.category.name}:c["default"].get("THREADS_ON_INDEX")?e.list.path?{title:e.list.longName}:null:e.list.path?{title:e.list.longName,parent:gettext("Threads")}:{title:gettext("Threads")}}function o(e){return e.category.level?e.category.name:c["default"].get("THREADS_ON_INDEX")?c["default"].get("SETTINGS").index_header?c["default"].get("SETTINGS").index_header:c["default"].get("SETTINGS").forum_name:gettext("Threads")}function l(e,t){return[e.title===t.title,e.weight===t.weight,e.category===t.category,e.last_post===t.last_post,e.last_poster_name===t.last_poster_name].indexOf(!1)>=0}function s(e,t){var a={};return e.forEach(function(e){a[e.id]=e}),t.filter(function(e){return!a[e.id]||l(a[e.id],e)})}function i(e){var t={allow:!1,can_approve:0,can_close:0,can_delete:0,can_hide:0,can_merge:0,can_move:0,can_pin:0,can_pin_globally:0,can_unhide:0};return e.forEach(function(e){e.is_unapproved&&e.acl.can_approve>t.can_approve&&(t.can_approve=e.acl.can_approve),e.acl.can_close>t.can_close&&(t.can_close=e.acl.can_close),e.acl.can_delete>t.can_delete&&(t.can_delete=e.acl.can_delete),e.acl.can_hide>t.can_hide&&(t.can_hide=e.acl.can_hide),e.acl.can_merge>t.can_merge&&(t.can_merge=e.acl.can_merge),e.acl.can_move>t.can_move&&(t.can_move=e.acl.can_move),e.acl.can_pin>t.can_pin&&(t.can_pin=e.acl.can_pin),e.acl.can_pin_globally>t.can_pin_globally&&(t.can_pin_globally=e.acl.can_pin_globally),e.is_hidden&&e.acl.can_unhide>t.can_unhide&&(t.can_unhide=e.acl.can_unhide),t.allow=t.can_approve||t.can_close||t.can_delete||t.can_hide||t.can_merge||t.can_move||t.can_pin||t.can_pin_globally||t.can_unhide}),t}Object.defineProperty(a,"__esModule",{value:!0}),a.getPageTitle=r,a.getTitle=o,a.isThreadChanged=l,a.diffThreads=s,a.getModerationActions=i;var u=e("../../index"),c=n(u)},{"../../index":302}],271:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0}),a.CompactGuestNav=a.GuestNav=a.GuestMenu=void 0;var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=e("../avatar"),d=n(c),f=e("../navbar-search"),p=n(f),m=e("../register-button"),h=n(m),b=e("../sign-in.js"),v=n(b),_=e("../.."),g=n(_),y=e("../../services/mobile-navbar-dropdown"),E=n(y),w=e("../../services/modal"),O=n(w),k=a.GuestMenu=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"showSignInModal",value:function(){O["default"].show(v["default"])}},{key:"render",value:function(){return u["default"].createElement("ul",{className:"dropdown-menu user-dropdown dropdown-menu-right",role:"menu"},u["default"].createElement("li",{className:"guest-preview"},u["default"].createElement("h4",null,gettext("You are browsing as guest.")),u["default"].createElement("p",null,gettext("Sign in or register to start and participate in discussions.")),u["default"].createElement("div",{className:"row"},g["default"].get("SETTINGS").enable_sso?u["default"].createElement("div",{className:"col-xs-12"},u["default"].createElement("a",{className:"btn btn-primary btn-register btn-block",href:g["default"].get("SETTINGS").SSO_LOGIN_URL},gettext("Sign in"))):u["default"].createElement("div",{className:"col-xs-6"},u["default"].createElement("button",{className:"btn btn-default btn-sign-in btn-block",onClick:this.showSignInModal,type:"button"},gettext("Sign in"))),!g["default"].get("SETTINGS").enable_sso&&u["default"].createElement("div",{className:"col-xs-6"},u["default"].createElement(h["default"],{className:"btn-primary btn-register btn-block"},gettext("Register"))))))}}]),t}(u["default"].Component);a.GuestNav=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"render",value:function(){return u["default"].createElement("div",{className:"nav nav-guest"},g["default"].get("SETTINGS").enable_sso?u["default"].createElement("a",{className:"btn navbar-btn btn-primary btn-register",href:g["default"].get("SETTINGS").SSO_LOGIN_URL},gettext("Sign in")):u["default"].createElement("button",{className:"btn navbar-btn btn-default btn-sign-in",onClick:this.showSignInModal,type:"button"},gettext("Sign in")),!g["default"].get("SETTINGS").enable_sso&&u["default"].createElement(h["default"],{className:"navbar-btn btn-primary btn-register"},gettext("Register")),u["default"].createElement("div",{className:"navbar-left"},u["default"].createElement(p["default"],null)))}}]),t}(k),a.CompactGuestNav=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"showGuestMenu",value:function(){E["default"].show(k)}},{key:"render",value:function(){return u["default"].createElement("button",{type:"button",onClick:this.showGuestMenu},u["default"].createElement(d["default"],{size:"64"}))}}]),t}(u["default"].Component)},{"../..":302,"../../services/mobile-navbar-dropdown":370,"../../services/modal":371,"../avatar":6,"../navbar-search":77,"../register-button":198,"../sign-in.js":211,react:"react"}],272:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return e.auth}Object.defineProperty(a,"__esModule",{value:!0}),a.CompactUserMenu=a.UserMenu=void 0;var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a.select=s;var u=e("react"),c=n(u),d=e("./guest-nav"),f=e("./user-nav");a.UserMenu=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:"render",value:function(){return this.props.isAuthenticated?c["default"].createElement(f.UserNav,{user:this.props.user}):c["default"].createElement(d.GuestNav,null)}}]),t}(c["default"].Component),a.CompactUserMenu=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:"render",value:function(){return this.props.isAuthenticated?c["default"].createElement(f.CompactUserNav,{user:this.props.user}):c["default"].createElement(d.CompactGuestNav,null)}}]),t}(c["default"].Component)},{"./guest-nav":271,"./user-nav":273,react:"react"}],273:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.user;return t.unread_private_threads?p["default"].createElement("span",{className:"badge"},t.unread_private_threads):null}function i(e){var t=e.user;return p["default"].createElement("ul",{className:"ul nav navbar-nav nav-user"},p["default"].createElement("li",null,p["default"].createElement(y["default"],null)),p["default"].createElement(u,{user:t}),p["default"].createElement("li",{className:"dropdown"},p["default"].createElement("a",{"aria-haspopup":"true","aria-expanded":"false",className:"dropdown-toggle","data-toggle":"dropdown",href:t.url,role:"button"},p["default"].createElement(b["default"],{user:t,size:"64"})),p["default"].createElement(P,{
user:t})))}function u(e){var t=e.user;if(!t.acl.can_use_private_threads)return null;var a=null;return a=t.unread_private_threads?gettext("You have unread private threads!"):gettext("Private threads"),p["default"].createElement("li",null,p["default"].createElement("a",{className:"navbar-icon",href:w["default"].get("PRIVATE_THREADS_URL"),title:a},p["default"].createElement("span",{className:"material-icon"},"message"),t.unread_private_threads>0&&p["default"].createElement("span",{className:"badge"},t.unread_private_threads)))}function c(e){return{user:e.auth.user}}Object.defineProperty(a,"__esModule",{value:!0}),a.CompactUserNav=a.UserMenu=void 0;var d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a.PrivateThreadsBadge=s,a.UserNav=i,a.UserPrivateThreadsLink=u,a.selectUserMenu=c;var f=e("react"),p=n(f),m=e("react-redux"),h=e("../avatar"),b=n(h),v=e("../change-avatar/root"),_=n(v),g=e("../navbar-search"),y=n(g),E=e("../.."),w=n(E),O=e("../../services/mobile-navbar-dropdown"),k=n(O),N=e("../../services/modal"),x=n(N),P=a.UserMenu=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),d(t,[{key:"logout",value:function(){var e=confirm(gettext("Are you sure you want to sign out?"));e&&$("#hidden-logout-form").submit()}},{key:"changeAvatar",value:function(){x["default"].show((0,m.connect)(v.select)(_["default"]))}},{key:"render",value:function(){var e=this.props.user;return p["default"].createElement("ul",{className:"dropdown-menu user-dropdown dropdown-menu-right",role:"menu"},p["default"].createElement("li",{className:"dropdown-header"},p["default"].createElement("strong",null,e.username),p["default"].createElement("div",{className:"row user-stats"},p["default"].createElement("div",{className:"col-sm-3"},p["default"].createElement("span",{className:"material-icon"},"message"),e.posts),p["default"].createElement("div",{className:"col-sm-3"},p["default"].createElement("span",{className:"material-icon"},"forum"),e.threads),p["default"].createElement("div",{className:"col-sm-3"},p["default"].createElement("span",{className:"material-icon"},"favorite"),e.followers),p["default"].createElement("div",{className:"col-sm-3"},p["default"].createElement("span",{className:"material-icon"},"favorite_outline"),e.following))),p["default"].createElement("li",{className:"divider"}),p["default"].createElement("li",null,p["default"].createElement("a",{href:e.url},p["default"].createElement("span",{className:"material-icon"},"account_circle"),gettext("See your profile"))),p["default"].createElement("li",null,p["default"].createElement("a",{href:w["default"].get("USERCP_URL")},p["default"].createElement("span",{className:"material-icon"},"done_all"),gettext("Change options"))),p["default"].createElement("li",null,p["default"].createElement("button",{className:"btn-link",onClick:this.changeAvatar,type:"button"},p["default"].createElement("span",{className:"material-icon"},"portrait"),gettext("Change avatar"))),!!e.acl.can_use_private_threads&&p["default"].createElement("li",null,p["default"].createElement("a",{href:w["default"].get("PRIVATE_THREADS_URL")},p["default"].createElement("span",{className:"material-icon"},"message"),gettext("Private threads"),p["default"].createElement(s,{user:e}))),p["default"].createElement("li",{className:"divider"}),p["default"].createElement("li",{className:"dropdown-buttons"},p["default"].createElement("button",{className:"btn btn-default btn-block",onClick:this.logout,type:"button"},gettext("Log out"))))}}]),t}(p["default"].Component);a.CompactUserNav=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),d(t,[{key:"showUserMenu",value:function(){k["default"].showConnected("user-menu",(0,m.connect)(c)(P))}},{key:"render",value:function(){return p["default"].createElement("button",{type:"button",onClick:this.showUserMenu},p["default"].createElement(b["default"],{user:this.props.user,size:"50"}))}}]),t}(p["default"].Component)},{"../..":302,"../../services/mobile-navbar-dropdown":370,"../../services/modal":371,"../avatar":6,"../change-avatar/root":25,"../navbar-search":77,react:"react","react-redux":"react-redux"}],274:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t="";return e.is_banned?t="banned":e.is_hidden?t="offline":e.is_online_hidden?t="online":e.is_offline_hidden?t="offline":e.is_online?t="online":e.is_offline&&(t="offline"),"user-status user-"+t}function i(e,t){return t.is_banned?t.banned_until?interpolate(gettext("%(username)s is banned until %(ban_expires)s"),{username:e.username,ban_expires:t.banned_until.format("LL, LT")},!0):interpolate(gettext("%(username)s is banned"),{username:e.username},!0):t.is_hidden?interpolate(gettext("%(username)s is hiding presence"),{username:e.username},!0):t.is_online_hidden?interpolate(gettext("%(username)s is online (hidden)"),{username:e.username},!0):t.is_offline_hidden?interpolate(gettext("%(username)s was last seen %(last_click)s (hidden)"),{username:e.username,last_click:t.last_click.fromNow()},!0):t.is_online?interpolate(gettext("%(username)s is online"),{username:e.username},!0):t.is_offline?interpolate(gettext("%(username)s was last seen %(last_click)s"),{username:e.username,last_click:t.last_click.fromNow()},!0):void 0}Object.defineProperty(a,"__esModule",{value:!0}),a.StatusLabel=a.StatusIcon=void 0;var u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a.getStatusClassName=s,a.getStatusDescription=i;var c=e("react"),d=n(c),f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),u(t,[{key:"getClass",value:function(){return s(this.props.status)}},{key:"render",value:function(){return d["default"].createElement("span",{className:this.getClass()},this.props.children)}}]),t}(d["default"].Component);a["default"]=f;a.StatusIcon=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),u(t,[{key:"getIcon",value:function(){return this.props.status.is_banned?"remove_circle_outline":this.props.status.is_hidden?"help_outline":this.props.status.is_online_hidden?"label":this.props.status.is_offline_hidden?"label_outline":this.props.status.is_online?"lens":this.props.status.is_offline?"panorama_fish_eye":void 0}},{key:"render",value:function(){return d["default"].createElement("span",{className:"material-icon status-icon"},this.getIcon())}}]),t}(d["default"].Component),a.StatusLabel=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),u(t,[{key:"getHelp",value:function(){return i(this.props.user,this.props.status)}},{key:"getLabel",value:function(){return this.props.status.is_banned?gettext("Banned"):this.props.status.is_hidden?gettext("Hidden"):this.props.status.is_online_hidden?gettext("Online (hidden)"):this.props.status.is_offline_hidden?gettext("Offline (hidden)"):this.props.status.is_online?gettext("Online"):this.props.status.is_offline?gettext("Offline"):void 0}},{key:"render",value:function(){return d["default"].createElement("span",{className:this.props.className||"status-label",title:this.getHelp()},this.getLabel())}}]),t}(d["default"].Component)},{react:"react"}],275:[function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=e("react"),c=r(u),d=e("../avatar"),f=r(d),p=e("../../utils/random"),m=n(p),h=function(e){function t(){return o(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),i(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"getClassName",value:function(){return this.props.hiddenOnMobile?"list-group-item hidden-xs hidden-sm":"list-group-item"}},{key:"render",value:function(){return c["default"].createElement("li",{className:this.getClassName()},c["default"].createElement("div",{className:"change-avatar"},c["default"].createElement("span",{className:"user-avatar"},c["default"].createElement(f["default"],{size:"100"}))),c["default"].createElement("div",{className:"change-author"},c["default"].createElement("span",{className:"ui-preview-text",style:{width:m["int"](30,100)+"px"}}," ")),c["default"].createElement("div",{className:"change"},c["default"].createElement("span",{className:"ui-preview-text",style:{width:m["int"](30,70)+"px"}}," "),c["default"].createElement("span",{className:"material-icon"},"arrow_forward"),c["default"].createElement("span",{className:"ui-preview-text",style:{width:m["int"](30,70)+"px"}}," ")),c["default"].createElement("div",{className:"change-date"},c["default"].createElement("span",{className:"ui-preview-text",style:{width:m["int"](80,140)+"px"}}," ")))}}]),t}(c["default"].Component);a["default"]=h},{"../../utils/random":388,"../avatar":6,react:"react"}],276:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=e("../avatar"),d=n(c),f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"renderUserAvatar",value:function(){return this.props.change.changed_by?u["default"].createElement("a",{href:this.props.change.changed_by.url,className:"user-avatar-wrapper"},u["default"].createElement(d["default"],{user:this.props.change.changed_by,size:"100"})):u["default"].createElement("span",{className:"user-avatar-wrapper"},u["default"].createElement(d["default"],{size:"100"}))}},{key:"renderUsername",value:function(){return this.props.change.changed_by?u["default"].createElement("a",{href:this.props.change.changed_by.url,className:"item-title"},this.props.change.changed_by.username):u["default"].createElement("span",{className:"item-title"},this.props.change.changed_by_username)}},{key:"render",value:function(){return u["default"].createElement("li",{className:"list-group-item",key:this.props.change.id},u["default"].createElement("div",{className:"change-avatar"},this.renderUserAvatar()),u["default"].createElement("div",{className:"change-author"},this.renderUsername()),u["default"].createElement("div",{className:"change"},u["default"].createElement("span",{className:"old-username"},this.props.change.old_username),u["default"].createElement("span",{className:"material-icon"},"arrow_forward"),u["default"].createElement("span",{className:"new-username"},this.props.change.new_username)),u["default"].createElement("div",{className:"change-date"},u["default"].createElement("abbr",{title:this.props.change.changed_on.format("LLL")},this.props.change.changed_on.fromNow())))}}]),t}(u["default"].Component);a["default"]=f},{"../avatar":6,react:"react"}],277:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"getEmptyMessage",value:function(){return this.props.emptyMessage?this.props.emptyMessage:gettext("No name changes have been recorded for your account.")}},{key:"render",value:function(){return u["default"].createElement("div",{className:"username-history ui-ready"},u["default"].createElement("ul",{className:"list-group"},u["default"].createElement("li",{className:"list-group-item empty-message"},this.getEmptyMessage())))}}]),t}(u["default"].Component);a["default"]=c},{react:"react"}],278:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=e("./change-preview"),d=n(c),f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return u["default"].createElement("div",{className:"username-history ui-preview"},u["default"].createElement("ul",{className:"list-group"},[0,1,2].map(function(e){return u["default"].createElement(d["default"],{hiddenOnMobile:e>0,key:e})})))}}]),t}(u["default"].Component);a["default"]=f},{"./change-preview":275,react:"react"}],279:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=e("./change"),d=n(c),f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"render",value:function(){return u["default"].createElement("div",{className:"username-history ui-ready"},u["default"].createElement("ul",{className:"list-group"},this.props.changes.map(function(e){return u["default"].createElement(d["default"],{change:e,key:e.id})})))}}]),t}(u["default"].Component);a["default"]=f},{"./change":276,react:"react"}],280:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=e("./list-empty"),d=n(c),f=e("./list-ready"),p=n(f),m=e("./list-preview"),h=n(m),b=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"render",value:function(){return this.props.isLoaded?this.props.changes.length?u["default"].createElement(p["default"],{changes:this.props.changes}):u["default"].createElement(d["default"],{emptyMessage:this.props.emptyMessage}):u["default"].createElement(h["default"],null)}}]),t}(u["default"].Component);a["default"]=b},{"./list-empty":277,"./list-preview":278,"./list-ready":279,react:"react"}],281:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.showStatus,a=e.user,n=a.rank,r="panel user-card";return n.css_class&&(r+=" user-card-"+n.css_class),o["default"].createElement("div",{className:r},o["default"].createElement("div",{className:"panel-body"},o["default"].createElement("div",{className:"row"},o["default"].createElement("div",{className:"col-xs-3 user-card-left"},o["default"].createElement("div",{className:"user-card-small-avatar"},o["default"].createElement("a",{href:a.url},o["default"].createElement(s["default"],{size:"50",size2x:"80",user:a})))),o["default"].createElement("div",{className:"col-xs-9 col-sm-12 user-card-body"},o["default"].createElement("div",{className:"user-card-avatar"},o["default"].createElement("a",{href:a.url},o["default"].createElement(s["default"],{size:"150",size2x:"200",user:a}))),o["default"].createElement("div",{className:"user-card-username"},o["default"].createElement("a",{href:a.url},a.username)),o["default"].createElement("div",{className:"user-card-title"},o["default"].createElement(d["default"],{rank:n,title:a.title})),o["default"].createElement("div",{className:"user-card-stats"},o["default"].createElement(u["default"],{showStatus:t,user:a}))))))};var r=e("react"),o=n(r),l=e("../../avatar"),s=n(l),i=e("./stats"),u=n(i),c=e("./user-title"),d=n(c)},{"../../avatar":6,"./stats":282,"./user-title":283,react:"react"}],282:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){var t=e.showStatus,a=e.user;return t?d["default"].createElement("li",{className:"user-stat-status"},d["default"].createElement(p["default"],{status:a.status},d["default"].createElement(f.StatusLabel,{status:a.status,user:a}))):null}function o(e){var t=e.user,a=t.joined_on,n=interpolate(gettext("Joined on %(joined_on)s"),{joined_on:a.format("LL, LT")},!0),r=interpolate(gettext("Joined %(joined_on)s"),{joined_on:a.fromNow()},!0);return d["default"].createElement("li",{className:"user-stat-join-date"},d["default"].createElement("abbr",{title:n},r))}function l(e){var t=e.user,a=u("user-stat-posts",t.posts),n=ngettext("%(posts)s post","%(posts)s posts",t.posts);return d["default"].createElement("li",{className:a},interpolate(n,{posts:t.posts},!0))}function s(e){var t=e.user,a=u("user-stat-threads",t.threads),n=ngettext("%(threads)s thread","%(threads)s threads",t.threads);return d["default"].createElement("li",{className:a},interpolate(n,{threads:t.threads},!0))}function i(e){var t=e.user,a=u("user-stat-followers",t.followers),n=ngettext("%(followers)s follower","%(followers)s followers",t.followers);return d["default"].createElement("li",{className:a},interpolate(n,{followers:t.followers},!0))}function u(e,t){return 0===t?e+" user-stat-empty":e}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.showStatus,a=e.user;return d["default"].createElement("ul",{className:"list-unstyled"},d["default"].createElement(r,{showStatus:t,user:a}),d["default"].createElement(o,{user:a}),d["default"].createElement("li",{className:"user-stat-divider"}),d["default"].createElement(l,{user:a}),d["default"].createElement(s,{user:a}),d["default"].createElement(i,{user:a}))},a.Status=r,a.JoinDate=o,a.Posts=l,a.Threads=s,a.Followers=i,a.getStatClassName=u;var c=e("react"),d=n(c),f=e("../../user-status"),p=n(f)},{"../../user-status":274,react:"react"}],283:[function(e,t,a){arguments[4][130][0].apply(a,arguments)},{dup:130,react:"react"}],284:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.cols,a=e.isReady,n=e.showStatus,r=e.users,l="col-xs-12 col-sm-4";return 4===t&&(l+=" col-md-3"),a?o["default"].createElement("div",{className:"users-cards-list ui-ready"},o["default"].createElement("div",{className:"row"},r.map(function(e){return o["default"].createElement("div",{className:l,key:e.id},o["default"].createElement(s["default"],{showStatus:n,user:e}))}))):o["default"].createElement(u["default"],{colClassName:l,cols:t})};var r=e("react"),o=n(r),l=e("./card"),s=n(l),i=e("./preview"),u=n(i)},{"./card":281,"./preview":286,react:"react"}],285:[function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=e("react"),c=r(u),d=e("../../avatar"),f=r(d),p=e("../../../utils/random"),m=n(p),h=function(e){function t(){return o(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),i(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return c["default"].createElement("div",{className:"panel user-card user-card-preview"},c["default"].createElement("div",{className:"panel-body"},c["default"].createElement("div",{className:"row"},c["default"].createElement("div",{className:"col-xs-3 user-card-left"},c["default"].createElement("div",{className:"user-card-small-avatar"},c["default"].createElement("span",null,c["default"].createElement(f["default"],{size:"50",size2x:"80"})))),c["default"].createElement("div",{className:"col-xs-9 col-sm-12 user-card-body"},c["default"].createElement("div",{className:"user-card-avatar"},c["default"].createElement("span",null,c["default"].createElement(f["default"],{size:"150",size2x:"200"}))),c["default"].createElement("div",{className:"user-card-username"},c["default"].createElement("span",{className:"ui-preview-text",style:{width:m["int"](60,150)+"px"}}," ")),c["default"].createElement("div",{className:"user-card-title"},c["default"].createElement("span",{className:"ui-preview-text",style:{width:m["int"](60,150)+"px"}}," ")),c["default"].createElement("div",{className:"user-card-stats"},c["default"].createElement("ul",{className:"list-unstyled"},c["default"].createElement("li",null,c["default"].createElement("span",{className:"ui-preview-text",style:{width:m["int"](30,70)+"px"}}," ")),c["default"].createElement("li",null,c["default"].createElement("span",{className:"ui-preview-text",style:{width:m["int"](30,70)+"px"}}," ")),c["default"].createElement("li",{className:"user-stat-divider"}),c["default"].createElement("li",null,c["default"].createElement("span",{className:"ui-preview-text",style:{width:m["int"](30,70)+"px"}}," ")),c["default"].createElement("li",null,c["default"].createElement("span",{className:"ui-preview-text",style:{width:m["int"](30,70)+"px"}}," "))))))))}}]),t}(c["default"].Component);a["default"]=h},{"../../../utils/random":388,"../../avatar":6,react:"react"}],286:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.colClassName,a=e.cols,n=Array.apply(null,{length:a}).map(Number.call,Number);return o["default"].createElement("div",{className:"users-cards-list ui-preview"},o["default"].createElement("div",{className:"row"},n.map(function(e){var a=t;return 0!==e&&(a+=" hidden-xs"),3===e&&(a+=" hidden-sm"),o["default"].createElement("div",{className:a,key:e},o["default"].createElement(s["default"],null))})))};var r=e("react"),o=n(r),l=e("./card"),s=n(l)},{"./card":285,react:"react"}],287:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"getEmptyMessage",value:function(){return interpolate(gettext("No users have posted any new messages during last %(days)s days."),{days:this.props.trackedPeriod},!0)}},{key:"render",value:function(){return u["default"].createElement("div",{className:"active-posters-list"},u["default"].createElement("div",{className:"container"},u["default"].createElement("p",{className:"lead"},this.getEmptyMessage())))}}]),t}(u["default"].Component);a["default"]=c},{react:"react"}],288:[function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=e("react"),c=r(u),d=e("../../avatar"),f=r(d),p=e("../../../utils/random"),m=n(p),h=function(e){function t(){return o(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),i(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"getClassName",value:function(){return this.props.hiddenOnMobile?"list-group-item hidden-xs hidden-sm":"list-group-item"}},{key:"render",value:function(){return c["default"].createElement("li",{className:this.getClassName()},c["default"].createElement("div",{className:"rank-user-avatar"},c["default"].createElement("span",null,c["default"].createElement(f["default"],{size:"50"}))),c["default"].createElement("div",{className:"rank-user"},c["default"].createElement("div",{className:"user-name"},c["default"].createElement("span",{className:"item-title"},c["default"].createElement("span",{className:"ui-preview-text",style:{width:m["int"](30,80)+"px"}}," "))),c["default"].createElement("div",{className:"user-details"},c["default"].createElement("span",{className:"user-status"},c["default"].createElement("span",{className:"status-icon ui-preview-text"}," "),c["default"].createElement("span",{className:"status-label ui-preview-text hidden-xs hidden-sm",
style:{width:m["int"](30,50)+"px"}}," ")),c["default"].createElement("span",{className:"rank-name"},c["default"].createElement("span",{className:"ui-preview-text",style:{width:m["int"](30,50)+"px"}}," ")),c["default"].createElement("span",{className:"user-title hidden-xs hidden-sm"},c["default"].createElement("span",{className:"ui-preview-text",style:{width:m["int"](30,50)+"px"}}," "))),c["default"].createElement("div",{className:"user-compact-stats visible-xs-block"},c["default"].createElement("span",{className:"rank-position"},c["default"].createElement("strong",null,c["default"].createElement("span",{className:"ui-preview-text",style:{width:m["int"](20,30)+"px"}}," ")),c["default"].createElement("small",null,gettext("Rank"))),c["default"].createElement("span",{className:"rank-posts-counted"},c["default"].createElement("strong",null,c["default"].createElement("span",{className:"ui-preview-text",style:{width:m["int"](20,30)+"px"}}," ")),c["default"].createElement("small",null,gettext("Ranked posts"))))),c["default"].createElement("div",{className:"rank-position hidden-xs"},c["default"].createElement("strong",null,c["default"].createElement("span",{className:"ui-preview-text",style:{width:m["int"](20,30)+"px"}}," ")),c["default"].createElement("small",null,gettext("Rank"))),c["default"].createElement("div",{className:"rank-posts-counted hidden-xs"},c["default"].createElement("strong",null,c["default"].createElement("span",{className:"ui-preview-text",style:{width:m["int"](20,30)+"px"}}," ")),c["default"].createElement("small",null,gettext("Ranked posts"))),c["default"].createElement("div",{className:"rank-posts-total hidden-xs"},c["default"].createElement("strong",null,c["default"].createElement("span",{className:"ui-preview-text",style:{width:m["int"](20,30)+"px"}}," ")),c["default"].createElement("small",null,gettext("Total posts"))))}}]),t}(c["default"].Component);a["default"]=h},{"../../../utils/random":388,"../../avatar":6,react:"react"}],289:[function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=e("react"),c=r(u),d=e("react-router"),f=e("../../avatar"),p=r(f),m=e("../../user-status"),h=r(m),b=e("../../../index"),v=r(b),_=e("../../../utils/random"),g=n(_),y=function(e){function t(){return o(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),i(t,[{key:"getClassName",value:function(){return this.props.rank.css_class?"list-group-item list-group-rank-"+this.props.rank.css_class:"list-group-item"}},{key:"getUserStatus",value:function(){return this.props.user.status?c["default"].createElement(h["default"],{user:this.props.user,status:this.props.user.status},c["default"].createElement(m.StatusIcon,{user:this.props.user,status:this.props.user.status}),c["default"].createElement(m.StatusLabel,{user:this.props.user,status:this.props.user.status,className:"status-label hidden-xs hidden-sm"})):c["default"].createElement("span",{className:"user-status"},c["default"].createElement("span",{className:"status-icon ui-preview-text"}," "),c["default"].createElement("span",{className:"status-label ui-preview-text hidden-xs hidden-sm",style:{width:g["int"](30,50)+"px"}}," "))}},{key:"getRankName",value:function(){if(!this.props.rank.is_tab)return c["default"].createElement("span",{className:"rank-name item-title"},this.props.rank.name);var e=v["default"].get("USERS_LIST_URL")+this.props.rank.slug+"/";return c["default"].createElement(d.Link,{to:e,className:"rank-name item-title"},this.props.rank.name)}},{key:"getUserTitle",value:function(){return this.props.user.title?c["default"].createElement("span",{className:"user-title hidden-xs hidden-sm"},this.props.user.title):null}},{key:"render",value:function(){return c["default"].createElement("li",{className:this.getClassName()},c["default"].createElement("div",{className:"rank-user-avatar"},c["default"].createElement("a",{href:this.props.user.url},c["default"].createElement(p["default"],{user:this.props.user,size:50,size2x:64}))),c["default"].createElement("div",{className:"rank-user"},c["default"].createElement("div",{className:"user-name"},c["default"].createElement("a",{href:this.props.user.url,className:"item-title"},this.props.user.username)),c["default"].createElement("div",{className:"user-details"},this.getUserStatus(),this.getRankName(),this.getUserTitle()),c["default"].createElement("div",{className:"user-compact-stats visible-xs-block"},c["default"].createElement("span",{className:"rank-position"},c["default"].createElement("strong",null,"#",this.props.counter),c["default"].createElement("small",null,gettext("Rank"))),c["default"].createElement("span",{className:"rank-posts-counted"},c["default"].createElement("strong",null,this.props.user.meta.score),c["default"].createElement("small",null,gettext("Ranked posts"))))),c["default"].createElement("div",{className:"rank-position hidden-xs"},c["default"].createElement("strong",null,"#",this.props.counter),c["default"].createElement("small",null,gettext("Rank"))),c["default"].createElement("div",{className:"rank-posts-counted hidden-xs"},c["default"].createElement("strong",null,this.props.user.meta.score),c["default"].createElement("small",null,gettext("Ranked posts"))),c["default"].createElement("div",{className:"rank-posts-total hidden-xs"},c["default"].createElement("strong",null,this.props.user.posts),c["default"].createElement("small",null,gettext("Total posts"))))}}]),t}(c["default"].Component);a["default"]=y},{"../../../index":302,"../../../utils/random":388,"../../avatar":6,"../../user-status":274,react:"react","react-router":"react-router"}],290:[function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=e("react"),c=r(u),d=e("./list-item-preview"),f=r(d),p=e("../../../utils/random"),m=n(p),h=function(e){function t(){return o(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),i(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return c["default"].createElement("div",{className:"active-posters-list"},c["default"].createElement("div",{className:"container"},c["default"].createElement("p",{className:"lead ui-preview"},c["default"].createElement("span",{className:"ui-preview-text",style:{width:m["int"](50,220)+"px"}}," ")),c["default"].createElement("div",{className:"active-posters ui-preview"},c["default"].createElement("ul",{className:"list-group"},[0,1,2].map(function(e){return c["default"].createElement(f["default"],{hiddenOnMobile:e>0,key:e})})))))}}]),t}(c["default"].Component);a["default"]=h},{"../../../utils/random":388,"./list-item-preview":288,react:"react"}],291:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=e("./list-item"),d=n(c),f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"getLeadMessage",value:function(){var e=ngettext("%(posters)s top poster from last %(days)s days.","%(posters)s top posters from last %(days)s days.",this.props.count);return interpolate(e,{posters:this.props.count,days:this.props.trackedPeriod},!0)}},{key:"render",value:function(){return u["default"].createElement("div",{className:"active-posters-list"},u["default"].createElement("div",{className:"container"},u["default"].createElement("p",{className:"lead"},this.getLeadMessage()),u["default"].createElement("div",{className:"active-posters ui-ready"},u["default"].createElement("ul",{className:"list-group"},this.props.users.map(function(e,t){return u["default"].createElement(d["default"],{user:e,rank:e.rank,counter:t+1,key:e.id})})))))}}]),t}(u["default"].Component);a["default"]=f},{"./list-item":289,react:"react"}],292:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=e("./list-empty"),d=n(c),f=e("./list-preview"),p=n(f),m=e("./list-ready"),h=n(m),b=e("../../../index"),v=n(b),_=e("../../../reducers/users"),g=e("../../../services/polls"),y=n(g),E=e("../../../services/store"),w=n(E),O=e("../../../services/page-title"),k=n(O),N=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.update=function(e){w["default"].dispatch((0,_.hydrate)(e.results)),a.setState({isLoaded:!0,trackedPeriod:e.tracked_period,count:e.count})},v["default"].has("USERS")?a.initWithPreloadedData(v["default"].pop("USERS")):a.initWithoutPreloadedData(),a.startPolling(),a}return l(t,e),s(t,[{key:"initWithPreloadedData",value:function(e){this.state={isLoaded:!0,trackedPeriod:e.tracked_period,count:e.count},w["default"].dispatch((0,_.hydrate)(e.results))}},{key:"initWithoutPreloadedData",value:function(){this.state={isLoaded:!1}}},{key:"startPolling",value:function(){y["default"].start({poll:"active-posters",url:v["default"].get("USERS_API"),data:{list:"active"},frequency:9e4,update:this.update})}},{key:"componentDidMount",value:function(){k["default"].set({title:this.props.route.extra.name,parent:gettext("Users")})}},{key:"componentWillUnmount",value:function(){y["default"].stop("active-posters")}},{key:"render",value:function(){return this.state.isLoaded?this.state.count>0?u["default"].createElement(h["default"],{users:this.props.users,trackedPeriod:this.state.trackedPeriod,count:this.state.count}):u["default"].createElement(d["default"],{trackedPeriod:this.state.trackedPeriod}):u["default"].createElement(p["default"],null)}}]),t}(u["default"].Component);a["default"]=N},{"../../../index":302,"../../../reducers/users":364,"../../../services/page-title":373,"../../../services/polls":374,"../../../services/store":377,"./list-empty":287,"./list-preview":290,"./list-ready":291,react:"react"}],293:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t=e.baseUrl,a=e.lists;return o["default"].createElement("ul",{className:"nav nav-pills"},a.map(function(e){var a=c(t,e);return o["default"].createElement(i["default"],{path:a,key:a},o["default"].createElement(l.Link,{to:a},e.name))}))};var r=e("react"),o=n(r),l=e("react-router"),s=e("../li"),i=n(s),u=e("../../index"),c=(n(u),function(e,t){var a=e;return a+="rank"===t.component?t.slug:t.component,a+"/"})},{"../../index":302,"../li":57,react:"react","react-router":"react-router"}],294:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=e("../../users-list"),d=n(c),f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return u["default"].createElement("div",null,u["default"].createElement(d["default"],{cols:4,isReady:!1}))}}]),t}(u["default"].Component);a["default"]=f},{"../../users-list":284,react:"react"}],295:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){return o["default"].createElement("div",null,o["default"].createElement(u["default"],{cols:4,isReady:!0,showStatus:!0,users:e.users}),o["default"].createElement(s["default"],e))};var r=e("react"),o=n(r),l=e("./pager"),s=n(l),i=e("../../users-list"),u=n(i)},{"../../users-list":284,"./pager":296,react:"react"}],296:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){return d["default"].createElement("div",{className:"row row-paginator"},d["default"].createElement("div",{className:"col-xs-3"},d["default"].createElement(o,e)),d["default"].createElement("div",{className:"col-xs-3"},d["default"].createElement(l,e)),d["default"].createElement("div",{className:"col-xs-3"},d["default"].createElement(s,e)),d["default"].createElement("div",{className:"col-xs-3"},d["default"].createElement(i,e)))}function o(e){return e.isLoaded&&e.first?d["default"].createElement(f.Link,{className:"btn btn-default btn-block btn-icon btn-outline",onClick:m["default"],to:e.baseUrl,title:gettext("Go to first page")},d["default"].createElement("span",{className:"material-icon"},"first_page")):d["default"].createElement("span",{className:"btn btn-default btn-block btn-icon btn-outline disabled",title:gettext("Go to first page")},d["default"].createElement("span",{className:"material-icon"},"first_page"))}function l(e){if(e.isLoaded&&e.page>1){var t="";return e.previous&&(t=e.previous+"/"),d["default"].createElement(f.Link,{className:"btn btn-default btn-block btn-icon btn-outline",onClick:m["default"],to:e.baseUrl+t,title:gettext("Go to previous page")},d["default"].createElement("span",{className:"material-icon"},"chevron_left"))}return d["default"].createElement("span",{className:"btn btn-default btn-block btn-icon btn-outline disabled",title:gettext("Go to previous page")},d["default"].createElement("span",{className:"material-icon"},"chevron_left"))}function s(e){if(e.isLoaded&&e.more){var t="";return e.next&&(t=e.next+"/"),d["default"].createElement(f.Link,{className:"btn btn-default btn-block btn-icon btn-outline",onClick:m["default"],to:e.baseUrl+t,title:gettext("Go to next page")},d["default"].createElement("span",{className:"material-icon"},"chevron_right"))}return d["default"].createElement("span",{className:"btn btn-default btn-block btn-icon btn-outline disabled",title:gettext("Go to next page")},d["default"].createElement("span",{className:"material-icon"},"chevron_right"))}function i(e){return e.isLoaded&&e.last?d["default"].createElement(f.Link,{className:"btn btn-default btn-block btn-icon btn-outline",onClick:m["default"],to:e.baseUrl+e.last+"/",title:gettext("Go to last page")},d["default"].createElement("span",{className:"material-icon"},"last_page")):d["default"].createElement("span",{className:"btn btn-default btn-block btn-icon btn-outline disabled",title:gettext("Go to last page")},d["default"].createElement("span",{className:"material-icon"},"last_page"))}function u(e){var t=null;return e.more?(t=ngettext("There is %(more)s more member with this role.","There are %(more)s more members with this role.",e.more),t=interpolate(t,{more:e.more},!0)):t=gettext("There are no more members with this role."),d["default"].createElement("p",null,t)}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){return 1===e.pages?null:d["default"].createElement("div",{className:"row row-toolbar"},d["default"].createElement("div",{className:"col-xs-12 text-center visible-xs-block"},d["default"].createElement(u,{more:e.more}),d["default"].createElement("div",{className:"toolbar-vertical-spacer"})),d["default"].createElement("div",{className:"col-md-7"},d["default"].createElement("div",{className:"row"},d["default"].createElement("div",{className:"col-sm-4 col-md-5"},d["default"].createElement(r,e)),d["default"].createElement("div",{className:"col-sm-8 col-md-7 hidden-xs"},d["default"].createElement(u,{more:e.more})))))},a.Pager=r,a.FirstPage=o,a.PreviousPage=l,a.NextPage=s,a.LastPage=i,a.More=u;var c=e("react"),d=n(c),f=e("react-router"),p=e("../../../utils/reset-scroll"),m=n(p)},{"../../../utils/reset-scroll":389,react:"react","react-router":"react-router"}],297:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=e("react"),c=n(u),d=e("../../page-lead"),f=n(d),p=e("./list"),m=n(p),h=e("./list-loading"),b=n(h),v=e("../../../index"),_=n(v),g=e("../../../reducers/users"),y=e("../../../services/polls"),E=n(y),w=e("../../../services/store"),O=n(w),k=e("../../../services/page-title"),N=n(k),x=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.update=function(e){O["default"].dispatch((0,g.hydrate)(e.results)),e.isLoaded=!0,a.setState(e)},_["default"].has("USERS")?a.initWithPreloadedData(_["default"].pop("USERS")):a.initWithoutPreloadedData(),a.startPolling(e.params.page||1),a}return l(t,e),i(t,[{key:"initWithPreloadedData",value:function(e){this.state=Object.assign(e,{isLoaded:!0}),O["default"].dispatch((0,g.hydrate)(e.results))}},{key:"initWithoutPreloadedData",value:function(){this.state={isLoaded:!1}}},{key:"startPolling",value:function(e){E["default"].start({poll:"rank-users",url:_["default"].get("USERS_API"),data:{rank:this.props.route.rank.id,page:e},frequency:9e4,update:this.update})}},{key:"componentDidMount",value:function(){N["default"].set({title:this.props.route.rank.name,page:this.props.params.page||null,parent:gettext("Users")})}},{key:"componentWillUnmount",value:function(){E["default"].stop("rank-users")}},{key:"componentWillReceiveProps",value:function(e){this.props.params.page!==e.params.page&&(N["default"].set({title:this.props.route.rank.name,page:e.params.page||null,parent:gettext("Users")}),this.setState({isLoaded:!1}),E["default"].stop("rank-users"),this.startPolling(e.params.page))}},{key:"getClassName",value:function(){return this.props.route.rank.css_class?"rank-users-list rank-users-"+this.props.route.rank.css_class:"rank-users-list"}},{key:"getRankDescription",value:function(){return this.props.route.rank.description?c["default"].createElement("div",{className:"rank-description"},c["default"].createElement(f["default"],{copy:this.props.route.rank.description.html})):null}},{key:"getComponent",value:function(){if(this.state.isLoaded){if(this.state.count>0){var e=_["default"].get("USERS_LIST_URL")+this.props.route.rank.slug+"/";return c["default"].createElement(m["default"],s({baseUrl:e,users:this.props.users},this.state))}return c["default"].createElement("p",{className:"lead"},gettext("There are no users with this rank at the moment."))}return c["default"].createElement(b["default"],null)}},{key:"render",value:function(){return c["default"].createElement("div",{className:this.getClassName()},c["default"].createElement("div",{className:"container"},this.getRankDescription(),this.getComponent()))}}]),t}(c["default"].Component);a["default"]=x},{"../../../index":302,"../../../reducers/users":364,"../../../services/page-title":373,"../../../services/polls":374,"../../../services/store":377,"../../page-lead":92,"./list":295,"./list-loading":294,react:"react"}],298:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{tick:e.tick.tick,user:e.auth.user,users:e.users}}function i(){var e=[];return O["default"].get("USERS_LISTS").forEach(function(t){"rank"===t.component?(e.push({path:O["default"].get("USERS_LIST_URL")+t.slug+"/:page/",component:(0,f.connect)(s)(g["default"]),rank:t}),e.push({path:O["default"].get("USERS_LIST_URL")+t.slug+"/",component:(0,f.connect)(s)(g["default"]),rank:t})):"active-posters"===t.component&&e.push({path:O["default"].get("USERS_LIST_URL")+t.component+"/",component:(0,f.connect)(s)(v["default"]),extra:{name:t.name}})}),e}Object.defineProperty(a,"__esModule",{value:!0});var u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a.select=s,a.paths=i;var c=e("react"),d=n(c),f=e("react-redux"),p=e("../dropdown-toggle"),m=(n(p),e("./nav")),h=n(m),b=e("./active-posters/root"),v=n(b),_=e("./rank/root"),g=n(_),y=e("../with-dropdown"),E=n(y),w=e("../../index"),O=n(w),k=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),u(t,[{key:"render",value:function(){return d["default"].createElement("div",{className:"page page-users-lists"},d["default"].createElement("div",{className:"page-header-bg"},d["default"].createElement("div",{className:"page-header"},d["default"].createElement("div",{className:"container"},d["default"].createElement("h1",null,gettext("Users"))),d["default"].createElement("div",{className:"page-tabs"},d["default"].createElement("div",{className:"container"},d["default"].createElement(h["default"],{lists:O["default"].get("USERS_LISTS"),baseUrl:O["default"].get("USERS_LIST_URL")}))))),this.props.children)}}]),t}(E["default"]);a["default"]=k},{"../../index":302,"../dropdown-toggle":27,"../with-dropdown":299,"./active-posters/root":292,"./nav":293,"./rank/root":297,react:"react","react-redux":"react-redux"}],299:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.toggleNav=function(){a.setState({dropdown:!a.state.dropdown})},a.hideNav=function(){a.setState({dropdown:!1})},a.state={dropdown:!1},a}return l(t,e),s(t,[{key:"getCompactNavClassName",value:function(){return this.state.dropdown?"compact-nav open":"compact-nav"}}]),t}(u["default"].Component);a["default"]=c},{react:"react"}],300:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=function(e){function t(){var e,a,n,l;r(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.toggle=function(){n.props.onChange({target:{value:!n.props.value}})},l=a,o(n,l)}return l(t,e),s(t,[{key:"getClassName",value:function(){return this.props.value?"btn btn-yes-no btn-yes-no-on":"btn btn-yes-no btn-yes-no-off"}},{key:"getIcon",value:function(){return this.props.value?this.props.iconOn||"check_box":this.props.iconOff||"check_box_outline_blank"}},{key:"getLabel",value:function(){return this.props.value?this.props.labelOn||gettext("yes"):this.props.labelOff||gettext("no")}},{key:"render",value:function(){return u["default"].createElement("button",{type:"button",onClick:this.toggle,className:this.getClassName(),id:this.props.id||null,"aria-describedby":this.props["aria-describedby"]||null,disabled:this.props.disabled||!1},u["default"].createElement("span",{className:"material-icon"},this.getIcon()),u["default"].createElement("span",{className:"btn-text"},this.getLabel()))}}]),t}(u["default"].Component);a["default"]=c},{react:"react"}],301:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=e("../reducers/profile-details"),d=e("../services/ajax"),f=n(d),p=e("../services/snackbar"),m=n(p),h=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.data,a=e.dispatch,n=e.user;t&&t.id===n.id||f["default"].get(this.props.user.api.details).then(function(e){a((0,c.load)(e))},function(e){m["default"].apiError(e)})}},{key:"render",value:function(){return this.props.children}}]),t}(u["default"].Component);a["default"]=h},{"../reducers/profile-details":355,"../services/ajax":365,"../services/snackbar":376,react:"react"}],302:[function(e,t,a){(function(t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");
}Object.defineProperty(a,"__esModule",{value:!0}),a.Misago=void 0;var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=e("./utils/ordered-list"),s=n(l),i=a.Misago=function(){function e(){r(this,e),this._initializers=[],this._context={}}return o(e,[{key:"addInitializer",value:function(e){this._initializers.push({key:e.name,item:e.initializer,after:e.after,before:e.before})}},{key:"init",value:function(e){var t=this;this._context=e;var a=new s["default"](this._initializers).orderedValues();a.forEach(function(e){e(t)})}},{key:"has",value:function(e){return!!this._context[e]}},{key:"get",value:function(e,t){return this.has(e)?this._context[e]:t||void 0}},{key:"pop",value:function(e){if(this.has(e)){var t=this._context[e];return this._context[e]=null,t}}}]),e}(),u=new i;t.misago=u,a["default"]=u}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./utils/ordered-list":387}],303:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){i["default"].init(l["default"].get("CSRF_COOKIE_NAME"))}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=r;var o=e("../index"),l=n(o),s=e("../services/ajax"),i=n(s);l["default"].addInitializer({name:"ajax",initializer:r})},{"../index":302,"../services/ajax":365}],304:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){e.get("isAuthenticated")&&window.setInterval(function(){u["default"].get(e.get("AUTH_API")).then(function(e){p["default"].dispatch((0,s.patch)(e))},function(e){d["default"].apiError(e)})},1e3*m)}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=r;var o=e("../index"),l=n(o),s=e("../reducers/auth"),i=e("../services/ajax"),u=n(i),c=e("../services/snackbar"),d=n(c),f=e("../services/store"),p=n(f),m=45;l["default"].addInitializer({name:"auth-sync",initializer:r,after:"auth"})},{"../index":302,"../reducers/auth":350,"../services/ajax":365,"../services/snackbar":376,"../services/store":377}],305:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){i["default"].init(f["default"],m["default"],c["default"])}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=r;var o=e("../index"),l=n(o),s=e("../services/auth"),i=n(s),u=e("../services/modal"),c=n(u),d=e("../services/store"),f=n(d),p=e("../services/local-storage"),m=n(p);l["default"].addInitializer({name:"auth",initializer:r,after:"store"})},{"../index":302,"../services/auth":366,"../services/local-storage":369,"../services/modal":371,"../services/store":377}],306:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){c["default"].init(e,i["default"],f["default"],m["default"])}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=r;var o=e("../index"),l=n(o),s=e("../services/ajax"),i=n(s),u=e("../services/captcha"),c=n(u),d=e("../services/include"),f=n(d),p=e("../services/snackbar"),m=n(p);l["default"].addInitializer({name:"captcha",initializer:r})},{"../index":302,"../services/ajax":365,"../services/captcha":367,"../services/include":368,"../services/snackbar":376}],307:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){document.getElementById("required-agreement-mount")&&(0,f["default"])(l["default"].createElement(c["default"],{api:e.get("REQUIRED_AGREEMENT_API")}),"required-agreement-mount",!1)}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=r;var o=e("react"),l=n(o),s=e("../../index"),i=n(s),u=e("../../components/accept-agreement"),c=n(u),d=e("../../utils/mount-component"),f=n(d);i["default"].addInitializer({name:"component:accept-agreement",initializer:r,after:"store"})},{"../../components/accept-agreement":3,"../../index":302,"../../utils/mount-component":386,react:"react"}],308:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){(0,d["default"])((0,o.connect)(i.select)(u["default"]),"auth-message-mount")}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=r;var o=e("react-redux"),l=e("../../index"),s=n(l),i=e("../../components/auth-message"),u=n(i),c=e("../../utils/mount-component"),d=n(c);s["default"].addInitializer({name:"component:auth-message",initializer:r,after:"store"})},{"../../components/auth-message":5,"../../index":302,"../../utils/mount-component":386,"react-redux":"react-redux"}],309:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){e.has("BAN_MESSAGE")&&(0,i["default"])(e.get("BAN_MESSAGE"),!1)}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=r;var o=e("../../index"),l=n(o),s=e("../../utils/banned-page"),i=n(s);l["default"].addInitializer({name:"component:banmed-page",initializer:r,after:"store"})},{"../../index":302,"../../utils/banned-page":379}],310:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){document.getElementById("categories-mount")&&(0,d["default"])((0,o.connect)(l.select)(s["default"]),"categories-mount")}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=r;var o=e("react-redux"),l=e("../../components/categories"),s=n(l),i=e("../../index"),u=n(i),c=e("../../utils/mount-component"),d=n(c);u["default"].addInitializer({name:"component:categories",initializer:r,after:"store"})},{"../../components/categories":20,"../../index":302,"../../utils/mount-component":386,"react-redux":"react-redux"}],311:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){e.has("USER_OPTIONS")&&(0,c["default"])({root:i["default"].get("USERCP_URL"),component:l["default"],paths:(0,o.paths)()})}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=r;var o=e("../../components/options/root"),l=n(o),s=e("../../index"),i=n(s),u=e("../../utils/routed-component"),c=n(u);i["default"].addInitializer({name:"component:options",initializer:r,after:"store"})},{"../../components/options/root":87,"../../index":302,"../../utils/routed-component":390}],312:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){e.has("PROFILE")&&e.has("PROFILE_PAGES")&&(0,d["default"])({root:u["default"].get("PROFILE").url,component:(0,o.connect)(l.select)(s["default"]),paths:(0,l.paths)()})}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=r;var o=e("react-redux"),l=e("../../components/profile/root"),s=n(l),i=e("../../index"),u=n(i),c=e("../../utils/routed-component"),d=n(c);u["default"].addInitializer({name:"component:profile",initializer:r,after:"reducer:profile-hydrate"})},{"../../components/profile/root":195,"../../index":302,"../../utils/routed-component":390,"react-redux":"react-redux"}],313:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){document.getElementById("request-activation-link-mount")&&(0,c["default"])(i["default"],"request-activation-link-mount",!1)}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=r;var o=e("../../index"),l=n(o),s=e("../../components/request-activation-link"),i=n(s),u=e("../../utils/mount-component"),c=n(u);l["default"].addInitializer({name:"component:request-activation-link",initializer:r,after:"store"})},{"../../components/request-activation-link":200,"../../index":302,"../../utils/mount-component":386}],314:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){document.getElementById("request-password-reset-mount")&&(0,c["default"])(i["default"],"request-password-reset-mount",!1)}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=r;var o=e("../../index"),l=n(o),s=e("../../components/request-password-reset"),i=n(s),u=e("../../utils/mount-component"),c=n(u);l["default"].addInitializer({name:"component:request-password-reset",initializer:r,after:"store"})},{"../../components/request-password-reset":201,"../../index":302,"../../utils/mount-component":386}],315:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){document.getElementById("reset-password-form-mount")&&(0,c["default"])(i["default"],"reset-password-form-mount",!1)}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=r;var o=e("../.."),l=n(o),s=e("../../components/reset-password-form"),i=n(s),u=e("../../utils/mount-component"),c=n(u);l["default"].addInitializer({name:"component:reset-password-form",initializer:r,after:"store"})},{"../..":302,"../../components/reset-password-form":202,"../../utils/mount-component":386}],316:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){"misago:search"===e.get("CURRENT_LINK")&&(0,c["default"])({paths:(0,l["default"])(i["default"].get("SEARCH_PROVIDERS"))})}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=r;var o=e("../../components/search"),l=n(o),s=e("../.."),i=n(s),u=e("../../utils/routed-component"),c=n(u);i["default"].addInitializer({name:"component:search",initializer:r,after:"store"})},{"../..":302,"../../components/search":204,"../../utils/routed-component":390}],317:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){(0,c["default"])((0,o.connect)(i.select)(i.Snackbar),"snackbar-mount")}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=r;var o=e("react-redux"),l=e("../../index"),s=n(l),i=e("../../components/snackbar"),u=e("../../utils/mount-component"),c=n(u);s["default"].addInitializer({name:"component:snackbar",initializer:r,after:"snackbar"})},{"../../components/snackbar":212,"../../index":302,"../../utils/mount-component":386,"react-redux":"react-redux"}],318:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){if("misago:social-complete"===e.get("CURRENT_LINK")){var t=e.get("SOCIAL_AUTH_FORM");(0,f["default"])(l["default"].createElement(i["default"],t),"page-mount")}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=r;var o=e("react"),l=n(o),s=e("../../components/social-auth"),i=n(s),u=e("../.."),c=n(u),d=e("../../utils/mount-component"),f=n(d);c["default"].addInitializer({name:"component:social-auth",initializer:r,after:"store"})},{"../..":302,"../../components/social-auth":215,"../../utils/mount-component":386,react:"react"}],319:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){e.has("THREAD")&&e.has("POSTS")&&(0,u["default"])({paths:(0,o.paths)()})}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=r;var o=e("../../components/thread/root"),l=e("../../index"),s=n(l),i=e("../../utils/routed-component"),u=n(i);s["default"].addInitializer({name:"component:thread",initializer:r,after:"store"})},{"../../components/thread/root":233,"../../index":302,"../../utils/routed-component":390}],320:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){e.has("THREADS")&&e.has("CATEGORIES")&&(0,c["default"])({paths:(0,l.paths)(e.get("user"),o(e))})}function o(e){var t=e.get("CURRENT_LINK");return t.substr(0,d.length)===d?{api:e.get("PRIVATE_THREADS_API"),startThread:{mode:"START_PRIVATE",submit:i["default"].get("PRIVATE_THREADS_API")},title:gettext("Private threads"),pageLead:gettext("Private threads are threads which only those that started them and those they have invited may see and participate in."),emptyMessage:gettext("You aren't participating in any private threads.")}:{api:e.get("THREADS_API")}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=r,a.getListOptions=o;var l=e("../../components/threads/root"),s=e("../../index"),i=n(s),u=e("../../utils/routed-component"),c=n(u),d="misago:private-threads";i["default"].addInitializer({name:"component:threads",initializer:r,after:"store"})},{"../../components/threads/root":267,"../../index":302,"../../utils/routed-component":390}],321:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){(0,c["default"])((0,o.connect)(i.select)(i.UserMenu),"user-menu-mount"),(0,c["default"])((0,o.connect)(i.select)(i.CompactUserMenu),"user-menu-compact-mount")}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=r;var o=e("react-redux"),l=e("../../index"),s=n(l),i=e("../../components/user-menu/root"),u=e("../../utils/mount-component"),c=n(u);s["default"].addInitializer({name:"component:user-menu",initializer:r,after:"store"})},{"../../components/user-menu/root":272,"../../index":302,"../../utils/mount-component":386,"react-redux":"react-redux"}],322:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){e.has("USERS_LISTS")&&(0,c["default"])({root:i["default"].get("USERS_LIST_URL"),component:l["default"],paths:(0,o.paths)()})}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=r;var o=e("../../components/users/root"),l=n(o),s=e("../../index"),i=n(s),u=e("../../utils/routed-component"),c=n(u);i["default"].addInitializer({name:"component:users",initializer:r,after:"store"})},{"../../components/users/root":298,"../../index":302,"../../utils/routed-component":390}],323:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){i["default"].init(e.get("STATIC_URL"))}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=r;var o=e("../index"),l=n(o),s=e("../services/include"),i=n(s);l["default"].addInitializer({name:"include",initializer:r})},{"../index":302,"../services/include":368}],324:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){i["default"].init("misago_")}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=r;var o=e("../index"),l=n(o),s=e("../services/local-storage"),i=n(s);l["default"].addInitializer({name:"local-storage",initializer:r})},{"../index":302,"../services/local-storage":369}],325:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=document.getElementById("mobile-navbar-dropdown-mount");e&&i["default"].init(e)}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=r;var o=e("../index"),l=n(o),s=e("../services/mobile-navbar-dropdown"),i=n(s);l["default"].addInitializer({name:"dropdown",initializer:r,before:"store"})},{"../index":302,"../services/mobile-navbar-dropdown":370}],326:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=document.getElementById("modal-mount");e&&i["default"].init(e)}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=r;var o=e("../index"),l=n(o),s=e("../services/modal"),i=n(s);l["default"].addInitializer({name:"modal",initializer:r,before:"store"})},{"../index":302,"../services/modal":371}],327:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){l["default"].locale($("html").attr("lang"))}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=r;var o=e("moment"),l=n(o),s=e("../index"),i=n(s);i["default"].addInitializer({name:"moment",initializer:r})},{"../index":302,moment:"moment"}],328:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){i["default"].init(e.get("SETTINGS").forum_index_title,e.get("SETTINGS").forum_name)}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=r;var o=e("../index"),l=n(o),s=e("../services/page-title"),i=n(s);l["default"].addInitializer({name:"page-title",initializer:r})},{"../index":302,"../services/page-title":373}],329:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){f["default"].init(i["default"],c["default"])}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=r;var o=e("../index"),l=n(o),s=e("../services/ajax"),i=n(s),u=e("../services/snackbar"),c=n(u),d=e("../services/polls"),f=n(d);l["default"].addInitializer({name:"polls",initializer:r})},{"../index":302,"../services/ajax":365,"../services/polls":374,"../services/snackbar":376}],330:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){c["default"].init(i["default"],f["default"],document.getElementById("posting-placeholder"))}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=r;var o=e("../index"),l=n(o),s=e("../services/ajax"),i=n(s),u=e("../services/posting"),c=n(u),d=e("../services/snackbar"),f=n(d);l["default"].addInitializer({name:"posting",initializer:r})},{"../index":302,"../services/ajax":365,"../services/posting":375,"../services/snackbar":376}],331:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){c["default"].addReducer("auth",i["default"],Object.assign({isAuthenticated:e.get("isAuthenticated"),isAnonymous:!e.get("isAuthenticated"),user:e.get("user")},s.initialState))}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=r;var o=e("../../index"),l=n(o),s=e("../../reducers/auth"),i=n(s),u=e("../../services/store"),c=n(u);l["default"].addInitializer({name:"reducer:auth",initializer:r,before:"store"})},{"../../index":302,"../../reducers/auth":350,"../../services/store":377}],332:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=null;l["default"].has("THREAD")&&(e=l["default"].get("THREAD").participants),c["default"].addReducer("participants",i["default"],e||[])}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=r;var o=e("../../index"),l=n(o),s=e("../../reducers/participants"),i=n(s),u=e("../../services/store"),c=n(u);l["default"].addInitializer({name:"reducer:participants",initializer:r,before:"store"})},{"../../index":302,"../../reducers/participants":351,"../../services/store":377}],333:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=null;e=l["default"].has("THREAD")&&l["default"].get("THREAD").poll?(0,s.hydrate)(l["default"].get("THREAD").poll):{isBusy:!1},c["default"].addReducer("poll",i["default"],e)}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=r;var o=e("../../index"),l=n(o),s=e("../../reducers/poll"),i=n(s),u=e("../../services/store"),c=n(u);l["default"].addInitializer({name:"reducer:poll",initializer:r,before:"store"})},{"../../index":302,"../../reducers/poll":352,"../../services/store":377}],334:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=null;e=l["default"].has("POSTS")?(0,s.hydrate)(l["default"].get("POSTS")):{isLoaded:!1,isBusy:!1},c["default"].addReducer("posts",i["default"],e)}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=r;var o=e("../../index"),l=n(o),s=e("../../reducers/posts"),i=n(s),u=e("../../services/store"),c=n(u);l["default"].addInitializer({name:"reducer:posts",initializer:r,before:"store"})},{"../../index":302,"../../reducers/posts":354,"../../services/store":377}],335:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=null;l["default"].has("PROFILE_DETAILS")&&(e=l["default"].get("PROFILE_DETAILS")),c["default"].addReducer("profile-details",i["default"],e||{})}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=r;var o=e("../../index"),l=n(o),s=e("../../reducers/profile-details"),i=n(s),u=e("../../services/store"),c=n(u);l["default"].addInitializer({name:"reducer:profile-details",initializer:r,before:"store"})},{"../../index":302,"../../reducers/profile-details":355,"../../services/store":377}],336:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){l["default"].has("PROFILE")&&u["default"].dispatch((0,s.hydrate)(l["default"].get("PROFILE")))}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=r;var o=e("../../index"),l=n(o),s=e("../../reducers/profile"),i=e("../../services/store"),u=n(i);l["default"].addInitializer({name:"reducer:profile-hydrate",initializer:r,after:"store"})},{"../../index":302,"../../reducers/profile":356,"../../services/store":377}],337:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){c["default"].addReducer("profile",i["default"],{})}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=r;var o=e("../../index"),l=n(o),s=e("../../reducers/profile"),i=n(s),u=e("../../services/store"),c=n(u);l["default"].addInitializer({name:"reducer:profile",initializer:r,before:"store"})},{"../../index":302,"../../reducers/profile":356,"../../services/store":377}],338:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){c["default"].addReducer("search",i["default"],Object.assign({},s.initialState,{providers:l["default"].get("SEARCH_PROVIDERS")||[],query:l["default"].get("SEARCH_QUERY")||""}))}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=r;var o=e("../.."),l=n(o),s=e("../../reducers/search"),i=n(s),u=e("../../services/store"),c=n(u);l["default"].addInitializer({name:"reducer:search",initializer:r,before:"store"})},{"../..":302,"../../reducers/search":357,"../../services/store":377}],339:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){c["default"].addReducer("selection",i["default"],[])}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=r;var o=e("../../index"),l=n(o),s=e("../../reducers/selection"),i=n(s),u=e("../../services/store"),c=n(u);l["default"].addInitializer({name:"reducer:selection",initializer:r,before:"store"})},{"../../index":302,"../../reducers/selection":358,"../../services/store":377}],340:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){c["default"].addReducer("snackbar",i["default"],s.initialState)}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=r;var o=e("../../index"),l=n(o),s=e("../../reducers/snackbar"),i=n(s),u=e("../../services/store"),c=n(u);l["default"].addInitializer({name:"reducer:snackbar",initializer:r,before:"store"})},{"../../index":302,"../../reducers/snackbar":359,"../../services/store":377}],341:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=null;e=l["default"].has("THREAD")?(0,s.hydrate)(l["default"].get("THREAD")):{isBusy:!1},c["default"].addReducer("thread",i["default"],e)}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=r;var o=e("../../index"),l=n(o),s=e("../../reducers/thread"),i=n(s),u=e("../../services/store"),c=n(u);l["default"].addInitializer({name:"reducer:thread",initializer:r,before:"store"})},{"../../index":302,"../../reducers/thread":360,"../../services/store":377}],342:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){c["default"].addReducer("threads",i["default"],[])}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=r;var o=e("../../index"),l=n(o),s=e("../../reducers/threads"),i=n(s),u=e("../../services/store"),c=n(u);l["default"].addInitializer({name:"reducer:threads",initializer:r,before:"store"})},{"../../index":302,"../../reducers/threads":361,"../../services/store":377}],343:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){c["default"].addReducer("tick",i["default"],s.initialState)}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=r;var o=e("../../index"),l=n(o),s=e("../../reducers/tick"),i=n(s),u=e("../../services/store"),c=n(u);l["default"].addInitializer({name:"reducer:tick",initializer:r,before:"store"})},{"../../index":302,"../../reducers/tick":362,"../../services/store":377}],344:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){c["default"].addReducer("username-history",i["default"],[])}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=r;var o=e("../../index"),l=n(o),s=e("../../reducers/username-history"),i=n(s),u=e("../../services/store"),c=n(u);l["default"].addInitializer({name:"reducer:username-history",initializer:r,before:"store"})},{"../../index":302,"../../reducers/username-history":363,"../../services/store":377}],345:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){c["default"].addReducer("users",i["default"],[])}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=r;var o=e("../../index"),l=n(o),s=e("../../reducers/users"),i=n(s),u=e("../../services/store"),c=n(u);l["default"].addInitializer({name:"reducer:users",initializer:r,before:"store"})},{"../../index":302,"../../reducers/users":364,"../../services/store":377}],346:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){i["default"].init(c["default"])}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=r;var o=e("../index"),l=n(o),s=e("../services/snackbar"),i=n(s),u=e("../services/store"),c=n(u);l["default"].addInitializer({name:"snackbar",initializer:r,after:"store"})},{"../index":302,"../services/snackbar":376,"../services/store":377}],347:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){i["default"].init()}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=r;var o=e("../index"),l=n(o),s=e("../services/store"),i=n(s);l["default"].addInitializer({name:"store",initializer:r,before:"_end"})},{"../index":302,"../services/store":377}],348:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){window.setInterval(function(){u["default"].dispatch((0,s.doTick)())},c)}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=r;var o=e("../index"),l=n(o),s=e("../reducers/tick"),i=e("../services/store"),u=n(i),c=5e4;l["default"].addInitializer({name:"tick-start",initializer:r,after:"store"})},{"../index":302,"../reducers/tick":362,"../services/store":377}],349:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){c["default"].init(i["default"])}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=r;var o=e("../index"),l=n(o),s=e("../services/include"),i=n(s),u=e("../services/zxcvbn"),c=n(u);l["default"].addInitializer({name:"zxcvbn",initializer:r})},{"../index":302,"../services/include":368,"../services/zxcvbn":378}],350:[function(e,t,a){"use strict";function n(e){return{type:u,patch:e}}function r(e){return{type:c,user:e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:d,soft:e}}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(t.type){case u:var a=Object.assign({},e);return a.user=Object.assign({},e.user,t.patch),a;case c:return Object.assign({},e,{signedIn:t.user});case d:return Object.assign({},e,{isAuthenticated:!1,isAnonymous:!0,signedOut:!t.soft});case s.UPDATE_AVATAR:if(e.isAuthenticated&&e.user.id===t.userId){var n=Object.assign({},e);return n.user=Object.assign({},e.user,{avatars:t.avatars}),n}return e;case s.UPDATE_USERNAME:if(e.isAuthenticated&&e.user.id===t.userId){var r=Object.assign({},e);return r.user=Object.assign({},e.user,{username:t.username,slug:t.slug}),r}return e;default:return e}}Object.defineProperty(a,"__esModule",{value:!0}),a.SIGN_OUT=a.SIGN_IN=a.PATCH_USER=a.initialState=void 0,a.patch=n,a.signIn=r,a.signOut=o,a["default"]=l;var s=e("./users"),i=a.initialState={signedIn:!1,signedOut:!1},u=a.PATCH_USER="PATCH_USER",c=a.SIGN_IN="SIGN_IN",d=a.SIGN_OUT="SIGN_OUT"},{"./users":364}],351:[function(e,t,a){"use strict";function n(e){return{type:o,state:e}}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(t.type){case o:return t.state;default:return e}}Object.defineProperty(a,"__esModule",{value:!0}),a.replace=n,a["default"]=r;var o=a.REPLACE_PARTICIPANTS="REPLACE_PARTICIPANTS"},{}],352:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){var t=!1;for(var a in e.choices){var n=e.choices[a];if(n.selected){t=!0;break}}return Object.assign({},e,{posted_on:(0,f["default"])(e.posted_on),hasSelectedChoices:t,endsOn:e.length?(0,f["default"])(e.posted_on).add(e.length,"days"):null,isBusy:!1})}function o(){return{type:p}}function l(){return{type:m}}function s(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:b,state:t?e:r(e)}}function i(e){return{type:v,data:e}}function u(){return{type:h}}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(t.type){case p:return Object.assign({},e,{isBusy:!0});case m:return Object.assign({},e,{isBusy:!1});case h:return{isBusy:!1};case b:return t.state;case v:return Object.assign({},e,t.data);default:return e}}Object.defineProperty(a,"__esModule",{value:!0}),a.UPDATE_POLL=a.REPLACE_POLL=a.REMOVE_POLL=a.RELEASE_POLL=a.BUSY_POLL=void 0,a.hydrate=r,a.busy=o,a.release=l,a.replace=s,a.update=i,a.remove=u,a["default"]=c;var d=e("moment"),f=n(d),p=a.BUSY_POLL="BUSY_POLL",m=a.RELEASE_POLL="RELEASE_POLL",h=a.REMOVE_POLL="REMOVE_POLL",b=a.REPLACE_POLL="REPLACE_POLL",v=a.UPDATE_POLL="UPDATE_POLL"},{moment:"moment"}],353:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){return Object.assign({},e,{posted_on:(0,u["default"])(e.posted_on),updated_on:(0,u["default"])(e.updated_on),hidden_on:(0,u["default"])(e.hidden_on),attachments:e.attachments?e.attachments.map(o):null,poster:e.poster?(0,c.hydrateUser)(e.poster):null,isSelected:!1,isBusy:!1,isDeleted:!1})}function o(e){return Object.assign({},e,{uploaded_on:(0,u["default"])(e.uploaded_on)})}function l(e,t){return{type:d,post:e,patch:t}}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(t.type){case d:return e.id==t.post.id?Object.assign({},e,t.patch):e;default:return e}}Object.defineProperty(a,"__esModule",{value:!0}),a.PATCH_POST=void 0,a.hydrate=r,a.hydrateAttachment=o,a.patch=l,a["default"]=s;var i=e("moment"),u=n(i),c=e("./users"),d=a.PATCH_POST="PATCH_POST"},{"./users":364,moment:"moment"}],354:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){return{type:b,post:e}}function o(e){return{type:v,post:e}}function l(){return{type:_}}function s(e){return Object.assign({},e,{results:e.results.map(p.hydrate),isLoaded:!0,isBusy:!1,isSelected:!1})}function i(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:g,state:t?e:s(e)}}function u(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:h,state:t?e:s(e)}}function c(){return{type:y}}function d(e){return{type:E,update:e}}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(t.type){case b:var a=e.results.map(function(e){return e.id==t.post.id?Object.assign({},e,{isSelected:!0}):e});return Object.assign({},e,{results:a});case v:var n=e.results.map(function(e){return e.id==t.post.id?Object.assign({},e,{isSelected:!1}):e});return Object.assign({},e,{results:n});case _:var r=e.results.map(function(e){return Object.assign({},e,{isSelected:!1})});return Object.assign({},e,{results:r});case h:var o=e.results.slice(),l=e.results.map(function(e){return e.id});return t.state.results.map(function(e){l.indexOf(e.id)===-1&&o.push(e)}),Object.assign({},t.state,{results:o});case g:return t.state;case y:return Object.assign({},e,{isLoaded:!1});case E:return Object.assign({},e,t.update);case p.PATCH_POST:var s=e.results.map(function(e){return(0,m["default"])(e,t)});return Object.assign({},e,{results:s});default:
return e}}Object.defineProperty(a,"__esModule",{value:!0}),a.UPDATE_POSTS=a.UNLOAD_POSTS=a.LOAD_POSTS=a.DESELECT_POSTS=a.DESELECT_POST=a.SELECT_POST=a.APPEND_POSTS=void 0,a.select=r,a.deselect=o,a.deselectAll=l,a.hydrate=s,a.load=i,a.append=u,a.unload=c,a.update=d,a["default"]=f;var p=e("./post"),m=n(p),h=a.APPEND_POSTS="APPEND_POSTS",b=a.SELECT_POST="SELECT_POST",v=a.DESELECT_POST="DESELECT_POST",_=a.DESELECT_POSTS="DESELECT_POSTS",g=a.LOAD_POSTS="LOAD_POSTS",y=a.UNLOAD_POSTS="UNLOAD_POSTS",E=a.UPDATE_POSTS="UPDATE_POSTS"},{"./post":353}],355:[function(e,t,a){"use strict";function n(e){return{type:o,newState:e}}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(t.type){case o:return t.newState;default:return e}}Object.defineProperty(a,"__esModule",{value:!0}),a.load=n,a["default"]=r;var o=a.LOAD_DETAILS="LOAD_DETAILS"},{}],356:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){return{type:c,profile:e}}function o(e){return{type:d,patch:e}}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(t.type){case c:return Object.assign({},t.profile,{joined_on:(0,i["default"])(t.profile.joined_on),status:(0,u.hydrateStatus)(t.profile.status)});case d:return Object.assign({},e,t.patch);case u.UPDATE_AVATAR:return e.id===t.userId?Object.assign({},e,{avatars:t.avatars}):e;case u.UPDATE_USERNAME:return e.id===t.userId?Object.assign({},e,{username:t.username,slug:t.slug}):e;default:return e}}Object.defineProperty(a,"__esModule",{value:!0}),a.PATCH_PROFILE=a.HYDRATE_PROFILE=void 0,a.hydrate=r,a.patch=o,a["default"]=l;var s=e("moment"),i=n(s),u=e("./users"),c=a.HYDRATE_PROFILE="HYDRATE_PROFILE",d=a.PATCH_PROFILE="PATCH_PROFILE"},{"./users":364,moment:"moment"}],357:[function(e,t,a){"use strict";function n(e){return{type:s,state:{isLoading:!1,providers:e}}}function r(e){return{type:i,update:e}}function o(e){return{type:u,provider:e}}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(t.type){case s:return t.state;case i:return Object.assign({},e,t.update);case u:return Object.assign({},e,{providers:e.providers.map(function(e){return e.id===t.provider.id?t.provider:e})});default:return e}}Object.defineProperty(a,"__esModule",{value:!0}),a.replace=n,a.update=r,a.updateProvider=o,a["default"]=l;var s=a.REPLACE_SEARCH="REPLACE_SEARCH",i=a.UPDATE_SEARCH="UPDATE_SEARCH",u=a.UPDATE_SEARCH_PROVIDER="UPDATE_SEARCH_PROVIDER";a.initialState={isLoading:!1,query:"",providers:[]}},{}],358:[function(e,t,a){"use strict";function n(e){return{type:i,items:e}}function r(){return{type:u}}function o(e){return{type:c,item:e}}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(t.type){case i:return t.items;case u:return[];case c:return(0,s.toggle)(e,t.item);default:return e}}Object.defineProperty(a,"__esModule",{value:!0}),a.SELECT_ITEM=a.SELECT_NONE=a.SELECT_ALL=void 0,a.all=n,a.none=r,a.item=o,a["default"]=l;var s=e("../utils/sets"),i=a.SELECT_ALL="SELECT_ALL",u=a.SELECT_NONE="SELECT_NONE",c=a.SELECT_ITEM="SELECT_ITEM"},{"../utils/sets":391}],359:[function(e,t,a){"use strict";function n(e,t){return{type:s,message:e,messageType:t}}function r(){return{type:i}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.type===s?{type:t.messageType,message:t.message,isVisible:!0}:t.type===i?Object.assign({},e,{isVisible:!1}):e}Object.defineProperty(a,"__esModule",{value:!0}),a.showSnackbar=n,a.hideSnackbar=r,a["default"]=o;var l=a.initialState={type:"info",message:"",isVisible:!1},s=a.SHOW_SNACKBAR="SHOW_SNACKBAR",i=a.HIDE_SNACKBAR="HIDE_SNACKBAR"},{}],360:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){return Object.assign({},e,{started_on:(0,f["default"])(e.started_on),last_post_on:(0,f["default"])(e.last_post_on),best_answer_marked_on:e.best_answer_marked_on?(0,f["default"])(e.best_answer_marked_on):null,isBusy:!1})}function o(){return{type:m}}function l(){return{type:h}}function s(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:b,state:t?e:r(e)}}function i(e){return{type:v,data:e}}function u(e){return{type:_,data:e}}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(t.type){case m:return Object.assign({},e,{isBusy:!0});case h:return Object.assign({},e,{isBusy:!1});case p.REMOVE_POLL:return Object.assign({},e,{poll:null});case p.REPLACE_POLL:return Object.assign({},e,{poll:t.state});case b:return t.state;case v:return Object.assign({},e,t.data);case _:var a=Object.assign({},e.acl,t.data);return Object.assign({},e,{acl:a});default:return e}}Object.defineProperty(a,"__esModule",{value:!0}),a.UPDATE_THREAD_ACL=a.UPDATE_THREAD=a.REPLACE_THREAD=a.RELEASE_THREAD=a.BUSY_THREAD=void 0,a.hydrate=r,a.busy=o,a.release=l,a.replace=s,a.update=i,a.updateAcl=u,a["default"]=c;var d=e("moment"),f=n(d),p=e("./poll"),m=a.BUSY_THREAD="BUSY_THREAD",h=a.RELEASE_THREAD="RELEASE_THREAD",b=a.REPLACE_THREAD="REPLACE_THREAD",v=a.UPDATE_THREAD="UPDATE_THREAD",_=a.UPDATE_THREAD_ACL="UPDATE_THREAD_ACL"},{"./poll":352,moment:"moment"}],361:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){return{type:v,items:e,sorting:t}}function o(e){return{type:_,thread:e}}function l(e,t){return{type:g,category:e,categoriesMap:t}}function s(e){return{type:y,items:e}}function i(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:E,thread:e,patch:t,sorting:a}}function u(e){return{type:w,sorting:e}}function c(e){var t=[];return O.forEach(function(a){e[a]&&t.push(a)}),t}function d(e){return Object.assign({},e,{started_on:(0,m["default"])(e.started_on),last_post_on:(0,m["default"])(e.last_post_on),moderation:c(e.acl)})}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(t.type){case v:var a=(0,b["default"])(t.items.map(d),e);return a.sort(t.sorting);case _:return e.filter(function(e){return e.id!==t.thread.id});case g:return e.filter(function(e){var a=t.categoriesMap[e.category];return a.lft>=t.category.lft&&a.rght<=t.category.rght||2==e.weight});case y:return t.items.map(d);case E:var n=e.map(function(e){return e.id===t.thread.id?Object.assign({},e,t.patch):e});return t.sorting?n.sort(t.sorting):n;case w:return e.sort(t.sorting);default:return e}}Object.defineProperty(a,"__esModule",{value:!0}),a.MODERATION_PERMISSIONS=a.SORT_THREADS=a.PATCH_THREAD=a.HYDRATE_THREADS=a.FILTER_THREADS=a.DELETE_THREAD=a.APPEND_THREADS=void 0,a.append=r,a.deleteThread=o,a.filterThreads=l,a.hydrate=s,a.patch=i,a.sort=u,a.getThreadModerationOptions=c,a.hydrateThread=d,a["default"]=f;var p=e("moment"),m=n(p),h=e("../utils/concat-unique"),b=n(h),v=a.APPEND_THREADS="APPEND_THREADS",_=a.DELETE_THREAD="DELETE_THREAD",g=a.FILTER_THREADS="FILTER_THREADS",y=a.HYDRATE_THREADS="HYDRATE_THREADS",E=a.PATCH_THREAD="PATCH_THREAD",w=a.SORT_THREADS="SORT_THREADS",O=a.MODERATION_PERMISSIONS=["can_announce","can_approve","can_close","can_hide","can_move","can_merge","can_pin","can_review"]},{"../utils/concat-unique":381,moment:"moment"}],362:[function(e,t,a){"use strict";function n(){return{type:l}}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.type===l?Object.assign({},e,{tick:e.tick+1}):e}Object.defineProperty(a,"__esModule",{value:!0}),a.doTick=n,a["default"]=r;var o=a.initialState={tick:0},l=a.TICK="TICK"},{}],363:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,a){return{type:m,change:e,user:t,changedBy:a}}function o(e){return{type:h,items:e}}function l(e){return{type:b,items:e}}function s(e){return Object.assign({},e,{changed_on:(0,c["default"])(e.changed_on)})}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(t.type){case m:var a=e.slice();return a.unshift({id:Math.floor(Date.now()/1e3),changed_by:t.changedBy,changed_by_username:t.changedBy.username,changed_on:(0,c["default"])(),new_username:t.change.username,old_username:t.user.username}),a;case h:return(0,p["default"])(e,t.items.map(s));case b:return t.items.map(s);case d.UPDATE_AVATAR:return e.map(function(e){return e=Object.assign({},e),e.changed_by&&e.changed_by.id===t.userId&&(e.changed_by=Object.assign({},e.changed_by,{avatars:t.avatars})),e});case d.UPDATE_USERNAME:return e.map(function(e){return e=Object.assign({},e),e.changed_by&&e.changed_by.id===t.userId&&(e.changed_by=Object.assign({},e.changed_by,{username:t.username,slug:t.slug})),Object.assign({},e)});default:return e}}Object.defineProperty(a,"__esModule",{value:!0}),a.HYDRATE_HISTORY=a.APPEND_HISTORY=a.ADD_NAME_CHANGE=void 0,a.addNameChange=r,a.append=o,a.hydrate=l,a.hydrateNamechange=s,a["default"]=i;var u=e("moment"),c=n(u),d=e("./users"),f=e("../utils/concat-unique"),p=n(f),m=a.ADD_NAME_CHANGE="ADD_NAME_CHANGE",h=a.APPEND_HISTORY="APPEND_HISTORY",b=a.HYDRATE_HISTORY="HYDRATE_HISTORY"},{"../utils/concat-unique":381,"./users":364,moment:"moment"}],364:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){return{type:h,items:e}}function o(e){return{type:b,items:e}}function l(e){return e?Object.assign({},e,{last_click:e.last_click?(0,f["default"])(e.last_click):null,banned_until:e.banned_until?(0,f["default"])(e.banned_until):null}):null}function s(e){return Object.assign({},e,{joined_on:(0,f["default"])(e.joined_on),status:l(e.status)})}function i(e,t){return{type:v,userId:e.id,avatars:t}}function u(e,t,a){return{type:_,userId:e.id,username:t,slug:a}}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(t.type){case h:return(0,m["default"])(e,t.items.map(s));case b:return t.items.map(s);case v:return e.map(function(e){return e=Object.assign({},e),e.id===t.userId&&(e.avatars=t.avatars),e});default:return e}}Object.defineProperty(a,"__esModule",{value:!0}),a.UPDATE_USERNAME=a.UPDATE_AVATAR=a.HYDRATE_USERS=a.APPEND_USERS=void 0,a.append=r,a.hydrate=o,a.hydrateStatus=l,a.hydrateUser=s,a.updateAvatar=i,a.updateUsername=u,a["default"]=c;var d=e("moment"),f=n(d),p=e("../utils/concat-unique"),m=n(p),h=a.APPEND_USERS="APPEND_USERS",b=a.HYDRATE_USERS="HYDRATE_USERS",v=a.UPDATE_AVATAR="UPDATE_AVATAR",_=a.UPDATE_USERNAME="UPDATE_USERNAME"},{"../utils/concat-unique":381,moment:"moment"}],365:[function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a.Ajax=function(){function e(){n(this,e),this._cookieName=null,this._csrfToken=null,this._locks={}}return r(e,[{key:"init",value:function(e){this._cookieName=e}},{key:"getCsrfToken",value:function(){if(document.cookie.indexOf(this._cookieName)!==-1){var e=new RegExp(this._cookieName+"=([^;]*)"),t=document.cookie.match(e)[0];return t?t.split("=")[1]:null}return null}},{key:"request",value:function(e,t,a){var n=this;return new Promise(function(r,o){var l={url:t,method:e,headers:{"X-CSRFToken":n.getCsrfToken()},data:a?JSON.stringify(a):null,contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){r(e)},error:function(e){var t=e.responseJSON||{};t.status=e.status,0===t.status&&(t.detail=gettext("Lost connection with application.")),404===t.status&&(t.detail&&"NOT FOUND"!==t.detail||(t.detail=gettext("Action link is invalid."))),500!==t.status||t.detail||(t.detail=gettext("Unknown error has occured.")),t.statusText=e.statusText,o(t)}};$.ajax(l)})}},{key:"get",value:function(e,t,a){if(t&&(e+="?"+$.param(t)),a){var n=this;return this._locks[a]&&(this._locks[a].url=e),this._locks[a]&&this._locks[a].waiter?{then:function(){}}:this._locks[a]&&this._locks[a].wait?(this._locks[a].waiter=!0,new Promise(function(t,r){var o=function l(e){n._locks[a].wait?window.setTimeout(function(){l(e)},300):n._locks[a].url!==e?l(n._locks[a].url):(n._locks[a].waiter=!1,n.request("GET",n._locks[a].url).then(function(r){n._locks[a].url===e?t(r):(n._locks[a].waiter=!0,l(n._locks[a].url))},function(t){n._locks[a].url===e?r(t):(n._locks[a].waiter=!0,l(n._locks[a].url))}))};window.setTimeout(function(){o(e)},300)})):(this._locks[a]={url:e,wait:!0,waiter:!1},new Promise(function(t,r){n.request("GET",e).then(function(r){n._locks[a].wait=!1,n._locks[a].url===e&&t(r)},function(t){n._locks[a].wait=!1,n._locks[a].url===e&&r(t)})}))}return this.request("GET",e)}},{key:"post",value:function(e,t){return this.request("POST",e,t)}},{key:"patch",value:function(e,t){return this.request("PATCH",e,t)}},{key:"put",value:function(e,t){return this.request("PUT",e,t)}},{key:"delete",value:function(e,t){return this.request("DELETE",e,t)}},{key:"upload",value:function(e,t,a){var n=this;return new Promise(function(r,o){var l={url:e,method:"POST",headers:{"X-CSRFToken":n.getCsrfToken()},data:t,contentType:!1,processData:!1,xhr:function s(){var s=new window.XMLHttpRequest;return s.upload.addEventListener("progress",function(e){e.lengthComputable&&a(Math.round(e.loaded/e.total*100))},!1),s},success:function(e){r(e)},error:function(e){var t=e.responseJSON||{};t.status=e.status,0===t.status&&(t.detail=gettext("Lost connection with application.")),413!==t.status||t.detail||(t.detail=gettext("Upload was rejected by server as too large.")),404===t.status&&(t.detail&&"NOT FOUND"!==t.detail||(t.detail=gettext("Action link is invalid."))),500!==t.status||t.detail||(t.detail=gettext("Unknown error has occured.")),t.statusText=e.statusText,o(t)}};$.ajax(l)})}}]),e}();a["default"]=new o},{}],366:[function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0}),a.Auth=void 0;var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=e("../reducers/auth"),l=a.Auth=function(){function e(){n(this,e)}return r(e,[{key:"init",value:function(e,t,a){this._store=e,this._local=t,this._modal=a,this.syncSession(),this.watchState()}},{key:"syncSession",value:function(){var e=this._store.getState().auth;e.isAuthenticated?this._local.set("auth",{isAuthenticated:!0,username:e.user.username}):this._local.set("auth",{isAuthenticated:!1})}},{key:"watchState",value:function(){var e=this,t=this._store.getState().auth;this._local.watch("auth",function(a){a.isAuthenticated?e._store.dispatch((0,o.signIn)({username:a.username})):t.isAuthenticated&&e._store.dispatch((0,o.signOut)())}),this._modal.hide()}},{key:"signIn",value:function(e){this._store.dispatch((0,o.signIn)(e)),this._local.set("auth",{isAuthenticated:!0,username:e.username}),this._modal.hide()}},{key:"signOut",value:function(){this._store.dispatch((0,o.signOut)()),this._local.set("auth",{isAuthenticated:!1}),this._modal.hide()}},{key:"softSignOut",value:function(){this._store.dispatch((0,o.signOut)(!0)),this._local.set("auth",{isAuthenticated:!1}),this._modal.hide()}}]),e}();a["default"]=new l},{"../reducers/auth":350}],367:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0}),a.Captcha=a.ReCaptcha=a.ReCaptchaComponent=a.QACaptcha=a.NoCaptcha=a.BaseCaptcha=void 0;var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=e("react"),u=n(i),c=e("../components/form-group"),d=n(c),f=a.BaseCaptcha=function(){function e(){l(this,e)}return s(e,[{key:"init",value:function(e,t,a,n){this._context=e,this._ajax=t,this._include=a,this._snackbar=n}}]),e}(),p=a.NoCaptcha=function(e){function t(){return l(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"load",value:function(){return new Promise(function(e){e()})}},{key:"validator",value:function(){return null}},{key:"component",value:function(){return null}}]),t}(f),m=a.QACaptcha=function(e){function t(){return l(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"load",value:function(){var e=this;return new Promise(function(t,a){e._ajax.get(e._context.get("CAPTCHA_API")).then(function(a){e.question=a.question,e.helpText=a.help_text,t()},function(){e._snackbar.error(gettext("Failed to load CAPTCHA.")),a()})})}},{key:"validator",value:function(){return[]}},{key:"component",value:function(e){return u["default"].createElement(d["default"],{label:this.question,"for":"id_captcha",labelClass:e.labelClass||"",controlClass:e.controlClass||"",validation:e.form.state.errors.captcha,helpText:this.helpText||null},u["default"].createElement("input",{"aria-describedby":"id_captcha_status",className:"form-control",disabled:e.form.state.isLoading,id:"id_captcha",onChange:e.form.bindInput("captcha"),type:"text",value:e.form.state.captcha}))}}]),t}(f),h=a.ReCaptchaComponent=function(e){function t(){return l(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this;grecaptcha.render("recaptcha",{sitekey:this.props.siteKey,callback:function(t){e.props.binding({target:{value:t}})}})}},{key:"render",value:function(){return u["default"].createElement("div",{id:"recaptcha"})}}]),t}(u["default"].Component),b=a.ReCaptcha=function(e){function t(){return l(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"load",value:function(){return this._include.include("https://www.google.com/recaptcha/api.js",!0),new Promise(function(e){var t=function a(){"undefined"==typeof grecaptcha?window.setTimeout(function(){a()},200):e()};t()})}},{key:"validator",value:function(){return[]}},{key:"component",value:function(e){return u["default"].createElement(d["default"],{label:gettext("Please solve the quick test"),"for":"id_captcha",labelClass:e.labelClass||"",controlClass:e.controlClass||"",validation:e.form.state.errors.captcha,helpText:gettext("This test helps us prevent automated spam registrations on our site.")},u["default"].createElement(h,{binding:e.form.bindInput("captcha"),siteKey:this._context.get("SETTINGS").recaptcha_site_key}))}}]),t}(f),v=a.Captcha=function(){function e(){l(this,e)}return s(e,[{key:"init",value:function(e,t,a,n){switch(e.get("SETTINGS").captcha_type){case"no":this._captcha=new p;break;case"qa":this._captcha=new m;break;case"re":this._captcha=new b}this._captcha.init(e,t,a,n)}},{key:"load",value:function(){return this._captcha.load()}},{key:"validator",value:function(){return this._captcha.validator()}},{key:"component",value:function(e){return this._captcha.component(e)}}]),e}();a["default"]=new v},{"../components/form-group":55,react:"react"}],368:[function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a.Include=function(){function e(){n(this,e)}return r(e,[{key:"init",value:function(e){this._staticUrl=e,this._included=[]}},{key:"include",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._included.indexOf(e)===-1&&(this._included.push(e),this._include(e,t))}},{key:"_include",value:function(e,t){$.ajax({url:(t?"":this._staticUrl)+e,cache:!0,dataType:"script"})}}]),e}();a["default"]=new o},{}],369:[function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=window.localStorage,l=a.LocalStorage=function(){function e(){n(this,e)}return r(e,[{key:"init",value:function(e){var t=this;this._prefix=e,this._watchers=[],window.addEventListener("storage",function(e){var a=JSON.parse(e.newValue);t._watchers.forEach(function(t){t.key===e.key&&e.oldValue!==e.newValue&&t.callback(a)})})}},{key:"set",value:function(e,t){o.setItem(this._prefix+e,JSON.stringify(t))}},{key:"get",value:function(e){var t=o.getItem(this._prefix+e);return t?JSON.parse(t):null}},{key:"watch",value:function(e,t){this._watchers.push({key:this._prefix+e,callback:t})}}]),e}();a["default"]=new l},{}],370:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0}),a.MobileNavbarDropdown=void 0;var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=e("../utils/mount-component"),s=n(l),i=a.MobileNavbarDropdown=function(){function e(){r(this,e)}return o(e,[{key:"init",value:function(e){this._element=e,this._component=null}},{key:"show",value:function(e){this._component===e?this.hide():(this._component=e,(0,s["default"])(e,this._element.id),$(this._element).addClass("open"))}},{key:"showConnected",value:function(e,t){this._component===e?this.hide():(this._component=e,(0,s["default"])(t,this._element.id,!0),$(this._element).addClass("open"))}},{key:"hide",value:function(){$(this._element).removeClass("open"),this._component=null}}]),e}();a["default"]=new i},{"../utils/mount-component":386}],371:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0}),a.Modal=void 0;var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=e("react-dom"),s=n(l),i=e("../utils/mount-component"),u=n(i),c=a.Modal=function(){function e(){r(this,e)}return o(e,[{key:"init",value:function(e){var t=this;this._element=e,this._modal=$(e).modal({show:!1}),this._modal.on("hidden.bs.modal",function(){s["default"].unmountComponentAtNode(t._element)})}},{key:"show",value:function(e){(0,u["default"])(e,this._element.id),this._modal.modal("show")}},{key:"hide",value:function(){this._modal.modal("hide")}}]),e}();a["default"]=new c},{"../utils/mount-component":386,"react-dom":"react-dom"}],372:[function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){var t=o(e),a=l(t);if(!a)return null;var n=0;if(t.indexOf("?")>0){var r=t.substr(t.indexOf("?")+1),s=r.split("&").filter(function(e){return"t="===e.substr(0,2)})[0];if(s){var i=s.substr(2).split("m");"s"===i[0].substr(-1)?n+=parseInt(i[0].substr(0,i[0].length-1)):(n+=60*parseInt(i[0]),i[1]&&"s"===i[1].substr(-1)&&(n+=parseInt(i[1].substr(0,i[1].length-1))))}}return{start:n,video:a}}function o(e){var t=e;return"https://"===e.substr(0,8)?t=t.substr(8):"http://"===e.substr(0,7)&&(t=t.substr(7)),"www."===t.substr(0,4)&&(t=t.substr(4)),t}function l(e){if(e.indexOf("youtu")===-1)return null;var t=e.match(i);return t?t[1]:null}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a.parseYoutubeUrl=r,a.cleanUrl=o,a.getVideoIdFromUrl=l;var i=new RegExp("^.*(?:(?:youtu.be/|v/|vi/|u/w/|embed/)|(?:(?:watch)??v(?:i)?=|&v(?:i)?=))([^#&?]*).*"),u=a.OneBox=function(){function e(){var t=this;n(this,e),this.render=function(e){e&&(t.highlightCode(e),t.embedYoutubePlayers(e))},this._youtube={}}return s(e,[{key:"highlightCode",value:function(e){for(var t=e.querySelectorAll("pre>code"),a=0;a<t.length;a++){var n=t[a];hljs.highlightBlock(n)}}},{key:"embedYoutubePlayers",value:function(e){for(var t=e.querySelectorAll("p>a"),a=0;a<t.length;a++){var n=t[a],o=n.parentNode,l=1===o.childNodes.length;this._youtube[n.href]||(this._youtube[n.href]=r(n.href));var s=this._youtube[n.href];l&&s&&s.data!==!1&&this.swapYoutubePlayer(n,s)}}},{key:"swapYoutubePlayer",value:function(e,t){var a="https://www.youtube.com/embed/";a+=t.video,a+="?rel=0",t.start&&(a+="&start="+t.start);var n=$('<iframe class="embed-responsive-item" src="'+a+'" allowfullscreen></iframe>');$(e).replaceWith(n),n.wrap('<div class="embed-responsive embed-responsive-16by9"></div>')}}]),e}();a["default"]=new u},{}],373:[function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a.PageTitle=function(){function e(){n(this,e)}return r(e,[{key:"init",value:function(e,t){this._indexTitle=e,this._forumName=t}},{key:"set",value:function(e){if(!e)return void(document.title=this._indexTitle||this._forumName);"string"==typeof e&&(e={title:e});var t=e.title;if(e.page>1){var a=interpolate(gettext("page: %(page)s"),{page:e.page},!0);t+=" ("+a+")"}e.parent&&(t+=" | "+e.parent),document.title=t+" | "+this._forumName}}]),e}();a["default"]=new o},{}],374:[function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a.Polls=function(){function e(){n(this,e)}return r(e,[{key:"init",value:function(e,t){this._ajax=e,this._snackbar=t,this._polls={}}},{key:"start",value:function(e){var t=this;this.stop(e.poll);var a=function n(){t._polls[e.poll]=e,t._ajax.get(e.url,e.data||null).then(function(a){t._polls[e.poll]._stopped||(e.update(a),t._polls[e.poll].timeout=window.setTimeout(n,e.frequency))},function(a){t._polls[e.poll]._stopped||(e.error?e.error(a):t._snackbar.apiError(a))})};e.delayed?this._polls[e.poll]={timeout:window.setTimeout(a,e.frequency)}:a()}},{key:"stop",value:function(e){this._polls[e]&&(window.clearTimeout(this._polls[e].timeout),this._polls[e]._stopped=!0)}}]),e}();a["default"]=new o},{}],375:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0}),a.Posting=void 0;var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=e("react"),s=n(l),i=e("react-dom"),u=n(i),c=e("../components/poll"),d=e("../components/posting"),f=n(d),p=e("../utils/mount-component"),m=n(p),h=a.Posting=function(){function e(){var t=this;r(this,e),this.close=function(){t._isOpen&&!t._isClosing&&(t._isClosing=!0,t._placeholder.removeClass("slide-in"),window.setTimeout(function(){u["default"].unmountComponentAtNode(document.getElementById("posting-mount")),t._isClosing=!1,t._isOpen=!1},300))}}return o(e,[{key:"init",value:function(e,t,a){this._ajax=e,this._snackbar=t,this._placeholder=$(a),this._mode=null,this._isOpen=!1,this._isClosing=!1}},{key:"open",value:function(e){if(this._isOpen===!1)this._mode=e.mode,this._isOpen=e.submit,this._realOpen(e);else if(this._isOpen!==e.submit){var t=gettext("You are already working on other message. Do you want to discard it?");"POLL"==this._mode&&(t=gettext("You are already working on a poll. Do you want to discard it?"));var a=confirm(t);a&&(this._mode=e.mode,this._isOpen=e.submit,this._realOpen(e))}else"REPLY"==this._mode&&"REPLY"==e.mode&&this._realOpen(e)}},{key:"_realOpen",value:function(e){"POLL"==e.mode?(0,m["default"])(s["default"].createElement(c.PollForm,e),"posting-mount"):(0,m["default"])(s["default"].createElement(f["default"],e),"posting-mount"),this._placeholder.addClass("slide-in"),$("html, body").animate({scrollTop:this._placeholder.offset().top},1e3)}}]),e}();a["default"]=new h},{"../components/poll":106,"../components/posting":134,"../utils/mount-component":386,react:"react","react-dom":"react-dom"}],376:[function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0}),a.Snackbar=void 0;var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=e("../reducers/snackbar"),l=300,s=5e3,i=a.Snackbar=function(){function e(){n(this,e)}return r(e,[{key:"init",value:function(e){this._store=e,this._timeout=null}},{key:"alert",value:function(e,t){var a=this;this._timeout?(window.clearTimeout(this._timeout),this._store.dispatch((0,o.hideSnackbar)()),this._timeout=window.setTimeout(function(){a._timeout=null,a.alert(e,t)},l)):(this._store.dispatch((0,o.showSnackbar)(e,t)),this._timeout=window.setTimeout(function(){a._store.dispatch((0,o.hideSnackbar)()),a._timeout=null},s))}},{key:"info",value:function(e){this.alert(e,"info")}},{key:"success",value:function(e){this.alert(e,"success")}},{key:"warning",value:function(e){this.alert(e,"warning")}},{key:"error",value:function(e){this.alert(e,"error")}},{key:"apiError",value:function(e){var t=e.detail;t||(t=404===e.status?gettext("Action link is invalid."):gettext("Unknown error has occured.")),
403===e.status&&"Permission denied"===t&&(t=gettext("You don't have permission to perform this action.")),this.error(t)}}]),e}();a["default"]=new i},{"../reducers/snackbar":359}],377:[function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0}),a.StoreWrapper=void 0;var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=e("redux"),l=a.StoreWrapper=function(){function e(){n(this,e),this._store=null,this._reducers={},this._initialState={}}return r(e,[{key:"addReducer",value:function(e,t,a){this._reducers[e]=t,this._initialState[e]=a}},{key:"init",value:function(){this._store=(0,o.createStore)((0,o.combineReducers)(this._reducers),this._initialState)}},{key:"getStore",value:function(){return this._store}},{key:"getState",value:function(){return this._store.getState()}},{key:"dispatch",value:function(e){return this._store.dispatch(e)}}]),e}();a["default"]=new l},{redux:"redux"}],378:[function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a.Zxcvbn=function(){function e(){n(this,e)}return r(e,[{key:"init",value:function(e){this._include=e,this._isLoaded=!1}},{key:"scorePassword",value:function(e,t){return this._isLoaded?zxcvbn(e,t).score:0}},{key:"load",value:function(){return this._isLoaded?this._loadedPromise():(this._include.include("misago/js/zxcvbn.js"),this._loadingPromise())}},{key:"_loadingPromise",value:function(){var e=this;return new Promise(function(t,a){var n=function r(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;n+=1,n>200?a():"undefined"==typeof zxcvbn?window.setTimeout(function(){r(n)},200):(e._isLoaded=!0,t())};n()})}},{key:"_loadedPromise",value:function(){return new Promise(function(e){e()})}}]),e}();a["default"]=new o},{}],379:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e,t){if(u["default"].render(s["default"].createElement(c.Provider,{store:b["default"].getStore()},s["default"].createElement(_,{message:e.message,expires:e.expires_on?(0,o["default"])(e.expires_on):null})),document.getElementById("page-mount")),"undefined"==typeof t||t){var a=m["default"].get("SETTINGS").forum_name;document.title=gettext("You are banned")+" | "+a,window.history.pushState({},"",m["default"].get("BANNED_URL"))}};var r=e("moment"),o=n(r),l=e("react"),s=n(l),i=e("react-dom"),u=n(i),c=e("react-redux"),d=e("../components/banned-page"),f=n(d),p=e("../index"),m=n(p),h=e("../services/store"),b=n(h),v=function(e){return e.tick},_=(0,c.connect)(v)(f["default"])},{"../components/banned-page":7,"../index":302,"../services/store":377,moment:"moment",react:"react","react-dom":"react-dom","react-redux":"react-redux"}],380:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=[],r=[];if(e.forEach(function(e){r.push(e),r.length===t&&(n.push(r),r=[])}),a!==!1&&r.length>0&&r.length<t)for(var o=r.length;o<t;o++)r.push(a);return r.length&&n.push(r),n}},{}],381:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e,t){var a=[];return e.concat(t).filter(function(e){return a.indexOf(e.id)===-1&&(a.push(e.id),!0)})}},{}],382:[function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=function(){function e(t,a){n(this,e),this._callback=t,this._count=a}return r(e,[{key:"count",value:function(){this._count-=1,0===this._count&&this._callback()}}]),e}();a["default"]=o},{}],383:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){return e.replace(/[&<>"']/g,function(e){return n[e]})};var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"}},{}],384:[function(e,t,a){"use strict";function n(e){return e.toFixed(1)}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){return e>1073741824?n(e/1073741824)+" GB":e>1048576?n(e/1048576)+" MB":e>1024?n(e/1024)+" KB":n(e)+" B"},a.roundSize=n},{}],385:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){return n.test($.trim(e))};var n=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i")},{}],386:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=document.getElementById(t),r=e.props?e:o["default"].createElement(e,null);n&&(a?s["default"].render(o["default"].createElement(i.Provider,{store:c["default"].getStore()},r),n):s["default"].render(r,n))};var r=e("react"),o=n(r),l=e("react-dom"),s=n(l),i=e("react-redux"),u=e("../services/store"),c=n(u)},{"../services/store":377,react:"react","react-dom":"react-dom","react-redux":"react-redux"}],387:[function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=function(){function e(t){n(this,e),this.isOrdered=!1,this._items=t||[]}return r(e,[{key:"add",value:function(e,t,a){this._items.push({key:e,item:t,after:a?a.after||null:null,before:a?a.before||null:null})}},{key:"get",value:function(e,t){for(var a=0;a<this._items.length;a++)if(this._items[a].key===e)return this._items[a].item;return t}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"values",value:function t(){for(var t=[],e=0;e<this._items.length;e++)t.push(this._items[e].item);return t}},{key:"order",value:function(e){return this.isOrdered||(this._items=this._order(this._items),this.isOrdered=!0),e||"undefined"==typeof e?this.values():this._items}},{key:"orderedValues",value:function(){return this.order(!0)}},{key:"_order",value:function(e){function t(e){var t=-1;r.indexOf(e.key)===-1&&(e.after?(t=r.indexOf(e.after),t!==-1&&(t+=1)):e.before&&(t=r.indexOf(e.before)),t!==-1&&(n.splice(t,0,e),r.splice(t,0,e.key)))}var a=[];e.forEach(function(e){a.push(e.key)});var n=[],r=[];e.forEach(function(e){e.after||e.before||(n.push(e),r.push(e.key))}),e.forEach(function(e){"_end"===e.before&&(n.push(e),r.push(e.key))});for(var o=200;o>0&&a.length!==r.length;)o-=1,e.forEach(t);return n}}]),e}();a["default"]=o},{}],388:[function(e,t,a){"use strict";function n(e,t){return Math.floor(Math.random()*(t-e+1))+e}function r(e,t){for(var a=new Array(n(e,t)),r=0;r<a.length;r++)a[r]=r;return a}Object.defineProperty(a,"__esModule",{value:!0}),a["int"]=n,a.range=r},{}],389:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(){window.scrollTo(0,0)}},{}],390:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e){var t={component:e.component||null,childRoutes:[]};e.root?t.childRoutes=[{path:e.root,onEnter:function(t,a){a(null,e.paths[0].path)}}].concat(e.paths):t.childRoutes=e.paths,s["default"].render(o["default"].createElement(i.Provider,{store:d["default"].getStore()},o["default"].createElement(u.Router,{routes:t,history:u.browserHistory})),f)};var r=e("react"),o=n(r),l=e("react-dom"),s=n(l),i=e("react-redux"),u=e("react-router"),c=e("../services/store"),d=n(c),f=document.getElementById("page-mount")},{"../services/store":377,react:"react","react-dom":"react-dom","react-redux":"react-redux","react-router":"react-router"}],391:[function(e,t,a){"use strict";function n(e,t){if(e.indexOf(t)===-1){var a=e.slice();return a.push(t),a}return e}function r(e,t){return e.indexOf(t)>=0?e.filter(function(e){return e!==t}):e}function o(e,t){if(e.indexOf(t)===-1){var a=e.slice();return a.push(t),a}return e.filter(function(e){return e!==t})}Object.defineProperty(a,"__esModule",{value:!0}),a.push=n,a.remove=r,a.toggle=o},{}],392:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(e,t){if(e=(e+"").toLowerCase(),t=(t+"").toLowerCase(),t.length<=0)return 0;for(var a=0,n=0,r=t.length;;){if(n=e.indexOf(t,n),!(n>=0))break;a+=1,n+=r}return a}},{}],393:[function(e,t,a){"use strict";function n(e){return function(t){if(t===!1||null===t||0===$.trim(t).length)return e||gettext("This field is required.")}}function r(e){var t=gettext("You have to accept the terms of service.");return n(e||t)}function o(e){var t=gettext("You have to accept the privacy policy.");return n(e||t)}function l(e){return function(t){if(!p.test(t))return e||gettext("Enter a valid email address.")}}function s(e,t){return function(a){var n="",r=$.trim(a).length;if(r<e)return n=t?t(e,r):ngettext("Ensure this value has at least %(limit_value)s character (it has %(show_value)s).","Ensure this value has at least %(limit_value)s characters (it has %(show_value)s).",e),interpolate(n,{limit_value:e,show_value:r},!0)}}function i(e,t){return function(a){var n="",r=$.trim(a).length;if(r>e)return n=t?t(e,r):ngettext("Ensure this value has at most %(limit_value)s character (it has %(show_value)s).","Ensure this value has at most %(limit_value)s characters (it has %(show_value)s).",e),interpolate(n,{limit_value:e,show_value:r},!0)}}function u(e){var t=function(e){return ngettext("Username must be at least %(limit_value)s character long.","Username must be at least %(limit_value)s characters long.",e)};return s(e,t)}function c(e){var t=function(e){return ngettext("Username cannot be longer than %(limit_value)s character.","Username cannot be longer than %(limit_value)s characters.",e)};return i(e,t)}function d(){return function(e){if(!m.test($.trim(e)))return gettext("Username can only contain latin alphabet letters and digits.")}}function f(e){return function(t){var a=t.length;if(a<e){var n=ngettext("Valid password must be at least %(limit_value)s character long.","Valid password must be at least %(limit_value)s characters long.",e);return interpolate(n,{limit_value:e,show_value:a},!0)}}}Object.defineProperty(a,"__esModule",{value:!0}),a.required=n,a.requiredTermsOfService=r,a.requiredPrivacyPolicy=o,a.email=l,a.minLength=s,a.maxLength=i,a.usernameMinLength=u,a.usernameMaxLength=c,a.usernameContent=d,a.passwordMinLength=f;var p=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i,m=new RegExp("^[0-9a-z]+$","i")},{}]},{},[302,303,304,305,306,323,324,325,326,327,328,329,330,346,347,348,349,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345]);
//# sourceMappingURL=misago.js.map
>>>>>>> 025ed36254c49a424b06988ee6f4855dd659f4fa
